<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>zedçš„åšå®¢</title>
        <link>http://localhost:1313/</link>
        <description>Recent content on zedçš„åšå®¢</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>zh-cn</language>
        <lastBuildDate>Mon, 03 Nov 2025 15:18:19 +0800</lastBuildDate><atom:link href="http://localhost:1313/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>HTTPè¿æ¥ç®¡ç†</title>
        <link>http://localhost:1313/basic/internet/http%E8%BF%9E%E6%8E%A5%E7%AE%A1%E7%90%86/</link>
        <pubDate>Mon, 03 Nov 2025 15:18:19 +0800</pubDate>
        
        <guid>http://localhost:1313/basic/internet/http%E8%BF%9E%E6%8E%A5%E7%AE%A1%E7%90%86/</guid>
        <description>&lt;h3 id=&#34;http-è¿æ¥ç®¡ç†æ·±åº¦è§£æ&#34;&gt;HTTP è¿æ¥ç®¡ç†æ·±åº¦è§£æ
&lt;/h3&gt;&lt;h4 id=&#34;ä¸€ä¸ºä»€ä¹ˆéœ€è¦è¿æ¥ç®¡ç†&#34;&gt;ä¸€ã€ä¸ºä»€ä¹ˆéœ€è¦è¿æ¥ç®¡ç†ï¼Ÿ
&lt;/h4&gt;&lt;h5 id=&#34;11-tcp-è¿æ¥çš„æˆæœ¬&#34;&gt;1.1 TCP è¿æ¥çš„æˆæœ¬
&lt;/h5&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;å»ºç«‹ä¸€ä¸ª TCP è¿æ¥éœ€è¦ï¼š
&lt;/code&gt;&lt;/pre&gt;</description>
        </item>
        <item>
        <title>HttpsåŠ å¯†å·¥ä½œæµç¨‹</title>
        <link>http://localhost:1313/basic/internet/https%E5%8A%A0%E5%AF%86%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/</link>
        <pubDate>Mon, 03 Nov 2025 14:09:03 +0800</pubDate>
        
        <guid>http://localhost:1313/basic/internet/https%E5%8A%A0%E5%AF%86%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/</guid>
        <description>&lt;h2 id=&#34;httpsåŠ å¯†å·¥ä½œæµç¨‹è¯¦è§£&#34;&gt;HTTPSåŠ å¯†å·¥ä½œæµç¨‹è¯¦è§£
&lt;/h2&gt;&lt;h3 id=&#34;ä¸€-æ ¸å¿ƒé—®é¢˜ä¸è§£å†³æ€è·¯&#34;&gt;ä¸€ã€ æ ¸å¿ƒé—®é¢˜ä¸è§£å†³æ€è·¯
&lt;/h3&gt;&lt;h4 id=&#34;11-httpçš„ä¸‰å¤§å®‰å…¨é—®é¢˜&#34;&gt;1.1 HTTPçš„ä¸‰å¤§å®‰å…¨é—®é¢˜
&lt;/h4&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;é—®é¢˜ 1: çªƒå¬
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
å®¢æˆ·ç«¯ â”€â”€â”€[æ˜æ–‡æ•°æ®]â”€â”€â”€&amp;gt; æœåŠ¡å™¨
             â†‘
         æ”»å‡»è€…èƒ½çœ‹åˆ°

é—®é¢˜ 2: ç¯¡æ”¹
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
å®¢æˆ·ç«¯ â”€â”€â”€[æ•°æ®]â”€â”€â”€&amp;gt; æ”»å‡»è€…ä¿®æ”¹ â”€â”€â”€&amp;gt; æœåŠ¡å™¨
                       â†“
                   æ”¹æˆå‡æ•°æ®

é—®é¢˜ 3: å†’å……
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
å®¢æˆ·ç«¯ â”€â”€â”€[è¯·æ±‚]â”€â”€â”€&amp;gt; å‡æœåŠ¡å™¨
                       â†“
                 çªƒå–ç”¨æˆ·ä¿¡æ¯
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;12-https-çš„è§£å†³æ–¹æ¡ˆ&#34;&gt;1.2 HTTPS çš„è§£å†³æ–¹æ¡ˆ
&lt;/h3&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å¯¹ç§°åŠ å¯†    â†’ è§£å†³çªƒå¬å’Œç¯¡æ”¹                â”‚
â”‚ éå¯¹ç§°åŠ å¯†  â†’ è§£å†³å¯†é’¥äº¤æ¢é—®é¢˜           		â”‚
â”‚ æ•°å­—è¯ä¹¦    â†’ è§£å†³èº«ä»½å†’å……é—®é¢˜             	â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;äºŒå¯¹ç§°åŠ å¯†çš„å·¥ä½œæµç¨‹&#34;&gt;äºŒã€å¯¹ç§°åŠ å¯†çš„å·¥ä½œæµç¨‹
&lt;/h4&gt;&lt;h3 id=&#34;21-åŸºæœ¬åŸç†&#34;&gt;2.1 åŸºæœ¬åŸç†
&lt;/h3&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;å¯¹ç§°åŠ å¯† = åŠ å¯†å’Œè§£å¯†ç”¨åŒä¸€æŠŠé’¥åŒ™

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    å¯†é’¥K     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    å¯†é’¥K     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ˜æ–‡   â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€&amp;gt; â”‚  å¯†æ–‡   â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€&amp;gt; â”‚  æ˜æ–‡   â”‚
â”‚ Hello   â”‚    åŠ å¯†     â”‚ Kf9sL2  â”‚    è§£å¯†     â”‚ Hello   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  å‘é€æ–¹                  ä¼ è¾“ä¸­                  æ¥æ”¶æ–¹
                      â†‘
                      â”‚ æ”»å‡»è€…å³ä½¿æ‹¦æˆªä¹Ÿæ— æ³•è§£å¯†
                      â”‚ (æ²¡æœ‰å¯†é’¥K)
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;22-å¯¹ç§°åŠ å¯†çš„ä¼˜ç‚¹&#34;&gt;2.2 å¯¹ç§°åŠ å¯†çš„ä¼˜ç‚¹
&lt;/h3&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;âœ“ é€Ÿåº¦å¿«
  - é€‚åˆåŠ å¯†å¤§é‡æ•°æ®
  - 1GB æ•°æ®å‡ ç§’é’Ÿå°±èƒ½åŠ å¯†å®Œ

âœ“ å®‰å…¨æ€§é«˜  
  - åªè¦å¯†é’¥ä¸æ³„éœ²,å‡ ä¹æ— æ³•ç ´è§£
  
âœ“ è®¡ç®—å¼€é”€å°
  - CPU å ç”¨ä½
  - æœ‰ç¡¬ä»¶åŠ é€Ÿ
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;23-å¯¹ç§°åŠ å¯†çš„é—®é¢˜&#34;&gt;2.3 å¯¹ç§°åŠ å¯†çš„é—®é¢˜
&lt;/h3&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;âŒ å¯†é’¥å¦‚ä½•å®‰å…¨ä¼ é€’?

åœºæ™¯: Alice æƒ³ç»™ Bob å‘é€åŠ å¯†æ¶ˆæ¯

Alice                          Bob
  |                             |
  | æ­¥éª¤1: æˆ‘ä»¬ç”¨å¯†é’¥&amp;#34;abc123&amp;#34;    |
  |â”€â”€â”€â”€â”€â”€â”€â”€&amp;#34;abc123&amp;#34;â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&amp;gt;|  
  |                             |
         â†‘
         â”‚ é—®é¢˜: å¯†é’¥å¿…é¡»é€šè¿‡ç½‘ç»œä¼ è¾“
         â”‚ æ”»å‡»è€…å¯ä»¥æ‹¦æˆªå¯†é’¥
         â”‚ æ‹¦æˆªåå°±èƒ½è§£å¯†æ‰€æœ‰é€šä¿¡!
         
  ä¸­é—´äºº
  â”Œâ”€â”€â”€â”€â”€â”
  â”‚ ğŸ‘€  â”‚ çœ‹åˆ°äº†å¯†é’¥ &amp;#34;abc123&amp;#34;
  â””â”€â”€â”€â”€â”€â”˜ å¯ä»¥è§£å¯†åç»­æ‰€æœ‰æ¶ˆæ¯
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;strong&gt;æ ¸å¿ƒçŸ›ç›¾&lt;/strong&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;éœ€è¦åŠ å¯†é€šä¿¡ â†’ éœ€è¦å…±äº«å¯†é’¥ â†’ å¦‚ä½•å®‰å…¨ä¼ é€’å¯†é’¥?
&lt;/code&gt;&lt;/pre&gt;&lt;hr&gt;
&lt;h3 id=&#34;ä¸‰éå¯¹ç§°åŠ å¯†çš„å·¥ä½œæµç¨‹&#34;&gt;ä¸‰ã€éå¯¹ç§°åŠ å¯†çš„å·¥ä½œæµç¨‹
&lt;/h3&gt;&lt;h4 id=&#34;31-åŸºæœ¬åŸç†&#34;&gt;3.1 åŸºæœ¬åŸç†
&lt;/h4&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;éå¯¹ç§°åŠ å¯† = ä¸€å¯¹å¯†é’¥(å…¬é’¥ + ç§é’¥)

å¯†é’¥å¯¹ç‰¹æ€§:
â”œâ”€ å…¬é’¥åŠ å¯†çš„,åªèƒ½ç”¨ç§é’¥è§£å¯†
â””â”€ ç§é’¥åŠ å¯†çš„,åªèƒ½ç”¨å…¬é’¥è§£å¯†

ç”Ÿæˆå¯†é’¥å¯¹:
Bobç”Ÿæˆ â”€â”€&amp;gt; å…¬é’¥(å¯ä»¥å…¬å¼€) + ç§é’¥(ä¸¥æ ¼ä¿å¯†)
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;32-åŠ å¯†é€šä¿¡æµç¨‹&#34;&gt;3.2 åŠ å¯†é€šä¿¡æµç¨‹
&lt;/h3&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;åœºæ™¯: Alice ç»™ Bob å‘é€ç§˜å¯†æ¶ˆæ¯

å‡†å¤‡é˜¶æ®µ:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Bob: ç”Ÿæˆå¯†é’¥å¯¹
     â”œâ”€ å…¬é’¥: PubKey_Bob  (å…¬å¼€å‘å¸ƒ)
     â””â”€ ç§é’¥: PrivKey_Bob (è‡ªå·±ä¿ç®¡)

æ­¥éª¤ 1: è·å–å…¬é’¥
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Alice                           Bob
  |                              |
  | è¯·æ±‚å…¬é’¥                      |
  |â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&amp;gt;|
  |                              |
  |      PubKey_Bob              |
  |&amp;lt;â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ |
  |                              |

è¯´æ˜: å…¬é’¥å¯ä»¥å…¬å¼€ä¼ è¾“,ä¸æ€•è¢«çªƒå¬

æ­¥éª¤ 2: åŠ å¯†æ¶ˆæ¯
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Alice:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   ç”¨Bobçš„å…¬é’¥    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ˜æ–‡      â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&amp;gt; â”‚ å¯†æ–‡      â”‚
â”‚ &amp;#34;Hello&amp;#34;  â”‚   åŠ å¯†         â”‚ &amp;#34;Kf9sL2&amp;#34; â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â†“
                           åªæœ‰Bobçš„ç§é’¥èƒ½è§£å¯†
                           
æ­¥éª¤ 3: å‘é€å¯†æ–‡
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Alice                           Bob
  |                              |
  |      å¯†æ–‡ &amp;#34;Kf9sL2&amp;#34;           |
  |â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&amp;gt;|
  |                              |
         â†‘
     ä¸­é—´äººæ‹¦æˆª
    â”Œâ”€â”€â”€â”€â”€â”€â”
    â”‚ ğŸ‘€   â”‚ çœ‹åˆ°äº†å¯†æ–‡
    â””â”€â”€â”€â”€â”€â”€â”˜ ä½†æ²¡æœ‰ç§é’¥,æ— æ³•è§£å¯†!
              (åªæœ‰å…¬é’¥æ²¡ç”¨)
              

æ­¥éª¤ 4: è§£å¯†æ¶ˆæ¯
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Bob:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   ç”¨è‡ªå·±çš„ç§é’¥   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å¯†æ–‡      â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&amp;gt; â”‚ æ˜æ–‡      â”‚
â”‚ &amp;#34;Kf9sL2&amp;#34; â”‚   è§£å¯†         â”‚ &amp;#34;Hello&amp;#34;  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

åªæœ‰ Bob æœ‰ç§é’¥ â†’ åªæœ‰ Bob èƒ½è§£å¯†
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;33-éå¯¹ç§°åŠ å¯†çš„ä¼˜ç‚¹&#34;&gt;3.3 éå¯¹ç§°åŠ å¯†çš„ä¼˜ç‚¹
&lt;/h4&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;âœ“ å¯†é’¥åˆ†å‘ç®€å•
  - å…¬é’¥å¯ä»¥å…¬å¼€ä¼ è¾“
  - ä¸æ‹…å¿ƒè¢«çªƒå¬

âœ“ ä¸éœ€è¦é¢„å…ˆå…±äº«å¯†é’¥
  - ä»»ä½•äººéƒ½å¯ä»¥ç”¨å…¬é’¥åŠ å¯†
  - åªæœ‰ç§é’¥æŒæœ‰è€…èƒ½è§£å¯†
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;34-éå¯¹ç§°åŠ å¯†çš„é—®é¢˜&#34;&gt;3.4 éå¯¹ç§°åŠ å¯†çš„é—®é¢˜
&lt;/h3&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;âŒ é€Ÿåº¦éå¸¸æ…¢
   - æ¯”å¯¹ç§°åŠ å¯†æ…¢ 100~1000 å€
   - ä¸é€‚åˆåŠ å¯†å¤§é‡æ•°æ®

ç¤ºä¾‹:
å¯¹ç§°åŠ å¯† 1GB æ•°æ®: å‡ ç§’
éå¯¹ç§°åŠ å¯† 1GB æ•°æ®: å‡ å°æ—¶!
&lt;/code&gt;&lt;/pre&gt;&lt;hr&gt;
&lt;h4 id=&#34;å››https-çš„æ··åˆåŠ å¯†ç­–ç•¥&#34;&gt;å››ã€HTTPS çš„æ··åˆåŠ å¯†ç­–ç•¥
&lt;/h4&gt;&lt;h4 id=&#34;41-æ ¸å¿ƒæ€æƒ³&#34;&gt;4.1 æ ¸å¿ƒæ€æƒ³
&lt;/h4&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;ç»“åˆå¯¹ç§°åŠ å¯†å’Œéå¯¹ç§°åŠ å¯†çš„ä¼˜ç‚¹ï¼

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ é˜¶æ®µ 1: ç”¨éå¯¹ç§°åŠ å¯†ä¼ é€’å¯¹ç§°å¯†é’¥      â”‚
â”‚         (åªç”¨ä¸€æ¬¡,é€Ÿåº¦æ…¢ä¹Ÿèƒ½æ¥å—)    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ é˜¶æ®µ 2: ç”¨å¯¹ç§°å¯†é’¥åŠ å¯†æ‰€æœ‰å®é™…æ•°æ®    â”‚
â”‚         (é€Ÿåº¦å¿«,é€‚åˆå¤§é‡æ•°æ®)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;42-å®Œæ•´å·¥ä½œæµç¨‹&#34;&gt;4.2 å®Œæ•´å·¥ä½œæµç¨‹
&lt;/h4&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
é˜¶æ®µ 1: æ¡æ‰‹é˜¶æ®µ (éå¯¹ç§°åŠ å¯†)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

å®¢æˆ·ç«¯                                 æœåŠ¡å™¨
  |                                      |
  | â‘  è¯·æ±‚å»ºç«‹è¿æ¥                        |
  |   - æˆ‘æ”¯æŒå“ªäº›åŠ å¯†ç®—æ³•                |
  |   - å®¢æˆ·ç«¯éšæœºæ•°A                     |
  |â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&amp;gt;|
  |                                      |
  |                                      | â‘¡ æœåŠ¡å™¨å“åº”
  |   - é€‰æ‹©åŠ å¯†ç®—æ³•                      |   - é€‰å®šåŠ å¯†ç®—æ³•
  |   - æœåŠ¡å™¨éšæœºæ•°B                     |   - ç”Ÿæˆéšæœºæ•°
  |   - æ•°å­—è¯ä¹¦(å«å…¬é’¥)                  |   - å‘é€è¯ä¹¦
  |&amp;lt;â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€|
  |                                      |
  | â‘¢ å®¢æˆ·ç«¯éªŒè¯è¯ä¹¦                      |
  |   - æ£€æŸ¥è¯ä¹¦æ˜¯å¦å¯ä¿¡                  |
  |   - æå–æœåŠ¡å™¨å…¬é’¥                    |
  |                                      |
  | â‘£ ç”Ÿæˆå¯¹ç§°å¯†é’¥                        |
  |   - å®¢æˆ·ç«¯ç”Ÿæˆéšæœºæ•°C                 |
  |     (ç§°ä¸ºé¢„ä¸»å¯†é’¥)                    |
  |   - ç”¨æœåŠ¡å™¨å…¬é’¥åŠ å¯†éšæœºæ•°C            |
  |                                      |
  |   åŠ å¯†çš„éšæœºæ•°C                       |
  |â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&amp;gt;|
  |                                      |
  |                                      | â‘¤ æœåŠ¡å™¨è§£å¯†
  |                                      |   - ç”¨ç§é’¥è§£å¯†
  |                                      |   - å¾—åˆ°éšæœºæ•°C
  |                                      |
  | â‘¥ åŒæ–¹ç”¨ç›¸åŒæ–¹æ³•è®¡ç®—å¯¹ç§°å¯†é’¥           |
  |   å¯†é’¥ = å‡½æ•°(éšæœºæ•°A, éšæœºæ•°B, éšæœºæ•°C)
  |                                      |
  | åŒæ–¹ç°åœ¨æœ‰äº†ç›¸åŒçš„å¯¹ç§°å¯†é’¥!            |
  |                                      |

é‡ç‚¹:
- éšæœºæ•°Cç”¨éå¯¹ç§°åŠ å¯†ä¼ è¾“(å®‰å…¨ä½†æ…¢)
- åªä¼ è¾“ä¸€æ¬¡
- æ”»å‡»è€…å³ä½¿æ‹¦æˆªä¹Ÿæ— æ³•è·å¾—éšæœºæ•°C


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
é˜¶æ®µ 2: æ•°æ®ä¼ è¾“é˜¶æ®µ (å¯¹ç§°åŠ å¯†)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

å®¢æˆ·ç«¯                                 æœåŠ¡å™¨
  |                                      |
  | HTTP è¯·æ±‚                             |
  | â”€â”€&amp;gt; ç”¨å¯¹ç§°å¯†é’¥åŠ å¯† â”€â”€&amp;gt; [å¯†æ–‡1]         |
  |â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&amp;gt;|
  |                                      | â”€â”€&amp;gt; ç”¨å¯¹ç§°å¯†é’¥è§£å¯†
  |                                      | â”€â”€&amp;gt; å¤„ç†è¯·æ±‚
  |                                      |
  |                                      | HTTP å“åº”
  | &amp;lt;â”€â”€ ç”¨å¯¹ç§°å¯†é’¥è§£å¯† &amp;lt;â”€â”€ [å¯†æ–‡2] &amp;lt;â”€â”€    |
  |&amp;lt;â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€|
  |                                      |
  | åç»­æ‰€æœ‰é€šä¿¡éƒ½ç”¨å¯¹ç§°å¯†é’¥               |
  |&amp;lt;=====================================&amp;gt;|
  |       é€Ÿåº¦å¿«!                         |

é‡ç‚¹:
- å®é™…æ•°æ®ç”¨å¯¹ç§°åŠ å¯†(é€Ÿåº¦å¿«)
- åŒæ–¹ç”¨ç›¸åŒçš„å¯¹ç§°å¯†é’¥
- æ”»å‡»è€…æ²¡æœ‰å¯†é’¥,æ— æ³•è§£å¯†
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;43-ä¸ºä»€ä¹ˆéœ€è¦ä¸‰ä¸ªéšæœºæ•°&#34;&gt;4.3 ä¸ºä»€ä¹ˆéœ€è¦ä¸‰ä¸ªéšæœºæ•°ï¼Ÿ
&lt;/h4&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;éšæœºæ•°æ¥æºè¶Šå¤šï¼Œæœ€ç»ˆå¯†é’¥è¶Šéš¾è¶Šæµ‹

å®¢æˆ·ç«¯éšæœºæ•°A: å®¢æˆ·ç«¯ç”Ÿæˆ
æœåŠ¡å™¨éšæœºæ•°B: æœåŠ¡å™¨ç”Ÿæˆ  
é¢„ä¸»å¯†é’¥C:     å®¢æˆ·ç«¯ç”Ÿæˆ

æœ€ç»ˆå¯¹ç§°å¯†é’¥ = å¤æ‚å‡½æ•°(A, B, C)

å¥½å¤„:
â”œâ”€ å³ä½¿æ”»å‡»è€…æ§åˆ¶äº†å®¢æˆ·ç«¯,ä¹Ÿä¸çŸ¥é“Bå’ŒC
â”œâ”€ å³ä½¿æ”»å‡»è€…æ§åˆ¶äº†æœåŠ¡å™¨,ä¹Ÿä¸çŸ¥é“C
â”œâ”€ å¿…é¡»åŒæ—¶çŸ¥é“Aã€Bã€Cæ‰èƒ½è®¡ç®—å‡ºå¯†é’¥
â””â”€ æ¯æ¬¡è¿æ¥çš„å¯†é’¥éƒ½ä¸åŒ(å› ä¸ºéšæœºæ•°æ¯æ¬¡ä¸åŒ)
&lt;/code&gt;&lt;/pre&gt;&lt;hr&gt;
&lt;h3 id=&#34;äº”æ•°å­—è¯ä¹¦çš„ä½œç”¨&#34;&gt;äº”ã€æ•°å­—è¯ä¹¦çš„ä½œç”¨
&lt;/h3&gt;&lt;h4 id=&#34;51-ä¸ºä»€ä¹ˆéœ€è¦è¯ä¹¦&#34;&gt;5.1 ä¸ºä»€ä¹ˆéœ€è¦è¯ä¹¦ï¼Ÿ
&lt;/h4&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;é—®é¢˜: å¦‚ä½•ç¡®è®¤å…¬é’¥çœŸçš„å±äºæœåŠ¡å™¨?

ä¸­é—´äººæ”»å‡»ç¤ºä¾‹ï¼š
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

å®¢æˆ·ç«¯                   æ”»å‡»è€…                  çœŸå®æœåŠ¡å™¨
  |                        |                       |
  | â‘  è¯·æ±‚å…¬é’¥              |                       |
  |â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&amp;gt;|                       |
  |                        |  â‘¡ è¯·æ±‚å…¬é’¥            |
  |                        |â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&amp;gt;|
  |                        |                       |
  |                        |  â‘¢ çœŸå®å…¬é’¥            |
  |                        |&amp;lt;â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€|
  |                        |                       |
  | â‘£ å‡å…¬é’¥                |                       |
  |&amp;lt;â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€|                       |
  |                        |                       |
  | â‘¤ ç”¨å‡å…¬é’¥åŠ å¯†å¯†é’¥       |                       |
  |â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&amp;gt;|                       |
  |                        | â‘¥ ç”¨å‡ç§é’¥è§£å¯†         |
  |                        | â†’ å¾—åˆ°å¯†é’¥!            |
  |                        |                       |
  
ç»“æœ: æ”»å‡»è€…å†’å……æœåŠ¡å™¨,çªƒå–äº†å¯†é’¥å’Œæ‰€æœ‰æ•°æ®!
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;52-è¯ä¹¦çš„æœ¬è´¨&#34;&gt;5.2 è¯ä¹¦çš„æœ¬è´¨
&lt;/h4&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;æ•°å­—è¯ä¹¦ = æœåŠ¡å™¨ä¿¡æ¯ + å…¬é’¥ + CAçš„ç­¾å

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è¯ä¹¦å†…å®¹:                            â”‚
â”‚ â”œâ”€ åŸŸå: www.example.com            â”‚
â”‚ â”œâ”€ å…¬å¸: Example Inc                â”‚
â”‚ â”œâ”€ æœ‰æ•ˆæœŸ: 2024-01-01 åˆ° 2025-01-01 â”‚
â”‚ â”œâ”€ å…¬é’¥: [æœåŠ¡å™¨çš„å…¬é’¥]              â”‚
â”‚ â””â”€ è¯ä¹¦é¢å‘æœºæ„: DigiCert CA         â”‚
â”‚                                     â”‚
â”‚ CAçš„ç­¾å:                            â”‚
â”‚ â””â”€ [CAç”¨è‡ªå·±ç§é’¥ç­¾åçš„æ•°æ®]          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

è¯ä¹¦çš„ä½œç”¨:
è¯æ˜ &amp;#34;è¿™ä¸ªå…¬é’¥ç¡®å®å±äº www.example.com&amp;#34;
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;53-caè¯ä¹¦é¢å‘æœºæ„-çš„ä½œç”¨&#34;&gt;5.3 CAï¼ˆè¯ä¹¦é¢å‘æœºæ„ï¼‰ çš„ä½œç”¨
&lt;/h4&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;CA çš„å·¥ä½œæµç¨‹:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

1. ç½‘ç«™å‘ CA ç”³è¯·è¯ä¹¦
   Example Inc: &amp;#34;æˆ‘æ˜¯ example.com çš„æ‰€æœ‰è€…,
                 è¿™æ˜¯æˆ‘çš„å…¬é’¥,è¯·ç»™æˆ‘é¢å‘è¯ä¹¦&amp;#34;

2. CA éªŒè¯èº«ä»½
   â”œâ”€ éªŒè¯åŸŸåæ‰€æœ‰æƒ(å‘é‚®ä»¶/DNSè®°å½•)
   â”œâ”€ éªŒè¯å…¬å¸èº«ä»½(è¥ä¸šæ‰§ç…§)
   â””â”€ ç¡®è®¤ç”³è¯·è€…ç¡®å®æ‹¥æœ‰ç§é’¥

3. CA åˆ›å»ºè¯ä¹¦å†…å®¹
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ åŸŸå: example.com        â”‚
   â”‚ å…¬é’¥: [ç½‘ç«™å…¬é’¥]         â”‚
   â”‚ æœ‰æ•ˆæœŸ: 1å¹´              â”‚
   â”‚ ...                     â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

4. CA ç”¨è‡ªå·±çš„ç§é’¥ç­¾å
   è¯ä¹¦å†…å®¹ â”€â”€&amp;gt; è®¡ç®—æ‘˜è¦ â”€â”€&amp;gt; ç”¨CAç§é’¥åŠ å¯†æ‘˜è¦
   
5. é¢å‘æœ€ç»ˆè¯ä¹¦
   [è¯ä¹¦å†…å®¹] + [CAç­¾å] â”€â”€&amp;gt; å®Œæ•´è¯ä¹¦
&lt;/code&gt;&lt;/pre&gt;&lt;hr&gt;
&lt;h3 id=&#34;å…­è¯ä¹¦éªŒè¯æµç¨‹&#34;&gt;å…­ã€è¯ä¹¦éªŒè¯æµç¨‹
&lt;/h3&gt;&lt;h4 id=&#34;61-æµè§ˆå™¨å¦‚ä½•éªŒè¯è¯ä¹¦&#34;&gt;6.1 æµè§ˆå™¨å¦‚ä½•éªŒè¯è¯ä¹¦
&lt;/h4&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
å®Œæ•´éªŒè¯æµç¨‹
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

æ­¥éª¤ 1: æ£€æŸ¥åŸŸå
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
æµè§ˆå™¨è®¿é—®: https://www.example.com
è¯ä¹¦ä¸Šçš„åŸŸå: www.example.com

âœ“ åŸŸååŒ¹é…


æ­¥éª¤ 2: æ£€æŸ¥æœ‰æ•ˆæœŸ
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
è¯ä¹¦æœ‰æ•ˆæœŸ: 2024-01-01 åˆ° 2025-01-01
å½“å‰æ—¶é—´:   2024-06-15

âœ“ åœ¨æœ‰æ•ˆæœŸå†…


æ­¥éª¤ 3: éªŒè¯è¯ä¹¦é“¾
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
è¯ä¹¦é“¾ç»“æ„:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ www.example.com çš„è¯ä¹¦           â”‚ â† ç½‘ç«™è¯ä¹¦
â”‚ é¢å‘è€…: DigiCert SHA2 CA        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚ è°é¢å‘çš„?
              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ DigiCert SHA2 CA çš„è¯ä¹¦          â”‚ â† ä¸­é—´è¯ä¹¦
â”‚ é¢å‘è€…: DigiCert Root CA        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚ è°é¢å‘çš„?
              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ DigiCert Root CA çš„è¯ä¹¦          â”‚ â† æ ¹è¯ä¹¦
â”‚ é¢å‘è€…: è‡ªå·±(è‡ªç­¾å)             â”‚
â”‚ âœ“ è¿™ä¸ªè¯ä¹¦å†…ç½®åœ¨æµè§ˆå™¨/æ“ä½œç³»ç»Ÿä¸­ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

éªŒè¯é€»è¾‘:
æˆ‘ä¿¡ä»» Root CA 
â†’ Root CA ä¿¡ä»» SHA2 CA
â†’ SHA2 CA ä¿¡ä»» example.com
â†’ æ‰€ä»¥æˆ‘ä¿¡ä»» example.com

âœ“ è¯ä¹¦é“¾å®Œæ•´ä¸”å¯ä¿¡


æ­¥éª¤ 4: éªŒè¯ç­¾å
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
éªŒè¯ example.com è¯ä¹¦ä¸Šçš„ç­¾å:

â‘  æå–è¯ä¹¦å†…å®¹
  å†…å®¹ = [åŸŸåã€å…¬é’¥ã€æœ‰æ•ˆæœŸç­‰]

â‘¡ è®¡ç®—è¯ä¹¦æ‘˜è¦
  æ‘˜è¦A = Hash(è¯ä¹¦å†…å®¹)

â‘¢ ç”¨CAçš„å…¬é’¥è§£å¯†ç­¾å
  ç­¾åå€¼ â”€â”€&amp;gt; ç”¨DigiCert SHA2 CAçš„å…¬é’¥è§£å¯† â”€â”€&amp;gt; æ‘˜è¦B

â‘£ æ¯”è¾ƒä¸¤ä¸ªæ‘˜è¦
  æ‘˜è¦A == æ‘˜è¦B ?
  
  âœ“ ç›¸ç­‰ â†’ è¯ä¹¦æœªè¢«ç¯¡æ”¹
  âœ— ä¸ç­‰ â†’ è¯ä¹¦è¢«ç¯¡æ”¹,æ‹’ç»è¿æ¥

âœ“ ç­¾åæœ‰æ•ˆ


æ­¥éª¤ 5: æ£€æŸ¥åŠé”€çŠ¶æ€
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
æŸ¥è¯¢: è¿™ä¸ªè¯ä¹¦æ˜¯å¦è¢«CAæå‰åŠé”€?

æ–¹å¼1: CRL (è¯ä¹¦åŠé”€åˆ—è¡¨)
  â”œâ”€ ä¸‹è½½CAç»´æŠ¤çš„åŠé”€åˆ—è¡¨
  â””â”€ æ£€æŸ¥è¯ä¹¦åºåˆ—å·æ˜¯å¦åœ¨åˆ—è¡¨ä¸­

æ–¹å¼2: OCSP (åœ¨çº¿è¯ä¹¦çŠ¶æ€åè®®)
  â”œâ”€ å®æ—¶æŸ¥è¯¢CAæœåŠ¡å™¨
  â””â”€ æ›´å¿«æ›´æ–°

âœ“ è¯ä¹¦æœªè¢«åŠé”€


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
å…¨éƒ¨éªŒè¯é€šè¿‡!
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

æµè§ˆå™¨æ˜¾ç¤º: ğŸ”’ å®‰å…¨
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;62-ç­¾åéªŒè¯åŸç†&#34;&gt;6.2 ç­¾åéªŒè¯åŸç†
&lt;/h4&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;CA ç­¾åè¿‡ç¨‹:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
è¯ä¹¦å†…å®¹
    â†“
è®¡ç®—Hashæ‘˜è¦
    â†“
[æ‘˜è¦å€¼: a3f8d29c...]
    â†“
ç”¨CAç§é’¥åŠ å¯†
    â†“
[ç­¾åå€¼: 3e4f5a9c...]
    â†“
æ”¾å…¥è¯ä¹¦


æµè§ˆå™¨éªŒè¯è¿‡ç¨‹:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ä»è¯ä¹¦æå–:
â”œâ”€ è¯ä¹¦å†…å®¹
â””â”€ ç­¾åå€¼

è·¯å¾„1: è®¡ç®—æ‘˜è¦
è¯ä¹¦å†…å®¹ â”€â”€&amp;gt; Hash â”€â”€&amp;gt; æ‘˜è¦A

è·¯å¾„2: è§£å¯†ç­¾å  
ç­¾åå€¼ â”€â”€&amp;gt; ç”¨CAå…¬é’¥è§£å¯† â”€â”€&amp;gt; æ‘˜è¦B

æ¯”è¾ƒ:
æ‘˜è¦A == æ‘˜è¦B ?
  âœ“ æ˜¯ â†’ è¯ä¹¦æœ‰æ•ˆ
  âœ— å¦ â†’ è¯ä¹¦è¢«ç¯¡æ”¹


ä¸ºä»€ä¹ˆå®‰å…¨?
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
æ”»å‡»è€…æƒ³ä¼ªé€ è¯ä¹¦:

1. ä¿®æ”¹è¯ä¹¦å†…å®¹
   â”œâ”€ æŠŠåŸŸåæ”¹æˆ fake.com
   â””â”€ æŠŠå…¬é’¥æ”¹æˆè‡ªå·±çš„

2. éœ€è¦é‡æ–°ç­¾å
   â”œâ”€ è®¡ç®—æ–°çš„æ‘˜è¦
   â””â”€ éœ€è¦ç”¨CAç§é’¥åŠ å¯†
   
3. âŒ é—®é¢˜: æ”»å‡»è€…æ²¡æœ‰CAç§é’¥!
   â””â”€ æ— æ³•ç”Ÿæˆæœ‰æ•ˆç­¾å
   
4. æµè§ˆå™¨éªŒè¯æ—¶
   â”œâ”€ ç”¨CAå…¬é’¥è§£å¯†ç­¾å
   â”œâ”€ å¾—åˆ°çš„æ‘˜è¦ä¸åŒ¹é…
   â””â”€ æ‹’ç»è¿æ¥!
&lt;/code&gt;&lt;/pre&gt;&lt;hr&gt;
&lt;h3 id=&#34;ä¸ƒå®Œæ•´æµç¨‹æ€»ç»“&#34;&gt;ä¸ƒã€å®Œæ•´æµç¨‹æ€»ç»“
&lt;/h3&gt;&lt;h4 id=&#34;71-https-è¿æ¥çš„å®Œæ•´è¿‡ç¨‹&#34;&gt;7.1 HTTPS è¿æ¥çš„å®Œæ•´è¿‡ç¨‹
&lt;/h4&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç¬¬ä¸€é˜¶æ®µ: è¯ä¹¦éªŒè¯ (ç¡®è®¤æœåŠ¡å™¨èº«ä»½)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

å®¢æˆ·ç«¯                              æœåŠ¡å™¨
  |                                   |
  | â‘  è¯·æ±‚è¿æ¥                         |
  |â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&amp;gt;|
  |                                   |
  |              â‘¡ å‘é€è¯ä¹¦             |
  |&amp;lt;â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€|
  |                                   |
  | â‘¢ éªŒè¯è¯ä¹¦                         |
  |   - åŸŸååŒ¹é…?                      |
  |   - æœ‰æ•ˆæœŸOK?                      |
  |   - CAç­¾åæœ‰æ•ˆ?                    |
  |   - è¯ä¹¦é“¾å®Œæ•´?                    |
  |   âœ“ å…¨éƒ¨é€šè¿‡                       |
  |                                   |


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç¬¬äºŒé˜¶æ®µ: å¯†é’¥åå•† (å»ºç«‹å¯¹ç§°å¯†é’¥)                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  | â‘£ ä»è¯ä¹¦æå–æœåŠ¡å™¨å…¬é’¥              |
  |                                   |
  | â‘¤ ç”Ÿæˆé¢„ä¸»å¯†é’¥                     |
  |   - å®¢æˆ·ç«¯ç”Ÿæˆéšæœºæ•°               |
  |   - ç”¨æœåŠ¡å™¨å…¬é’¥åŠ å¯†               |
  |                                   |
  |    [åŠ å¯†çš„é¢„ä¸»å¯†é’¥]                |
  |â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&amp;gt;|
  |                                   |
  |                                   | â‘¥ ç”¨ç§é’¥è§£å¯†
  |                                   |   è·å¾—é¢„ä¸»å¯†é’¥
  |                                   |
  | â‘¦ åŒæ–¹è®¡ç®—å¯¹ç§°å¯†é’¥                 |
  |   å¯¹ç§°å¯†é’¥ = å‡½æ•°(                 |
  |     å®¢æˆ·ç«¯éšæœºæ•°,                  |
  |     æœåŠ¡å™¨éšæœºæ•°,                  |
  |     é¢„ä¸»å¯†é’¥                       |
  |   )                               |
  |                                   |


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç¬¬ä¸‰é˜¶æ®µ: åŠ å¯†é€šä¿¡ (ä¼ è¾“å®é™…æ•°æ®)                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  | â‘§ å‘é€åŠ å¯†æ•°æ®                     |
  |   HTTPè¯·æ±‚ â†’ å¯¹ç§°åŠ å¯† â†’ å¯†æ–‡       |
  |â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&amp;gt;|
  |                                   |
  |                                   | â‘¨ è§£å¯†å¤„ç†
  |                                   |   å¯†æ–‡ â†’ å¯¹ç§°è§£å¯† â†’ HTTPè¯·æ±‚
  |                                   |   å¤„ç†è¯·æ±‚
  |                                   |
  |            â‘© åŠ å¯†å“åº”              |
  |   å¯†æ–‡ â† å¯¹ç§°åŠ å¯† â† HTTPå“åº”       |
  |&amp;lt;â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€|
  |                                   |
  | â‘ª è§£å¯†                            |
  |   å¯†æ–‡ â†’ å¯¹ç§°è§£å¯† â†’ HTTPå“åº”       |
  |                                   |
  |  åç»­æ‰€æœ‰é€šä¿¡ç”¨å¯¹ç§°å¯†é’¥åŠ å¯†         |
  |&amp;lt;â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•&amp;gt;|
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;72-å…³é”®æµç¨‹å›¾&#34;&gt;7.2 å…³é”®æµç¨‹å›¾
&lt;/h4&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;        å¼€å§‹è®¿é—® HTTPS ç½‘ç«™
               â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  å»ºç«‹ TCP è¿æ¥        â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  TLS æ¡æ‰‹å¼€å§‹         â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  æœåŠ¡å™¨å‘é€è¯ä¹¦       â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  æµè§ˆå™¨éªŒè¯è¯ä¹¦       â”‚
    â”‚  - åŸŸå               â”‚
    â”‚  - æœ‰æ•ˆæœŸ             â”‚
    â”‚  - CAç­¾å             â”‚
    â”‚  - è¯ä¹¦é“¾             â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
        â”‚ è¯ä¹¦æœ‰æ•ˆ?    â”‚
        â””â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”˜
     æœ‰æ•ˆ   â”‚       â”‚ æ— æ•ˆ
           â†“       â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â””â”€â”€&amp;gt; âŒ æ˜¾ç¤ºè­¦å‘Š
    â”‚ æå–å…¬é’¥  â”‚        ä¸­æ–­è¿æ¥
    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
          â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  ç”Ÿæˆé¢„ä¸»å¯†é’¥          â”‚
    â”‚  ç”¨å…¬é’¥åŠ å¯†å‘é€        â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  æœåŠ¡å™¨ç”¨ç§é’¥è§£å¯†      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  åŒæ–¹è®¡ç®—å¯¹ç§°å¯†é’¥      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  ç”¨å¯¹ç§°å¯†é’¥åŠ å¯†é€šä¿¡    â”‚
    â”‚  ğŸ”’ å®‰å…¨è¿æ¥å»ºç«‹      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â†“
         å¼€å§‹ä¼ è¾“æ•°æ®
&lt;/code&gt;&lt;/pre&gt;&lt;hr&gt;
&lt;h3 id=&#34;å…«ä¸‰ç§åŠ å¯†æ–¹å¼å¯¹æ¯”&#34;&gt;å…«ã€ä¸‰ç§åŠ å¯†æ–¹å¼å¯¹æ¯”
&lt;/h3&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç»´åº¦       â”‚  å¯¹ç§°åŠ å¯†    â”‚  éå¯¹ç§°åŠ å¯†  â”‚  HTTPSæ··åˆ   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å¯†é’¥        â”‚ 1ä¸ªå¯†é’¥      â”‚ 2ä¸ªå¯†é’¥      â”‚ ä¸¤ç§éƒ½ç”¨     â”‚
â”‚            â”‚ (åŠ å¯†è§£å¯†åŒ) â”‚ (å…¬é’¥+ç§é’¥)  â”‚             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ é€Ÿåº¦        â”‚ å¿« âš¡âš¡âš¡     â”‚ æ…¢ ğŸŒ        â”‚ æœ€ä¼˜ âš¡âš¡    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å¯†é’¥åˆ†å‘    â”‚ å›°éš¾ âŒ      â”‚ ç®€å• âœ“      â”‚ è§£å†³ âœ“      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ é€‚ç”¨åœºæ™¯    â”‚ å¤§é‡æ•°æ®     â”‚ å°‘é‡æ•°æ®     â”‚ æ‰€æœ‰åœºæ™¯     â”‚
â”‚            â”‚ å¯†é’¥äº¤æ¢å   â”‚ å¯†é’¥äº¤æ¢     â”‚             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å®é™…ä½¿ç”¨    â”‚ ä¸å•ç‹¬ä½¿ç”¨   â”‚ ä¸å•ç‹¬ä½¿ç”¨   â”‚ HTTPSé‡‡ç”¨    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
&lt;/code&gt;&lt;/pre&gt;&lt;hr&gt;
&lt;h3 id=&#34;ä¹æ€»ç»“è®°å¿†å›¾&#34;&gt;ä¹ã€æ€»ç»“è®°å¿†å›¾
&lt;/h3&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           HTTPS åŠ å¯†ä½“ç³»å®Œæ•´æ¶æ„                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                ç”¨æˆ·è®¿é—®ç½‘ç«™
                     â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  1. è¯ä¹¦éªŒè¯é˜¶æ®µ        â”‚
        â”‚  (è§£å†³èº«ä»½é—®é¢˜)         â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â†“
        æœåŠ¡å™¨å‘é€æ•°å­—è¯ä¹¦
                 â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ è¯ä¹¦åŒ…å«:           â”‚
        â”‚ â”œâ”€ åŸŸå             â”‚
        â”‚ â”œâ”€ å…¬å¸ä¿¡æ¯         â”‚
        â”‚ â”œâ”€ æœåŠ¡å™¨å…¬é’¥       â”‚
        â”‚ â””â”€ CAçš„æ•°å­—ç­¾å     â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â†“
        æµè§ˆå™¨éªŒè¯è¯ä¹¦
                 â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ éªŒè¯é¡¹:             â”‚
        â”‚ â”œâ”€ åŸŸååŒ¹é…?        â”‚
        â”‚ â”œâ”€ æœªè¿‡æœŸ?          â”‚
        â”‚ â”œâ”€ CAå¯ä¿¡?          â”‚
        â”‚ â””â”€ ç­¾åæœ‰æ•ˆ?        â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â†“
         å…¨éƒ¨é€šè¿‡ âœ“
                 â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  2. å¯†é’¥åå•†é˜¶æ®µ        â”‚
        â”‚  (å»ºç«‹åŠ å¯†é€šé“)         â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â†“
        å®¢æˆ·ç«¯ç”Ÿæˆé¢„ä¸»å¯†é’¥
                 â†“
        ç”¨æœåŠ¡å™¨å…¬é’¥åŠ å¯†
        (éå¯¹ç§°åŠ å¯† - æ…¢ä½†å®‰å…¨)
                 â†“
        æœåŠ¡å™¨ç”¨ç§é’¥è§£å¯†
                 â†“
        åŒæ–¹è®¡ç®—å¯¹ç§°å¯†é’¥
                 â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  3. åŠ å¯†é€šä¿¡é˜¶æ®µ        â”‚
        â”‚  (ä¼ è¾“å®é™…æ•°æ®)         â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â†“
        ç”¨å¯¹ç§°å¯†é’¥åŠ å¯†æ‰€æœ‰æ•°æ®
        (å¯¹ç§°åŠ å¯† - å¿«é€Ÿé«˜æ•ˆ)
                 â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ å®‰å…¨é€šä¿¡å»ºç«‹! ğŸ”’        â”‚
        â”‚ â”œâ”€ é˜²çªƒå¬ âœ“            â”‚
        â”‚ â”œâ”€ é˜²ç¯¡æ”¹ âœ“            â”‚
        â”‚ â””â”€ é˜²å†’å…… âœ“            â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è¿™å°±æ˜¯ HTTPS åŠ å¯†çš„å®Œæ•´å·¥ä½œæµç¨‹!æ ¸å¿ƒå°±æ˜¯&lt;strong&gt;ä¸‰ä¸ªé˜¶æ®µ&lt;/strong&gt;:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;è¯ä¹¦éªŒè¯&lt;/strong&gt; - ç¡®è®¤æ˜¯çœŸç½‘ç«™&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¯†é’¥åå•†&lt;/strong&gt; - å®‰å…¨åœ°å»ºç«‹åŠ å¯†é€šé“ (ç”¨éå¯¹ç§°åŠ å¯†)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åŠ å¯†é€šä¿¡&lt;/strong&gt; - å¿«é€Ÿä¼ è¾“æ•°æ® (ç”¨å¯¹ç§°åŠ å¯†)&lt;/li&gt;
&lt;/ol&gt;
</description>
        </item>
        <item>
        <title>Httpåè®®æ·±åº¦è§£æ</title>
        <link>http://localhost:1313/basic/internet/http%E5%8D%8F%E8%AE%AE%E6%B7%B1%E5%BA%A6%E8%A7%A3%E6%9E%90/</link>
        <pubDate>Sun, 02 Nov 2025 10:14:30 +0800</pubDate>
        
        <guid>http://localhost:1313/basic/internet/http%E5%8D%8F%E8%AE%AE%E6%B7%B1%E5%BA%A6%E8%A7%A3%E6%9E%90/</guid>
        <description>&lt;h3 id=&#34;httpåè®®æ·±åº¦è§£æ&#34;&gt;HTTPåè®®æ·±åº¦è§£æ
&lt;/h3&gt;&lt;p&gt;æ·±å…¥åœ°è®²è§£HTTPåè®®çš„æ ¸å¿ƒçŸ¥è¯†ã€‚&lt;/p&gt;
&lt;h4 id=&#34;ä¸€httpåŸºç¡€æ¶æ„&#34;&gt;ä¸€ã€HTTPåŸºç¡€æ¶æ„
&lt;/h4&gt;&lt;h5 id=&#34;11-httpçš„æœ¬è´¨&#34;&gt;1.1 HTTPçš„æœ¬è´¨
&lt;/h5&gt;&lt;p&gt;HTTPæ˜¯ä¸€ä¸ªæ— çŠ¶æ€çš„åº”ç”¨å±‚åè®®ï¼ŒåŸºäº&lt;strong&gt;è¯·æ±‚-å“åº”&lt;/strong&gt;æ¨¡å‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å®¢æˆ·ç«¯å‘èµ·è¯·æ±‚&lt;/li&gt;
&lt;li&gt;æœåŠ¡å™¨è¿”å›å“åº”&lt;/li&gt;
&lt;li&gt;æ¯æ¬¡è¯·æ±‚éƒ½æ˜¯ç‹¬ç«‹çš„ï¼ŒæœåŠ¡å™¨ä¸ä¿ç•™ä¹‹å‰çš„çŠ¶æ€&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;12-ä¼ è¾“å±‚åŸºç¡€&#34;&gt;1.2 ä¼ è¾“å±‚åŸºç¡€
&lt;/h5&gt;&lt;p&gt;HTTPå»ºç«‹åœ¨TCPä¹‹ä¸Šï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;HTTP/1.0å’Œ1.1: ä½¿ç”¨TCP&lt;/li&gt;
&lt;li&gt;HTTP/2: ä½¿ç”¨TCPï¼ˆä½†ä¼˜åŒ–äº†å¤šè·¯å¤ç”¨ï¼‰&lt;/li&gt;
&lt;li&gt;HTTP/3:ä½¿ç”¨QUICï¼ˆåŸºäºUDPï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;äºŒ-httpè¯·æ±‚ç»“æ„&#34;&gt;äºŒã€ HTTPè¯·æ±‚ç»“æ„
&lt;/h4&gt;&lt;h5 id=&#34;21-è¯·æ±‚ç»„æˆ&#34;&gt;2.1 è¯·æ±‚ç»„æˆ
&lt;/h5&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;è¯·æ±‚è¡Œ (Request Line)
è¯·æ±‚å¤´ (Headers)
ç©ºè¡Œ
è¯·æ±‚ä½“ (Body, å¯é€‰)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ç¤ºä¾‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;GET&lt;/span&gt; /api/users?page=1 &lt;span style=&#34;color:#66d9ef&#34;&gt;HTTP&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1.1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Host&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;example.com&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;User-Agent&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;Mozilla/5.0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Accept&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;application/json&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Content-Type&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;application/json&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Cookie&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;session_id=abc123&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{&lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;filter&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;active&amp;#34;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;22-è¯·æ±‚æ–¹æ³•æ·±å…¥&#34;&gt;2.2 è¯·æ±‚æ–¹æ³•æ·±å…¥
&lt;/h5&gt;&lt;p&gt;&lt;strong&gt;GET&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è·å–èµ„æºï¼Œå¹‚ç­‰ä¸”å®‰å…¨&lt;/li&gt;
&lt;li&gt;å‚æ•°åœ¨URLä¸­ï¼Œæœ‰é•¿åº¦é™åˆ¶&lt;/li&gt;
&lt;li&gt;å¯è¢«ç¼“å­˜ã€ä¹¦ç­¾ä¿å­˜&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;POST&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åˆ›å»ºèµ„æºæˆ–æäº¤æ•°æ®&lt;/li&gt;
&lt;li&gt;å‚æ•°åœ¨è¯·æ±‚ä½“ä¸­ï¼Œæ— é•¿åº¦é™åˆ¶&lt;/li&gt;
&lt;li&gt;ä¸å¯ç¼“å­˜ï¼ˆé™¤éæ˜¾å¼æŒ‡å®šï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;PUT&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å®Œæ•´æ›´æ–°èµ„æºï¼Œå¹‚ç­‰&lt;/li&gt;
&lt;li&gt;å¤šæ¬¡æ‰§è¡Œç»“æœç›¸åŒ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;PATCH&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;éƒ¨åˆ†æ›´æ–°èµ„æº&lt;/li&gt;
&lt;li&gt;åªæ›´æ–°æŒ‡å®šå­—æ®µ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;DELETE&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åˆ é™¤èµ„æºï¼Œå¹‚ç­‰&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;HEAD&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åªè·å–å“åº”å¤´ï¼Œä¸è¿”å›å“åº”ä½“&lt;/li&gt;
&lt;li&gt;ç”¨äºæ£€æŸ¥èµ„æºæ˜¯å¦å­˜åœ¨ã€è·å–å…ƒä¿¡æ¯&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;OPTIONS&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æŸ¥è¯¢æœåŠ¡å™¨æ”¯æŒçš„æ–¹æ³•&lt;/li&gt;
&lt;li&gt;CORSé¢„æ£€è¯·æ±‚ä½¿ç”¨&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;23-å…³é”®è¯·æ±‚å¤´&#34;&gt;2.3 å…³é”®è¯·æ±‚å¤´
&lt;/h5&gt;&lt;p&gt;&lt;strong&gt;Host&lt;/strong&gt;ï¼šå¿…éœ€ï¼ŒæŒ‡å®šç›®æ ‡ä¸»æœº&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;Host: www.example.com:8080
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;User-Agent&lt;/strong&gt;ï¼šå®¢æˆ·ç«¯ä¿¡æ¯&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;Acceptç³»åˆ—&lt;/strong&gt;ï¼šå†…å®¹åå•†&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;Accept: text/html,application/json
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;Accept-Language: zh-CN,zh;q=0.9,en;q=0.8
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;Accept-Encoding: gzip, deflate, br
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;Authoriation&lt;/strong&gt;ï¼šè®¤è¯ä¿¡æ¯&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;Authorization: Bearer eyJhbGciOiJIUzI1NiIs...
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;Cookie&lt;/strong&gt;ï¼šä¼šè¯æ ‡è¯†&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;Cookie: session_id=abc123; user_pref=dark_mode
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;ä¸‰-httpå“åº”ç»“æ„&#34;&gt;ä¸‰ã€ HTTPå“åº”ç»“æ„
&lt;/h4&gt;&lt;h5 id=&#34;31-å“åº”ç»„æˆ&#34;&gt;3.1 å“åº”ç»„æˆ
&lt;/h5&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;çŠ¶æ€è¡Œ (Status Line)
å“åº”å¤´ (Headers)
ç©ºè¡Œ
å“åº”ä½“ (Body)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ç¤ºä¾‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;HTTP&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1.1&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;200&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;OK&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Content-Type&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;application/json&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Content-Length&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;348&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Cache-Control&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;max-age=3600&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Set-Cookie&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;session_id=xyz789; HttpOnly; Secure&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{&lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;status&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;success&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;data&amp;#34;&lt;/span&gt;: {&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;...&lt;/span&gt;}}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;32-çŠ¶æ€ç æ·±åº¦è§£æ&#34;&gt;3.2 çŠ¶æ€ç æ·±åº¦è§£æ
&lt;/h5&gt;&lt;p&gt;&lt;strong&gt;1xx&lt;/strong&gt;ä¿¡æ¯æ€§å“åº”&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;100 Continue&lt;/code&gt;ï¼šå®¢æˆ·ç«¯ç»§ç»­å‘é€è¯·æ±‚ä½“&lt;/li&gt;
&lt;li&gt;&lt;code&gt;101 Switching Protocols&lt;/code&gt;ï¼šåˆ‡æ¢åè®®ï¼ˆå¦‚WebSocketï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;2xx&lt;/strong&gt;æˆåŠŸ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;200 OK&lt;/code&gt;ï¼šè¯·æ±‚æˆåŠŸ&lt;/li&gt;
&lt;li&gt;&lt;code&gt;201 Created&lt;/code&gt;ï¼šèµ„æºå·²åˆ›å»º&lt;/li&gt;
&lt;li&gt;&lt;code&gt;204 No Content&lt;/code&gt;ï¼š æˆåŠŸä½†æ— å“åº”ä½“&lt;/li&gt;
&lt;li&gt;&lt;code&gt;206 Partial Content&lt;/code&gt;ï¼šèŒƒå›´è¯·æ±‚æˆåŠŸ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;3xx&lt;/strong&gt;é‡å®šå‘&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;301 Moved Permanently&lt;/code&gt;ï¼šæ°¸ä¹…é‡å®šå‘ï¼Œä¼šæ”¹å˜åç»­è¯·æ±‚æ–¹æ³•ä¸ºGET&lt;/li&gt;
&lt;li&gt;&lt;code&gt;302 Found&lt;/code&gt;ï¼šä¸´æ—¶é‡å®šå‘&lt;/li&gt;
&lt;li&gt;&lt;code&gt;303 See Other&lt;/code&gt;ï¼šä½¿ç”¨GETæ–¹æ³•é‡å®šå‘&lt;/li&gt;
&lt;li&gt;&lt;code&gt;304 Not Modified&lt;/code&gt;ï¼šèµ„æºæœªä¿®æ”¹ï¼Œä½¿ç”¨ç¼“å­˜&lt;/li&gt;
&lt;li&gt;&lt;code&gt;307 Temporary Redirect&lt;/code&gt;ï¼šä¸´æ—¶é‡å®šå‘ï¼Œä¿æŒè¯·æ±‚æ–¹æ³•&lt;/li&gt;
&lt;li&gt;&lt;code&gt;308 Permanent Redirect&lt;/code&gt;ï¼šæ°¸ä¹…é‡å®šå‘ï¼Œä¿æŒè¯·æ±‚æ–¹æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;4xx&lt;/strong&gt;å®¢æˆ·ç«¯é”™è¯¯&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;400 Bad Request&lt;/code&gt;ï¼šè¯·æ±‚è¯­æ³•é”™è¯¯&lt;/li&gt;
&lt;li&gt;&lt;code&gt;401 Unathorized&lt;/code&gt;ï¼šéœ€è¦è®¤è¯&lt;/li&gt;
&lt;li&gt;&lt;code&gt;403 Fobidden&lt;/code&gt;ï¼šæ‹’ç»è®¿é—®&lt;/li&gt;
&lt;li&gt;&lt;code&gt;404 Not Found&lt;/code&gt;ï¼šèµ„æºä¸å­˜åœ¨&lt;/li&gt;
&lt;li&gt;&lt;code&gt;405 Method Not Allowed&lt;/code&gt;ï¼šæ–¹æ³•ä¸å…è®¸&lt;/li&gt;
&lt;li&gt;&lt;code&gt;409 Conflict&lt;/code&gt;ï¼šè¯·æ±‚å†²çª&lt;/li&gt;
&lt;li&gt;&lt;code&gt;429 Too Many Requests&lt;/code&gt;ï¼šè¯·æ±‚è¿‡å¤š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;5xx&lt;/strong&gt;æœåŠ¡å™¨é”™è¯¯&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;500 Internal Server Error&lt;/code&gt;ï¼šæœåŠ¡å™¨å†…éƒ¨é”™è¯¯&lt;/li&gt;
&lt;li&gt;&lt;code&gt;502 Bad Gateway&lt;/code&gt;ï¼šç½‘å…³é”™è¯¯&lt;/li&gt;
&lt;li&gt;&lt;code&gt;503 Service Unavailable&lt;/code&gt;ï¼šæœåŠ¡ä¸å¯ç”¨&lt;/li&gt;
&lt;li&gt;&lt;code&gt;504 Gateway Timeout&lt;/code&gt;ï¼šç½‘å…³è¶…æ—¶&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;33-å…³é”®å“åº”å¤´&#34;&gt;3.3 å…³é”®å“åº”å¤´
&lt;/h5&gt;&lt;p&gt;&lt;strong&gt;Content-Type&lt;/strong&gt;ï¼šå“åº”ä½“ç±»å‹&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;Content-Type: application/json; charset=utf-8
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;Content-Type: text/html; charset=utf-8
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;Content-Type: multipart/form-data; boundary=----WebKitFormBoundary
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;Set-Cookie&lt;/strong&gt;ï¼šè®¾ç½®Cookie&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;Set-Cookie: session_id=abc123; Path=/; HttpOnly; Secure; SameSite=Strict; Max-Age=3600
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;Cache-Control&lt;/strong&gt;ï¼šç¼“å­˜ç­–ç•¥&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;Cache-Control: no-cache, no-store, must-revalidate
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;Cache-Control: public, max-age=31536000
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;å››httpè¿æ¥ç®¡ç†&#34;&gt;å››ã€HTTPè¿æ¥ç®¡ç†
&lt;/h4&gt;&lt;h5 id=&#34;41-æŒä¹…è¿æ¥keep-alive&#34;&gt;4.1 æŒä¹…è¿æ¥(Keep-Alive)
&lt;/h5&gt;&lt;p&gt;HTTP/1.0: é»˜è®¤çŸ­è¿æ¥&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;Connection: Keep-Alive
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;HTTP/1.1: é»˜è®¤æŒä¹…è¿æ¥&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;Connection: close  # æ˜ç¡®å…³é—­
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;ä¼˜åŠ¿&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å‡å°‘ TCP æ¡æ‰‹å¼€é”€&lt;/li&gt;
&lt;li&gt;é™ä½å»¶è¿Ÿ&lt;/li&gt;
&lt;li&gt;å‡è½»æœåŠ¡å™¨è´Ÿæ‹…&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;42-ç®¡é“åŒ–pipelining&#34;&gt;4.2 ç®¡é“åŒ–ï¼ˆPipeliningï¼‰
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;HTTP/1.1 æ”¯æŒä½†å¾ˆå°‘ç”¨&lt;/li&gt;
&lt;li&gt;å¯ä»¥è¿ç»­å‘é€å¤šä¸ªè¯·æ±‚ï¼Œæ— éœ€ç­‰å¾…å“åº”&lt;/li&gt;
&lt;li&gt;å­˜åœ¨é˜Ÿå¤´é˜»å¡é—®é¢˜&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;43-http2-å¤šè·¯å¤ç”¨&#34;&gt;4.3 HTTP/2 å¤šè·¯å¤ç”¨
&lt;/h5&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;å•ä¸ª TCP è¿æ¥
  â”œâ”€ Stream 1: /index.html
  â”œâ”€ Stream 2: /style.css
  â”œâ”€ Stream 3: /script.js
  â””â”€ Stream 4: /api/data
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;strong&gt;ç‰¹æ€§:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;äºŒè¿›åˆ¶åˆ†å¸§&lt;/li&gt;
&lt;li&gt;è¯·æ±‚/å“åº”å¹¶è¡Œ&lt;/li&gt;
&lt;li&gt;æœåŠ¡å™¨æ¨é€&lt;/li&gt;
&lt;li&gt;å¤´éƒ¨å‹ç¼©(HPACK)&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;äº”ç¼“å­˜æœºåˆ¶æ·±å…¥&#34;&gt;äº”ã€ç¼“å­˜æœºåˆ¶æ·±å…¥
&lt;/h4&gt;&lt;h5 id=&#34;51-å¼ºç¼“å­˜&#34;&gt;5.1 å¼ºç¼“å­˜
&lt;/h5&gt;&lt;p&gt;&lt;strong&gt;Expires&lt;/strong&gt;(HTTP/1.0)&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;Expires: Wed, 21 Oct 2025 07:28:00 GMT
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;Cache-Control&lt;/strong&gt;(HTTP/1.1,ä¼˜å…ˆçº§æ›´é«˜)&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;Cache-Control: max-age=3600
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;Cache-Control: public, max-age=31536000, immutable
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æŒ‡ä»¤è¯¦è§£ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;public&lt;/code&gt;: å¯è¢«ä»»ä½•ç¼“å­˜å­˜å‚¨&lt;/li&gt;
&lt;li&gt;&lt;code&gt;private&lt;/code&gt;ï¼šåªèƒ½è¢«æµè§ˆå™¨ç¼“å­˜&lt;/li&gt;
&lt;li&gt;&lt;code&gt;no-cache&lt;/code&gt;ï¼šå¿…é¡»éªŒè¯åæ‰èƒ½ä½¿ç”¨&lt;/li&gt;
&lt;li&gt;&lt;code&gt;no-store&lt;/code&gt;ï¼šä¸å¾—ç¼“å­˜&lt;/li&gt;
&lt;li&gt;&lt;code&gt;max-age=N&lt;/code&gt;ï¼šç¼“å­˜Nç§’&lt;/li&gt;
&lt;li&gt;&lt;code&gt;s-maxage=N&lt;/code&gt;: ä»£ç†æœåŠ¡å™¨ç¼“å­˜Nç§’&lt;/li&gt;
&lt;li&gt;&lt;code&gt;immutable&lt;/code&gt;ï¼šèµ„æºæ°¸ä¸æ”¹å˜&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;52-åå•†ç¼“å­˜&#34;&gt;5.2 åå•†ç¼“å­˜
&lt;/h5&gt;&lt;p&gt;&lt;strong&gt;Last-Modified/ If-Modified-Since&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;# é¦–æ¬¡å“åº”
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;Last-Modified: Wed, 21 Oct 2024 07:28:00 GMT
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;# å†æ¬¡è¯·æ±‚
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;If-Modified-Since: Wed, 21 Oct 2024 07:28:00 GMT
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;# æœªä¿®æ”¹è¿”å›
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;HTTP&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1.1&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;304&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Not Modified&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;ETag/ If-None-Match&lt;/strong&gt;(æ›´ç²¾ç¡®)&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;# é¦–æ¬¡å“åº”
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;ETag: &amp;#34;33a64df551425fcc55e4d42a148795d9f25f89d4&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;# å†æ¬¡è¯·æ±‚
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;If-None-Match: &amp;#34;33a64df551425fcc55e4d42a148795d9f25f89d4&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;# æœªä¿®æ”¹è¿”å›
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;HTTP&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1.1&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;304&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Not Modified&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;53-ç¼“å­˜ç­–ç•¥&#34;&gt;5.3 ç¼“å­˜ç­–ç•¥
&lt;/h5&gt;&lt;p&gt;å¼ºç¼“å­˜ä¼˜å…ˆç­–ç•¥ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;Cache-Control: public, max-age=31536000, immutable
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åå•†ç¼“å­˜ç­–ç•¥ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;Cache-Control: no-cache
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;ETag: &amp;#34;version-123&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸ç¼“å­˜ç­–ç•¥ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;Cache-Control: no-store, no-cache, must-revalidate
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;Pragma: no-cache
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;å…­å®‰å…¨ç›¸å…³&#34;&gt;å…­ã€å®‰å…¨ç›¸å…³
&lt;/h4&gt;&lt;h5 id=&#34;61-httpsåŸç†&#34;&gt;6.1 HTTPSåŸç†
&lt;/h5&gt;&lt;p&gt;&lt;strong&gt;TLS/SSL&lt;/strong&gt;æ¡æ‰‹è¿‡ç¨‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å®¢æˆ·ç«¯å‘é€æ”¯æŒçš„åŠ å¯†å¥—ä»¶&lt;/li&gt;
&lt;li&gt;æœåŠ¡å™¨é€‰æ‹©åŠ å¯†å¥—ä»¶ï¼Œå‘é€è¯ä¹¦&lt;/li&gt;
&lt;li&gt;å®¢æˆ·ç«¯éªŒè¯è¯ä¹¦ï¼Œç”Ÿæˆé¢„ä¸»å¯†é’¥&lt;/li&gt;
&lt;li&gt;åŒæ–¹åå•†ä¼šè¯å¯†é’¥&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨å¯¹ç§°åŠ å¯†é€šä¿¡&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;å¯¹ç§°åŠ å¯† + éå¯¹ç§°åŠ å¯†æ··åˆï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;éå¯¹ç§°åŠ å¯†äº¤æ¢å¯†é’¥ï¼ˆæ…¢ä½†å®‰å…¨ï¼‰&lt;/li&gt;
&lt;li&gt;å¯¹ç§°åŠ å¯†ä¼ è¾“æ•°æ®ï¼ˆå¿«ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;62-cookieå®‰å…¨&#34;&gt;6.2 Cookieå®‰å…¨
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;Set-Cookie: session=abc; 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;  HttpOnly;        # é˜²æ­¢ XSS æ”»å‡»
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;  Secure;          # åªé€šè¿‡ HTTPS ä¼ è¾“
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;  SameSite=Strict; # é˜²æ­¢ CSRF æ”»å‡»
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;  Domain=.example.com;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;  Path=/;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;  Max-Age=3600
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;SameSite&lt;/strong&gt;å±æ€§:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Strict: å®Œå…¨ç¦æ­¢è·¨ç«™å‘é€&lt;/li&gt;
&lt;li&gt;Laxï¼šGETè¯·æ±‚å¯è·¨ç«™å‘é€&lt;/li&gt;
&lt;li&gt;Noneï¼šå…è®¸è·¨ç«™ï¼ˆéœ€é…åˆSecureï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;63-å®‰å…¨å“åº”å¤´&#34;&gt;6.3 å®‰å…¨å“åº”å¤´
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;# é˜²æ­¢ç‚¹å‡»åŠ«æŒ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;X-Frame-Options: DENY
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;# å†…å®¹ç±»å‹å—…æ¢ä¿æŠ¤
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;X-Content-Type-Options: nosniff
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;# XSS ä¿æŠ¤
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;X-XSS-Protection: 1; mode=block
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;# å†…å®¹å®‰å…¨ç­–ç•¥
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;Content-Security-Policy: default-src &amp;#39;self&amp;#39;; script-src &amp;#39;self&amp;#39; &amp;#39;unsafe-inline&amp;#39;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;# HTTPS å¼ºåˆ¶
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;Strict-Transport-Security: max-age=31536000; includeSubDomains
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;ä¸ƒæ€§èƒ½ä¼˜åŒ–&#34;&gt;ä¸ƒã€æ€§èƒ½ä¼˜åŒ–
&lt;/h4&gt;&lt;h5 id=&#34;71-å†…å®¹ç¼–ç &#34;&gt;7.1 å†…å®¹ç¼–ç 
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;# è¯·æ±‚æ”¯æŒçš„ç¼–ç 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;Accept-Encoding: gzip, deflate, br
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;# å“åº”ä½¿ç”¨çš„ç¼–ç 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;Content-Encoding: gzip
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å‹ç¼©ç‡å¯¹æ¯”ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;gzip: 70-90%&lt;/li&gt;
&lt;li&gt;Brotli(br): 75-95%(æ›´ä¼˜)&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;72-èŒƒå›´è¯·æ±‚æ–­ç‚¹ç»­ä¼ &#34;&gt;7.2 èŒƒå›´è¯·æ±‚ï¼ˆæ–­ç‚¹ç»­ä¼ ï¼‰
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;# è¯·æ±‚éƒ¨åˆ†å†…å®¹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;Range: bytes=0-1023
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;# å“åº”
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;HTTP&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1.1&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;206&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Partial Content&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Content-Range&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;bytes 0-1023/10240&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Content-Length&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1024&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;73-æ¡ä»¶è¯·æ±‚&#34;&gt;7.3 æ¡ä»¶è¯·æ±‚
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;# åªåœ¨èµ„æºæœªä¿®æ”¹æ—¶æ›´æ–°
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;If-Unmodified-Since: Wed, 21 Oct 2024 07:28:00 GMT
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;If-Match: &amp;#34;etag-value&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;å…«corsè·¨åŸŸ&#34;&gt;å…«ã€CORSè·¨åŸŸ
&lt;/h4&gt;&lt;h5 id=&#34;81-ç®€å•è¯·æ±‚&#34;&gt;8.1 ç®€å•è¯·æ±‚
&lt;/h5&gt;&lt;p&gt;æ»¡è¶³æ¡ä»¶ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ–¹æ³•ï¼šGETï¼ŒHEADï¼ŒPOST&lt;/li&gt;
&lt;li&gt;å¤´éƒ¨ï¼šAccept, Accept-Language, Content-Language, Content-Type&lt;/li&gt;
&lt;li&gt;Content-Type: text/plain, multipart/form-data, application/x-www-form-urlencoded&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;# è¯·æ±‚
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;Origin: https://example.com
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;# å“åº”
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;Access-Control-Allow-Origin: https://example.com
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;Access-Control-Allow-Credentials: true
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;82-é¢„æ£€è¯·æ±‚&#34;&gt;8.2 é¢„æ£€è¯·æ±‚
&lt;/h5&gt;&lt;p&gt;å¤æ‚è¯·æ±‚éœ€è¦å…ˆå‘é€OPTIONSï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;# é¢„æ£€è¯·æ±‚
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;OPTIONS&lt;/span&gt; /api/data &lt;span style=&#34;color:#66d9ef&#34;&gt;HTTP&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1.1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Origin&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;https://example.com&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Access-Control-Request-Method&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;PUT&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Access-Control-Request-Headers&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;Content-Type, X-Custom-Header&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;# é¢„æ£€å“åº”
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;HTTP/1.1 204 No Content
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Access-Control-Allow-Origin: https://example.com
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Access-Control-Allow-Methods: GET, POST, PUT, DELETE
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Access-Control-Allow-Headers: Content-Type, X-Custom-Header
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Access-Control-Max-Age: 86400
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;ä¹http3-ä¸quic&#34;&gt;ä¹ã€HTTP/3 ä¸QUIC
&lt;/h4&gt;&lt;h5 id=&#34;91-æ ¸å¿ƒæ”¹è¿›&#34;&gt;9.1 æ ¸å¿ƒæ”¹è¿›
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;åŸºäºUDP&lt;/strong&gt;ï¼šé¿å…TCPé˜Ÿå¤´é˜»å¡&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;0-RTT&lt;/strong&gt;ï¼šé¦–æ¬¡è¿æ¥åï¼Œåç»­è¿æ¥æ— éœ€æ¡æ‰‹&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è¿æ¥è¿ç§»&lt;/strong&gt;ï¼šIPå˜åŒ–ä¸å½±å“è¿æ¥&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å†…ç½®åŠ å¯†&lt;/strong&gt;ï¼šå¼ºåˆ¶ TLS 1.3&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;92-æ€§èƒ½å¯¹æ¯”&#34;&gt;9.2 æ€§èƒ½å¯¹æ¯”
&lt;/h5&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;HTTP/1.1: å¤šä¸ª TCP è¿æ¥,é˜Ÿå¤´é˜»å¡
HTTP/2:   å•ä¸ª TCP è¿æ¥,TCP å±‚é˜Ÿå¤´é˜»å¡
HTTP/3:   QUIC,æ— é˜Ÿå¤´é˜»å¡,è¿æ¥è¿ç§»
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;åå®è·µå»ºè®®&#34;&gt;åã€å®è·µå»ºè®®
&lt;/h4&gt;&lt;h5 id=&#34;101-api-è®¾è®¡&#34;&gt;10.1 API è®¾è®¡
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨åˆé€‚çš„ HTTP æ–¹æ³•&lt;/li&gt;
&lt;li&gt;è¿”å›æ­£ç¡®çš„çŠ¶æ€ç &lt;/li&gt;
&lt;li&gt;è®¾è®¡æ¸…æ™°çš„ URL ç»“æ„&lt;/li&gt;
&lt;li&gt;å®ç°å¹‚ç­‰æ€§&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;102-æ€§èƒ½ä¼˜åŒ–&#34;&gt;10.2 æ€§èƒ½ä¼˜åŒ–
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;å¯ç”¨ HTTP/2 æˆ– HTTP/3&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨ CDN å’Œç¼“å­˜ç­–ç•¥&lt;/li&gt;
&lt;li&gt;å‹ç¼©å“åº”å†…å®¹&lt;/li&gt;
&lt;li&gt;å‡å°‘è¯·æ±‚æ•°é‡&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;103-å®‰å…¨æªæ–½&#34;&gt;10.3 å®‰å…¨æªæ–½
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨ HTTPS&lt;/li&gt;
&lt;li&gt;è®¾ç½®å®‰å…¨å“åº”å¤´&lt;/li&gt;
&lt;li&gt;å®ç°é€Ÿç‡é™åˆ¶&lt;/li&gt;
&lt;li&gt;éªŒè¯è¾“å…¥æ•°æ®&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;å±‚æ¬¡åä½œ&#34;&gt;å±‚æ¬¡åä½œ
&lt;/h4&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;åº”ç”¨å±‚: HTTP å®šä¹‰å†…å®¹å’Œæ ¼å¼
         â†“
       &amp;#34;GET /index.html HTTP/1.1\r\nHost: example.com\r\n\r\n&amp;#34;
         â†“
ä¼ è¾“å±‚: TCP è´Ÿè´£å¯é ä¼ è¾“
         â†“
       [åˆ†æ®µ] â†’ [åŠ åºåˆ—å·] â†’ [ç¡®è®¤æœºåˆ¶] â†’ [é‡ä¼ æœºåˆ¶]
         â†“
ç½‘ç»œå±‚: IP è´Ÿè´£å¯»å€å’Œè·¯ç”±
         â†“
       [æ·»åŠ  IP åœ°å€] â†’ [é€‰æ‹©è·¯å¾„]
         â†“
é“¾è·¯å±‚: ä»¥å¤ªç½‘/WiFi è´Ÿè´£å®é™…ä¼ è¾“
         â†“
       [è½¬æ¢æˆç”µä¿¡å·/æ— çº¿ä¿¡å·]
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;strong&gt;TCP&lt;/strong&gt; æ˜¯ä¼ è¾“ç®¡é“(è´Ÿè´£æ€ä¹ˆé€),&lt;strong&gt;HTTP&lt;/strong&gt; æ˜¯ç®¡é“é‡Œçš„å†…å®¹è§„èŒƒ(è§„å®šé€ä»€ä¹ˆå’Œä»€ä¹ˆæ ¼å¼)&lt;/p&gt;
&lt;h4 id=&#34;osiä¸ƒå±‚æ¨¡å‹-vs-tcpipå››å±‚æ¨¡å‹&#34;&gt;OSIä¸ƒå±‚æ¨¡å‹ vs TCP/IPå››å±‚æ¨¡å‹
&lt;/h4&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;OSI ä¸ƒå±‚æ¨¡å‹          TCP/IP å››å±‚æ¨¡å‹        å®é™…åè®®ç¤ºä¾‹
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 7. åº”ç”¨å±‚    â”‚      â”‚             â”‚      HTTP, FTP, SMTP, DNS
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤      â”‚             â”‚      
â”‚ 6. è¡¨ç¤ºå±‚    â”‚      â”‚  åº”ç”¨å±‚      â”‚      SSL/TLS, JPEG, MPEG
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤      â”‚             â”‚      
â”‚ 5. ä¼šè¯å±‚    â”‚      â”‚             â”‚      NetBIOS, RPC
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 4. ä¼ è¾“å±‚    â”‚      â”‚  ä¼ è¾“å±‚      â”‚      TCP, UDP
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 3. ç½‘ç»œå±‚    â”‚      â”‚  ç½‘ç»œå±‚      â”‚      IP, ICMP, ARP
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 2. æ•°æ®é“¾è·¯å±‚â”‚      â”‚             â”‚      Ethernet, WiFi, PPP
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤      â”‚  é“¾è·¯å±‚      â”‚      
â”‚ 1. ç‰©ç†å±‚    â”‚      â”‚             â”‚      ç½‘çº¿, å…‰çº¤, æ— çº¿ç”µæ³¢
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;strong&gt;è¯´æ˜&lt;/strong&gt;ï¼šOSI æ˜¯ç†è®ºæ¨¡å‹ï¼ŒTCP/IP æ˜¯å®é™…åº”ç”¨çš„æ¨¡å‹&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Composeå…¥é—¨</title>
        <link>http://localhost:1313/android-develop/compose%E5%85%A5%E9%97%A8/</link>
        <pubDate>Sat, 25 Oct 2025 19:52:44 +0800</pubDate>
        
        <guid>http://localhost:1313/android-develop/compose%E5%85%A5%E9%97%A8/</guid>
        <description>&lt;h4 id=&#34;å¤§çº²&#34;&gt;å¤§çº²
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;å£°æ˜å¼UI&lt;/strong&gt;ï¼šåªéœ€è¦æè¿°åœ¨ç‰¹å®šçŠ¶æ€ä¸‹UIåº”è¯¥æ˜¯ä»€ä¹ˆæ ·å­ï¼ŒComposeæ¡†æ¶ä¼šè´Ÿè´£æ›´æ–°ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç»„åˆä¸å¤ç”¨&lt;/strong&gt;ï¼šå°†UIæ‹†åˆ†æˆå°è€Œä¸“ä¸€çš„Composableå‡½æ•°ï¼Œç„¶ååƒæ­ç§¯æœ¨ä¸€æ ·ç»„åˆå®ƒä»¬ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å•å‘æ•°æ®æµ&lt;/strong&gt;ï¼šçŠ¶æ€ä»&lt;code&gt;ViewModel&lt;/code&gt;å‘ä¸‹æµåŠ¨åˆ°Composableï¼Œäº‹ä»¶ä»Composableå‘ä¸Šä¼ é€’ç»™&lt;code&gt;ViewModel&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å‰¯ä½œç”¨å¤„ç†&lt;/strong&gt;ï¼šä½¿ç”¨&lt;code&gt;LaunchedEffect&lt;/code&gt;ç­‰APIæ¥å®‰å…¨åœ°å¤„ç†éœ€è¦åœ¨Composableç”Ÿå‘½å‘¨æœŸå†…æ‰§è¡Œçš„&lt;strong&gt;éUI&lt;/strong&gt;æ“ä½œã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;æ ¸å¿ƒæ¦‚å¿µ&#34;&gt;æ ¸å¿ƒæ¦‚å¿µ
&lt;/h4&gt;&lt;h5 id=&#34;ç»„åˆä¸é‡ç»„&#34;&gt;ç»„åˆä¸é‡ç»„
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ç»„åˆ(Composition)&lt;/strong&gt;ï¼šè¿™æ˜¯Composeç¬¬ä¸€æ¬¡æ„å»ºUIçš„è¿‡ç¨‹ã€‚å½“ä½ è°ƒç”¨ä¸€ä¸ªComposableå‡½æ•°æ—¶ï¼ŒComposeæ¡†æ¶ä¼šæ‰§è¡Œå®ƒï¼ŒæŠŠå®ƒæè¿°çš„UIå…ƒç´ ï¼ˆå¦‚&lt;code&gt;Text&lt;/code&gt;,&lt;code&gt;Button&lt;/code&gt;,&lt;code&gt;Box&lt;/code&gt;ç­‰ï¼‰æ·»åŠ åˆ°UIæ ‘ä¸­ã€‚è¿™ä¸ªè¿‡ç¨‹åªä¼šå‘ç”Ÿä¸€æ¬¡ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é‡ç»„(Recomposition)&lt;/strong&gt;ï¼šè¿™æ˜¯Composeæ›´æ–°UIçš„è¿‡ç¨‹ã€‚å½“ä¸€ä¸ªComposableå‡½æ•°æ‰€ä¾èµ–çš„æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼ŒComposeä¸ä¼šé‡æ–°æ„å»ºæ•´ä¸ªå±å¹•ï¼Œè€Œæ˜¯æ™ºèƒ½åœ°ã€æœ‰é€‰æ‹©æ€§åœ°å†æ¬¡è°ƒç”¨è¿™ä¸ªComposableå‡½æ•°ï¼ˆä»¥åŠå…¶ä»–ä¾èµ–äº†ç›¸åŒæ•°æ®çš„å‡½æ•°ï¼‰ï¼Œç”¨æ–°çš„æ•°æ®æ¥æ›´æ–°UIæ ‘ä¸­å¯¹åº”çš„éƒ¨åˆ†ã€‚è¿™ä¸ªè¿‡ç¨‹å¯èƒ½å‘ç”Ÿå¤šæ¬¡ï¼Œç”šè‡³éå¸¸é¢‘ç¹ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;æ ¸å¿ƒæ€æƒ³&lt;/strong&gt;ï¼šä½ åªéœ€è¦ç”¨ä»£ç å£°æ˜åœ¨æŸä¸ªæ•°æ®çŠ¶æ€ä¸‹ï¼Œä½ çš„UIåº”è¯¥é•¿ä»€ä¹ˆæ ·ã€‚å½“æ•°æ®å˜åŒ–æ—¶ï¼ŒComposeæ¡†æ¶ä¼šè‡ªåŠ¨å¸®ä½ å®Œæˆä»æ—§UIåˆ°æ–°UIçš„è½¬æ¢ï¼Œä¸éœ€è¦æ‰‹åŠ¨å»æŸ¥æ‰¾å¹¶æ›´æ–°æŸä¸ª&lt;code&gt;TextView&lt;/code&gt;æˆ–&lt;code&gt;ImageView&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;h5 id=&#34;çŠ¶æ€state&#34;&gt;çŠ¶æ€ï¼ˆStateï¼‰
&lt;/h5&gt;&lt;p&gt;åœ¨Composeä¸­ï¼Œ&lt;strong&gt;State&lt;/strong&gt;å°±æ˜¯ä»»ä½•ä¼šéšæ—¶é—´å˜åŒ–å¹¶ä¸”ä¼šå½±å“&lt;strong&gt;UI&lt;/strong&gt;çš„å€¼ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;State&amp;lt;T&amp;gt;&lt;/code&gt;å’Œ&lt;code&gt;MutableState&amp;lt;T&amp;gt;&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;remember&#34;&gt;remember
&lt;/h5&gt;&lt;p&gt;åœ¨å¤šæ¬¡é‡ç»„ä¹‹é—´ä¿æŒComposableå†…éƒ¨çŠ¶æ€æˆ–å¯¹è±¡çš„å…³é”®æœºåˆ¶ã€‚æ²¡æœ‰å®ƒï¼Œæ¯æ¬¡é‡ç»„éƒ½ä¼šå¯¼è‡´å±€éƒ¨å˜é‡è¢«é‡ç½®ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;remember&lt;/code&gt;çš„ä½œç”¨æ˜¯è®©ä¸€ä¸ªå¯¹è±¡ï¼ˆä»»ä½•å¯¹è±¡ï¼‰åœ¨å¤šæ¬¡é‡ç»„ä¹‹é—´æ´»ä¸‹æ¥ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;State&lt;/code&gt;çš„ä½œç”¨æ˜¯å½“å®ƒçš„å€¼æ”¹å˜æ—¶ï¼Œé€šçŸ¥Composeè¿›è¡Œé‡ç»„ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;rememberå’ŒStateæ˜¯ä¸€å¯¹é»„é‡‘æ­æ¡£ï¼Œå…±åŒè§£å†³äº†â€œUIå†…éƒ¨çŠ¶æ€â€çš„é—®é¢˜ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æˆ‘éœ€è¦ä¸€ä¸ªå˜é‡æ¥å­˜å‚¨UIçš„çŠ¶æ€(ä¾‹å¦‚ï¼Œä¸€ä¸ªè®¡æ•°å™¨ï¼Œä¸€ä¸ªå¤é€‰æ¡†æ˜¯å¦è¢«é€‰ä¸­)ã€‚&lt;/li&gt;
&lt;li&gt;è¿™ä¸ªå˜é‡å¿…é¡»èƒ½åœ¨å¤šæ¬¡é‡ç»„ä¸­ä¿æŒä»–çš„å€¼ä¸è¢«é‡ç½® -&amp;gt; æ‰€ä»¥ç”¨&lt;code&gt;remember&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;å½“è¿™ä¸ªå˜é‡çš„å€¼æ”¹å˜æ—¶ï¼ŒUIå¿…é¡»è‡ªåŠ¨æ›´æ–°ï¼ˆå³é‡ç»„ï¼‰-&amp;gt; æ‰€ä»¥ç”¨&lt;code&gt;State&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;remember&lt;/code&gt;æ˜¯ä¸ºäº†â€œè®°å¿†â€ï¼šè®©å˜é‡/å¯¹è±¡åœ¨é‡ç»„ä¸­å¹¸å­˜ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;State&lt;/code&gt;æ˜¯ä¸ºäº†â€œé€šçŸ¥â€ï¼šè®©å€¼çš„å˜åŒ–èƒ½è§¦å‘é‡ç»„ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;é‡ç»„è§¦å‘æœºåˆ¶&#34;&gt;é‡ç»„è§¦å‘æœºåˆ¶
&lt;/h4&gt;&lt;h5 id=&#34;1-åŸºäºstateçš„è®¢é˜…å¼é‡ç»„state-read-based-recomposition&#34;&gt;1. åŸºäºStateçš„è®¢é˜…å¼é‡ç»„ï¼ˆState-Read-based-Recompositionï¼‰
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ³¨å†Œ/è®¢é˜…&lt;/strong&gt;ï¼šå½“ä¸€ä¸ªComposableå‡½æ•°åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­è¯»å–(Read)äº†ä¸€ä¸ª&lt;code&gt;State&lt;/code&gt;å¯¹è±¡çš„å€¼ï¼ŒComposeå°±ä¼šåœ¨è¿™ä¸ªå‡½æ•°å’Œè¿™ä¸ª&lt;code&gt;State&lt;/code&gt;å¯¹è±¡ä¹‹é—´å»ºç«‹ä¸€ä¸ªéšè—çš„è®¢é˜…å…³ç³»ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å˜åŒ–é€šçŸ¥&lt;/strong&gt;ï¼šå½“è¿™ä¸ª&lt;code&gt;State&lt;/code&gt;å¯¹è±¡çš„å€¼è¢«å†™å…¥(write)ä¸€ä¸ªæ–°å€¼æ—¶ï¼Œå®ƒä¼šåƒä¸€ä¸ªå‘å¸ƒè€…ä¸€æ ·ï¼Œé€šçŸ¥æ‰€æœ‰è®¢é˜…äº†å®ƒçš„Composable: â€œæˆ‘çš„å€¼å˜äº†!â€&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç²¾ç¡®é‡ç»„&lt;/strong&gt;ï¼šæ”¶åˆ°é€šçŸ¥çš„Composableä¼šæ ‡è®°ä¸ºâ€œéœ€è¦é‡ç»„â€ï¼ŒComposeä¼šåœ¨ä¸‹ä¸€å¸§é«˜æ•ˆåœ°æ›´æ–°å®ƒä»¬ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;ä¼˜ç‚¹&lt;/strong&gt;ï¼šéå¸¸ç²¾ç¡®å’Œé«˜æ•ˆã€‚åªæœ‰ç›´æ¥è¯»å–äº†è¿™ä¸ªStateçš„Composableæ‰ä¼šè¢«é‡ç»„ã€‚&lt;/p&gt;
&lt;h5 id=&#34;2-åŸºäºå‡½æ•°è°ƒç”¨ä¸å‚æ•°å˜åŒ–çš„é‡ç»„function-call-with-parameter-change-recomposition&#34;&gt;2. åŸºäºâ€œå‡½æ•°è°ƒç”¨ä¸å‚æ•°å˜åŒ–â€çš„é‡ç»„ï¼ˆFunction-Call-with-Parameter-Change Recompositionï¼‰
&lt;/h5&gt;&lt;p&gt;å½“ä¸€ä¸ªçˆ¶Composableå‘ç”Ÿé‡ç»„æ—¶ï¼Œå®ƒä¼šé‡æ–°æ‰§è¡Œå…¶å‡½æ•°ä½“å†…çš„ä»£ç ã€‚å¦‚æœå‡½æ•°ä½“å†…åŒ…å«äº†å¯¹å­Composableçš„è°ƒç”¨ï¼ˆæ¯”å¦‚&lt;code&gt;Greeting(name)&lt;/code&gt;ï¼‰ï¼Œé‚£ä¹ˆComposeå°±ä¼šæ‰§è¡Œä¸€æ¬¡â€œå‰ç½®æ£€æŸ¥â€ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å‚æ•°æ¯”è¾ƒï¼šComposeä¼šæ¯”è¾ƒè¿™æ¬¡è°ƒç”¨&lt;code&gt;Greeting&lt;/code&gt;æ—¶ä¼ å…¥çš„å‚æ•°(&lt;code&gt;name&lt;/code&gt;)å’Œä¸Šä¸€æ¬¡è°ƒç”¨æ—¶ä¼ å…¥çš„å‚æ•°ã€‚&lt;/li&gt;
&lt;li&gt;å†³ç­–ï¼š
&lt;ul&gt;
&lt;li&gt;å¦‚æœå‚æ•°æ²¡æœ‰å˜åŒ–ï¼ŒComposeå°±ä¼šè·³è¿‡(&lt;strong&gt;Skip&lt;/strong&gt;)&lt;code&gt;Greeting&lt;/code&gt;å‡½æ•°çš„æ‰§è¡Œï¼Œç›´æ¥å¤ç”¨ä¸Šæ¬¡çš„ç»“æœã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœå‚æ•°å‘ç”Ÿäº†å˜åŒ–ï¼ŒComposeå°±ä¼šæ‰§è¡Œ&lt;code&gt;Greeting&lt;/code&gt;å‡½æ•°ï¼Œç”¨æ–°çš„å‚æ•°æ¥ç”Ÿæˆæ–°çš„UIã€‚è¿™ä¸ªæ‰§è¡Œè¿‡ç¨‹ï¼Œå°±æ˜¯å­Composableçš„é‡ç»„ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// ... åœ¨æœ‰çŠ¶æ€çš„ ForYouScreen ä¸­
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// æœºåˆ¶ 1 çš„å¼€å§‹ï¼šè®¢é˜… StateFlowï¼Œè½¬æ¢ä¸º State
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; feedState &lt;span style=&#34;color:#66d9ef&#34;&gt;by&lt;/span&gt; viewModel.feedState.collectAsStateWithLifecycle()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// æœºåˆ¶ 2 çš„å¼€å§‹ï¼šå› ä¸º feedState å˜äº†ï¼Œæ‰€ä»¥å†æ¬¡è°ƒç”¨æ— çŠ¶æ€çš„ ForYouScreen
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;ForYouScreen(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    feedState = feedState, &lt;span style=&#34;color:#75715e&#34;&gt;// &amp;lt;--- å‚æ•°å‘ç”Ÿå˜åŒ–
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;..&lt;/span&gt;.
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol&gt;
&lt;li&gt;&lt;code&gt;ViewModel&lt;/code&gt; ä¸­çš„ &lt;code&gt;StateFlow&lt;/code&gt; å‘å‡ºäº†ä¸€ä¸ªæ–°å€¼ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;collectAsStateWithLifecycle()&lt;/code&gt; å°†å…¶è½¬æ¢ä¸ºä¸€ä¸ª &lt;code&gt;State&lt;/code&gt; å¯¹è±¡ï¼Œå¹¶æ›´æ–°äº†è¿™ä¸ª &lt;code&gt;State&lt;/code&gt; çš„å€¼ã€‚(æœºåˆ¶ 1 è§¦å‘)&lt;/li&gt;
&lt;li&gt;å› ä¸ºæœ‰çŠ¶æ€çš„ &lt;code&gt;ForYouScreen&lt;/code&gt; è¯»å–äº†è¿™ä¸ª &lt;code&gt;State&lt;/code&gt;ï¼Œæ‰€ä»¥å®ƒè¢«å®‰æ’é‡ç»„ã€‚&lt;/li&gt;
&lt;li&gt;æœ‰çŠ¶æ€çš„ &lt;code&gt;ForYouScreen&lt;/code&gt; é‡æ–°æ‰§è¡Œï¼Œå½“å®ƒè°ƒç”¨æ— çŠ¶æ€çš„ &lt;code&gt;ForYouScreen&lt;/code&gt; æ—¶ï¼Œä¼ å…¥çš„ &lt;code&gt;feedState&lt;/code&gt; å‚æ•°æ˜¯ä¸€ä¸ªå…¨æ–°çš„å€¼ã€‚(æœºåˆ¶ 2 è§¦å‘)&lt;/li&gt;
&lt;li&gt;æ— çŠ¶æ€çš„ &lt;code&gt;ForYouScreen&lt;/code&gt; æ£€æµ‹åˆ° &lt;code&gt;feedState&lt;/code&gt; å‚æ•°å˜åŒ–ï¼Œå› æ­¤å®ƒä¹Ÿå¿…é¡»é‡ç»„ï¼Œå¹¶æ ¹æ®æ–°çš„ &lt;code&gt;feedState&lt;/code&gt; æ›´æ–°å…¶å†…éƒ¨çš„ UIã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h5 id=&#34;è¡¥å……æ™ºèƒ½é‡ç»„smart-recomposition&#34;&gt;è¡¥å……ï¼šæ™ºèƒ½é‡ç»„(Smart Recomposition)
&lt;/h5&gt;&lt;p&gt;Composeèƒ½å¤Ÿè·³è¿‡(&lt;strong&gt;Skip&lt;/strong&gt;)é‚£äº›è¾“å…¥å‚æ•°æ²¡æœ‰å˜åŒ–çš„Composableå‡½æ•°çš„æ‰§è¡Œã€‚&lt;/p&gt;
&lt;p&gt;è¿™å¥—æœºåˆ¶ï¼Œæˆ‘ä»¬é€šå¸¸ç§°ä¹‹ä¸ºæ™ºèƒ½é‡ç»„(&lt;strong&gt;Smart Recomposition&lt;/strong&gt;)ã€‚å®ƒä¾èµ–ä¸¤ä¸ªåŸºæœ¬åŸåˆ™ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä½ç½®è®°å¿†ï¼šComposeä¸é å‡½æ•°åï¼Œè€Œæ˜¯é Composableåœ¨UIæ ‘ä¸­çš„â€œä½ç½®â€æ¥è¯†åˆ«å®ƒã€‚åœ¨é‡ç»„æ—¶ï¼Œå®ƒçŸ¥é“ä¸Šæ¬¡åœ¨åŒä¸€ä¸ªä½ç½®çš„æ˜¯å“ªä¸ªå‡½æ•°ã€‚&lt;/li&gt;
&lt;li&gt;è¾“å…¥å‚æ•°ç¨³å®šæ€§ï¼šåœ¨é‡ç»„æ—¶ï¼ŒComposeä¼šæ¯”è¾ƒä¸€ä¸ªComposableä¸Šä¸€æ¬¡è°ƒç”¨æ—¶çš„è¾“å…¥å‚æ•°å’Œè¿™ä¸€æ¬¡è°ƒç”¨çš„è¾“å…¥å‚æ•°ã€‚å¦‚æœæ‰€æœ‰å‚æ•°éƒ½æ²¡æœ‰å˜åŒ–ï¼ŒComposeå°±ä¼šå®Œå…¨è·³è¿‡è¿™ä¸ªå‡½æ•°çš„æ‰§è¡Œï¼Œç›´æ¥å¤ç”¨å®ƒä¸Šæ¬¡ç”Ÿæˆçš„UIã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;ä»€ä¹ˆæ˜¯â€œç¨³å®šçš„â€(Stable)å‚æ•°&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Composeçš„è¿™ä¸ªSkipæœºåˆ¶ä¾èµ–äºèƒ½å¤Ÿå¯é åœ°åˆ¤æ–­å‚æ•°æ˜¯å¦â€œç›¸ç­‰â€ã€‚å¯¹äºä»¥ä¸‹ç±»å‹çš„å‚æ•°ï¼ŒComposeè®¤ä¸ºå®ƒä»¬æ˜¯ç¨³å®šçš„ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åŸºæœ¬ç±»å‹ï¼š&lt;code&gt;Int&lt;/code&gt;,&lt;code&gt;Float&lt;/code&gt;,&lt;code&gt;Boolean&lt;/code&gt;,&lt;code&gt;String&lt;/code&gt;ç­‰ã€‚Composeå¯ä»¥è½»æ˜“åœ°é€šè¿‡&lt;code&gt;==&lt;/code&gt;æ¥åˆ¤æ–­å®ƒä»¬æ˜¯å¦ç›¸ç­‰ã€‚&lt;/li&gt;
&lt;li&gt;å‡½æ•°ç±»å‹ï¼šä¾‹å¦‚&lt;code&gt;()-&amp;gt; Unit&lt;/code&gt;ã€‚åªè¦ä»–ä»¬ä¸æ˜¯åœ¨æ¯æ¬¡é‡ç»„æ—¶éƒ½åˆ›å»ºä¸€ä¸ªæ–°çš„lambdaå®ä¾‹ï¼Œå®ƒä»¬å°±æ˜¯ç¨³å®šçš„&lt;/li&gt;
&lt;li&gt;è¢«&lt;code&gt;@Stable&lt;/code&gt;æˆ–&lt;code&gt;@Immutable&lt;/code&gt;æ³¨è§£çš„ç±»ï¼š&lt;code&gt;data class&lt;/code&gt;é»˜è®¤æ˜¯ç¨³å®šçš„ï¼Œå› ä¸ºå®ƒçš„&lt;code&gt;equals&lt;/code&gt;æ˜¯åŸºäºæ‰€æœ‰å±æ€§çš„ã€‚ä½ å¯ä»¥ä½¿ç”¨è¿™äº›æ³¨è§£å‘Šè¯‰Composeä½ çš„ç±»æ˜¯ç¨³å®šçš„ã€‚å³ä½¿å®ƒä¸æ˜¯&lt;code&gt;data class&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;Composeçš„å†…ç½®ç±»å‹ï¼šå¦‚&lt;code&gt;Modifier&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;Stable&lt;/code&gt;å‚æ•°æ„å‘³ç€Composeå¯ä»¥å®‰å…¨çš„é€šè¿‡æ¯”è¾ƒï¼ˆé€šå¸¸æ˜¯&lt;code&gt;equals&lt;/code&gt;ï¼‰æ¥ç¡®å®šå®ƒæ˜¯å¦å‘ç”Ÿäº†å˜åŒ–ï¼Œä»è€Œå†³å®šæ˜¯å¦Skipä½¿ç”¨å®ƒçš„Composableé‡ç»„ã€‚&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Compose Navigationå…¥é—¨</title>
        <link>http://localhost:1313/android-develop/compose-navigation%E5%85%A5%E9%97%A8/</link>
        <pubDate>Sat, 25 Oct 2025 16:01:56 +0800</pubDate>
        
        <guid>http://localhost:1313/android-develop/compose-navigation%E5%85%A5%E9%97%A8/</guid>
        <description>&lt;h4 id=&#34;1-æ ¸å¿ƒç»„ä»¶&#34;&gt;1. æ ¸å¿ƒç»„ä»¶
&lt;/h4&gt;&lt;p&gt;Compose Navigation ä¸»è¦æœ‰ä¸‰ä¸ªæ ¸å¿ƒæ¦‚å¿µï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;NavController&lt;/code&gt;ï¼šå¯¼èˆªæ§åˆ¶å™¨ã€‚å®ƒæ˜¯æ•´ä¸ªå¯¼èˆªçš„ä¸­æ¢ï¼Œè´Ÿè´£æ‰§è¡Œå¯¼èˆªæ“çºµ(&lt;code&gt;navigate&lt;/code&gt;)ã€ç®¡ç†è¿”å›æ ˆï¼ˆBack Stackï¼‰ç­‰ã€‚å®ƒé€šå¸¸åœ¨æœ€é«˜å±‚çº§åˆ›å»ºå¹¶å‘ä¸‹ä¼ é€’ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;NavGraph&lt;/code&gt;ï¼šå¯ä»¥ç†è§£ä¸ºä¸€å¼ â€œå¯¼èˆªåœ°å›¾â€ã€‚å®ƒå®šä¹‰äº†æ‰€æœ‰å¯ä»¥åˆ°è¾¾çš„ç›®æ ‡ï¼ˆå±å¹•ï¼‰ï¼Œä»¥åŠå®ƒä»¬ä¹‹é—´çš„å…³ç³»ã€‚åœ¨ä»£ç ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡ä¸€ä¸ª &lt;code&gt;NavHost&lt;/code&gt;Composableæ¥æ‰¿è½½è¿™å¼ åœ°å›¾ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Route&lt;/code&gt;ï¼šæ¯ä¸ªç›®æ ‡çš„å”¯ä¸€åœ°å€ã€‚åœ¨ä¼ ç»Ÿçš„ Navigation ä¸­ï¼Œè¿™é€šå¸¸æ˜¯ä¸€ä¸ª Int ç±»å‹çš„ IDã€‚ä½†åœ¨ Compose Navigation ä¸­ï¼Œå®ƒæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè€Œåœ¨ &amp;ldquo;Now in Android&amp;rdquo; è¿™ä¸ªé¡¹ç›®ä¸­ï¼Œå®ƒè¢«è¿›ä¸€æ­¥å°è£…æˆäº†ç±»å‹å®‰å…¨çš„å¯¹è±¡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;2-navigationçš„å¸¸è§„&#34;&gt;2. Navigationçš„å¸¸è§„
&lt;/h4&gt;&lt;h5 id=&#34;a-å®šä¹‰è·¯ç”±&#34;&gt;a. å®šä¹‰è·¯ç”±
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;@Serializable&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;data&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;object&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;ForYouRoute&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;// route to ForYou screen
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;b-å®šä¹‰å¯¼èˆªåŠ¨ä½œ&#34;&gt;b. å®šä¹‰å¯¼èˆªåŠ¨ä½œ
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;NavController&lt;/span&gt;.navigateToForYou(navOptions: NavOptions) = navigate(route = ForYouRoute, navOptions)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;c-å®šä¹‰å¯¼èˆªå›¾çš„ä¸€éƒ¨ä»½&#34;&gt;c. å®šä¹‰å¯¼èˆªå›¾çš„ä¸€éƒ¨ä»½
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;NavGraphBuilder&lt;/span&gt;.forYouSection(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    onTopicClick: (String) &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; Unit,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    topicDestination: &lt;span style=&#34;color:#a6e22e&#34;&gt;NavGraphBuilder&lt;/span&gt;.() &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; Unit,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    navigation&amp;lt;ForYouBaseRoute&amp;gt;(startDestination = ForYouRoute) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        composable&amp;lt;ForYouRoute&amp;gt;(&lt;span style=&#34;color:#f92672&#34;&gt;..&lt;/span&gt;.) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            ForYouScreen(onTopicClick)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        topicDestination()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™æ˜¯æ¨¡å—åŒ–å¯¼èˆªçš„ç²¾é«“æ‰€åœ¨ã€‚è¿™ä¸ªå‡½æ•°çš„ä½œç”¨æ˜¯â€œåœ¨æ€»çš„å¯¼èˆªåœ°å›¾ä¸Šï¼Œç”»å‡ºå±äº ForYou åŠŸèƒ½çš„æ‰€æœ‰è·¯çº¿â€ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;NavGraphBuilder.forYouSection&lt;/code&gt;: å®ƒæ˜¯ä¸€ä¸ªå¯¹ &lt;code&gt;NavGraphBuilder&lt;/code&gt; çš„æ‰©å±•å‡½æ•°ã€‚è¿™æ„å‘³ç€ï¼Œåœ¨æ„å»ºæ€»çš„ NavGraph æ—¶ï¼Œå¯ä»¥ç›´æ¥è°ƒç”¨è¿™ä¸ªå‡½æ•°æ¥æ·»åŠ ä¸€æ•´ä¸ªåŠŸèƒ½æ¨¡å—çš„å¯¼èˆªé…ç½®ã€‚ä¸» &lt;code&gt;NavGraph&lt;/code&gt; æ— éœ€å…³å¿ƒ &lt;code&gt;ForYou&lt;/code&gt; æ¨¡å—å†…éƒ¨æœ‰å¤šå°‘ä¸ªé¡µé¢ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;navigation&amp;lt;...&amp;gt;(...)&lt;/code&gt;: è¿™åˆ›å»ºäº†ä¸€ä¸ªåµŒå¥—çš„å¯¼èˆªå›¾ (&lt;strong&gt;Nested Graph&lt;/strong&gt;)ã€‚å®ƒå°†æ‰€æœ‰ä¸ &amp;ldquo;For You&amp;rdquo; ç›¸å…³çš„é¡µé¢ï¼ˆè¿™é‡Œåªæœ‰ä¸€ä¸ª &lt;code&gt;ForYouScreen&lt;/code&gt;ï¼Œä½†å°†æ¥å¯èƒ½æ›´å¤šï¼‰ç»„ç»‡åœ¨äº†ä¸€èµ·ï¼Œå½¢æˆä¸€ä¸ªç‹¬ç«‹çš„å­å›¾ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;composable&amp;lt;ForYouRoute&amp;gt;(...) { ForYouScreen(...) }&lt;/code&gt;: è¿™æ˜¯æœ€æ ¸å¿ƒçš„ç»‘å®šã€‚å®ƒå‘Šè¯‰ &lt;code&gt;NavController&lt;/code&gt;ï¼šâ€œå½“å¯¼èˆªåˆ° &lt;code&gt;ForYouRoute&lt;/code&gt; è¿™ä¸ªåœ°å€æ—¶ï¼Œè¯·æ˜¾ç¤º &lt;code&gt;ForYouScreen&lt;/code&gt; è¿™ä¸ª &lt;code&gt;Composable&lt;/code&gt; ç•Œé¢ã€‚â€&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;ç»“æ„&#34;&gt;ç»“æ„
&lt;/h5&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;NavHost (æ•´ä¸ª App çš„å¯¼èˆªåœ°å›¾)
â”‚
â”œâ”€â”€ ... (å…¶ä»–æ¨¡å—çš„å¯¼èˆªå›¾)
â”‚
â””â”€â”€ navigation&amp;lt;ForYouBaseRoute&amp;gt; (å­å›¾çš„å…¥å£ï¼ŒID æ˜¯ ForYouBaseRoute)
    â”‚
    â”œâ”€â”€ startDestination = ForYouRoute (å­å›¾çš„é»˜è®¤é¡µé¢)
    â”‚   â”‚
    â”‚   â””â”€â”€ composable&amp;lt;ForYouRoute&amp;gt; -&amp;gt; ForYouScreen (è¿™å°±æ˜¯é»˜è®¤é¡µé¢)
    â”‚
    â””â”€â”€ topicDestination() (å¦ä¸€ä¸ªé¡µé¢/å­å›¾ï¼Œè¢«å¤–éƒ¨æ³¨å…¥è¿›æ¥)
        â”‚
        â””â”€â”€ ...
&lt;/code&gt;&lt;/pre&gt;</description>
        </item>
        <item>
        <title>Gradleæ„å»ºç»„ç»‡æ–¹å¼Convention Plugins</title>
        <link>http://localhost:1313/android-develop/gradle%E6%9E%84%E5%BB%BA%E7%BB%84%E7%BB%87%E6%96%B9%E5%BC%8Fconvention-plugins/</link>
        <pubDate>Fri, 24 Oct 2025 03:52:15 +0800</pubDate>
        
        <guid>http://localhost:1313/android-develop/gradle%E6%9E%84%E5%BB%BA%E7%BB%84%E7%BB%87%E6%96%B9%E5%BC%8Fconvention-plugins/</guid>
        <description>&lt;h4 id=&#34;æ ¸å¿ƒæ€æƒ³&#34;&gt;æ ¸å¿ƒæ€æƒ³
&lt;/h4&gt;&lt;p&gt;Convention Pluginsæ˜¯ä¸€ç§é€šè¿‡é¢„é…ç½®çš„Gradleæ’ä»¶æ¥&lt;strong&gt;æ ‡å‡†åŒ–å’Œå¤ç”¨æ„å»ºé€»è¾‘&lt;/strong&gt;çš„æ–¹æ³•ï¼Œæ ¸å¿ƒç†å¿µæ˜¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;çº¦å®šä¼˜äºé…ç½® ï¼ˆConvention over Configurationï¼‰&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;DRY&lt;/strong&gt;åŸåˆ™ï¼ˆDon&amp;rsquo;t Repeat Yourselfï¼‰&lt;/li&gt;
&lt;li&gt;æ„å»ºé€»è¾‘é›†ä¸­ç®¡ç†&lt;/li&gt;
&lt;li&gt;ç±»å‹å®‰å…¨çš„é…ç½®&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;å…¸å‹é¡¹ç›®ç»“æ„&#34;&gt;å…¸å‹é¡¹ç›®ç»“æ„
&lt;/h4&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;project/
â”œâ”€â”€ build-logic/                    # æ„å»ºé€»è¾‘æ¨¡å—
â”‚   â”œâ”€â”€ settings.gradle.kts
â”‚   â””â”€â”€ convention/                 # çº¦å®šæ’ä»¶æ¨¡å—
â”‚       â”œâ”€â”€ build.gradle.kts
â”‚       â””â”€â”€ src/main/kotlin/
â”‚           â”œâ”€â”€ AndroidApplicationConventionPlugin.kt
â”‚           â”œâ”€â”€ AndroidLibraryConventionPlugin.kt
â”‚           â”œâ”€â”€ AndroidFeatureConventionPlugin.kt
â”‚           â””â”€â”€ KotlinLibraryConventionPlugin.kt
â”œâ”€â”€ settings.gradle.kts
â”œâ”€â”€ app/
â”œâ”€â”€ feature/
â”‚   â”œâ”€â”€ feature-foryou/
â”‚   â””â”€â”€ feature-bookmarks/
â””â”€â”€ core/
    â”œâ”€â”€ core-ui/
    â””â”€â”€ core-data/
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;è§£å†³çš„é—®é¢˜&#34;&gt;è§£å†³çš„é—®é¢˜
&lt;/h4&gt;&lt;p&gt;å¦‚æœä¸ä½¿ç”¨Convention Pluginsä¼šæ€ä¹ˆæ ·ï¼Œé¡¹ç›®ä¸­æœ‰10ä¸ª&lt;code&gt;feature&lt;/code&gt;æ¨¡å—ï¼ˆæ¯”å¦‚&lt;code&gt;:feature:foryou&lt;/code&gt;,&lt;code&gt;:feature:bookmarks&lt;/code&gt;,&lt;code&gt;feature:settings&lt;/code&gt;ç­‰ï¼‰ã€‚åœ¨ä¼ ç»Ÿçš„åšæ³•ä¸­ï¼Œæ¯ä¸ªæ¨¡å—çš„&lt;code&gt;build.gradle.kts&lt;/code&gt;æ–‡ä»¶éƒ½ä¼šåŒ…å«å¤§é‡ç›¸ä¼¼çš„é…ç½®ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// åœ¨ :feature:foryou/build.gradle.kts æ–‡ä»¶ä¸­
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;plugins {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    id(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;com.android.library&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    id(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;kotlin-android&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    id(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;dagger.hilt.android.plugin&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// ...å¯èƒ½è¿˜æœ‰å…¶ä»–æ’ä»¶
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;android {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// ...å¤§é‡é€šç”¨çš„å®‰å“é…ç½®
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;dependencies {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    implementation(project(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;:core:designsystem&amp;#34;&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    implementation(project(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;:core:ui&amp;#34;&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    implementation(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;androidx.lifecycle:lifecycle-viewmodel-compose:...&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// ...å¯èƒ½è¿˜æœ‰10ä¸ªä»¥ä¸Šæ‰€æœ‰featureæ¨¡å—éƒ½éœ€è¦çš„é€šç”¨ä¾èµ–
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç°åœ¨ï¼Œå¦‚æœä½ éœ€è¦ä¸ºæ‰€æœ‰&lt;code&gt;feature&lt;/code&gt;æ¨¡å—æ·»åŠ ä¸€ä¸ªæ–°çš„é€šç”¨ä¾èµ–åº“ï¼Œæˆ–è€…ä¿®æ”¹ä¸€ä¸ªé€šç”¨çš„ç¼–è¯‘é€‰é¡¹ï¼Œä½ å°±å¿…é¡»æ‰‹åŠ¨å»ä¿®æ”¹10ä¸ªä¸åŒçš„&lt;code&gt;build.gradle.kts&lt;/code&gt;æ–‡ä»¶ã€‚è¿™ä¸ä»…ç¹çï¼Œè€Œä¸”ææ˜“å‡ºé”™ï¼Œéå¸¸éš¾ä»¥ç»´æŠ¤ã€‚&lt;/p&gt;
&lt;h4 id=&#34;å®ç°æ–¹å¼&#34;&gt;å®ç°æ–¹å¼
&lt;/h4&gt;&lt;h5 id=&#34;1-è®¾ç½®build-logicæ¨¡å—&#34;&gt;1. è®¾ç½®build-logicæ¨¡å—
&lt;/h5&gt;&lt;p&gt;&lt;strong&gt;build-logic/settings.gradle.kts&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;pluginManagement {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    repositories {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        gradlePluginPortal()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        google()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;dependencyResolutionManagement {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    repositories {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        google {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            content {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                includeGroupByRegex(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;com&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;\\&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;.android.*&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                includeGroupByRegex(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;com&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;\\&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;.google.*&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                includeGroupByRegex(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;androidx.*&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        mavenCentral()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    versionCatalogs {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        create(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;libs&amp;#34;&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            from(files(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;../gradle/libs.versions.toml&amp;#34;&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;rootProject.name = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;build-logic&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;include(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;:convention&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;build-logic/convention/build.gradle.kts&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;plugins {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;`&lt;/span&gt;kotlin-dsl&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;`&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;dependencies {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    compileOnly(libs.android.gradlePlugin)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    compileOnly(libs.kotlin.gradlePlugin)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    compileOnly(libs.ksp.gradlePlugin)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;gradlePlugin {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    plugins {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        register(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;androidApplicationCompose&amp;#34;&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            id = libs.plugins.nowinandroid.android.application.compose.&lt;span style=&#34;color:#66d9ef&#34;&gt;get&lt;/span&gt;().pluginId
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            implementationClass = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;AndroidApplicationComposeConventionPlugin&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        register(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;androidApplication&amp;#34;&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            id = libs.plugins.nowinandroid.android.application.asProvider().&lt;span style=&#34;color:#66d9ef&#34;&gt;get&lt;/span&gt;().pluginId
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            implementationClass = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;AndroidApplicationConventionPlugin&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        register(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;androidLibraryCompose&amp;#34;&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            id = libs.plugins.nowinandroid.android.library.compose.&lt;span style=&#34;color:#66d9ef&#34;&gt;get&lt;/span&gt;().pluginId
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            implementationClass = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;AndroidLibraryComposeConventionPlugin&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        register(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;androidLibrary&amp;#34;&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            id = libs.plugins.nowinandroid.android.library.asProvider().&lt;span style=&#34;color:#66d9ef&#34;&gt;get&lt;/span&gt;().pluginId
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            implementationClass = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;AndroidLibraryConventionPlugin&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        register(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;androidFeature&amp;#34;&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            id = libs.plugins.nowinandroid.android.feature.&lt;span style=&#34;color:#66d9ef&#34;&gt;get&lt;/span&gt;().pluginId
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            implementationClass = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;AndroidFeatureConventionPlugin&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;2-åˆ›å»ºçº¦å®šæ’ä»¶&#34;&gt;2. åˆ›å»ºçº¦å®šæ’ä»¶
&lt;/h5&gt;&lt;p&gt;&lt;strong&gt;AndroidApplicationConventionPlugin.kt&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;AndroidApplicationConventionPlugin&lt;/span&gt; : Plugin&amp;lt;Project&amp;gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;override&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;apply&lt;/span&gt;(target: Project) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        with(target) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            apply(plugin = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;com.android.application&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            apply(plugin = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;org.jetbrains.kotlin.android&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            apply(plugin = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;nowinandroid.android.lint&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            apply(plugin = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;com.dropbox.dependency-guard&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            extensions.configure&amp;lt;ApplicationExtension&amp;gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                configureKotlinAndroid(&lt;span style=&#34;color:#66d9ef&#34;&gt;this&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                defaultConfig.targetSdk = &lt;span style=&#34;color:#ae81ff&#34;&gt;35&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#a6e22e&#34;&gt;@Suppress&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;UnstableApiUsage&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                testOptions.animationsDisabled = &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                configureGradleManagedDevices(&lt;span style=&#34;color:#66d9ef&#34;&gt;this&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            extensions.configure&amp;lt;ApplicationAndroidComponentsExtension&amp;gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                configurePrintApksTask(&lt;span style=&#34;color:#66d9ef&#34;&gt;this&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                configureBadgingTasks(extensions.getByType&amp;lt;ApplicationExtension&amp;gt;(), &lt;span style=&#34;color:#66d9ef&#34;&gt;this&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;AndroidApplicationComposeConventionPlugin.kt&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;AndroidApplicationComposeConventionPlugin&lt;/span&gt; : Plugin&amp;lt;Project&amp;gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;override&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;apply&lt;/span&gt;(target: Project) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        with(target) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            apply(plugin = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;com.android.application&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            apply(plugin = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;org.jetbrains.kotlin.plugin.compose&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; extension = extensions.getByType&amp;lt;ApplicationExtension&amp;gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            configureAndroidCompose(extension)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;AndroidLibraryComposeConventionPlugin.kt&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;AndroidLibraryComposeConventionPlugin&lt;/span&gt; : Plugin&amp;lt;Project&amp;gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;override&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;apply&lt;/span&gt;(target: Project) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        with(target) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            apply(plugin = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;com.android.library&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            apply(plugin = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;org.jetbrains.kotlin.plugin.compose&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; extension = extensions.getByType&amp;lt;LibraryExtension&amp;gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            configureAndroidCompose(extension)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;AndroidLibraryConventionPlugin.kt&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;AndroidLibraryConventionPlugin&lt;/span&gt; : Plugin&amp;lt;Project&amp;gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;override&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;apply&lt;/span&gt;(target: Project) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        with(target) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            apply(plugin = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;com.android.library&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            apply(plugin = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;org.jetbrains.kotlin.android&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            apply(plugin = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;nowinandroid.android.lint&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            extensions.configure&amp;lt;LibraryExtension&amp;gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                configureKotlinAndroid(&lt;span style=&#34;color:#66d9ef&#34;&gt;this&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                testOptions.targetSdk = &lt;span style=&#34;color:#ae81ff&#34;&gt;35&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                lint.targetSdk = &lt;span style=&#34;color:#ae81ff&#34;&gt;35&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                defaultConfig.testInstrumentationRunner = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;androidx.test.runner.AndroidJUnitRunner&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                testOptions.animationsDisabled = &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                configureFlavors(&lt;span style=&#34;color:#66d9ef&#34;&gt;this&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                configureGradleManagedDevices(&lt;span style=&#34;color:#66d9ef&#34;&gt;this&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#75715e&#34;&gt;// The resource prefix is derived from the module name,
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;                &lt;span style=&#34;color:#75715e&#34;&gt;// so resources inside &amp;#34;:core:module1&amp;#34; must be prefixed with &amp;#34;core_module1_&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;                resourcePrefix =
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    path.split(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&amp;#34;\W&amp;#34;&amp;#34;&amp;#34;&lt;/span&gt;.toRegex()).drop(&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;).distinct().joinToString(separator = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;_&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                        .lowercase() + &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;_&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            extensions.configure&amp;lt;LibraryAndroidComponentsExtension&amp;gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                configurePrintApksTask(&lt;span style=&#34;color:#66d9ef&#34;&gt;this&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                disableUnnecessaryAndroidTests(target)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            dependencies {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;androidTestImplementation&amp;#34;&lt;/span&gt;(libs.findLibrary(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;kotlin.test&amp;#34;&lt;/span&gt;).&lt;span style=&#34;color:#66d9ef&#34;&gt;get&lt;/span&gt;())
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;testImplementation&amp;#34;&lt;/span&gt;(libs.findLibrary(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;kotlin.test&amp;#34;&lt;/span&gt;).&lt;span style=&#34;color:#66d9ef&#34;&gt;get&lt;/span&gt;())
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;implementation&amp;#34;&lt;/span&gt;(libs.findLibrary(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;androidx.tracing.ktx&amp;#34;&lt;/span&gt;).&lt;span style=&#34;color:#66d9ef&#34;&gt;get&lt;/span&gt;())
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;AndroidFeatureConvention.kt&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;AndroidFeatureConventionPlugin&lt;/span&gt; : Plugin&amp;lt;Project&amp;gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;override&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;apply&lt;/span&gt;(target: Project) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        with(target) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            apply(plugin = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;nowinandroid.android.library&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            apply(plugin = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;nowinandroid.hilt&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            apply(plugin = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;org.jetbrains.kotlin.plugin.serialization&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            extensions.configure&amp;lt;LibraryExtension&amp;gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                testOptions.animationsDisabled = &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                configureGradleManagedDevices(&lt;span style=&#34;color:#66d9ef&#34;&gt;this&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            dependencies {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;implementation&amp;#34;&lt;/span&gt;(project(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;:core:ui&amp;#34;&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;implementation&amp;#34;&lt;/span&gt;(project(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;:core:designsystem&amp;#34;&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;implementation&amp;#34;&lt;/span&gt;(libs.findLibrary(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;androidx.hilt.navigation.compose&amp;#34;&lt;/span&gt;).&lt;span style=&#34;color:#66d9ef&#34;&gt;get&lt;/span&gt;())
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;implementation&amp;#34;&lt;/span&gt;(libs.findLibrary(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;androidx.lifecycle.runtimeCompose&amp;#34;&lt;/span&gt;).&lt;span style=&#34;color:#66d9ef&#34;&gt;get&lt;/span&gt;())
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;implementation&amp;#34;&lt;/span&gt;(libs.findLibrary(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;androidx.lifecycle.viewModelCompose&amp;#34;&lt;/span&gt;).&lt;span style=&#34;color:#66d9ef&#34;&gt;get&lt;/span&gt;())
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;implementation&amp;#34;&lt;/span&gt;(libs.findLibrary(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;androidx.navigation.compose&amp;#34;&lt;/span&gt;).&lt;span style=&#34;color:#66d9ef&#34;&gt;get&lt;/span&gt;())
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;implementation&amp;#34;&lt;/span&gt;(libs.findLibrary(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;androidx.tracing.ktx&amp;#34;&lt;/span&gt;).&lt;span style=&#34;color:#66d9ef&#34;&gt;get&lt;/span&gt;())
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;implementation&amp;#34;&lt;/span&gt;(libs.findLibrary(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;kotlinx.serialization.json&amp;#34;&lt;/span&gt;).&lt;span style=&#34;color:#66d9ef&#34;&gt;get&lt;/span&gt;())
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;testImplementation&amp;#34;&lt;/span&gt;(libs.findLibrary(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;androidx.navigation.testing&amp;#34;&lt;/span&gt;).&lt;span style=&#34;color:#66d9ef&#34;&gt;get&lt;/span&gt;())
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;androidTestImplementation&amp;#34;&lt;/span&gt;(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    libs.findLibrary(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;androidx.lifecycle.runtimeTesting&amp;#34;&lt;/span&gt;).&lt;span style=&#34;color:#66d9ef&#34;&gt;get&lt;/span&gt;(),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;3-æ ¸å¿ƒæ–¹æ³•apply&#34;&gt;3. æ ¸å¿ƒæ–¹æ³•ï¼š&lt;code&gt;apply&lt;/code&gt;
&lt;/h5&gt;&lt;p&gt;å½“ä½ å°†è¿™ä¸ªæ’ä»¶å¼•ç”¨åˆ°ä¸€ä¸ªæ¨¡å—æ—¶ï¼ˆä¾‹å¦‚ï¼Œåœ¨&lt;code&gt;:feature:foryou&lt;/code&gt;ä¸­åº”ç”¨å®ƒï¼‰ï¼ŒGradleå°±ä¼šæ‰§è¡Œè¿™ä¸ªæ’ä»¶ç±»ä¸­çš„&lt;code&gt;apply&lt;/code&gt;æ–¹æ³•ã€‚é€è¡Œåˆ†æè¿™ä¸ªæ–¹æ³•åšäº†ä»€ä¹ˆï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// åœ¨ AndroidFeatureConventionPlugin.kt ä¸­
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;AndroidFeatureConventionPlugin&lt;/span&gt; : Plugin&amp;lt;Project&amp;gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;override&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;apply&lt;/span&gt;(target: Project) { &lt;span style=&#34;color:#75715e&#34;&gt;// &amp;#39;target&amp;#39; å°±æ˜¯åº”ç”¨è¿™ä¸ªæ’ä»¶çš„æ¨¡å—, æ¯”å¦‚ :feature:foryou
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        with(target) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// --- åŠ¨ä½œä¸€ï¼šåº”ç”¨å…¶ä»–æ›´åŸºç¡€çš„çº¦å®šæ’ä»¶ ---
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// è¿™è¡Œä»£ç åœ¨è¯´ï¼šâ€œä¸€ä¸ª `feature` æ¨¡å—ï¼Œé¦–å…ˆå®ƒæ˜¯ä¸€ä¸ª `library` æ¨¡å—ï¼Œ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// å¹¶ä¸”å®ƒä¹Ÿéœ€è¦ Hilt ä¾èµ–æ³¨å…¥å’Œåºåˆ—åŒ–åŠŸèƒ½ã€‚â€
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// è¿™ä½“ç°äº†æ’ä»¶çš„ç»„åˆèƒ½åŠ›ã€‚
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            apply(plugin = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;nowinandroid.android.library&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            apply(plugin = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;nowinandroid.hilt&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            apply(plugin = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;org.jetbrains.kotlin.plugin.serialization&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// --- åŠ¨ä½œäºŒï¼šé…ç½®é€šç”¨çš„ Android å±æ€§ ---
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// è¿™é‡Œç»Ÿä¸€ä¸ºæ‰€æœ‰ feature æ¨¡å—é…ç½® &amp;#39;android&amp;#39; ä»£ç å—ã€‚
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// æ¯”å¦‚ï¼Œç»Ÿä¸€å…³é—­æµ‹è¯•ä¸­çš„åŠ¨ç”»ï¼Œç»Ÿä¸€é…ç½®æµ‹è¯•è®¾å¤‡ã€‚
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            extensions.configure&amp;lt;LibraryExtension&amp;gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                testOptions.animationsDisabled = &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                configureGradleManagedDevices(&lt;span style=&#34;color:#66d9ef&#34;&gt;this&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// --- åŠ¨ä½œä¸‰ï¼šæ·»åŠ æ‰€æœ‰ feature æ¨¡å—éƒ½éœ€è¦çš„é€šç”¨ä¾èµ– ---
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// è¿™æ˜¯æœ€å¼ºå¤§çš„éƒ¨åˆ†ã€‚å®ƒå£°æ˜äº†â€œæ¯ä¸€ä¸ªâ€ feature æ¨¡å—éƒ½ä¼šè‡ªåŠ¨è·å¾—è¿™äº›ä¾èµ–ã€‚
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// æ— éœ€åœ¨å„è‡ªçš„ build.gradle.kts ä¸­é‡å¤æ·»åŠ ã€‚
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            dependencies {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;implementation&amp;#34;&lt;/span&gt;(project(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;:core:ui&amp;#34;&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;implementation&amp;#34;&lt;/span&gt;(project(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;:core:designsystem&amp;#34;&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;implementation&amp;#34;&lt;/span&gt;(libs.findLibrary(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;androidx.hilt.navigation.compose&amp;#34;&lt;/span&gt;).&lt;span style=&#34;color:#66d9ef&#34;&gt;get&lt;/span&gt;())
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;implementation&amp;#34;&lt;/span&gt;(libs.findLibrary(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;androidx.lifecycle.viewModelCompose&amp;#34;&lt;/span&gt;).&lt;span style=&#34;color:#66d9ef&#34;&gt;get&lt;/span&gt;())
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#75715e&#34;&gt;// ... ä»¥åŠå…¶ä»–æ‰€æœ‰é€šç”¨ä¾èµ–
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;4-å…±äº«é…ç½®å‡½æ•°&#34;&gt;4. å…±äº«é…ç½®å‡½æ•°
&lt;/h5&gt;&lt;p&gt;&lt;strong&gt;KotlinAndroid.kt&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;import&lt;/span&gt; com.android.build.api.dsl.CommonExtension
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;import&lt;/span&gt; org.gradle.api.JavaVersion
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;import&lt;/span&gt; org.gradle.api.Project
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;import&lt;/span&gt; org.gradle.kotlin.dsl.dependencies
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;import&lt;/span&gt; org.gradle.kotlin.dsl.withType
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;import&lt;/span&gt; org.jetbrains.kotlin.gradle.tasks.KotlinCompile
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;internal&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Project&lt;/span&gt;.configureKotlinAndroid(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    commonExtension: CommonExtension&amp;lt;*, *, *, *, *, *&amp;gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    commonExtension.apply {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        compileSdk = &lt;span style=&#34;color:#ae81ff&#34;&gt;34&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        defaultConfig {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            minSdk = &lt;span style=&#34;color:#ae81ff&#34;&gt;24&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        compileOptions {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            sourceCompatibility = &lt;span style=&#34;color:#a6e22e&#34;&gt;JavaVersion&lt;/span&gt;.VERSION_17
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            targetCompatibility = &lt;span style=&#34;color:#a6e22e&#34;&gt;JavaVersion&lt;/span&gt;.VERSION_17
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    configureKotlin()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Project&lt;/span&gt;.configureKotlin() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    tasks.withType&amp;lt;KotlinCompile&amp;gt;().configureEach {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        kotlinOptions {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            jvmTarget = &lt;span style=&#34;color:#a6e22e&#34;&gt;JavaVersion&lt;/span&gt;.VERSION_17.toString()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            freeCompilerArgs = freeCompilerArgs + listOf(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;-opt-in=kotlin.RequiresOptIn&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;-opt-in=kotlinx.coroutines.ExperimentalCoroutinesApi&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;5-åœ¨æ ¹é¡¹ç›®ä¸­å¼•å…¥&#34;&gt;5. åœ¨æ ¹é¡¹ç›®ä¸­å¼•å…¥
&lt;/h5&gt;&lt;p&gt;&lt;strong&gt;settings.gradle.kts&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;pluginManagement {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    includeBuild(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;build-logic&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    repositories {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        google()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        mavenCentral()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        gradlePluginPortal()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;6-åœ¨æ¨¡å—ä¸­å¼•å…¥&#34;&gt;6. åœ¨æ¨¡å—ä¸­å¼•å…¥
&lt;/h5&gt;&lt;p&gt;&lt;strong&gt;app/build.gradle.kts&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;plugins {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    id(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;myapp.android.application&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    id(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;myapp.android.application.compose&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;android {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    namespace = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;com.example.myapp&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// åªéœ€é…ç½®ç‰¹å®šäºæ­¤æ¨¡å—çš„å†…å®¹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    defaultConfig {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        applicationId = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;com.example.myapp&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;dependencies {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    implementation(project(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;:feature:home&amp;#34;&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    implementation(project(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;:feature:profile&amp;#34;&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;feature/feature-home/build.gradle.kts&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;plugins {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    id(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;myapp.android.feature&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;android {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    namespace = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;com.example.myapp.feature.home&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;dependencies {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// Feature ç‰¹å®šçš„ä¾èµ–
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;convention-pluginçš„ä¼˜åŠ¿&#34;&gt;Convention Pluginçš„ä¼˜åŠ¿
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;DRY (Don&amp;rsquo;t Repeat Yourself)&lt;/strong&gt; åŸåˆ™ï¼šæ¶ˆé™¤äº†åœ¨å‡ åä¸ªæ–‡ä»¶ä¸­å¤åˆ¶ç²˜è´´çš„æ„å»ºé€»è¾‘ã€‚&lt;/li&gt;
&lt;li&gt;å•ä¸€äº‹å®æ¥æº (&lt;strong&gt;Single Source of Truth&lt;/strong&gt;)ï¼šå¦‚æœéœ€è¦æ›´æ–°ä¸€ä¸ªæ‰€æœ‰&lt;code&gt; feature&lt;/code&gt; æ¨¡å—éƒ½åœ¨ç”¨çš„åº“ç‰ˆæœ¬ï¼ˆæ¯”å¦‚ Lifecycleï¼‰ï¼Œä½ åªéœ€è¦åœ¨ &lt;code&gt;AndroidFeatureConventionPlugin.kt&lt;/code&gt; è¿™ä¸€ä¸ªæ–‡ä»¶é‡Œä¿®æ”¹å³å¯ã€‚&lt;/li&gt;
&lt;li&gt;ç®€æ´ä¸æ¸…æ™°ï¼šæ¯ä¸ªæ¨¡å—çš„æ„å»ºè„šæœ¬å˜å¾—éå¸¸çŸ­ï¼ŒåªåŒ…å«å¯¹è¯¥æ¨¡å—ç‹¬ä¸€æ— äºŒçš„é…ç½®ï¼Œå¯è¯»æ€§å¤§å¤§æé«˜ã€‚&lt;/li&gt;
&lt;li&gt;ç±»å‹å®‰å…¨ä¸ IDE æ”¯æŒï¼šå› ä¸ºè¿™äº›æ’ä»¶æ˜¯ç”¨ Kotlin ç¼–å†™çš„ï¼Œä½ å¯ä»¥äº«å—åˆ° IDE çš„è‡ªåŠ¨è¡¥å…¨ã€ç¼–è¯‘æ—¶ç±»å‹æ£€æŸ¥å’Œæ–¹ä¾¿çš„å¯¼èˆªè·³è½¬ï¼Œè¿™æ¯”ä¼ ç»Ÿçš„ Groovy è„šæœ¬è¦å¼ºå¤§å¾—å¤šã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è¿™äº›éƒ½æ˜¯&lt;code&gt;now-in-android&lt;/code&gt;æ‰€åº”ç”¨çš„ï¼Œæ›´è¯¦ç»†çš„å¯ä»¥é€šè¿‡æ­¤é¡¹ç›®å­¦ä¹ &lt;/p&gt;
</description>
        </item>
        <item>
        <title>Androidå››å¤§ç»„ä»¶</title>
        <link>http://localhost:1313/android-develop/android%E5%9B%9B%E5%A4%A7%E7%BB%84%E4%BB%B6/</link>
        <pubDate>Tue, 21 Oct 2025 00:05:46 +0800</pubDate>
        
        <guid>http://localhost:1313/android-develop/android%E5%9B%9B%E5%A4%A7%E7%BB%84%E4%BB%B6/</guid>
        <description>&lt;h4 id=&#34;activity&#34;&gt;Activity
&lt;/h4&gt;&lt;h5 id=&#34;ç”Ÿå‘½å‘¨æœŸ&#34;&gt;ç”Ÿå‘½å‘¨æœŸ
&lt;/h5&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Activity    â”‚
â”‚  Created     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†“
   onCreate()  â† åˆ›å»ºï¼Œåˆå§‹åŒ–å˜é‡ã€åŠ è½½å¸ƒå±€
       â†“
   onStart()   â† å¯è§ä½†ä¸å¯äº¤äº’
       â†“
   onResume()  â† å¯è§ä¸”å¯äº¤äº’ï¼ˆå‰å°ï¼‰
       â†“
   [è¿è¡Œä¸­]
       â†“
   onPause()   â† éƒ¨åˆ†å¯è§ï¼ˆè¢«é®æŒ¡ï¼Œå¦‚å¯¹è¯æ¡†ï¼‰
       â†“
   onStop()    â† å®Œå…¨ä¸å¯è§ï¼ˆåˆ‡åˆ°åå°ï¼‰
       â†“
   onDestroy() â† é”€æ¯ï¼Œé‡Šæ”¾èµ„æº
       â†“
   [ç»“æŸ]
&lt;/code&gt;&lt;/pre&gt;&lt;hr&gt;
&lt;h5 id=&#34;çŠ¶æ€ä¿å­˜ä¸æ¢å¤&#34;&gt;çŠ¶æ€ä¿å­˜ä¸æ¢å¤
&lt;/h5&gt;&lt;h6 id=&#34;ä¸ºä»€ä¹ˆéœ€è¦ä¿å­˜çŠ¶æ€&#34;&gt;ä¸ºä»€ä¹ˆéœ€è¦ä¿å­˜çŠ¶æ€ï¼Ÿ
&lt;/h6&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;ç”¨æˆ·æ­£åœ¨å¡«å†™è¡¨å•
  â†“
çªç„¶æ¥ç”µè¯ â†’ Activity è¢«é”€æ¯
  â†“
ç”µè¯ç»“æŸè¿”å› â†’ Activity é‡æ–°åˆ›å»º
  â†“
è¡¨å•å†…å®¹ä¸¢å¤±äº†ï¼âŒ
&lt;/code&gt;&lt;/pre&gt;&lt;h5 id=&#34;ä¿å­˜çŠ¶æ€&#34;&gt;ä¿å­˜çŠ¶æ€
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;FormActivity&lt;/span&gt; : AppCompatActivity() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;var&lt;/span&gt; userName: String = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;var&lt;/span&gt; age: Int = &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// ä¿å­˜çŠ¶æ€ï¼ˆç³»ç»Ÿæ€æ­» Activity å‰è°ƒç”¨ï¼‰
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;override&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;onSaveInstanceState&lt;/span&gt;(outState: Bundle) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;super&lt;/span&gt;.onSaveInstanceState(outState)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        outState.putString(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;userName&amp;#34;&lt;/span&gt;, userName)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        outState.putInt(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;age&amp;#34;&lt;/span&gt;, age)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;Log&lt;/span&gt;.d(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;State&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;çŠ¶æ€å·²ä¿å­˜&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// æ¢å¤çŠ¶æ€
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;override&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;onCreate&lt;/span&gt;(savedInstanceState: Bundle?) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;super&lt;/span&gt;.onCreate(savedInstanceState)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        setContentView(&lt;span style=&#34;color:#a6e22e&#34;&gt;R&lt;/span&gt;.layout.activity_form)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// æ–¹å¼ 1: åœ¨ onCreate ä¸­æ¢å¤
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (savedInstanceState &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            userName = savedInstanceState.getString(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;userName&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            age = savedInstanceState.getInt(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;age&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;Log&lt;/span&gt;.d(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;State&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;çŠ¶æ€å·²æ¢å¤: &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;$userName&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;, &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;$age&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// æ–¹å¼ 2: åœ¨ onRestoreInstanceState ä¸­æ¢å¤
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;override&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;onRestoreInstanceState&lt;/span&gt;(savedInstanceState: Bundle) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;super&lt;/span&gt;.onRestoreInstanceState(savedInstanceState)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        userName = savedInstanceState.getString(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;userName&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        age = savedInstanceState.getInt(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;age&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h5 id=&#34;å¯åŠ¨æ¨¡å¼&#34;&gt;å¯åŠ¨æ¨¡å¼
&lt;/h5&gt;&lt;h6 id=&#34;4ç§å¯åŠ¨æ¨¡å¼&#34;&gt;4ç§å¯åŠ¨æ¨¡å¼
&lt;/h6&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;lt;!&lt;span style=&#34;color:#f92672&#34;&gt;--&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;AndroidManifest&lt;/span&gt;.xml &lt;span style=&#34;color:#f92672&#34;&gt;--&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;lt;activity
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    android:name=&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;.MainActivity&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    android:launchMode=&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;standard&amp;#34;&lt;/span&gt; /&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h6 id=&#34;1-standard&#34;&gt;1. standard
&lt;/h6&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;æ¯æ¬¡å¯åŠ¨éƒ½åˆ›å»ºæ–°å®ä¾‹

MainActivity â†’ MainActivity â†’ MainActivity
    â†‘              â†‘              â†‘
  å®ä¾‹ 1        å®ä¾‹ 2         å®ä¾‹ 3

è¿”å›æ ˆ: [å®ä¾‹3, å®ä¾‹2, å®ä¾‹1]
&lt;/code&gt;&lt;/pre&gt;&lt;h6 id=&#34;2-singletop&#34;&gt;2. singleTop
&lt;/h6&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;å¦‚æœåœ¨æ ˆé¡¶ï¼Œå¤ç”¨ï¼›å¦åˆ™åˆ›å»ºæ–°å®ä¾‹

åœºæ™¯ 1: MainActivity åœ¨æ ˆé¡¶
MainActivity (æ ˆé¡¶) â†’ å¯åŠ¨ MainActivity
    â†“
è°ƒç”¨ onNewIntent() å¤ç”¨ï¼Œä¸åˆ›å»ºæ–°å®ä¾‹

åœºæ™¯ 2: MainActivity ä¸åœ¨æ ˆé¡¶
MainActivity â†’ DetailActivity â†’ å¯åŠ¨ MainActivity
    â†“
åˆ›å»ºæ–°å®ä¾‹: [MainActivity(æ–°), DetailActivity, MainActivity(æ—§)]
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ç”¨é€”ï¼šé€šçŸ¥æ ç‚¹å‡»ã€æœç´¢ç»“æœé¡µ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;SearchActivity&lt;/span&gt; : AppCompatActivity() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;override&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;onCreate&lt;/span&gt;(savedInstanceState: Bundle?) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;super&lt;/span&gt;.onCreate(savedInstanceState)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        handleIntent(intent)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// singleTop æ¨¡å¼ä¸‹ï¼Œå†æ¬¡å¯åŠ¨æ—¶è°ƒç”¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;override&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;onNewIntent&lt;/span&gt;(intent: Intent) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;super&lt;/span&gt;.onNewIntent(intent)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        setIntent(intent)  &lt;span style=&#34;color:#75715e&#34;&gt;// æ›´æ–° intent
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        handleIntent(intent)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;handleIntent&lt;/span&gt;(intent: Intent) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; query = intent.getStringExtra(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;query&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// æœç´¢...
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h6 id=&#34;3-singletask&#34;&gt;3. singleTask
&lt;/h6&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;æ•´ä¸ªä»»åŠ¡æ ˆä¸­åªæœ‰ä¸€ä¸ªå®ä¾‹

åœºæ™¯ 1: ä¸å­˜åœ¨
TaskA: [DetailActivity, MainActivity]
å¯åŠ¨ ProfileActivity (singleTask)
  â†“
TaskA: [ProfileActivity, DetailActivity, MainActivity]

åœºæ™¯ 2: å·²å­˜åœ¨
TaskA: [DetailActivity, ProfileActivity, MainActivity]
å¯åŠ¨ ProfileActivity
  â†“
æ¸…é™¤å…¶ä¸Šæ‰€æœ‰ Activityï¼ŒProfileActivity ç§»åˆ°æ ˆé¡¶
TaskA: [ProfileActivity, MainActivity]
DetailActivity è¢«é”€æ¯ï¼
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ç”¨é€”ï¼šä¸»é¡µã€ç™»å½•é¡µ&lt;/p&gt;
&lt;h6 id=&#34;4-singleinstance&#34;&gt;4. singleInstance
&lt;/h6&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;ç‹¬å ä¸€ä¸ªä»»åŠ¡æ ˆï¼Œæ•´ä¸ªç³»ç»Ÿä¸­åªæœ‰ä¸€ä¸ªå®ä¾‹

TaskA: [DetailActivity, MainActivity]
å¯åŠ¨ VideoActivity (singleInstance)
  â†“
TaskA: [DetailActivity, MainActivity]
TaskB: [VideoActivity]  â† ç‹¬ç«‹çš„ä»»åŠ¡æ ˆ

ä» VideoActivity å¯åŠ¨å…¶ä»– Activity
  â†“
TaskA: [OtherActivity, DetailActivity, MainActivity]
TaskB: [VideoActivity]  â† ä»ç„¶ç‹¬å 
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ç”¨é€”ï¼šè§†é¢‘é€šè¯ã€é—¹é’Ÿ&lt;/p&gt;
&lt;hr&gt;
&lt;h5 id=&#34;intent-flags&#34;&gt;Intent Flags
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// FLAG_ACTIVITY_NEW_TASK: æ–°ä»»åŠ¡æ ˆ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; intent = Intent(&lt;span style=&#34;color:#66d9ef&#34;&gt;this&lt;/span&gt;, MainActivity&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt;.java)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;intent.flags = &lt;span style=&#34;color:#a6e22e&#34;&gt;Intent&lt;/span&gt;.FLAG_ACTIVITY_NEW_TASK
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;startActivity(intent)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// FLAG_ACTIVITY_CLEAR_TOP: æ¸…é™¤å…¶ä¸Šæ‰€æœ‰ Activity
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// å¸¸ç”¨äº&amp;#34;è¿”å›ä¸»é¡µ&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; intent = Intent(&lt;span style=&#34;color:#66d9ef&#34;&gt;this&lt;/span&gt;, MainActivity&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt;.java)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;intent.flags = &lt;span style=&#34;color:#a6e22e&#34;&gt;Intent&lt;/span&gt;.FLAG_ACTIVITY_CLEAR_TOP
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;startActivity(intent)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// FLAG_ACTIVITY_SINGLE_TOP: ç­‰åŒäº singleTop æ¨¡å¼
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;intent.flags = &lt;span style=&#34;color:#a6e22e&#34;&gt;Intent&lt;/span&gt;.FLAG_ACTIVITY_SINGLE_TOP
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// ç»„åˆä½¿ç”¨ï¼ˆæ¸…é™¤æ ˆå¹¶å¯åŠ¨ï¼‰
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;intent.flags = &lt;span style=&#34;color:#a6e22e&#34;&gt;Intent&lt;/span&gt;.FLAG_ACTIVITY_NEW_TASK or &lt;span style=&#34;color:#a6e22e&#34;&gt;Intent&lt;/span&gt;.FLAG_ACTIVITY_CLEAR_TASK
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h4 id=&#34;service&#34;&gt;Service
&lt;/h4&gt;&lt;h5 id=&#34;ä»€ä¹ˆæ˜¯service&#34;&gt;ä»€ä¹ˆæ˜¯Serviceï¼Ÿ
&lt;/h5&gt;&lt;p&gt;Service = åœ¨åå°æ‰§è¡Œé•¿æ—¶é—´è¿è¡Œæ“ä½œçš„ç»„ä»¶ï¼Œæ²¡æœ‰ç”¨æˆ·ç•Œé¢&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;å‰å° Activity: ç”¨æˆ·æ­£åœ¨æµè§ˆå•†å“
åå° Service: åŒæ—¶ä¸‹è½½æ–‡ä»¶ã€æ’­æ”¾éŸ³ä¹ã€åŒæ­¥æ•°æ®
&lt;/code&gt;&lt;/pre&gt;&lt;hr&gt;
&lt;h5 id=&#34;serviceçš„ä¸‰ç§ç±»å‹&#34;&gt;Serviceçš„ä¸‰ç§ç±»å‹
&lt;/h5&gt;&lt;h6 id=&#34;1-å‰å°æœåŠ¡foreground-service&#34;&gt;1. å‰å°æœåŠ¡ï¼ˆForeground Serviceï¼‰
&lt;/h6&gt;&lt;p&gt;å¿…é¡»æ˜¾ç¤ºé€šçŸ¥ï¼Œç”¨æˆ·å¯è§&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”” é€šçŸ¥æ         â”‚
â”‚ æ­£åœ¨æ’­æ”¾éŸ³ä¹... â”‚ â† å‰å°æœåŠ¡çš„é€šçŸ¥
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   åº”ç”¨ç•Œé¢      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ç”¨é€”ï¼šéŸ³ä¹æ’­æ”¾ã€å¯¼èˆªã€æ–‡ä»¶ä¸‹è½½&lt;/p&gt;
&lt;h6 id=&#34;2-åå°æœåŠ¡background-service&#34;&gt;2. åå°æœåŠ¡ï¼ˆBackground Serviceï¼‰
&lt;/h6&gt;&lt;p&gt;ç”¨æˆ·ä¸å¯è§ï¼Œä½†ä¼šè¢«ç³»ç»Ÿé™åˆ¶ï¼›Android 8.0+ä¸¥æ ¼é™åˆ¶åå°æœåŠ¡&lt;/p&gt;
&lt;p&gt;ç”¨é€”ï¼šæ•°æ®åŒæ­¥ï¼Œæ—¥å¿—ä¸Šä¼ ï¼ˆä½†æ¨èç”¨WorkManagerï¼‰&lt;/p&gt;
&lt;h6 id=&#34;3-ç»‘å®šæœåŠ¡bound-service&#34;&gt;3. ç»‘å®šæœåŠ¡ï¼ˆBound Serviceï¼‰
&lt;/h6&gt;&lt;p&gt;ä¸ç»„ä»¶ç»‘å®šï¼Œæä¾›å®¢æˆ·ç«¯-æœåŠ¡å™¨æ¥å£&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;Activity â†â”€â”€â”€ç»‘å®šâ”€â”€â”€â†’ Service
   â†“                    â†“
è°ƒç”¨æ–¹æ³•             æä¾›æ–¹æ³•
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ç”¨é€”ï¼šè¿›ç¨‹é—´é€šä¿¡ï¼ˆIPCï¼‰ã€éŸ³ä¹æ’­æ”¾å™¨æ§åˆ¶&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;serviceç”Ÿå‘½å‘¨æœŸ&#34;&gt;Serviceç”Ÿå‘½å‘¨æœŸ
&lt;/h4&gt;&lt;h5 id=&#34;å¯åŠ¨æœåŠ¡started-service&#34;&gt;å¯åŠ¨æœåŠ¡ï¼ˆStarted Serviceï¼‰
&lt;/h5&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;startService()
     â†“
 onCreate()     â† é¦–æ¬¡åˆ›å»ºæ—¶è°ƒç”¨ï¼ˆåªè°ƒç”¨ä¸€æ¬¡ï¼‰
     â†“
onStartCommand() â† æ¯æ¬¡ startService() éƒ½è°ƒç”¨
     â†“
 [è¿è¡Œä¸­]
     â†“
 onDestroy()    â† æœåŠ¡é”€æ¯
&lt;/code&gt;&lt;/pre&gt;&lt;h5 id=&#34;ç»‘å®šæœåŠ¡bound-service&#34;&gt;ç»‘å®šæœåŠ¡ï¼ˆBound Serviceï¼‰
&lt;/h5&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;bindService()
     â†“
 onCreate()     â† é¦–æ¬¡åˆ›å»ºæ—¶è°ƒç”¨
     â†“
  onBind()      â† è¿”å› IBinder å¯¹è±¡
     â†“
 [ç»‘å®šä¸­]
     â†“
unbindService()
     â†“
 onUnbind()     â† æ‰€æœ‰å®¢æˆ·ç«¯è§£ç»‘åè°ƒç”¨
     â†“
 onDestroy()
&lt;/code&gt;&lt;/pre&gt;&lt;h5 id=&#34;æ··åˆæ¨¡å¼æ—¢å¯åŠ¨åˆç»‘å®š&#34;&gt;æ··åˆæ¨¡å¼ï¼ˆæ—¢å¯åŠ¨åˆç»‘å®šï¼‰
&lt;/h5&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;startService() + bindService()
     â†“
 onCreate()
     â†“
onStartCommand() + onBind()
     â†“
 [è¿è¡Œå¹¶ç»‘å®š]
     â†“
unbindService() â† è§£ç»‘åä»ç„¶è¿è¡Œ
     â†“
stopService() or stopSelf()
     â†“
 onDestroy()
&lt;/code&gt;&lt;/pre&gt;&lt;hr&gt;
&lt;h4 id=&#34;å¯åŠ¨æœåŠ¡started-service-1&#34;&gt;å¯åŠ¨æœåŠ¡ï¼ˆStarted Serviceï¼‰
&lt;/h4&gt;&lt;h5 id=&#34;åŸºæœ¬å®ç°&#34;&gt;åŸºæœ¬å®ç°
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// MyService.kt
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;MyService&lt;/span&gt; : Service() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; TAG = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;MyService&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// 1. åˆ›å»ºæ—¶è°ƒç”¨ï¼ˆåªè°ƒç”¨ä¸€æ¬¡ï¼‰
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;override&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;onCreate&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;super&lt;/span&gt;.onCreate()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;Log&lt;/span&gt;.d(TAG, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Service åˆ›å»º&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// 2. æ¯æ¬¡ startService() éƒ½è°ƒç”¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;override&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;onStartCommand&lt;/span&gt;(intent: Intent?, flags: Int, startId: Int): Int {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;Log&lt;/span&gt;.d(TAG, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Service å¯åŠ¨&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// è·å–ä¼ é€’çš„æ•°æ®
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; data = intent&lt;span style=&#34;color:#f92672&#34;&gt;?.&lt;/span&gt;getStringExtra(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;data&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// æ‰§è¡Œåå°ä»»åŠ¡
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        doWork()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// è¿”å›å€¼å†³å®šç³»ç»Ÿæ€æ­»æœåŠ¡åçš„è¡Œä¸º
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; START_STICKY
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// 3. é”€æ¯æ—¶è°ƒç”¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;override&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;onDestroy&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;super&lt;/span&gt;.onDestroy()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;Log&lt;/span&gt;.d(TAG, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Service é”€æ¯&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// å¿…é¡»å®ç°ï¼Œä½†å¯åŠ¨æœåŠ¡ä¸éœ€è¦ç»‘å®š
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;override&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;onBind&lt;/span&gt;(intent: Intent?): IBinder? = &lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;doWork&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// âš ï¸ ä¸è¦åœ¨ä¸»çº¿ç¨‹åšè€—æ—¶æ“ä½œ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        Thread {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// æ‰§è¡Œåå°ä»»åŠ¡
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;Thread&lt;/span&gt;.sleep(&lt;span style=&#34;color:#ae81ff&#34;&gt;5000&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;Log&lt;/span&gt;.d(TAG, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;ä»»åŠ¡å®Œæˆ&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            stopSelf()  &lt;span style=&#34;color:#75715e&#34;&gt;// ä»»åŠ¡å®Œæˆååœæ­¢æœåŠ¡
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        }.start()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;å¯åŠ¨å’Œåœæ­¢æœåŠ¡&#34;&gt;å¯åŠ¨å’Œåœæ­¢æœåŠ¡
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// MainActivity.kt
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;MainActivity&lt;/span&gt; : AppCompatActivity() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// å¯åŠ¨æœåŠ¡
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;startMyService&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; intent = Intent(&lt;span style=&#34;color:#66d9ef&#34;&gt;this&lt;/span&gt;, MyService&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt;.java)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        intent.putExtra(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;data&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Hello Service&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// Android 8.0+ å¦‚æœæ˜¯å‰å°æœåŠ¡ï¼Œä½¿ç”¨ startForegroundService
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#a6e22e&#34;&gt;Build&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;VERSION&lt;/span&gt;.SDK_INT &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Build&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;VERSION_CODES&lt;/span&gt;.O) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            startForegroundService(intent)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        } &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            startService(intent)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// åœæ­¢æœåŠ¡
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;stopMyService&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; intent = Intent(&lt;span style=&#34;color:#66d9ef&#34;&gt;this&lt;/span&gt;, MyService&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt;.java)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        stopService(intent)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;onstartcommandè¿”å›å€¼&#34;&gt;onStartCommandè¿”å›å€¼
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;override&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;onStartCommand&lt;/span&gt;(intent: Intent?, flags: Int, startId: Int): Int {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;when&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// START_STICKY: ç³»ç»Ÿæ€æ­»åé‡å¯æœåŠ¡ï¼Œä½† intent ä¸º null
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// é€‚ç”¨ï¼šéŸ³ä¹æ’­æ”¾å™¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; START_STICKY
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// START_NOT_STICKY: ç³»ç»Ÿæ€æ­»åä¸é‡å¯
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// é€‚ç”¨ï¼šä¸€æ¬¡æ€§ä»»åŠ¡
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; START_NOT_STICKY
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// START_REDELIVER_INTENT: ç³»ç»Ÿæ€æ­»åé‡å¯ï¼Œé‡æ–°ä¼ é€’ intent
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// é€‚ç”¨ï¼šéœ€è¦ä¿è¯ä»»åŠ¡å®Œæˆï¼ˆå¦‚ä¸‹è½½ï¼‰
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; START_REDELIVER_INTENT
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h4 id=&#34;å‰å°æœåŠ¡&#34;&gt;å‰å°æœåŠ¡
&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;Android 8.0+ä¸¥æ ¼é™åˆ¶åå°æœåŠ¡ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åº”ç”¨è¿›å…¥åå°å‡ åˆ†é’Ÿåï¼Œç³»ç»Ÿä¼šåœæ­¢åå°æœåŠ¡&lt;/li&gt;
&lt;li&gt;å‰å°æœåŠ¡ä¸ä¼šè¢«é™åˆ¶ï¼Œä½†å¿…é¡»æ˜¾ç¤ºé€šçŸ¥&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;å®ç°å‰å°æœåŠ¡&#34;&gt;å®ç°å‰å°æœåŠ¡
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;MusicService&lt;/span&gt; : Service() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; CHANNEL_ID = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;music_channel&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; NOTIFICATION_ID = &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;override&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;onCreate&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;super&lt;/span&gt;.onCreate()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        createNotificationChannel()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;override&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;onStartCommand&lt;/span&gt;(intent: Intent?, flags: Int, startId: Int): Int {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// åˆ›å»ºé€šçŸ¥
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; notification = createNotification()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// âš ï¸ å¿…é¡»åœ¨ 5 ç§’å†…è°ƒç”¨ startForegroundï¼Œå¦åˆ™ ANR
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        startForeground(NOTIFICATION_ID, notification)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// æ’­æ”¾éŸ³ä¹...
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        playMusic()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; START_STICKY
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;createNotificationChannel&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#a6e22e&#34;&gt;Build&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;VERSION&lt;/span&gt;.SDK_INT &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Build&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;VERSION_CODES&lt;/span&gt;.O) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; channel = NotificationChannel(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                CHANNEL_ID,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;éŸ³ä¹æ’­æ”¾&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#a6e22e&#34;&gt;NotificationManager&lt;/span&gt;.IMPORTANCE_LOW
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            ).apply {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                description = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;éŸ³ä¹æ’­æ”¾æœåŠ¡&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; manager = getSystemService(NotificationManager&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt;.java)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            manager.createNotificationChannel(channel)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;createNotification&lt;/span&gt;(): Notification {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// ç‚¹å‡»é€šçŸ¥æ‰“å¼€ Activity
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; intent = Intent(&lt;span style=&#34;color:#66d9ef&#34;&gt;this&lt;/span&gt;, MainActivity&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt;.java)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; pendingIntent = &lt;span style=&#34;color:#a6e22e&#34;&gt;PendingIntent&lt;/span&gt;.getActivity(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;this&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            intent,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;PendingIntent&lt;/span&gt;.FLAG_IMMUTABLE
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;NotificationCompat&lt;/span&gt;.Builder(&lt;span style=&#34;color:#66d9ef&#34;&gt;this&lt;/span&gt;, CHANNEL_ID)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            .setContentTitle(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;æ­£åœ¨æ’­æ”¾&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            .setContentText(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;æ­Œæ›²åç§° - è‰ºæœ¯å®¶&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            .setSmallIcon(&lt;span style=&#34;color:#a6e22e&#34;&gt;R&lt;/span&gt;.drawable.ic_music)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            .setContentIntent(pendingIntent)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            .setOngoing(&lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;)  &lt;span style=&#34;color:#75715e&#34;&gt;// ä¸å¯æ»‘åŠ¨åˆ é™¤
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            .addAction(&lt;span style=&#34;color:#a6e22e&#34;&gt;R&lt;/span&gt;.drawable.ic_pause, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;æš‚åœ&amp;#34;&lt;/span&gt;, createPauseIntent())
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            .addAction(&lt;span style=&#34;color:#a6e22e&#34;&gt;R&lt;/span&gt;.drawable.ic_next, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;ä¸‹ä¸€é¦–&amp;#34;&lt;/span&gt;, createNextIntent())
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            .build()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;createPauseIntent&lt;/span&gt;(): PendingIntent {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; intent = Intent(&lt;span style=&#34;color:#66d9ef&#34;&gt;this&lt;/span&gt;, MusicService&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt;.java).apply {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            action = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;ACTION_PAUSE&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;PendingIntent&lt;/span&gt;.getService(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;this&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            intent,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;PendingIntent&lt;/span&gt;.FLAG_IMMUTABLE
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;createNextIntent&lt;/span&gt;(): PendingIntent {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; intent = Intent(&lt;span style=&#34;color:#66d9ef&#34;&gt;this&lt;/span&gt;, MusicService&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt;.java).apply {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            action = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;ACTION_NEXT&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;PendingIntent&lt;/span&gt;.getService(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;this&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            intent,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;PendingIntent&lt;/span&gt;.FLAG_IMMUTABLE
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;playMusic&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// æ’­æ”¾é€»è¾‘...
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;override&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;onBind&lt;/span&gt;(intent: Intent?): IBinder? = &lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;å‰å°æœåŠ¡ç±»å‹android-14&#34;&gt;å‰å°æœåŠ¡ç±»å‹ï¼ˆAndroid 14+ï¼‰
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-xml&#34; data-lang=&#34;xml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!-- AndroidManifest.xml --&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;manifest&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!-- å£°æ˜å‰å°æœåŠ¡ç±»å‹ --&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;uses-permission&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;android:name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;android.permission.FOREGROUND_SERVICE&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;uses-permission&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;android:name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;android.permission.FOREGROUND_SERVICE_MEDIA_PLAYBACK&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;application&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;service&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;android:name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;.MusicService&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;android:foregroundServiceType=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;mediaPlayback&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/application&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/manifest&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;å‰å°æœåŠ¡ç±»å‹&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;camera&lt;/code&gt; - ç›¸æœº&lt;/li&gt;
&lt;li&gt;&lt;code&gt;connectedDevice&lt;/code&gt; - è¿æ¥è®¾å¤‡&lt;/li&gt;
&lt;li&gt;&lt;code&gt;dataSync&lt;/code&gt; - æ•°æ®åŒæ­¥&lt;/li&gt;
&lt;li&gt;&lt;code&gt;location&lt;/code&gt; - ä½ç½®&lt;/li&gt;
&lt;li&gt;&lt;code&gt;mediaPlayback&lt;/code&gt; - åª’ä½“æ’­æ”¾&lt;/li&gt;
&lt;li&gt;&lt;code&gt;mediaProjection&lt;/code&gt; - å±å¹•å½•åˆ¶&lt;/li&gt;
&lt;li&gt;&lt;code&gt;microphone&lt;/code&gt; - éº¦å…‹é£&lt;/li&gt;
&lt;li&gt;&lt;code&gt;phoneCall&lt;/code&gt; - ç”µè¯&lt;/li&gt;
&lt;li&gt;&lt;code&gt;remoteMessaging&lt;/code&gt; - è¿œç¨‹æ¶ˆæ¯&lt;/li&gt;
&lt;li&gt;&lt;code&gt;shortService&lt;/code&gt; - çŸ­æ—¶æœåŠ¡&lt;/li&gt;
&lt;li&gt;&lt;code&gt;specialUse&lt;/code&gt; - ç‰¹æ®Šç”¨é€”&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;ç»‘å®šæœåŠ¡&#34;&gt;ç»‘å®šæœåŠ¡
&lt;/h4&gt;&lt;h5 id=&#34;ä½¿ç”¨åœºæ™¯&#34;&gt;ä½¿ç”¨åœºæ™¯
&lt;/h5&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;Activity éœ€è¦ï¼š
- è°ƒç”¨ Service çš„æ–¹æ³•
- è·å– Service çš„æ•°æ®
- ç›‘å¬ Service çš„çŠ¶æ€

Example: éŸ³ä¹æ’­æ”¾å™¨æ§åˆ¶
Activity: æ’­æ”¾/æš‚åœ/åˆ‡æ­Œ
Service: æ‰§è¡Œå®é™…æ“ä½œ
&lt;/code&gt;&lt;/pre&gt;&lt;h5 id=&#34;å®ç°ç»‘å®šæœåŠ¡&#34;&gt;å®ç°ç»‘å®šæœåŠ¡
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// MusicPlayerService.kt
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;MusicPlayerService&lt;/span&gt; : Service() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// 1. å®šä¹‰ Binderï¼ˆæœ¬åœ°æœåŠ¡ï¼‰
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;inner&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;MusicBinder&lt;/span&gt; : Binder() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;getService&lt;/span&gt;(): MusicPlayerService = &lt;span style=&#34;color:#66d9ef&#34;&gt;this&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;@MusicPlayerService&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; binder = MusicBinder()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// 2. è¿”å› Binder
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;override&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;onBind&lt;/span&gt;(intent: Intent?): IBinder = binder
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// 3. æä¾›å…¬å…±æ–¹æ³•ä¾›å®¢æˆ·ç«¯è°ƒç”¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;play&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;Log&lt;/span&gt;.d(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Music&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;æ’­æ”¾éŸ³ä¹&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;pause&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;Log&lt;/span&gt;.d(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Music&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;æš‚åœéŸ³ä¹&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;getCurrentPosition&lt;/span&gt;(): Int {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;// è¿”å›å½“å‰æ’­æ”¾ä½ç½®
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;ç»‘å®šæœåŠ¡-1&#34;&gt;ç»‘å®šæœåŠ¡
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// MainActivity.kt
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;MainActivity&lt;/span&gt; : AppCompatActivity() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;var&lt;/span&gt; musicService: MusicPlayerService? = &lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;var&lt;/span&gt; isBound = &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// 1. å®šä¹‰ ServiceConnection
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; connection = &lt;span style=&#34;color:#66d9ef&#34;&gt;object&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;: &lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;ServiceConnection&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;override&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;onServiceConnected&lt;/span&gt;(name: ComponentName?, service: IBinder?) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// æœåŠ¡è¿æ¥æˆåŠŸ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; binder = service &lt;span style=&#34;color:#66d9ef&#34;&gt;as&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;MusicPlayerService&lt;/span&gt;.MusicBinder
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            musicService = binder.getService()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            isBound = &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;Log&lt;/span&gt;.d(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Bind&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;æœåŠ¡å·²è¿æ¥&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;override&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;onServiceDisconnected&lt;/span&gt;(name: ComponentName?) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// æœåŠ¡æ„å¤–æ–­å¼€ï¼ˆå¦‚å´©æºƒï¼‰
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            musicService = &lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            isBound = &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;Log&lt;/span&gt;.d(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Bind&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;æœåŠ¡å·²æ–­å¼€&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;override&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;onCreate&lt;/span&gt;(savedInstanceState: Bundle?) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;super&lt;/span&gt;.onCreate(savedInstanceState)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        setContentView(&lt;span style=&#34;color:#a6e22e&#34;&gt;R&lt;/span&gt;.layout.activity_main)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// 2. ç»‘å®šæœåŠ¡
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; intent = Intent(&lt;span style=&#34;color:#66d9ef&#34;&gt;this&lt;/span&gt;, MusicPlayerService&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt;.java)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        bindService(intent, connection, &lt;span style=&#34;color:#a6e22e&#34;&gt;Context&lt;/span&gt;.BIND_AUTO_CREATE)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// 3. è°ƒç”¨æœåŠ¡æ–¹æ³•
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;onPlayClick&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (isBound) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            musicService&lt;span style=&#34;color:#f92672&#34;&gt;?.&lt;/span&gt;play()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;onPauseClick&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (isBound) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            musicService&lt;span style=&#34;color:#f92672&#34;&gt;?.&lt;/span&gt;pause()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;override&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;onDestroy&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;super&lt;/span&gt;.onDestroy()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// 4. è§£ç»‘æœåŠ¡
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (isBound) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            unbindService(connection)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            isBound = &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;aidlè·¨è¿›ç¨‹é€šä¿¡&#34;&gt;AIDL(è·¨è¿›ç¨‹é€šä¿¡)
&lt;/h5&gt;&lt;p&gt;ç”¨äºä¸åŒåº”ç”¨ä¹‹é—´çš„é€šä¿¡&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-aidl&#34; data-lang=&#34;aidl&#34;&gt;// IMusicService.aidl
package com.example.myapp;

interface IMusicService {
    void play();
    void pause();
    int getCurrentPosition();
}
&lt;/code&gt;&lt;/pre&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// MusicPlayerService.kt
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;MusicPlayerService&lt;/span&gt; : Service() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// å®ç° AIDL æ¥å£
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; binder = &lt;span style=&#34;color:#66d9ef&#34;&gt;object&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;: &lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;IMusicService&lt;/span&gt;.Stub() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;override&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;play&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// æ’­æ”¾é€»è¾‘
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;override&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;pause&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// æš‚åœé€»è¾‘
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;override&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;getCurrentPosition&lt;/span&gt;(): Int {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;override&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;onBind&lt;/span&gt;(intent: Intent?): IBinder = binder
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// å®¢æˆ·ç«¯ Activity
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;MainActivity&lt;/span&gt; : AppCompatActivity() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;var&lt;/span&gt; musicService: IMusicService? = &lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; connection = &lt;span style=&#34;color:#66d9ef&#34;&gt;object&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;: &lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;ServiceConnection&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;override&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;onServiceConnected&lt;/span&gt;(name: ComponentName?, service: IBinder?) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            musicService = &lt;span style=&#34;color:#a6e22e&#34;&gt;IMusicService&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Stub&lt;/span&gt;.asInterface(service)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;override&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;onServiceDisconnected&lt;/span&gt;(name: ComponentName?) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            musicService = &lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;onPlayClick&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        musicService&lt;span style=&#34;color:#f92672&#34;&gt;?.&lt;/span&gt;play()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h4 id=&#34;serviceçš„é™åˆ¶android-80&#34;&gt;Serviceçš„é™åˆ¶ï¼ˆAndroid 8.0+ï¼‰
&lt;/h4&gt;&lt;h5 id=&#34;åå°æ‰§è¡Œé™åˆ¶&#34;&gt;åå°æ‰§è¡Œé™åˆ¶
&lt;/h5&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;åº”ç”¨è¿›å…¥åå°å‡ åˆ†é’Ÿåï¼š
- stopService() åå°æœåŠ¡è¢«åœæ­¢
- WorkManager ç»§ç»­æ‰§è¡Œï¼ˆæ¨èï¼‰
&lt;/code&gt;&lt;/pre&gt;&lt;h5 id=&#34;è§£å†³æ–¹æ¡ˆ&#34;&gt;è§£å†³æ–¹æ¡ˆ
&lt;/h5&gt;&lt;h6 id=&#34;1-ä½¿ç”¨å‰å°æœåŠ¡&#34;&gt;1. ä½¿ç”¨å‰å°æœåŠ¡
&lt;/h6&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// éŸ³ä¹æ’­æ”¾ã€å¯¼èˆªã€ä¸‹è½½
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;startForegroundService(intent)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;service.startForeground(NOTIFICATION_ID, notification)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h6 id=&#34;2-ä½¿ç”¨workmanger&#34;&gt;2. ä½¿ç”¨workManger
&lt;/h6&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// æ•°æ®åŒæ­¥ã€æ—¥å¿—ä¸Šä¼ 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; workRequest = OneTimeWorkRequestBuilder&amp;lt;MyWorker&amp;gt;().build()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;WorkManager&lt;/span&gt;.getInstance(context).enqueue(workRequest)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h4 id=&#34;broadcastreceiver&#34;&gt;BroadcastReceiver
&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;BroadcastReceiver&lt;/strong&gt; = æ¥æ”¶ç³»ç»Ÿæˆ–åº”ç”¨å‘å‡ºçš„å¹¿æ’­æ¶ˆæ¯&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;å‘é€è€… (Sender)              æ¥æ”¶è€… (Receiver)
    â†“                            â†“
å‘é€å¹¿æ’­ â†’ [Android System] â†’ BroadcastReceiver
   (Intent)                    (onReceive)
&lt;/code&gt;&lt;/pre&gt;&lt;hr&gt;
&lt;h4 id=&#34;å¹¿æ’­çš„ç±»å‹&#34;&gt;å¹¿æ’­çš„ç±»å‹
&lt;/h4&gt;&lt;h5 id=&#34;1-ç³»ç»Ÿå¹¿æ’­system-broadcast&#34;&gt;1. ç³»ç»Ÿå¹¿æ’­ï¼ˆSystem Broadcastï¼‰
&lt;/h5&gt;&lt;p&gt;ç³»ç»Ÿå‘å‡ºçš„å¹¿æ’­&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// å¸¸è§ç³»ç»Ÿå¹¿æ’­
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;Intent&lt;/span&gt;.ACTION_BOOT_COMPLETED    &lt;span style=&#34;color:#75715e&#34;&gt;// å¼€æœºå®Œæˆ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;Intent&lt;/span&gt;.ACTION_BATTERY_LOW       &lt;span style=&#34;color:#75715e&#34;&gt;// ç”µé‡ä½
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;Intent&lt;/span&gt;.ACTION_POWER_CONNECTED   &lt;span style=&#34;color:#75715e&#34;&gt;// å……ç”µå™¨è¿æ¥
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;Intent&lt;/span&gt;.ACTION_SCREEN_ON         &lt;span style=&#34;color:#75715e&#34;&gt;// å±å¹•å¼€å¯
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;Intent&lt;/span&gt;.ACTION_SCREEN_OFF        &lt;span style=&#34;color:#75715e&#34;&gt;// å±å¹•å…³é—­
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;Intent&lt;/span&gt;.ACTION_TIMEZONE_CHANGED  &lt;span style=&#34;color:#75715e&#34;&gt;// æ—¶åŒºæ”¹å˜
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;Intent&lt;/span&gt;.ACTION_LOCALE_CHANGED    &lt;span style=&#34;color:#75715e&#34;&gt;// è¯­è¨€æ”¹å˜
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;åº”ç”¨å†…å¹¿æ’­local-broadcast&#34;&gt;åº”ç”¨å†…å¹¿æ’­ï¼ˆLocal Broadcastï¼‰
&lt;/h5&gt;&lt;p&gt;åªåœ¨åº”ç”¨å†…ä¼ é€’ï¼Œæ›´å®‰å…¨&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// ä½¿ç”¨ LocalBroadcastManagerï¼ˆå·²åºŸå¼ƒï¼‰
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// æ¨èä½¿ç”¨ LiveData æˆ–äº‹ä»¶æ€»çº¿
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;3-è‡ªå®šä¹‰å¹¿æ’­custom-broadcast&#34;&gt;3. è‡ªå®šä¹‰å¹¿æ’­ï¼ˆCustom Broadcastï¼‰
&lt;/h5&gt;&lt;p&gt;åº”ç”¨è‡ªå·±å®šä¹‰çš„å¹¿æ’­&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; ACTION_CUSTOM = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;com.example.ACTION_CUSTOM&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h4 id=&#34;æ³¨å†Œå¹¿æ’­æ¥æ”¶å™¨&#34;&gt;æ³¨å†Œå¹¿æ’­æ¥æ”¶å™¨
&lt;/h4&gt;&lt;h5 id=&#34;æ–¹å¼1-é™æ€æ³¨å†Œmanifest&#34;&gt;æ–¹å¼1: é™æ€æ³¨å†Œï¼ˆManifestï¼‰
&lt;/h5&gt;&lt;p&gt;åº”ç”¨æœªè¿è¡Œæ—¶ä¹Ÿèƒ½æ¥æ”¶å¹¿æ’­&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-xml&#34; data-lang=&#34;xml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!-- AndroidManifest.xml --&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;manifest&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!-- éœ€è¦çš„æƒé™ --&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;uses-permission&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;android:name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;android.permission.RECEIVE_BOOT_COMPLETED&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;application&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!-- æ³¨å†Œæ¥æ”¶å™¨ --&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;receiver&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;android:name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;.BootReceiver&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;android:enabled=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;true&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;android:exported=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;false&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!-- å£°æ˜è¦æ¥æ”¶çš„å¹¿æ’­ --&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;intent-filter&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;action&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;android:name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;android.intent.action.BOOT_COMPLETED&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/intent-filter&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/receiver&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/application&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/manifest&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// BootReceiver.kt
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;BootReceiver&lt;/span&gt; : BroadcastReceiver() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;override&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;onReceive&lt;/span&gt;(context: Context, intent: Intent) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;when&lt;/span&gt; (intent.action) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;Intent&lt;/span&gt;.ACTION_BOOT_COMPLETED &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#a6e22e&#34;&gt;Log&lt;/span&gt;.d(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Boot&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;è®¾å¤‡å¯åŠ¨å®Œæˆ&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#75715e&#34;&gt;// å¯åŠ¨æœåŠ¡æˆ–æ‰§è¡Œåˆå§‹åŒ–
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;**Android 8.0+**é™åˆ¶ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¤§éƒ¨åˆ†ç³»ç»Ÿå¹¿æ’­ä¸èƒ½é™æ€æ³¨å†Œ&lt;/li&gt;
&lt;li&gt;åªæœ‰å°‘æ•°ä¾‹å¤–ï¼ˆå¦‚&lt;code&gt;BOOT_COMPLETED&lt;/code&gt;ã€&lt;code&gt;LOCALE_CHANGED&lt;/code&gt;ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;æ–¹å¼2åŠ¨æ€æ³¨å†Œ&#34;&gt;æ–¹å¼2:åŠ¨æ€æ³¨å†Œ
&lt;/h5&gt;&lt;p&gt;åº”ç”¨è¿è¡Œæ—¶æ³¨å†Œï¼Œæ›´çµæ´»&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;MainActivity&lt;/span&gt; : AppCompatActivity() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// 1. åˆ›å»ºæ¥æ”¶å™¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; batteryReceiver = &lt;span style=&#34;color:#66d9ef&#34;&gt;object&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;: &lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;BroadcastReceiver&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;override&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;onReceive&lt;/span&gt;(context: Context, intent: Intent) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;when&lt;/span&gt; (intent.action) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#a6e22e&#34;&gt;Intent&lt;/span&gt;.ACTION_BATTERY_LOW &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#a6e22e&#34;&gt;Toast&lt;/span&gt;.makeText(context, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;ç”µé‡ä½&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;Toast&lt;/span&gt;.LENGTH_SHORT).show()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#a6e22e&#34;&gt;Intent&lt;/span&gt;.ACTION_BATTERY_OKAY &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#a6e22e&#34;&gt;Toast&lt;/span&gt;.makeText(context, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;ç”µé‡æ¢å¤&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;Toast&lt;/span&gt;.LENGTH_SHORT).show()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;override&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;onCreate&lt;/span&gt;(savedInstanceState: Bundle?) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;super&lt;/span&gt;.onCreate(savedInstanceState)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        setContentView(&lt;span style=&#34;color:#a6e22e&#34;&gt;R&lt;/span&gt;.layout.activity_main)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// 2. æ³¨å†Œæ¥æ”¶å™¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; filter = IntentFilter().apply {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            addAction(&lt;span style=&#34;color:#a6e22e&#34;&gt;Intent&lt;/span&gt;.ACTION_BATTERY_LOW)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            addAction(&lt;span style=&#34;color:#a6e22e&#34;&gt;Intent&lt;/span&gt;.ACTION_BATTERY_OKAY)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        registerReceiver(batteryReceiver, filter)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;override&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;onDestroy&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;super&lt;/span&gt;.onDestroy()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// 3. å¿…é¡»å–æ¶ˆæ³¨å†Œï¼Œé¿å…å†…å­˜æ³„æ¼
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        unregisterReceiver(batteryReceiver)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;**Android13+**åŠ¨æ€æ³¨å†Œ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// Android 13+ éœ€è¦åœ¨è¿è¡Œæ—¶è¯·æ±‚æƒé™
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#a6e22e&#34;&gt;Build&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;VERSION&lt;/span&gt;.SDK_INT &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Build&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;VERSION_CODES&lt;/span&gt;.TIRAMISU) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    registerReceiver(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;receiver&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        filter,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;Context&lt;/span&gt;.RECEIVER_NOT_EXPORTED  &lt;span style=&#34;color:#75715e&#34;&gt;// æˆ– RECEIVER_EXPORTED
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;} &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    registerReceiver(&lt;span style=&#34;color:#66d9ef&#34;&gt;receiver&lt;/span&gt;, filter)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h4 id=&#34;å‘é€å¹¿æ’­&#34;&gt;å‘é€å¹¿æ’­
&lt;/h4&gt;&lt;h5 id=&#34;1-æ ‡å‡†å¹¿æ’­normal-broadcast&#34;&gt;1. æ ‡å‡†å¹¿æ’­ï¼ˆNormal Broadcastï¼‰
&lt;/h5&gt;&lt;p&gt;æ‰€æœ‰æ¥æ”¶å™¨å‡ ä¹åŒæ—¶æ”¶åˆ°&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// å‘é€å¹¿æ’­
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; intent = Intent(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;com.example.ACTION_CUSTOM&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;intent.putExtra(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;data&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Hello Broadcast&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sendBroadcast(intent)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// æ¥æ”¶å¹¿æ’­
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;MyReceiver&lt;/span&gt; : BroadcastReceiver() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;override&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;onReceive&lt;/span&gt;(context: Context, intent: Intent) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; data = intent.getStringExtra(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;data&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;Log&lt;/span&gt;.d(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Receiver&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;æ”¶åˆ°: &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;$data&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;2-æœ‰åºå¹¿æ’­ordered-broadcast&#34;&gt;2. æœ‰åºå¹¿æ’­ï¼ˆOrdered Broadcastï¼‰
&lt;/h5&gt;&lt;p&gt;æŒ‰ä¼˜å…ˆçº§ä¸€æ¬¡ä¼ é€’ï¼Œå¯æ‹¦æˆª&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// å‘é€æœ‰åºå¹¿æ’­
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; intent = Intent(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;com.example.ACTION_ORDERED&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sendOrderedBroadcast(intent, &lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;lt;!&lt;span style=&#34;color:#f92672&#34;&gt;--&lt;/span&gt; è®¾ç½®ä¼˜å…ˆçº§ &lt;span style=&#34;color:#f92672&#34;&gt;--&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;lt;&lt;span style=&#34;color:#66d9ef&#34;&gt;receiver&lt;/span&gt; android:name=&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;.HighPriorityReceiver&amp;#34;&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &amp;lt;intent-filter android:priority=&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;1000&amp;#34;&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &amp;lt;action android:name=&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;com.example.ACTION_ORDERED&amp;#34;&lt;/span&gt; /&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h4 id=&#34;contentprovider&#34;&gt;ContentProvider
&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;ContentProvider&lt;/strong&gt; = è·¨åº”ç”¨å…±äº«æ•°æ®çš„æ ‡å‡†æ¥å£&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;åº”ç”¨ A (æ•°æ®æä¾›è€…)         åº”ç”¨ B (æ•°æ®ä½¿ç”¨è€…)
    â†“                           â†“
ContentProvider â†â”€â”€â”€â”€â”€URIâ”€â”€â”€â”€â†’ ContentResolver
    â†“
æ•°æ®åº“/æ–‡ä»¶/ç½‘ç»œ
&lt;/code&gt;&lt;/pre&gt;&lt;hr&gt;
&lt;h4 id=&#34;contentproviderçš„ä½œç”¨&#34;&gt;ContentProviderçš„ä½œç”¨
&lt;/h4&gt;&lt;h5 id=&#34;1-è·¨åº”ç”¨æ•°æ®å…±äº«&#34;&gt;1. è·¨åº”ç”¨æ•°æ®å…±äº«
&lt;/h5&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;è”ç³»äººåº”ç”¨ â†’ ContentProvider â†’ å…¶ä»–åº”ç”¨è¯»å–è”ç³»äºº
ç›¸å†Œåº”ç”¨ â†’ ContentProvider â†’ å…¶ä»–åº”ç”¨è¯»å–å›¾ç‰‡
&lt;/code&gt;&lt;/pre&gt;&lt;h5 id=&#34;2-ç»Ÿä¸€æ•°æ®è®¿é—®æ¥å£&#34;&gt;2. ç»Ÿä¸€æ•°æ®è®¿é—®æ¥å£
&lt;/h5&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;ä¸ç®¡æ•°æ®å­˜åœ¨å“ªé‡Œï¼ˆæ•°æ®åº“/æ–‡ä»¶/ç½‘ç»œï¼‰
éƒ½é€šè¿‡ç»Ÿä¸€çš„ URI è®¿é—®

content://com.example.provider/users/1
content://com.android.contacts/contacts/1
&lt;/code&gt;&lt;/pre&gt;&lt;h5 id=&#34;3-æ•°æ®å®‰å…¨æ§åˆ¶&#34;&gt;3. æ•°æ®å®‰å…¨æ§åˆ¶
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;å¯ä»¥æ§åˆ¶&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;ï¼š&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;- å“ªäº›åº”ç”¨å¯ä»¥è®¿é—®
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;- å“ªäº›æ•°æ®å¯ä»¥è®¿é—®&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;ï¼ˆ&lt;/span&gt;è¯»/å†™æƒé™&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;ï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;- æ•°æ®è®¿é—®çš„ç²’åº¦
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h4 id=&#34;contentprovideræ¶æ„&#34;&gt;ContentProvideræ¶æ„
&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;URI&lt;/strong&gt;ç»“æ„&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;content://authority/path/id
   â†‘        â†‘       â†‘    â†‘
  åè®®    æ ‡è¯†ç¬¦   è·¯å¾„  ID

ç¤ºä¾‹ï¼š
content://com.example.provider/users
content://com.example.provider/users/123
content://com.android.contacts/contacts
content://media/external/images/media
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ç»„ä»¶å…³ç³»&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;åº”ç”¨ A                      åº”ç”¨ B
  â†“                          â†“
ContentProvider          ContentResolver
  â†“                          â†“
query()                    query()
insert()                   insert()
update()                   update()
delete()                   delete()
  â†“
å®é™…æ•°æ®å­˜å‚¨ (SQLite/æ–‡ä»¶ç­‰)
&lt;/code&gt;&lt;/pre&gt;&lt;hr&gt;
&lt;h4 id=&#34;åˆ›å»ºcontentprovider&#34;&gt;åˆ›å»ºContentProvider
&lt;/h4&gt;&lt;h5 id=&#34;æ­¥éª¤1å®šä¹‰æ•°æ®æ¨¡å‹&#34;&gt;æ­¥éª¤1:å®šä¹‰æ•°æ®æ¨¡å‹
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// Contract ç±»ï¼ˆå®šä¹‰ URI å’Œåˆ—åï¼‰
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;object&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;UserContract&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; AUTHORITY = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;com.example.provider&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; CONTENT_URI: Uri = &lt;span style=&#34;color:#a6e22e&#34;&gt;Uri&lt;/span&gt;.parse(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;content://&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;$AUTHORITY&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;/users&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;object&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Columns&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; ID = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;_id&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; NAME = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;name&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; EMAIL = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;email&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; AGE = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;age&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;æ­¥éª¤2åˆ›å»ºæ•°æ®åº“helperå¯é€‰&#34;&gt;æ­¥éª¤2ï¼šåˆ›å»ºæ•°æ®åº“Helper(å¯é€‰)
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;DatabaseHelper&lt;/span&gt;(context: Context) : SQLiteOpenHelper(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    context,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;users.db&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;override&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;onCreate&lt;/span&gt;(db: SQLiteDatabase) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        db.execSQL(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;            CREATE TABLE users (
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;                _id INTEGER PRIMARY KEY AUTOINCREMENT,
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;                name TEXT NOT NULL,
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;                email TEXT,
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;                age INTEGER
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;            )
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;        &amp;#34;&amp;#34;&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;override&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;onUpgrade&lt;/span&gt;(db: SQLiteDatabase, oldVersion: Int, newVersion: Int) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        db.execSQL(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;DROP TABLE IF EXISTS users&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        onCreate(db)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;å®ç°contentprovider&#34;&gt;å®ç°ContentProvider
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;UserProvider&lt;/span&gt; : ContentProvider() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;lateinit&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;var&lt;/span&gt; dbHelper: DatabaseHelper
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; uriMatcher = UriMatcher(&lt;span style=&#34;color:#a6e22e&#34;&gt;UriMatcher&lt;/span&gt;.NO_MATCH).apply {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        addURI(&lt;span style=&#34;color:#a6e22e&#34;&gt;UserContract&lt;/span&gt;.AUTHORITY, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;users&amp;#34;&lt;/span&gt;, USERS)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        addURI(&lt;span style=&#34;color:#a6e22e&#34;&gt;UserContract&lt;/span&gt;.AUTHORITY, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;users/#&amp;#34;&lt;/span&gt;, USER_ID)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;companion&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;object&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; USERS = &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; USER_ID = &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// 1. åˆå§‹åŒ–ï¼ˆåœ¨åº”ç”¨å¯åŠ¨æ—¶è°ƒç”¨ï¼‰
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;override&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;onCreate&lt;/span&gt;(): Boolean {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        dbHelper = DatabaseHelper(context&lt;span style=&#34;color:#f92672&#34;&gt;!!&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// 2. æŸ¥è¯¢æ•°æ®
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;override&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;query&lt;/span&gt;(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        uri: Uri,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        projection: Array&amp;lt;String&amp;gt;?,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        selection: String?,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        selectionArgs: Array&amp;lt;String&amp;gt;?,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        sortOrder: String?
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ): Cursor? {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; db = dbHelper.readableDatabase
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;when&lt;/span&gt; (uriMatcher.match(uri)) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            USERS &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#75715e&#34;&gt;// æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;                db.query(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;users&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    projection,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    selection,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    selectionArgs,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    sortOrder
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            USER_ID &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#75715e&#34;&gt;// æŸ¥è¯¢æŒ‡å®š ID çš„ç”¨æˆ·
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;                &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; id = uri.lastPathSegment
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                db.query(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;users&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    projection,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;${UserContract.Columns.ID}&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt; = ?&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    arrayOf(id),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    sortOrder
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;throw&lt;/span&gt; IllegalArgumentException(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Unknown URI: &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;$uri&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// 3. æ’å…¥æ•°æ®
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;override&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;insert&lt;/span&gt;(uri: Uri, values: ContentValues?): Uri? {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; db = dbHelper.writableDatabase
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;when&lt;/span&gt; (uriMatcher.match(uri)) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            USERS &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; id = db.insert(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;users&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;, values)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (id &amp;gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; newUri = &lt;span style=&#34;color:#a6e22e&#34;&gt;ContentUris&lt;/span&gt;.withAppendedId(&lt;span style=&#34;color:#a6e22e&#34;&gt;UserContract&lt;/span&gt;.CONTENT_URI, id)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#75715e&#34;&gt;// é€šçŸ¥æ•°æ®å˜åŒ–
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;                    context&lt;span style=&#34;color:#f92672&#34;&gt;?.&lt;/span&gt;contentResolver&lt;span style=&#34;color:#f92672&#34;&gt;?.&lt;/span&gt;notifyChange(newUri, &lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    newUri
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                } &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;throw&lt;/span&gt; IllegalArgumentException(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Unknown URI: &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;$uri&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// 4. æ›´æ–°æ•°æ®
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;override&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;update&lt;/span&gt;(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        uri: Uri,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        values: ContentValues?,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        selection: String?,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        selectionArgs: Array&amp;lt;String&amp;gt;?
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ): Int {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; db = dbHelper.writableDatabase
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; count = &lt;span style=&#34;color:#66d9ef&#34;&gt;when&lt;/span&gt; (uriMatcher.match(uri)) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            USERS &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                db.update(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;users&amp;#34;&lt;/span&gt;, values, selection, selectionArgs)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            USER_ID &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; id = uri.lastPathSegment
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                db.update(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;users&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    values,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;${UserContract.Columns.ID}&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt; = ?&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    arrayOf(id)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;throw&lt;/span&gt; IllegalArgumentException(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Unknown URI: &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;$uri&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (count &amp;gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            context&lt;span style=&#34;color:#f92672&#34;&gt;?.&lt;/span&gt;contentResolver&lt;span style=&#34;color:#f92672&#34;&gt;?.&lt;/span&gt;notifyChange(uri, &lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; count
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// 5. åˆ é™¤æ•°æ®
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;override&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;delete&lt;/span&gt;(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        uri: Uri,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        selection: String?,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        selectionArgs: Array&amp;lt;String&amp;gt;?
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ): Int {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; db = dbHelper.writableDatabase
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; count = &lt;span style=&#34;color:#66d9ef&#34;&gt;when&lt;/span&gt; (uriMatcher.match(uri)) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            USERS &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                db.delete(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;users&amp;#34;&lt;/span&gt;, selection, selectionArgs)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            USER_ID &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; id = uri.lastPathSegment
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                db.delete(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;users&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;${UserContract.Columns.ID}&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt; = ?&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    arrayOf(id)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;throw&lt;/span&gt; IllegalArgumentException(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Unknown URI: &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;$uri&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (count &amp;gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            context&lt;span style=&#34;color:#f92672&#34;&gt;?.&lt;/span&gt;contentResolver&lt;span style=&#34;color:#f92672&#34;&gt;?.&lt;/span&gt;notifyChange(uri, &lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; count
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// 6. è¿”å› MIME ç±»å‹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;override&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;getType&lt;/span&gt;(uri: Uri): String? {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;when&lt;/span&gt; (uriMatcher.match(uri)) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            USERS &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;vnd.android.cursor.dir/vnd.com.example.provider.users&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            USER_ID &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;vnd.android.cursor.item/vnd.com.example.provider.users&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;throw&lt;/span&gt; IllegalArgumentException(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Unknown URI: &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;$uri&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;æ­¥éª¤4æ³¨å†Œprovider&#34;&gt;æ­¥éª¤4:æ³¨å†ŒProvider
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-xml&#34; data-lang=&#34;xml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!-- AndroidManifest.xml --&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;manifest&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;application&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;provider&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;android:name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;.UserProvider&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;android:authorities=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;com.example.provider&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;android:exported=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;true&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;android:permission=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;com.example.READ_USERS&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!-- æˆäºˆå…¶ä»–åº”ç”¨è¯»å†™æƒé™ --&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;grant-uri-permission&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;android:pathPattern=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;/users/.*&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/provider&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/application&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!-- å®šä¹‰æƒé™ --&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;permission&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;android:name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;com.example.READ_USERS&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;android:protectionLevel=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;normal&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;permission&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;android:name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;com.example.WRITE_USERS&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;android:protectionLevel=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;normal&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/manifest&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h4 id=&#34;ä½¿ç”¨contentprovider&#34;&gt;ä½¿ç”¨ContentProvider
&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;æŸ¥è¯¢æ•°æ®&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;MainActivity&lt;/span&gt; : AppCompatActivity() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;queryUsers&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// 1. è·å– ContentResolver
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; resolver = contentResolver
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// 2. æ„å»ºæŸ¥è¯¢
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; uri = &lt;span style=&#34;color:#a6e22e&#34;&gt;Uri&lt;/span&gt;.parse(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;content://com.example.provider/users&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; projection = arrayOf(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;UserContract&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Columns&lt;/span&gt;.ID,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;UserContract&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Columns&lt;/span&gt;.NAME,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;UserContract&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Columns&lt;/span&gt;.EMAIL
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; selection = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;${UserContract.Columns.AGE}&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt; &amp;gt; ?&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; selectionArgs = arrayOf(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;18&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; sortOrder = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;${UserContract.Columns.NAME}&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt; ASC&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// 3. æ‰§è¡ŒæŸ¥è¯¢
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; cursor = resolver.query(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            uri,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            projection,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            selection,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            selectionArgs,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            sortOrder
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// 4. å¤„ç†ç»“æœ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        cursor&lt;span style=&#34;color:#f92672&#34;&gt;?.&lt;/span&gt;use {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;while&lt;/span&gt; (&lt;span style=&#34;color:#66d9ef&#34;&gt;it&lt;/span&gt;.moveToNext()) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; id = &lt;span style=&#34;color:#66d9ef&#34;&gt;it&lt;/span&gt;.getLong(&lt;span style=&#34;color:#66d9ef&#34;&gt;it&lt;/span&gt;.getColumnIndexOrThrow(&lt;span style=&#34;color:#a6e22e&#34;&gt;UserContract&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Columns&lt;/span&gt;.ID))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; name = &lt;span style=&#34;color:#66d9ef&#34;&gt;it&lt;/span&gt;.getString(&lt;span style=&#34;color:#66d9ef&#34;&gt;it&lt;/span&gt;.getColumnIndexOrThrow(&lt;span style=&#34;color:#a6e22e&#34;&gt;UserContract&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Columns&lt;/span&gt;.NAME))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; email = &lt;span style=&#34;color:#66d9ef&#34;&gt;it&lt;/span&gt;.getString(&lt;span style=&#34;color:#66d9ef&#34;&gt;it&lt;/span&gt;.getColumnIndexOrThrow(&lt;span style=&#34;color:#a6e22e&#34;&gt;UserContract&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Columns&lt;/span&gt;.EMAIL))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#a6e22e&#34;&gt;Log&lt;/span&gt;.d(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;User&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;ID: &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;$id&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;, Name: &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;$name&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;, Email: &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;$email&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;æ’å…¥æ•°æ®&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;insertUser&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; resolver = contentResolver
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; uri = &lt;span style=&#34;color:#a6e22e&#34;&gt;Uri&lt;/span&gt;.parse(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;content://com.example.provider/users&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; values = ContentValues().apply {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        put(&lt;span style=&#34;color:#a6e22e&#34;&gt;UserContract&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Columns&lt;/span&gt;.NAME, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Alice&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        put(&lt;span style=&#34;color:#a6e22e&#34;&gt;UserContract&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Columns&lt;/span&gt;.EMAIL, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;alice@example.com&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        put(&lt;span style=&#34;color:#a6e22e&#34;&gt;UserContract&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Columns&lt;/span&gt;.AGE, &lt;span style=&#34;color:#ae81ff&#34;&gt;25&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; newUri = resolver.insert(uri, values)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;Log&lt;/span&gt;.d(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Insert&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;æ–°ç”¨æˆ· URI: &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;$newUri&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;æ›´æ–°æ•°æ®&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;updateUser&lt;/span&gt;(userId: Long) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; resolver = contentResolver
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; uri = &lt;span style=&#34;color:#a6e22e&#34;&gt;ContentUris&lt;/span&gt;.withAppendedId(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;Uri&lt;/span&gt;.parse(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;content://com.example.provider/users&amp;#34;&lt;/span&gt;),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        userId
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; values = ContentValues().apply {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        put(&lt;span style=&#34;color:#a6e22e&#34;&gt;UserContract&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Columns&lt;/span&gt;.EMAIL, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;newemail@example.com&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; count = resolver.update(uri, values, &lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;, &lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;Log&lt;/span&gt;.d(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Update&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;æ›´æ–°äº† &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;$count&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt; æ¡è®°å½•&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;åˆ é™¤æ•°æ®&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;deleteUser&lt;/span&gt;(userId: Long) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; resolver = contentResolver
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; uri = &lt;span style=&#34;color:#a6e22e&#34;&gt;ContentUris&lt;/span&gt;.withAppendedId(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;Uri&lt;/span&gt;.parse(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;content://com.example.provider/users&amp;#34;&lt;/span&gt;),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        userId
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; count = resolver.delete(uri, &lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;, &lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;Log&lt;/span&gt;.d(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Delete&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;åˆ é™¤äº† &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;$count&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt; æ¡è®°å½•&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h4 id=&#34;ç›‘å¬æ•°æ®å˜åŒ–&#34;&gt;ç›‘å¬æ•°æ®å˜åŒ–
&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;ContentObserver&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;MainActivity&lt;/span&gt; : AppCompatActivity() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; userObserver = &lt;span style=&#34;color:#66d9ef&#34;&gt;object&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;: &lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;ContentObserver&lt;/span&gt;(Handler(&lt;span style=&#34;color:#a6e22e&#34;&gt;Looper&lt;/span&gt;.getMainLooper())) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;override&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;onChange&lt;/span&gt;(selfChange: Boolean, uri: Uri?) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;super&lt;/span&gt;.onChange(selfChange, uri)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;Log&lt;/span&gt;.d(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Observer&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;æ•°æ®å˜åŒ–: &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;$uri&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// é‡æ–°æŸ¥è¯¢æ•°æ®
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            queryUsers()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;override&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;onCreate&lt;/span&gt;(savedInstanceState: Bundle?) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;super&lt;/span&gt;.onCreate(savedInstanceState)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// æ³¨å†Œè§‚å¯Ÿè€…
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        contentResolver.registerContentObserver(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;Uri&lt;/span&gt;.parse(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;content://com.example.provider/users&amp;#34;&lt;/span&gt;),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;,  &lt;span style=&#34;color:#75715e&#34;&gt;// ç›‘å¬æ‰€æœ‰å­ URI
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            userObserver
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;override&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;onDestroy&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;super&lt;/span&gt;.onDestroy()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// å–æ¶ˆæ³¨å†Œ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        contentResolver.unregisterContentObserver(userObserver)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h4 id=&#34;æƒé™æ§åˆ¶&#34;&gt;æƒé™æ§åˆ¶
&lt;/h4&gt;&lt;h5 id=&#34;å®šä¹‰æƒé™&#34;&gt;å®šä¹‰æƒé™
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-xml&#34; data-lang=&#34;xml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!-- AndroidManifest.xml --&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;manifest&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!-- å®šä¹‰æƒé™ --&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;permission&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;android:name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;com.example.READ_USERS&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;android:label=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;è¯»å–ç”¨æˆ·æ•°æ®&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;android:description=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;å…è®¸è¯»å–ç”¨æˆ·æ•°æ®&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;android:protectionLevel=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;normal&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;permission&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;android:name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;com.example.WRITE_USERS&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;android:label=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;å†™å…¥ç”¨æˆ·æ•°æ®&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;android:protectionLevel=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;normal&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;application&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;provider&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;android:name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;.UserProvider&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;android:authorities=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;com.example.provider&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;android:exported=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;true&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;android:readPermission=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;com.example.READ_USERS&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;android:writePermission=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;com.example.WRITE_USERS&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/application&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/manifest&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;è¯·æ±‚æƒé™&#34;&gt;è¯·æ±‚æƒé™
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-xml&#34; data-lang=&#34;xml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!-- å…¶ä»–åº”ç”¨çš„ Manifest --&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;manifest&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;uses-permission&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;android:name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;com.example.READ_USERS&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;uses-permission&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;android:name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;com.example.WRITE_USERS&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/manifest&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;ä¸´æ—¶æˆæƒuriæƒé™&#34;&gt;ä¸´æ—¶æˆæƒ(URIæƒé™)
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// æˆäºˆå…¶ä»–åº”ç”¨ä¸´æ—¶è®¿é—®æƒé™
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; intent = Intent(&lt;span style=&#34;color:#a6e22e&#34;&gt;Intent&lt;/span&gt;.ACTION_VIEW)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;intent.&lt;span style=&#34;color:#66d9ef&#34;&gt;data&lt;/span&gt; = &lt;span style=&#34;color:#a6e22e&#34;&gt;Uri&lt;/span&gt;.parse(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;content://com.example.provider/users/1&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;intent.addFlags(&lt;span style=&#34;color:#a6e22e&#34;&gt;Intent&lt;/span&gt;.FLAG_GRANT_READ_URI_PERMISSION)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;startActivity(intent)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
        </item>
        <item>
        <title>Surfaceä½“ç³»æŒ‡å—</title>
        <link>http://localhost:1313/android-develop/surface%E4%BD%93%E7%B3%BB%E6%8C%87%E5%8D%97/</link>
        <pubDate>Sun, 19 Oct 2025 13:50:30 +0800</pubDate>
        
        <guid>http://localhost:1313/android-develop/surface%E4%BD%93%E7%B3%BB%E6%8C%87%E5%8D%97/</guid>
        <description>&lt;h4 id=&#34;ä»€ä¹ˆæ˜¯surface&#34;&gt;ä»€ä¹ˆæ˜¯surfaceï¼Ÿ
&lt;/h4&gt;&lt;h5 id=&#34;é€šä¿—ç†è§£&#34;&gt;é€šä¿—ç†è§£
&lt;/h5&gt;&lt;p&gt;&lt;strong&gt;Surface&lt;/strong&gt; = ä¸€å—ç”¨äºç»˜åˆ¶å†…å®¹çš„â€œç”»å¸ƒâ€&lt;/p&gt;
&lt;p&gt;Androidæœ‰å¤šå±‚å«ä¹‰çš„ Surface æ¦‚å¿µï¼Œå®¹æ˜“æ··æ·†ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åº•å±‚å›¾å½¢ç³»ç»Ÿçš„&lt;strong&gt;Surface&lt;/strong&gt;ï¼ˆæœ¬è´¨ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Material Design&lt;/strong&gt;çš„&lt;strong&gt;Surface&lt;/strong&gt; ï¼ˆè®¾è®¡æ¦‚å¿µï¼‰&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Compose&lt;/strong&gt;çš„&lt;strong&gt;Surface&lt;/strong&gt;ç»„ä»¶ï¼ˆUIç»„ä»¶ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;SurfaceView&lt;/strong&gt;å’Œ&lt;strong&gt;TextureView&lt;/strong&gt;ï¼ˆç‰¹æ®Šè§†å›¾ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h5 id=&#34;å±‚æ¬¡æ¶æ„&#34;&gt;å±‚æ¬¡æ¶æ„
&lt;/h5&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;åº”ç”¨å±‚
  â†“
Material Surface (è®¾è®¡æ¦‚å¿µï¼šèƒŒæ™¯ã€å¡ç‰‡ã€å¯¹è¯æ¡†)
  â†“
UI ç»„ä»¶ (Compose Surface / View / SurfaceView)
  â†“
Android View System / Compose Runtime
  â†“
åº•å±‚ Surface (å®é™…çš„æ¸²æŸ“ç›®æ ‡)
  â†“
SurfaceFlinger (ç³»ç»Ÿåˆæˆå™¨)
  â†“
å±å¹•æ˜¾ç¤º
&lt;/code&gt;&lt;/pre&gt;&lt;hr&gt;
&lt;h4 id=&#34;1-material-design-ä¸­çš„surface&#34;&gt;1. Material Design ä¸­çš„Surface
&lt;/h4&gt;&lt;h5 id=&#34;ä»€ä¹ˆæ˜¯surfaceè®¾è®¡æ¦‚å¿µ&#34;&gt;ä»€ä¹ˆæ˜¯Surfaceï¼ˆè®¾è®¡æ¦‚å¿µï¼‰ï¼Ÿ
&lt;/h5&gt;&lt;p&gt;åœ¨Material Designä¸­ï¼Œ&lt;strong&gt;Surface&lt;/strong&gt;æ˜¯æ‰¿è½½å†…å®¹çš„å®¹å™¨:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ åº”ç”¨èƒŒæ™¯ (Background)        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Surface (å¡ç‰‡)       â”‚   â”‚ â† æœ‰é˜´å½±ã€åœ†è§’
â”‚  â”‚  [å†…å®¹]              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Surface (å¯¹è¯æ¡†)     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
&lt;/code&gt;&lt;/pre&gt;&lt;hr&gt;
&lt;h4 id=&#34;2-composeä¸­çš„surfaceç»„ä»¶&#34;&gt;2. Composeä¸­çš„Surfaceç»„ä»¶
&lt;/h4&gt;&lt;h5 id=&#34;surfaceçš„ä½œç”¨&#34;&gt;Surfaceçš„ä½œç”¨
&lt;/h5&gt;&lt;p&gt;Composeçš„&lt;code&gt;Surface&lt;/code&gt;æ˜¯ä¸€ä¸ªå®¹å™¨ç»„ä»¶ï¼Œæä¾›ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;èƒŒæ™¯è‰²&lt;/li&gt;
&lt;li&gt;å½¢çŠ¶ï¼ˆåœ†è§’ã€åˆ‡è§’ï¼‰&lt;/li&gt;
&lt;li&gt;è¾¹æ¡†&lt;/li&gt;
&lt;li&gt;é˜´å½±/é«˜åº¦&lt;/li&gt;
&lt;li&gt;ç‚¹å‡»æ•ˆæœ&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;åŸºç¡€ç”¨æ³•&#34;&gt;åŸºç¡€ç”¨æ³•
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;import&lt;/span&gt; androidx.compose.material3.Surface
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;import&lt;/span&gt; androidx.compose.material3.MaterialTheme
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;@Composable&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;BasicSurface&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// æœ€ç®€å•çš„ Surface
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    Surface {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        Text(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Hello World&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// è‡ªå®šä¹‰å±æ€§
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    Surface(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        modifier = Modifier
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            .fillMaxWidth()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            .padding(&lt;span style=&#34;color:#ae81ff&#34;&gt;16.&lt;/span&gt;dp),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        color = &lt;span style=&#34;color:#a6e22e&#34;&gt;MaterialTheme&lt;/span&gt;.colorScheme.primaryContainer,     &lt;span style=&#34;color:#75715e&#34;&gt;// èƒŒæ™¯è‰²
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        contentColor = &lt;span style=&#34;color:#a6e22e&#34;&gt;MaterialTheme&lt;/span&gt;.colorScheme.onPrimaryContainer, &lt;span style=&#34;color:#75715e&#34;&gt;// å†…å®¹è‰²
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        tonalElevation = &lt;span style=&#34;color:#ae81ff&#34;&gt;2.&lt;/span&gt;dp,                                  &lt;span style=&#34;color:#75715e&#34;&gt;// é«˜åº¦ï¼ˆå½±å“é¢œè‰²æ·±æµ…ï¼‰
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        shadowElevation = &lt;span style=&#34;color:#ae81ff&#34;&gt;4.&lt;/span&gt;dp,                                 &lt;span style=&#34;color:#75715e&#34;&gt;// é˜´å½±é«˜åº¦
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        shape = RoundedCornerShape(&lt;span style=&#34;color:#ae81ff&#34;&gt;12.&lt;/span&gt;dp),                      &lt;span style=&#34;color:#75715e&#34;&gt;// å½¢çŠ¶
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        border = BorderStroke(&lt;span style=&#34;color:#ae81ff&#34;&gt;1.&lt;/span&gt;dp, &lt;span style=&#34;color:#a6e22e&#34;&gt;Color&lt;/span&gt;.Gray)                 &lt;span style=&#34;color:#75715e&#34;&gt;// è¾¹æ¡†
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    ) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        Column(modifier = &lt;span style=&#34;color:#a6e22e&#34;&gt;Modifier&lt;/span&gt;.padding(&lt;span style=&#34;color:#ae81ff&#34;&gt;16.&lt;/span&gt;dp)) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            Text(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;æ ‡é¢˜&amp;#34;&lt;/span&gt;, style = &lt;span style=&#34;color:#a6e22e&#34;&gt;MaterialTheme&lt;/span&gt;.typography.titleLarge)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            Text(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;å†…å®¹&amp;#34;&lt;/span&gt;, style = &lt;span style=&#34;color:#a6e22e&#34;&gt;MaterialTheme&lt;/span&gt;.typography.bodyMedium)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;surface-vs-box-vs-card&#34;&gt;Surface vs Box vs Card
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// Boxï¼šçº¯å¸ƒå±€å®¹å™¨ï¼Œæ— æ ·å¼
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;Box(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    modifier = Modifier
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        .background(&lt;span style=&#34;color:#a6e22e&#34;&gt;Color&lt;/span&gt;.White)  &lt;span style=&#34;color:#75715e&#34;&gt;// æ‰‹åŠ¨è®¾ç½®èƒŒæ™¯
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        .padding(&lt;span style=&#34;color:#ae81ff&#34;&gt;16.&lt;/span&gt;dp)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    Text(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Content&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// Surfaceï¼šæœ‰èƒŒæ™¯ã€å½¢çŠ¶ã€é«˜åº¦çš„å®¹å™¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;Surface(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    color = &lt;span style=&#34;color:#a6e22e&#34;&gt;MaterialTheme&lt;/span&gt;.colorScheme.surface,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    tonalElevation = &lt;span style=&#34;color:#ae81ff&#34;&gt;2.&lt;/span&gt;dp,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    shape = RoundedCornerShape(&lt;span style=&#34;color:#ae81ff&#34;&gt;8.&lt;/span&gt;dp)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    Text(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Content&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// Cardï¼šé¢„é…ç½®çš„ Surfaceï¼ˆè‡ªå¸¦ paddingã€åœ†è§’ã€é˜´å½±ï¼‰
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;Card(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    modifier = &lt;span style=&#34;color:#a6e22e&#34;&gt;Modifier&lt;/span&gt;.fillMaxWidth()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    Text(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Content&amp;#34;&lt;/span&gt;, modifier = &lt;span style=&#34;color:#a6e22e&#34;&gt;Modifier&lt;/span&gt;.padding(&lt;span style=&#34;color:#ae81ff&#34;&gt;16.&lt;/span&gt;dp))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h6 id=&#34;é€‰æ‹©å»ºè®®&#34;&gt;é€‰æ‹©å»ºè®®
&lt;/h6&gt;&lt;ul&gt;
&lt;li&gt;éœ€è¦è‡ªå®šä¹‰å½¢çŠ¶/é˜´å½± â†’ &lt;code&gt;Surface&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å¡ç‰‡æ ·å¼ â†’ &lt;code&gt;Card&lt;/code&gt;ï¼ˆæœ¬è´¨æ˜¯é¢„è®¾å¥½çš„Surfaceï¼‰&lt;/li&gt;
&lt;li&gt;çº¯å¸ƒå±€ â†’ &lt;code&gt;Box&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;å®æˆ˜å¡ç‰‡åˆ—è¡¨&#34;&gt;å®æˆ˜ï¼šå¡ç‰‡åˆ—è¡¨
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;@Composable&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;ProductCard&lt;/span&gt;(product: Product) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    Surface(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        modifier = Modifier
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            .fillMaxWidth()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            .padding(horizontal = &lt;span style=&#34;color:#ae81ff&#34;&gt;16.&lt;/span&gt;dp, vertical = &lt;span style=&#34;color:#ae81ff&#34;&gt;8.&lt;/span&gt;dp),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        shape = RoundedCornerShape(&lt;span style=&#34;color:#ae81ff&#34;&gt;16.&lt;/span&gt;dp),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        color = &lt;span style=&#34;color:#a6e22e&#34;&gt;MaterialTheme&lt;/span&gt;.colorScheme.surface,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        tonalElevation = &lt;span style=&#34;color:#ae81ff&#34;&gt;2.&lt;/span&gt;dp,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        shadowElevation = &lt;span style=&#34;color:#ae81ff&#34;&gt;4.&lt;/span&gt;dp
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        Row(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            modifier = &lt;span style=&#34;color:#a6e22e&#34;&gt;Modifier&lt;/span&gt;.padding(&lt;span style=&#34;color:#ae81ff&#34;&gt;16.&lt;/span&gt;dp),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            horizontalArrangement = &lt;span style=&#34;color:#a6e22e&#34;&gt;Arrangement&lt;/span&gt;.spacedBy(&lt;span style=&#34;color:#ae81ff&#34;&gt;16.&lt;/span&gt;dp)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        ) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// äº§å“å›¾ç‰‡
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            Surface(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                shape = RoundedCornerShape(&lt;span style=&#34;color:#ae81ff&#34;&gt;8.&lt;/span&gt;dp),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                modifier = &lt;span style=&#34;color:#a6e22e&#34;&gt;Modifier&lt;/span&gt;.size(&lt;span style=&#34;color:#ae81ff&#34;&gt;80.&lt;/span&gt;dp)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            ) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                AsyncImage(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    model = product.imageUrl,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    contentDescription = &lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// äº§å“ä¿¡æ¯
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            Column(modifier = &lt;span style=&#34;color:#a6e22e&#34;&gt;Modifier&lt;/span&gt;.weight(&lt;span style=&#34;color:#ae81ff&#34;&gt;1f&lt;/span&gt;)) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                Text(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    text = product.name,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    style = &lt;span style=&#34;color:#a6e22e&#34;&gt;MaterialTheme&lt;/span&gt;.typography.titleMedium
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                Text(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    text = product.description,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    style = &lt;span style=&#34;color:#a6e22e&#34;&gt;MaterialTheme&lt;/span&gt;.typography.bodySmall,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    color = &lt;span style=&#34;color:#a6e22e&#34;&gt;MaterialTheme&lt;/span&gt;.colorScheme.onSurfaceVariant
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                Text(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    text = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;$&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;${product.price}&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    style = &lt;span style=&#34;color:#a6e22e&#34;&gt;MaterialTheme&lt;/span&gt;.typography.titleLarge,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    color = &lt;span style=&#34;color:#a6e22e&#34;&gt;MaterialTheme&lt;/span&gt;.colorScheme.primary
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h4 id=&#34;3-ä¼ ç»Ÿviewä¸­çš„surface&#34;&gt;3. ä¼ ç»ŸViewä¸­çš„Surface
&lt;/h4&gt;&lt;h5 id=&#34;materialcardviewå¸¸ç”¨&#34;&gt;MaterialCardView(å¸¸ç”¨)
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-xml&#34; data-lang=&#34;xml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!-- res/layout/item_card.xml --&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;com.google.android.material.card.MaterialCardView&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;android:layout_width=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;match_parent&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;android:layout_height=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;wrap_content&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;app:cardBackgroundColor=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;?attr/colorSurface&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;app:cardElevation=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;4dp&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;app:cardCornerRadius=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;12dp&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;app:strokeColor=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;?attr/colorOutline&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;app:strokeWidth=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;1dp&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;LinearLayout&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;android:layout_width=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;match_parent&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;android:layout_height=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;wrap_content&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;android:orientation=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;vertical&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;android:padding=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;16dp&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;TextView&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;android:layout_width=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;wrap_content&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;android:layout_height=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;wrap_content&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;android:text=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;æ ‡é¢˜&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;android:textColor=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;?attr/colorOnSurface&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;android:textAppearance=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;?attr/textAppearanceTitleMedium&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;TextView&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;android:layout_width=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;wrap_content&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;android:layout_height=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;wrap_content&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;android:layout_marginTop=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;8dp&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;android:text=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;å†…å®¹&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;android:textColor=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;?attr/colorOnSurfaceVariant&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;android:textAppearance=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;?attr/textAppearanceBodyMedium&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/LinearLayout&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/com.google.android.material.card.MaterialCardView&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;å¯¹è¯æ¡†dialogfragment&#34;&gt;å¯¹è¯æ¡†ï¼ˆDialogFragmentï¼‰
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;MyDialogFragment&lt;/span&gt; : DialogFragment() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;override&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;onCreateDialog&lt;/span&gt;(savedInstanceState: Bundle?): Dialog {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; MaterialAlertDialogBuilder(requireContext())
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            .setTitle(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;æ ‡é¢˜&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            .setMessage(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;æ¶ˆæ¯å†…å®¹&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            .setPositiveButton(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;ç¡®å®š&amp;#34;&lt;/span&gt;) { _, _ &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            .setNegativeButton(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;å–æ¶ˆ&amp;#34;&lt;/span&gt;) { _, _ &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            .create()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// å¯¹è¯æ¡†è‡ªåŠ¨ä½¿ç”¨ ?attr/colorSurface ä½œä¸ºèƒŒæ™¯
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h4 id=&#34;4-åº•å±‚surfacesurfaceview--textureview&#34;&gt;4. åº•å±‚Surfaceï¼ˆSurfaceView / TextureViewï¼‰
&lt;/h4&gt;&lt;h5 id=&#34;ä»€ä¹ˆæ—¶å€™ç”¨&#34;&gt;ä»€ä¹ˆæ—¶å€™ç”¨
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;View&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;æ™®é€šUI&lt;/li&gt;
&lt;li&gt;æ€§èƒ½ä¸€èˆ¬&lt;/li&gt;
&lt;li&gt;ä¸»çº¿ç¨‹ç»˜åˆ¶&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;SurfaceView&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;è§†é¢‘æ’­æ”¾ã€ç›¸æœºé¢„è§ˆ&lt;/li&gt;
&lt;li&gt;æ€§èƒ½é«˜&lt;/li&gt;
&lt;li&gt;ç‹¬ç«‹Surfaceï¼Œåå°çº¿ç¨‹ç»˜åˆ¶&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;TextureView&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;éœ€è¦åŠ¨ç”»/å˜æ¢çš„è§†é¢‘&lt;/li&gt;
&lt;li&gt;æ€§èƒ½ä¸­ç­‰&lt;/li&gt;
&lt;li&gt;å¯ä»¥åšåŠ¨ç”»ï¼Œä½†æ€§èƒ½è¾ƒä½&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;surfaceviewç¤ºä¾‹&#34;&gt;SurfaceViewç¤ºä¾‹
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;VideoPlayerActivity&lt;/span&gt; : AppCompatActivity() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;lateinit&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;var&lt;/span&gt; surfaceView: SurfaceView
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;var&lt;/span&gt; mediaPlayer: MediaPlayer? = &lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;override&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;onCreate&lt;/span&gt;(savedInstanceState: Bundle?) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;super&lt;/span&gt;.onCreate(savedInstanceState)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        surfaceView = SurfaceView(&lt;span style=&#34;color:#66d9ef&#34;&gt;this&lt;/span&gt;).apply {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            layoutParams = &lt;span style=&#34;color:#a6e22e&#34;&gt;ViewGroup&lt;/span&gt;.LayoutParams(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#a6e22e&#34;&gt;ViewGroup&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;LayoutParams&lt;/span&gt;.MATCH_PARENT,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#a6e22e&#34;&gt;ViewGroup&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;LayoutParams&lt;/span&gt;.MATCH_PARENT
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        setContentView(surfaceView)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// ç›‘å¬ Surface åˆ›å»º
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        surfaceView.holder.addCallback(&lt;span style=&#34;color:#66d9ef&#34;&gt;object&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;: &lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;SurfaceHolder&lt;/span&gt;.Callback {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;override&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;surfaceCreated&lt;/span&gt;(holder: SurfaceHolder) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#75715e&#34;&gt;// Surface å‡†å¤‡å¥½äº†ï¼Œå¼€å§‹æ’­æ”¾
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;                mediaPlayer = MediaPlayer().apply {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    setDataSource(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;https://example.com/video.mp4&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    setDisplay(holder)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    prepareAsync()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    setOnPreparedListener { start() }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;override&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;surfaceChanged&lt;/span&gt;(holder: SurfaceHolder, format: Int, width: Int, height: Int) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#75715e&#34;&gt;// Surface å¤§å°æ”¹å˜
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;override&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;surfaceDestroyed&lt;/span&gt;(holder: SurfaceHolder) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#75715e&#34;&gt;// Surface é”€æ¯ï¼Œé‡Šæ”¾èµ„æº
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;                mediaPlayer&lt;span style=&#34;color:#f92672&#34;&gt;?.&lt;/span&gt;release()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                mediaPlayer = &lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        })
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;surfaceview-vs-textureview&#34;&gt;SurfaceView vs TextureView
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// SurfaceViewï¼šæ€§èƒ½æœ€å¥½ï¼Œä½†ä¸èƒ½åšåŠ¨ç”»
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; surfaceView = SurfaceView(context)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// âœ… é€‚åˆï¼šè§†é¢‘æ’­æ”¾ã€ç›¸æœºé¢„è§ˆã€æ¸¸æˆ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// âŒ ä¸é€‚åˆï¼šéœ€è¦é€æ˜åº¦ã€æ—‹è½¬ã€ç¼©æ”¾åŠ¨ç”»
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// TextureViewï¼šå¯ä»¥åšåŠ¨ç”»ï¼Œä½†æ€§èƒ½è¾ƒä½
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; textureView = TextureView(context)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;textureView.alpha = &lt;span style=&#34;color:#ae81ff&#34;&gt;0.5f&lt;/span&gt;              &lt;span style=&#34;color:#75715e&#34;&gt;// âœ… å¯ä»¥è®¾ç½®é€æ˜åº¦
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;textureView.rotation = &lt;span style=&#34;color:#ae81ff&#34;&gt;45f&lt;/span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// âœ… å¯ä»¥æ—‹è½¬
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// âœ… é€‚åˆï¼šéœ€è¦åŠ¨ç”»æ•ˆæœçš„è§†é¢‘
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// âŒ ä¸é€‚åˆï¼šè¿½æ±‚æè‡´æ€§èƒ½çš„åœºæ™¯
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;composeä¸­ä½¿ç”¨surfaceview&#34;&gt;Composeä¸­ä½¿ç”¨SurfaceView
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;@Composable&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;VideoPlayer&lt;/span&gt;(videoUrl: String) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    AndroidView(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        factory = { context &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            SurfaceView(context).apply {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                holder.addCallback(&lt;span style=&#34;color:#66d9ef&#34;&gt;object&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;: &lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;SurfaceHolder&lt;/span&gt;.Callback {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#66d9ef&#34;&gt;override&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;surfaceCreated&lt;/span&gt;(holder: SurfaceHolder) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                        &lt;span style=&#34;color:#75715e&#34;&gt;// åˆå§‹åŒ–è§†é¢‘æ’­æ”¾å™¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;                    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#66d9ef&#34;&gt;override&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;surfaceChanged&lt;/span&gt;(holder: SurfaceHolder, format: Int, width: Int, height: Int) {}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#66d9ef&#34;&gt;override&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;surfaceDestroyed&lt;/span&gt;(holder: SurfaceHolder) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                        &lt;span style=&#34;color:#75715e&#34;&gt;// æ¸…ç†èµ„æº
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;                    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                })
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        },
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        modifier = &lt;span style=&#34;color:#a6e22e&#34;&gt;Modifier&lt;/span&gt;.fillMaxSize()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h4 id=&#34;5-åº•å±‚surfaceå·¥ä½œåŸç†&#34;&gt;5. åº•å±‚Surfaceå·¥ä½œåŸç†
&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;Surface&lt;/strong&gt;çš„æœ¬è´¨&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;åº”ç”¨è¿›ç¨‹                     ç³»ç»Ÿè¿›ç¨‹
   â†“                           â†“
Canvas.draw()              SurfaceFlinger
   â†“                           â†“
 Surface â†â”€â”€â”€â”€â”€å…±äº«å†…å­˜â”€â”€â”€â”€â”€â”€â”€â†’ Surface
   â†“                           â†“
å†™å…¥åƒç´ æ•°æ®                  è¯»å–åƒç´ æ•°æ®
                               â†“
                          åˆæˆåˆ°å±å¹•
&lt;/code&gt;&lt;/pre&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;Surface = {
    SharedBuffer (å…±äº«å†…å­˜)
    + å…ƒæ•°æ® (å®½åº¦ã€é«˜åº¦ã€æ ¼å¼ã€Z-order)
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å…³é”®ç‚¹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ¯ä¸ªWindowæœ‰ä¸€ä¸ªSurface&lt;/li&gt;
&lt;li&gt;SurfaceViewä¼šåˆ›å»ºç‹¬ç«‹çš„Surfaceï¼ˆä¸åœ¨ä¸»Windowä¸Šï¼‰&lt;/li&gt;
&lt;li&gt;SurfaceFlingerè´Ÿè´£åˆæˆæ‰€æœ‰Surface&lt;/li&gt;
&lt;li&gt;Surfaceé€šè¿‡å…±äº«å†…å­˜ä¼ é€’æ•°æ®ï¼Œé¿å…æ‹·è´&lt;/li&gt;
&lt;/ol&gt;
&lt;h5 id=&#34;ä¸ºä»€ä¹ˆsurfaceviewæ€§èƒ½é«˜&#34;&gt;ä¸ºä»€ä¹ˆSurfaceViewæ€§èƒ½é«˜ï¼Ÿ
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;æ™®é€š View&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;ï¼š&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;ä¸»çº¿ç¨‹ç»˜åˆ¶ &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â†’&lt;/span&gt; ç­‰å¾… VSync &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â†’&lt;/span&gt; æ˜¾ç¤º
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â†‘&lt;/span&gt; é˜»å¡ä¸»çº¿ç¨‹
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;SurfaceView&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;ï¼š&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;åå°çº¿ç¨‹ç»˜åˆ¶ &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â†’&lt;/span&gt; ç›´æ¥æäº¤ç»™ SurfaceFlinger &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â†’&lt;/span&gt; æ˜¾ç¤º
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;ä¸»çº¿ç¨‹ç»§ç»­å¤„ç† UI
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;SurfaceFlinger&lt;/strong&gt;: ç³»ç»Ÿåˆæˆå™¨ï¼Œåˆæˆæ‰€æœ‰åº”ç”¨çš„ç”»é¢&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Surface&lt;/strong&gt;ï¼šå…±äº«å†…å­˜ï¼Œåº”ç”¨å†™å…¥ï¼Œç³»ç»Ÿè¯»å–&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Window&lt;/strong&gt;ï¼šçª—å£æŠ½è±¡ï¼Œç®¡ç†Surfaceå’Œè¾“å…¥äº‹ä»¶&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Canvas&lt;/strong&gt;ï¼šç»˜åˆ¶APIï¼Œæä¾›ç”»å›¾æ–¹æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
</description>
        </item>
        <item>
        <title>Window InsetsæŒ‡å—</title>
        <link>http://localhost:1313/android-develop/window-insets%E6%8C%87%E5%8D%97/</link>
        <pubDate>Fri, 17 Oct 2025 12:07:34 +0800</pubDate>
        
        <guid>http://localhost:1313/android-develop/window-insets%E6%8C%87%E5%8D%97/</guid>
        <description>&lt;h4 id=&#34;ä»€ä¹ˆæ˜¯window-insets&#34;&gt;ä»€ä¹ˆæ˜¯Window Insetsï¼Ÿ
&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;Window Insets&lt;/strong&gt; = ç³»ç»Ÿ&lt;strong&gt;UI&lt;/strong&gt;å ç”¨çš„å±å¹•åŒºåŸŸä¿¡æ¯&lt;/p&gt;
&lt;p&gt;æƒ³è±¡ä½ çš„åº”ç”¨æ˜¯ä¸€å¼ ç”»å¸ƒï¼Œä½†æœ‰äº›åŒºåŸŸè¢«ç³»ç»ŸUIâ€œä¾µå â€äº†ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é¡¶éƒ¨çš„&lt;strong&gt;çŠ¶æ€æ &lt;/strong&gt;(æ—¶é—´ã€ç”µé‡ã€ä¿¡å·)&lt;/li&gt;
&lt;li&gt;åº•éƒ¨çš„&lt;strong&gt;å¯¼èˆªæ &lt;/strong&gt;(è¿”å›ã€Homeã€å¤šä»»åŠ¡)&lt;/li&gt;
&lt;li&gt;åˆ˜æµ·å±çš„&lt;strong&gt;å‡¹å£&lt;/strong&gt;(notch)&lt;/li&gt;
&lt;li&gt;æŠ˜å å±çš„&lt;strong&gt;æŠ˜ç—•&lt;/strong&gt;(hinge)&lt;/li&gt;
&lt;li&gt;è½¯é”®ç›˜(&lt;strong&gt;IME&lt;/strong&gt;)å¼¹å‡ºæ—¶&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Window Insets&lt;/strong&gt;å°±æ˜¯å‘Šè¯‰ä½ è¿™äº›åŒºåŸŸçš„ä½ç½®å’Œå¤§å°ï¼Œè®©ä½ å†³å®šå¦‚ä½•å¤„ç†&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;ç³»ç»Ÿé»˜è®¤å¤„ç†&#34;&gt;ç³»ç»Ÿé»˜è®¤å¤„ç†
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// é»˜è®¤æƒ…å†µï¼ˆå¤§å¤šæ•°åº”ç”¨ï¼‰
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;setContentView(&lt;span style=&#34;color:#a6e22e&#34;&gt;R&lt;/span&gt;.layout.activity_main)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// ç³»ç»Ÿè‡ªåŠ¨åšäº†è¿™äº›ï¼š
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// 1. å†…å®¹è‡ªåŠ¨é¿å¼€çŠ¶æ€æ 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// 2. å†…å®¹è‡ªåŠ¨é¿å¼€å¯¼èˆªæ 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// 3. æ„Ÿè§‰ä¸åˆ° Insets çš„å­˜åœ¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;ä»€ä¹ˆæ—¶å€™å¿…é¡»å…³å¿ƒinsets&#34;&gt;ä»€ä¹ˆæ—¶å€™å¿…é¡»å…³å¿ƒInsetsï¼Ÿ
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;å…¨å±æ²‰æµ¸å¼ä½“éªŒ
&lt;ul&gt;
&lt;li&gt;å†…å®¹å»¶ä¼¸åˆ°çŠ¶æ€æ /å¯¼èˆªæ ä¸‹æ–¹ï¼ˆå¦‚è§†é¢‘æ’­æ”¾å™¨ï¼‰&lt;/li&gt;
&lt;li&gt;é€æ˜çŠ¶æ€æ /å¯¼èˆªæ &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;è‡ªå®šä¹‰è¾¹è·å¤„ç†
&lt;ul&gt;
&lt;li&gt;FABæŒ‰é’®è¦é¿å¼€å¯¼èˆªæ &lt;/li&gt;
&lt;li&gt;åº•éƒ¨å¯¼èˆªæ è¦è´´åˆå±å¹•åº•éƒ¨&lt;/li&gt;
&lt;li&gt;å†…å®¹è¦é¿å¼€åˆ˜æµ·å±å‡¹å£&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;é”®ç›˜å¤„ç†
&lt;ul&gt;
&lt;li&gt;èŠå¤©ç•Œé¢ï¼Œè¾“å…¥æ¡†è·Ÿéšé”®ç›˜ä¸Šç§»&lt;/li&gt;
&lt;li&gt;ç™»å½•è¡¨å•ï¼Œé¿å…è¢«é”®ç›˜é®æŒ¡&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ç‰¹æ®Šè®¾å¤‡é€‚é…
&lt;ul&gt;
&lt;li&gt;æŠ˜å å±ã€åˆ˜æµ·å±ã€æŒ–å­”å±&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h4 id=&#34;insetsçš„ç±»å‹&#34;&gt;Insetsçš„ç±»å‹
&lt;/h4&gt;&lt;h5 id=&#34;1-system-bars-insets-ç³»ç»Ÿæ &#34;&gt;1. System Bars Insets (ç³»ç»Ÿæ )
&lt;/h5&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   çŠ¶æ€æ  (24dp)      â”‚ â† Status Bar
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                     â”‚
â”‚                     â”‚
â”‚   ä½ çš„å†…å®¹åŒºåŸŸ        â”‚
â”‚                     â”‚
â”‚                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   å¯¼èˆªæ  (48dp)      â”‚ â† Navigation Bar
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
&lt;/code&gt;&lt;/pre&gt;&lt;h5 id=&#34;2-display-cutout-insets-åˆ˜æµ·æŒ–å­”&#34;&gt;2. Display Cutout Insets (åˆ˜æµ·/æŒ–å­”)
&lt;/h5&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;		â”Œâ”€â”€â”  åˆ˜æµ·
â”Œâ”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                â”‚
â”‚   å†…å®¹åŒºåŸŸ      â”‚
â”‚                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
&lt;/code&gt;&lt;/pre&gt;&lt;h5 id=&#34;3-ime-insetsè½¯é”®ç›˜&#34;&gt;3. IME Insets(è½¯é”®ç›˜)
&lt;/h5&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   å†…å®¹åŒºåŸŸ      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   [è¾“å…¥æ¡†]      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   è½¯é”®ç›˜        â”‚ â† IME (Input Method Editor)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
&lt;/code&gt;&lt;/pre&gt;&lt;h5 id=&#34;4-system-gestures-insets-æ‰‹åŠ¿åŒºåŸŸ&#34;&gt;4. System Gestures Insets (æ‰‹åŠ¿åŒºåŸŸ)
&lt;/h5&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â† è¾¹ç¼˜æ»‘åŠ¨æ‰‹åŠ¿  â”‚ â† å·¦è¾¹ç¼˜
â”‚                â”‚
â”‚                â”‚
â”‚  è¾¹ç¼˜æ»‘åŠ¨æ‰‹åŠ¿ â†’ â”‚ â† å³è¾¹ç¼˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
&lt;/code&gt;&lt;/pre&gt;&lt;hr&gt;
&lt;h4 id=&#34;å®æˆ˜åœºæ™¯&#34;&gt;å®æˆ˜åœºæ™¯
&lt;/h4&gt;&lt;h5 id=&#34;åœºæ™¯1-é»˜è®¤æƒ…å†µä¸éœ€è¦å¤„ç†insets&#34;&gt;åœºæ™¯1: é»˜è®¤æƒ…å†µï¼ˆä¸éœ€è¦å¤„ç†Insetsï¼‰
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// activity_main.xml
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&amp;lt;LinearLayout
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    android:layout_width=&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;match_parent&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    android:layout_height=&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;match_parent&amp;#34;&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &amp;lt;TextView
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        android:text=&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Hello World&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        android:layout_width=&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;wrap_content&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        android:layout_height=&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;wrap_content&amp;#34;&lt;/span&gt; /&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;lt;/LinearLayout&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// MainActivity.kt
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;MainActivity&lt;/span&gt; : AppCompatActivity() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;override&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;onCreate&lt;/span&gt;(savedInstanceState: Bundle?) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;super&lt;/span&gt;.onCreate(savedInstanceState)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        setContentView(&lt;span style=&#34;color:#a6e22e&#34;&gt;R&lt;/span&gt;.layout.activity_main)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// ç³»ç»Ÿè‡ªåŠ¨å¤„ç†ï¼Œå†…å®¹é¿å¼€ç³»ç»Ÿæ  âœ…
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç»“æœï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ çŠ¶æ€æ  (è‡ªåŠ¨é¿å¼€) â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Hello World     â”‚ â† å†…å®¹ä»è¿™é‡Œå¼€å§‹
â”‚                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å¯¼èˆªæ  (è‡ªåŠ¨é¿å¼€) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
&lt;/code&gt;&lt;/pre&gt;&lt;hr&gt;
&lt;h5 id=&#34;åœºæ™¯2-å…¨å±æ²‰æµ¸å¼é€æ˜çŠ¶æ€æ &#34;&gt;åœºæ™¯2: å…¨å±æ²‰æµ¸å¼ï¼ˆé€æ˜çŠ¶æ€æ ï¼‰
&lt;/h5&gt;&lt;p&gt;éœ€æ±‚ï¼šçŠ¶æ€æ é€æ˜ï¼Œå†…å®¹å»¶ä¼¸åˆ°çŠ¶æ€æ ä¸‹æ–¹&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// MainActivity.kt
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;MainActivity&lt;/span&gt; : AppCompatActivity() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;override&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;onCreate&lt;/span&gt;(savedInstanceState: Bundle?) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;super&lt;/span&gt;.onCreate(savedInstanceState)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// 1. å¯ç”¨ Edge-to-Edgeï¼ˆå†…å®¹å»¶ä¼¸åˆ°è¾¹ç¼˜ï¼‰
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;WindowCompat&lt;/span&gt;.setDecorFitsSystemWindows(window, &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        setContentView(&lt;span style=&#34;color:#a6e22e&#34;&gt;R&lt;/span&gt;.layout.activity_main)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// 2. è®¾ç½®é€æ˜çŠ¶æ€æ 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        window.statusBarColor = &lt;span style=&#34;color:#a6e22e&#34;&gt;Color&lt;/span&gt;.TRANSPARENT
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        window.navigationBarColor = &lt;span style=&#34;color:#a6e22e&#34;&gt;Color&lt;/span&gt;.TRANSPARENT
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// 3. æ‰‹åŠ¨å¤„ç† Insets
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;ViewCompat&lt;/span&gt;.setOnApplyWindowInsetsListener(findViewById(&lt;span style=&#34;color:#a6e22e&#34;&gt;R&lt;/span&gt;.id.root)) { view, insets &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; systemBars = insets.getInsets(&lt;span style=&#34;color:#a6e22e&#34;&gt;WindowInsetsCompat&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Type&lt;/span&gt;.systemBars())
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// ç»™æ ¹å¸ƒå±€æ·»åŠ  paddingï¼Œé¿å¼€ç³»ç»Ÿæ 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            view.updatePadding(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                top = systemBars.top,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                bottom = systemBars.bottom
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            insets
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-xml&#34; data-lang=&#34;xml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!-- activity_main.xml --&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;LinearLayout&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;android:id=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;@+id/root&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;android:layout_width=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;match_parent&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;android:layout_height=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;match_parent&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;android:background=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;@drawable/gradient_background&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!-- å†…å®¹ä¼šå»¶ä¼¸åˆ°çŠ¶æ€æ ä¸‹æ–¹ï¼Œä½†æœ‰ padding é¿å¼€ --&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;TextView&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;android:text=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Hello World&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;android:layout_width=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;wrap_content&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;android:layout_height=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;wrap_content&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/LinearLayout&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç»“æœï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [é€æ˜çŠ¶æ€æ ]     â”‚ â† èƒŒæ™¯è‰²é€è¿‡çŠ¶æ€æ å¯è§
â”‚ Hello World     â”‚ â† padding é¿å¼€äº†çŠ¶æ€æ 
â”‚                 â”‚
â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
&lt;/code&gt;&lt;/pre&gt;&lt;hr&gt;
&lt;h5 id=&#34;åœºæ™¯3-åº•éƒ¨æŒ‰é’®è´´åˆå¯¼èˆªæ &#34;&gt;åœºæ™¯3: åº•éƒ¨æŒ‰é’®è´´åˆå¯¼èˆªæ 
&lt;/h5&gt;&lt;p&gt;éœ€æ±‚ï¼šFABæŒ‰é’®è¦åœ¨å¯¼èˆªæ ä¸Šæ–¹ï¼Œä¸è¢«é®æŒ¡&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-xml&#34; data-lang=&#34;xml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!-- activity_main.xml --&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;androidx.coordinatorlayout.widget.CoordinatorLayout&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;android:id=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;@+id/root&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;android:layout_width=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;match_parent&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;android:layout_height=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;match_parent&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;com.google.android.material.floatingactionbutton.FloatingActionButton&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;android:id=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;@+id/fab&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;android:layout_width=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;wrap_content&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;android:layout_height=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;wrap_content&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;android:layout_gravity=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;bottom|end&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;android:layout_margin=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;16dp&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;MainActivity&lt;/span&gt; : AppCompatActivity() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;override&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;onCreate&lt;/span&gt;(savedInstanceState: Bundle?) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;super&lt;/span&gt;.onCreate(savedInstanceState)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;WindowCompat&lt;/span&gt;.setDecorFitsSystemWindows(window, &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        setContentView(&lt;span style=&#34;color:#a6e22e&#34;&gt;R&lt;/span&gt;.layout.activity_main)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; fab = findViewById&amp;lt;FloatingActionButton&amp;gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;R&lt;/span&gt;.id.fab)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;ViewCompat&lt;/span&gt;.setOnApplyWindowInsetsListener(fab) { view, insets &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; systemBars = insets.getInsets(&lt;span style=&#34;color:#a6e22e&#34;&gt;WindowInsetsCompat&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Type&lt;/span&gt;.systemBars())
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// FAB çš„ bottom margin è¦åŠ ä¸Šå¯¼èˆªæ é«˜åº¦
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; layoutParams = view.layoutParams &lt;span style=&#34;color:#66d9ef&#34;&gt;as&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;ViewGroup&lt;/span&gt;.MarginLayoutParams
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            layoutParams.bottomMargin = &lt;span style=&#34;color:#ae81ff&#34;&gt;16.&lt;/span&gt;dp + systemBars.bottom
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            view.layoutParams = layoutParams
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            insets
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç»“æœï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 â”‚
â”‚                 â”‚
â”‚                 â”‚
â”‚            [FAB]â”‚ â† è‡ªåŠ¨é¿å¼€å¯¼èˆªæ 
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   å¯¼èˆªæ          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
&lt;/code&gt;&lt;/pre&gt;&lt;hr&gt;
&lt;h5 id=&#34;åœºæ™¯4-èŠå¤©ç•Œé¢è·Ÿéšé”®ç›˜&#34;&gt;åœºæ™¯4: èŠå¤©ç•Œé¢è·Ÿéšé”®ç›˜
&lt;/h5&gt;&lt;p&gt;éœ€æ±‚ï¼šè¾“å…¥æ¡†è·Ÿéšé”®ç›˜ä¸Šç§»ï¼Œä¸è¢«é®æŒ¡&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-xml&#34; data-lang=&#34;xml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!-- activity_chat.xml --&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;androidx.constraintlayout.widget.ConstraintLayout&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;android:id=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;@+id/root&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;android:layout_width=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;match_parent&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;android:layout_height=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;match_parent&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;androidx.recyclerview.widget.RecyclerView&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;android:id=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;@+id/messages&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;android:layout_width=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;match_parent&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;android:layout_height=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;0dp&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;app:layout_constraintTop_toTopOf=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;parent&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;app:layout_constraintBottom_toTopOf=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;@id/input_layout&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;LinearLayout&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;android:id=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;@+id/input_layout&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;android:layout_width=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;match_parent&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;android:layout_height=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;wrap_content&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;android:background=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;@color/surface&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;app:layout_constraintBottom_toBottomOf=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;parent&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;EditText&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;android:id=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;@+id/input&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;android:layout_width=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;0dp&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;android:layout_weight=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;1&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;android:layout_height=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;wrap_content&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;android:hint=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;è¾“å…¥æ¶ˆæ¯...&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;ImageButton&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;android:id=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;@+id/send&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;android:layout_width=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;wrap_content&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;android:layout_height=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;wrap_content&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;android:src=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;@drawable/ic_send&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/LinearLayout&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/androidx.constraintlayout.widget.ConstraintLayout&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;ChatActivity&lt;/span&gt; : AppCompatActivity() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;override&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;onCreate&lt;/span&gt;(savedInstanceState: Bundle?) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;super&lt;/span&gt;.onCreate(savedInstanceState)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// å…³é”®ï¼šè®©çª—å£ä¸è‡ªåŠ¨è°ƒæ•´å¤§å°
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;WindowCompat&lt;/span&gt;.setDecorFitsSystemWindows(window, &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        setContentView(&lt;span style=&#34;color:#a6e22e&#34;&gt;R&lt;/span&gt;.layout.activity_chat)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; inputLayout = findViewById&amp;lt;LinearLayout&amp;gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;R&lt;/span&gt;.id.input_layout)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// ç›‘å¬ IMEï¼ˆé”®ç›˜ï¼‰Insets
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;ViewCompat&lt;/span&gt;.setOnApplyWindowInsetsListener(inputLayout) { view, insets &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; imeInsets = insets.getInsets(&lt;span style=&#34;color:#a6e22e&#34;&gt;WindowInsetsCompat&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Type&lt;/span&gt;.ime())
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; systemBars = insets.getInsets(&lt;span style=&#34;color:#a6e22e&#34;&gt;WindowInsetsCompat&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Type&lt;/span&gt;.systemBars())
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// è¾“å…¥æ¡†è·Ÿéšé”®ç›˜ä¸Šç§»
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            view.updatePadding(bottom = imeInsets.bottom.coerceAtLeast(systemBars.bottom))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            insets
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç»“æœï¼ˆé”®ç›˜å¼¹å‡ºæ—¶ï¼‰ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ¶ˆæ¯åˆ—è¡¨         â”‚
â”‚ è‡ªåŠ¨æ»šåŠ¨         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [è¾“å…¥æ¡†] [å‘é€]  â”‚ â† è·Ÿéšé”®ç›˜ä¸Šç§»
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   è½¯é”®ç›˜         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
&lt;/code&gt;&lt;/pre&gt;&lt;hr&gt;
&lt;h4 id=&#34;composeä¸­çš„insets&#34;&gt;Composeä¸­çš„Insets
&lt;/h4&gt;&lt;p&gt;Composeæä¾›äº†æ›´ç®€å•çš„APIï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// build.gradle.kts
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;implementation(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;androidx.compose.foundation:foundation:1.7.5&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// MainActivity.kt
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;MainActivity&lt;/span&gt; : ComponentActivity() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;override&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;onCreate&lt;/span&gt;(savedInstanceState: Bundle?) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;super&lt;/span&gt;.onCreate(savedInstanceState)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// å¯ç”¨ Edge-to-Edge
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;WindowCompat&lt;/span&gt;.setDecorFitsSystemWindows(window, &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        setContent {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            MyAppTheme {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                ChatScreen()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;@Composable&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;ChatScreen&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    Scaffold(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// è‡ªåŠ¨å¤„ç† Insets
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        contentWindowInsets = &lt;span style=&#34;color:#a6e22e&#34;&gt;WindowInsets&lt;/span&gt;.systemBars
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ) { paddingValues &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        Column(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            modifier = Modifier
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                .fillMaxSize()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                .padding(paddingValues) &lt;span style=&#34;color:#75715e&#34;&gt;// è‡ªåŠ¨é¿å¼€ç³»ç»Ÿæ 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        ) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            MessageList(modifier = &lt;span style=&#34;color:#a6e22e&#34;&gt;Modifier&lt;/span&gt;.weight(&lt;span style=&#34;color:#ae81ff&#34;&gt;1f&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            InputBar(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                modifier = Modifier
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#75715e&#34;&gt;// è‡ªåŠ¨è·Ÿéšé”®ç›˜
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;                    .imePadding()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;@Composable&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;InputBar&lt;/span&gt;(modifier: Modifier = Modifier) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    Row(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        modifier = modifier
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            .fillMaxWidth()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            .background(&lt;span style=&#34;color:#a6e22e&#34;&gt;MaterialTheme&lt;/span&gt;.colorScheme.surface)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            .padding(&lt;span style=&#34;color:#ae81ff&#34;&gt;8.&lt;/span&gt;dp)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        TextField(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;value&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            onValueChange = {},
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            modifier = &lt;span style=&#34;color:#a6e22e&#34;&gt;Modifier&lt;/span&gt;.weight(&lt;span style=&#34;color:#ae81ff&#34;&gt;1f&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        IconButton(onClick = {}) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            Icon(&lt;span style=&#34;color:#a6e22e&#34;&gt;Icons&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Default&lt;/span&gt;.Send, contentDescription = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;å‘é€&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;compose-insets-å¸¸ç”¨modifier&#34;&gt;Compose Insets å¸¸ç”¨Modifier
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// 1. é¿å¼€ç³»ç»Ÿæ 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;Modifier&lt;/span&gt;.systemBarsPadding()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// 2. åªé¿å¼€çŠ¶æ€æ 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;Modifier&lt;/span&gt;.statusBarsPadding()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// 3. åªé¿å¼€å¯¼èˆªæ 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;Modifier&lt;/span&gt;.navigationBarsPadding()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// 4. è·Ÿéšé”®ç›˜
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;Modifier&lt;/span&gt;.imePadding()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// 5. é¿å¼€åˆ˜æµ·å±
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;Modifier&lt;/span&gt;.displayCutoutPadding()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// 6. ç»„åˆä½¿ç”¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;Modifier
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    .statusBarsPadding()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    .navigationBarsPadding()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    .imePadding()
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h4 id=&#34;å¸¸è§é—®é¢˜&#34;&gt;å¸¸è§é—®é¢˜
&lt;/h4&gt;&lt;h5 id=&#34;1-ä¸ºä»€ä¹ˆæˆ‘çš„å†…å®¹è¢«çŠ¶æ€æ é®æŒ¡äº†&#34;&gt;1. ä¸ºä»€ä¹ˆæˆ‘çš„å†…å®¹è¢«çŠ¶æ€æ é®æŒ¡äº†ï¼Ÿ
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// âŒ é”™è¯¯ï¼šå¯ç”¨äº† Edge-to-Edge ä½†æ²¡å¤„ç† Insets
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;WindowCompat&lt;/span&gt;.setDecorFitsSystemWindows(window, &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// å†…å®¹ä¼šå»¶ä¼¸åˆ°çŠ¶æ€æ ä¸‹æ–¹ï¼Œä½†æ²¡æœ‰ padding
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// âœ… æ­£ç¡®ï¼šå¿…é¡»æ‰‹åŠ¨æ·»åŠ  padding
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;ViewCompat&lt;/span&gt;.setOnApplyWindowInsetsListener(view) { v, insets &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; systemBars = insets.getInsets(&lt;span style=&#34;color:#a6e22e&#34;&gt;WindowInsetsCompat&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Type&lt;/span&gt;.systemBars())
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    v.updatePadding(top = systemBars.top)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    insets
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;2-ä¸ºä»€ä¹ˆé”®ç›˜å¼¹å‡ºåç•Œé¢æ²¡ååº”&#34;&gt;2. ä¸ºä»€ä¹ˆé”®ç›˜å¼¹å‡ºåç•Œé¢æ²¡ååº”ï¼Ÿ
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// âŒ é”™è¯¯ï¼šæ²¡æœ‰ç›‘å¬ IME Insets
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// æˆ–è€… AndroidManifest.xml ä¸­è®¾ç½®äº†ï¼š
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;android:windowSoftInputMode=&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;adjustResize&amp;#34;&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;// è¿™ä¸ªå·²è¿‡æ—¶
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// âœ… æ­£ç¡®ï¼š
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;WindowCompat&lt;/span&gt;.setDecorFitsSystemWindows(window, &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;ViewCompat&lt;/span&gt;.setOnApplyWindowInsetsListener(view) { v, insets &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; ime = insets.getInsets(&lt;span style=&#34;color:#a6e22e&#34;&gt;WindowInsetsCompat&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Type&lt;/span&gt;.ime())
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    v.updatePadding(bottom = ime.bottom)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    insets
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;3-æˆ‘éœ€è¦åœ¨æ¯ä¸ªviewä¸Šè®¾ç½®insets-listenerå—&#34;&gt;3. æˆ‘éœ€è¦åœ¨æ¯ä¸ªViewä¸Šè®¾ç½®Insets Listenerå—ï¼Ÿ
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// âŒ ä¸éœ€è¦ï¼Insets ä¼šè‡ªåŠ¨åˆ†å‘ç»™å­ View
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// âœ… é€šå¸¸åªåœ¨æ ¹å¸ƒå±€è®¾ç½®ä¸€æ¬¡
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;ViewCompat&lt;/span&gt;.setOnApplyWindowInsetsListener(rootView) { view, insets &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// å¤„ç† Insets
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    insets  &lt;span style=&#34;color:#75715e&#34;&gt;// è¿”å› insetsï¼Œè®©å­ View ä¹Ÿèƒ½æ”¶åˆ°
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h4 id=&#34;è®¾å¤‡é€‚é…ç¤ºä¾‹&#34;&gt;è®¾å¤‡é€‚é…ç¤ºä¾‹
&lt;/h4&gt;&lt;h5 id=&#34;åˆ˜æµ·å±é€‚é…&#34;&gt;åˆ˜æµ·å±é€‚é…
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// è·å–åˆ˜æµ·åŒºåŸŸ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; cutout = insets.getInsets(&lt;span style=&#34;color:#a6e22e&#34;&gt;WindowInsetsCompat&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Type&lt;/span&gt;.displayCutout())
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// å¤´éƒ¨ Banner é¿å¼€åˆ˜æµ·
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;headerView.updatePadding(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    left = cutout.left,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    top = cutout.top,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    right = cutout.right
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;æŠ˜å å±é€‚é…&#34;&gt;æŠ˜å å±é€‚é…
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// è·å–é“°é“¾åŒºåŸŸï¼ˆéœ€è¦ Jetpack WindowManagerï¼‰
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;implementation(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;androidx.window:window:1.3.0&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;WindowInfoTracker&lt;/span&gt;.getOrCreate(&lt;span style=&#34;color:#66d9ef&#34;&gt;this&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    .windowLayoutInfo(&lt;span style=&#34;color:#66d9ef&#34;&gt;this&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    .collect { layoutInfo &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        layoutInfo.displayFeatures.forEach { feature &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (feature &lt;span style=&#34;color:#66d9ef&#34;&gt;is&lt;/span&gt; FoldingFeature) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#75715e&#34;&gt;// å¤„ç†æŠ˜å å±é€»è¾‘
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h5 id=&#34;å…³é”®apié€ŸæŸ¥&#34;&gt;å…³é”®APIé€ŸæŸ¥
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// å¯ç”¨ Edge-to-Edge
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;WindowCompat&lt;/span&gt;.setDecorFitsSystemWindows(window, &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// ç›‘å¬ Insets
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;ViewCompat&lt;/span&gt;.setOnApplyWindowInsetsListener(view) { v, insets &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; systemBars = insets.getInsets(&lt;span style=&#34;color:#a6e22e&#34;&gt;WindowInsetsCompat&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Type&lt;/span&gt;.systemBars())
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; ime = insets.getInsets(&lt;span style=&#34;color:#a6e22e&#34;&gt;WindowInsetsCompat&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Type&lt;/span&gt;.ime())
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// å¤„ç†...
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    insets
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// Compose
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;Modifier&lt;/span&gt;.systemBarsPadding()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;Modifier&lt;/span&gt;.imePadding()
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
        </item>
        <item>
        <title>Androidä¸»é¢˜ç³»ç»ŸæŒ‡å—</title>
        <link>http://localhost:1313/android-develop/android%E4%B8%BB%E9%A2%98%E7%B3%BB%E7%BB%9F%E6%8C%87%E5%8D%97/</link>
        <pubDate>Fri, 17 Oct 2025 11:24:19 +0800</pubDate>
        
        <guid>http://localhost:1313/android-develop/android%E4%B8%BB%E9%A2%98%E7%B3%BB%E7%BB%9F%E6%8C%87%E5%8D%97/</guid>
        <description>&lt;h4 id=&#34;material-design3material-you&#34;&gt;Material Design3(Material You)
&lt;/h4&gt;&lt;h5 id=&#34;æ ¸å¿ƒæ¦‚å¿µ&#34;&gt;æ ¸å¿ƒæ¦‚å¿µ
&lt;/h5&gt;&lt;p&gt;Material Design3 (MD3)æ˜¯Googleåœ¨Android 12+å¼•å…¥çš„è®¾è®¡ç³»ç»Ÿï¼Œæ ¸å¿ƒç‰¹æ€§ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Dynamic Color&lt;/strong&gt;ï¼šæ ¹æ®å£çº¸è‡ªåŠ¨ç”Ÿæˆä¸»é¢˜è‰²&lt;/li&gt;
&lt;li&gt;æ›´åœ†æ¶¦çš„ç»„ä»¶ï¼š æ›´å¤§çš„åœ†è§’åŠå¾„&lt;/li&gt;
&lt;li&gt;è‰²å½©è§’è‰²ç³»ç»Ÿï¼š40+ä¸ªè¯­ä¹‰åŒ–é¢œè‰²æ§½ä½&lt;/li&gt;
&lt;li&gt;ä¸ªæ€§åŒ–ï¼šè®©æ¯ä¸ªç”¨æˆ·çš„åº”ç”¨çœ‹èµ·æ¥ç‹¬ä¸€æ— äºŒ&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;ç‰ˆæœ¬è¦æ±‚&#34;&gt;ç‰ˆæœ¬è¦æ±‚
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// Material 3
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;implementation(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;com.google.android.material:material:1.12.0&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// Compose Material 3
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;implementation(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;androidx.compose.material3:material3:1.3.1&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h4 id=&#34;ä¸»é¢˜ç³»ç»Ÿæ¶æ„&#34;&gt;ä¸»é¢˜ç³»ç»Ÿæ¶æ„
&lt;/h4&gt;&lt;h5 id=&#34;ä¸‰å±‚ç»“æ„&#34;&gt;ä¸‰å±‚ç»“æ„
&lt;/h5&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;Material Theme (Material 3)
    â†“
Application Theme (ä½ çš„åº”ç”¨ä¸»é¢˜)
    â†“
Component Styles (ç»„ä»¶æ ·å¼)
&lt;/code&gt;&lt;/pre&gt;&lt;h5 id=&#34;è‰²å½©è§’è‰²ç³»ç»Ÿ&#34;&gt;è‰²å½©è§’è‰²ç³»ç»Ÿ
&lt;/h5&gt;&lt;p&gt;Material 3 å®šä¹‰äº†5å¤§è‰²å½©ç»„ï¼š&lt;/p&gt;
&lt;h6 id=&#34;1-primaryä¸»è‰²&#34;&gt;1. Primaryï¼ˆä¸»è‰²ï¼‰
&lt;/h6&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-xml&#34; data-lang=&#34;xml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!-- æœ€é‡è¦çš„å“ç‰Œè‰²ï¼Œç”¨äºä¸»è¦æ“ä½œ --&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;attr&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;colorPrimary&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;/&amp;gt;&lt;/span&gt;          &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!-- ä¸»è‰² --&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;attr&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;colorOnPrimary&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;/&amp;gt;&lt;/span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!-- ä¸»è‰²ä¸Šçš„æ–‡å­—/å›¾æ ‡ --&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;attr&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;colorPrimaryContainer&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;/&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!-- ä¸»è‰²å®¹å™¨ --&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;attr&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;colorOnPrimaryContainer&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;/&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!-- å®¹å™¨ä¸Šçš„å†…å®¹ --&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h6 id=&#34;2-secondaryæ¬¡è¦è‰²&#34;&gt;2. Secondary(æ¬¡è¦è‰²)
&lt;/h6&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-xml&#34; data-lang=&#34;xml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!-- æ¬¡è¦æ“ä½œï¼Œè¾…åŠ©ä¸»è‰² --&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;attr&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;colorSecondary&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;attr&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;colorOnSecondary&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;attr&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;colorSecondaryContainer&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;attr&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;colorOnSecondaryContainer&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h6 id=&#34;3-tertiaryç¬¬ä¸‰è‰²&#34;&gt;3. Tertiary(ç¬¬ä¸‰è‰²)
&lt;/h6&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-xml&#34; data-lang=&#34;xml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!-- ç”¨äºå¼ºè°ƒæˆ–å¯¹æ¯” --&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;attr&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;colorTertiary&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;attr&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;colorOnTertiary&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;attr&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;colorTertiaryContainer&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;attr&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;colorOnTertiaryContainer&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h6 id=&#34;4-erroré”™è¯¯è‰²&#34;&gt;4. Errorï¼ˆé”™è¯¯è‰²ï¼‰
&lt;/h6&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-xml&#34; data-lang=&#34;xml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!-- é”™è¯¯çŠ¶æ€ --&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;attr&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;colorError&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;attr&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;colorOnError&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;attr&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;colorErrorContainer&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;attr&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;colorOnErrorContainer&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h6 id=&#34;5-surface--backgroundè¡¨é¢å’ŒèƒŒæ™¯&#34;&gt;5. Surface &amp;amp; Background(è¡¨é¢å’ŒèƒŒæ™¯)
&lt;/h6&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-xml&#34; data-lang=&#34;xml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!-- èƒŒæ™¯å’Œè¡¨é¢ --&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;attr&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;colorSurface&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;/&amp;gt;&lt;/span&gt;          &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!-- å¡ç‰‡ã€å¯¹è¯æ¡†èƒŒæ™¯ --&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;attr&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;colorOnSurface&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;/&amp;gt;&lt;/span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!-- è¡¨é¢ä¸Šçš„æ–‡å­— --&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;attr&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;colorSurfaceVariant&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;/&amp;gt;&lt;/span&gt;   &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!-- è¡¨é¢å˜ä½“ --&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;attr&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;colorOnSurfaceVariant&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;/&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!-- æ¬¡è¦æ–‡å­— --&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;attr&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;colorBackground&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;/&amp;gt;&lt;/span&gt;       &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!-- åº”ç”¨èƒŒæ™¯ --&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;attr&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;colorOnBackground&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;/&amp;gt;&lt;/span&gt;     &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!-- èƒŒæ™¯ä¸Šçš„å†…å®¹ --&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h6 id=&#34;6-outline--other&#34;&gt;6. Outline &amp;amp; Other
&lt;/h6&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-xml&#34; data-lang=&#34;xml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!-- è¾¹æ¡†å’Œå…¶ä»– --&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;attr&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;colorOutline&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;/&amp;gt;&lt;/span&gt;          &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!-- åˆ†å‰²çº¿ã€è¾¹æ¡† --&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;attr&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;colorOutlineVariant&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;/&amp;gt;&lt;/span&gt;   &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!-- æ›´å¼±çš„è¾¹æ¡† --&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;attr&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;colorSurfaceTint&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;/&amp;gt;&lt;/span&gt;      &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!-- è¡¨é¢ç€è‰²ï¼ˆé«˜åº¦æ„Ÿï¼‰ --&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h4 id=&#34;dynamic-color-åŠ¨æ€é…è‰²&#34;&gt;Dynamic Color (åŠ¨æ€é…è‰²)
&lt;/h4&gt;&lt;p&gt;æ‰€è°“&lt;strong&gt;Dynamic Color&lt;/strong&gt;ï¼šAndroid 12+ç³»ç»Ÿä¼šä»ç”¨æˆ·å£çº¸æå–é¢œè‰²ï¼Œç”Ÿæˆæ•´å¥—ä¸»é¢˜è‰²ï¼Œå®ç°â€åƒäººåƒé¢â€œã€‚&lt;/p&gt;
&lt;h5 id=&#34;å®ç°æ–¹å¼&#34;&gt;å®ç°æ–¹å¼
&lt;/h5&gt;&lt;h6 id=&#34;æ–¹å¼ä¸€ä½¿ç”¨ç³»ç»Ÿæä¾›çš„ä¸»é¢˜&#34;&gt;æ–¹å¼ä¸€ï¼šä½¿ç”¨ç³»ç»Ÿæä¾›çš„ä¸»é¢˜
&lt;/h6&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-xml&#34; data-lang=&#34;xml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!-- res/values/themes.xml --&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;resources&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!-- Android 12+ ä¼šè‡ªåŠ¨åº”ç”¨ Dynamic Color --&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;style&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Theme.MyApp&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;parent=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Theme.Material3.DayNight&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!-- å¯é€‰ï¼šè¦†ç›–ç‰¹å®šé¢œè‰² --&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;item&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;colorPrimary&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;@color/custom_primary&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/item&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/style&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/resources&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!-- res/values-v31/themes.xml (Android 12+ ä¸“ç”¨) --&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;resources&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!-- ä½¿ç”¨ DynamicColors ä¸»é¢˜ --&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;style&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Theme.MyApp&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;parent=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Theme.Material3.DayNight.NoActionBar&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!-- ç³»ç»Ÿè‡ªåŠ¨åº”ç”¨å£çº¸é¢œè‰²ï¼Œæ— éœ€å®šä¹‰ colorPrimary ç­‰ --&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/style&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/resources&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h6 id=&#34;æ–¹å¼äºŒä»£ç å¯ç”¨æ›´çµæ´»&#34;&gt;æ–¹å¼äºŒï¼šä»£ç å¯ç”¨ï¼ˆæ›´çµæ´»ï¼‰
&lt;/h6&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// Application æˆ– Activity
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;MyApplication&lt;/span&gt; : Application() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;override&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;onCreate&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;super&lt;/span&gt;.onCreate()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// å…¨å±€å¯ç”¨ Dynamic Color
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;DynamicColors&lt;/span&gt;.applyToActivitiesIfAvailable(&lt;span style=&#34;color:#66d9ef&#34;&gt;this&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// å•ä¸ª Activity å¯ç”¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;MainActivity&lt;/span&gt; : AppCompatActivity() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;override&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;onCreate&lt;/span&gt;(savedInstanceState: Bundle?) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;super&lt;/span&gt;.onCreate(savedInstanceState)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// åªåœ¨æ­¤ Activity å¯ç”¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;DynamicColors&lt;/span&gt;.applyIfAvailable(&lt;span style=&#34;color:#66d9ef&#34;&gt;this&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h6 id=&#34;æ–¹å¼ä¸‰æä¾›å›é€€æ–¹æ¡ˆ&#34;&gt;æ–¹å¼ä¸‰ï¼šæä¾›å›é€€æ–¹æ¡ˆ
&lt;/h6&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// æ”¯æŒç”¨æˆ·é€‰æ‹©æ˜¯å¦å¯ç”¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;MyApplication&lt;/span&gt; : Application() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;override&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;onCreate&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;super&lt;/span&gt;.onCreate()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (supportsDynamicColor() &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; userPrefersDynamicColor()) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;DynamicColors&lt;/span&gt;.applyToActivitiesIfAvailable(&lt;span style=&#34;color:#66d9ef&#34;&gt;this&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;supportsDynamicColor&lt;/span&gt;(): Boolean {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Build&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;VERSION&lt;/span&gt;.SDK_INT &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Build&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;VERSION_CODES&lt;/span&gt;.S &lt;span style=&#34;color:#75715e&#34;&gt;// Android 12+
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;è‡ªå®šä¹‰dynamic-color&#34;&gt;è‡ªå®šä¹‰Dynamic Color
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-xml&#34; data-lang=&#34;xml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!-- å³ä½¿å¯ç”¨ Dynamic Colorï¼Œä¹Ÿå¯è¦†ç›–ç‰¹å®šé¢œè‰² --&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;style&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Theme.MyApp&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;parent=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Theme.Material3.DayNight&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!-- å¼ºåˆ¶ä½¿ç”¨å“ç‰Œè‰²ä½œä¸º Primary --&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;item&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;colorPrimary&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;@color/brand_color&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/item&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!-- å…¶ä»–é¢œè‰²è®©ç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆ --&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/style&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h4 id=&#34;ä¼ ç»Ÿviewä¸»é¢˜&#34;&gt;ä¼ ç»ŸViewä¸»é¢˜
&lt;/h4&gt;&lt;h5 id=&#34;å®Œæ•´ä¸»é¢˜é…ç½®&#34;&gt;å®Œæ•´ä¸»é¢˜é…ç½®
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-xml&#34; data-lang=&#34;xml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!-- res/values/colors.xml --&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;resources&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!-- Light Mode Colors --&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;color&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;md_theme_light_primary&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;#6750A4&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/color&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;color&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;md_theme_light_onPrimary&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;#FFFFFF&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/color&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;color&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;md_theme_light_primaryContainer&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;#EADDFF&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/color&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;color&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;md_theme_light_onPrimaryContainer&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;#21005D&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/color&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;color&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;md_theme_light_secondary&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;#625B71&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/color&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;color&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;md_theme_light_onSecondary&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;#FFFFFF&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/color&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;color&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;md_theme_light_secondaryContainer&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;#E8DEF8&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/color&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;color&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;md_theme_light_onSecondaryContainer&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;#1D192B&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/color&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;color&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;md_theme_light_surface&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;#FFFBFE&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/color&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;color&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;md_theme_light_onSurface&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;#1C1B1F&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/color&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;color&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;md_theme_light_background&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;#FFFBFE&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/color&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!-- Dark Mode Colors --&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;color&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;md_theme_dark_primary&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;#D0BCFF&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/color&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;color&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;md_theme_dark_onPrimary&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;#381E72&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/color&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!-- ... å…¶ä»–æ·±è‰²æ¨¡å¼é¢œè‰² --&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/resources&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!-- res/values/themes.xml --&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;resources&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;style&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Theme.MyApp&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;parent=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Theme.Material3.DayNight.NoActionBar&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!-- Primary --&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;item&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;colorPrimary&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;@color/md_theme_light_primary&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/item&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;item&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;colorOnPrimary&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;@color/md_theme_light_onPrimary&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/item&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;item&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;colorPrimaryContainer&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;@color/md_theme_light_primaryContainer&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/item&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;item&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;colorOnPrimaryContainer&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;@color/md_theme_light_onPrimaryContainer&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/item&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!-- Secondary --&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;item&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;colorSecondary&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;@color/md_theme_light_secondary&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/item&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;item&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;colorOnSecondary&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;@color/md_theme_light_onSecondary&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/item&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;item&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;colorSecondaryContainer&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;@color/md_theme_light_secondaryContainer&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/item&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;item&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;colorOnSecondaryContainer&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;@color/md_theme_light_onSecondaryContainer&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/item&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!-- Surface &amp;amp; Background --&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;item&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;colorSurface&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;@color/md_theme_light_surface&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/item&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;item&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;colorOnSurface&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;@color/md_theme_light_onSurface&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/item&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;item&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;android:colorBackground&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;@color/md_theme_light_background&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/item&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!-- çŠ¶æ€æ å’Œå¯¼èˆªæ  --&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;item&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;android:statusBarColor&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;@android:color/transparent&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/item&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;item&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;android:navigationBarColor&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;@color/md_theme_light_surface&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/item&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;item&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;android:windowLightStatusBar&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;true&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/item&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;item&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;android:windowLightNavigationBar&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;true&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/item&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!-- å½¢çŠ¶ï¼ˆåœ†è§’ï¼‰ --&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;item&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;shapeAppearanceSmallComponent&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;@style/ShapeAppearance.MyApp.SmallComponent&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/item&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;item&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;shapeAppearanceMediumComponent&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;@style/ShapeAppearance.MyApp.MediumComponent&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/item&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;item&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;shapeAppearanceLargeComponent&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;@style/ShapeAppearance.MyApp.LargeComponent&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/item&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/style&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!-- è‡ªå®šä¹‰å½¢çŠ¶ --&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;style&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;ShapeAppearance.MyApp.SmallComponent&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;parent=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;ShapeAppearance.Material3.SmallComponent&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;item&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;cornerFamily&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;rounded&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/item&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;item&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;cornerSize&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;8dp&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/item&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/style&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;style&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;ShapeAppearance.MyApp.MediumComponent&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;parent=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;ShapeAppearance.Material3.MediumComponent&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;item&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;cornerSize&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;12dp&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/item&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/style&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;style&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;ShapeAppearance.MyApp.LargeComponent&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;parent=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;ShapeAppearance.Material3.LargeComponent&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;item&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;cornerSize&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;16dp&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/item&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/style&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/resources&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!-- res/values-night/colors.xml --&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;resources&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!-- æ·±è‰²æ¨¡å¼çš„é¢œè‰²ä¼šè‡ªåŠ¨è¢«ä½¿ç”¨ --&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;color&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;md_theme_light_primary&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;@color/md_theme_dark_primary&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/color&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;color&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;md_theme_light_onPrimary&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;@color/md_theme_dark_onPrimary&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/color&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!-- ... --&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/resources&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;åœ¨å¸ƒå±€ä¸­ä½¿ç”¨&#34;&gt;åœ¨å¸ƒå±€ä¸­ä½¿ç”¨
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-xml&#34; data-lang=&#34;xml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!-- res/layout/activity_main.xml --&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;LinearLayout&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;android:layout_width=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;match_parent&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;android:layout_height=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;match_parent&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;android:background=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;?attr/colorBackground&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!-- ä½¿ç”¨ä¸»é¢˜é¢œè‰² --&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;com.google.android.material.button.MaterialButton&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;android:layout_width=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;wrap_content&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;android:layout_height=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;wrap_content&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;android:text=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Primary Button&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;android:backgroundTint=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;?attr/colorPrimary&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;android:textColor=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;?attr/colorOnPrimary&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!-- æ¬¡è¦æŒ‰é’® --&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;com.google.android.material.button.MaterialButton&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;style=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;@style/Widget.Material3.Button.TonalButton&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;android:layout_width=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;wrap_content&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;android:layout_height=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;wrap_content&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;android:text=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Secondary Button&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!-- å¡ç‰‡ä½¿ç”¨ Surface è‰² --&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;com.google.android.material.card.MaterialCardView&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;android:layout_width=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;match_parent&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;android:layout_height=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;wrap_content&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;app:cardBackgroundColor=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;?attr/colorSurface&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;app:cardElevation=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;2dp&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;TextView&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;android:layout_width=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;wrap_content&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;android:layout_height=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;wrap_content&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;android:text=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Card Content&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;android:textColor=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;?attr/colorOnSurface&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/com.google.android.material.card.MaterialCardView&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/LinearLayout&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h4 id=&#34;composeä¸»é¢˜&#34;&gt;Composeä¸»é¢˜
&lt;/h4&gt;&lt;h5 id=&#34;å®Œæ•´composeä¸»é¢˜å®ç°&#34;&gt;å®Œæ•´Composeä¸»é¢˜å®ç°
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// ui/theme/Color.kt
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;package&lt;/span&gt; com.example.myapp.ui.theme
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;import&lt;/span&gt; androidx.compose.ui.graphics.Color
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// Light Theme Colors
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; md_theme_light_primary = Color(&lt;span style=&#34;color:#ae81ff&#34;&gt;0xFF6750A4&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; md_theme_light_onPrimary = Color(&lt;span style=&#34;color:#ae81ff&#34;&gt;0xFFFFFFFF&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; md_theme_light_primaryContainer = Color(&lt;span style=&#34;color:#ae81ff&#34;&gt;0xFFEADDFF&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; md_theme_light_onPrimaryContainer = Color(&lt;span style=&#34;color:#ae81ff&#34;&gt;0xFF21005D&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; md_theme_light_secondary = Color(&lt;span style=&#34;color:#ae81ff&#34;&gt;0xFF625B71&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; md_theme_light_onSecondary = Color(&lt;span style=&#34;color:#ae81ff&#34;&gt;0xFFFFFFFF&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; md_theme_light_secondaryContainer = Color(&lt;span style=&#34;color:#ae81ff&#34;&gt;0xFFE8DEF8&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; md_theme_light_onSecondaryContainer = Color(&lt;span style=&#34;color:#ae81ff&#34;&gt;0xFF1D192B&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; md_theme_light_surface = Color(&lt;span style=&#34;color:#ae81ff&#34;&gt;0xFFFFFBFE&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; md_theme_light_onSurface = Color(&lt;span style=&#34;color:#ae81ff&#34;&gt;0xFF1C1B1F&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; md_theme_light_background = Color(&lt;span style=&#34;color:#ae81ff&#34;&gt;0xFFFFFBFE&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// Dark Theme Colors
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; md_theme_dark_primary = Color(&lt;span style=&#34;color:#ae81ff&#34;&gt;0xFFD0BCFF&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; md_theme_dark_onPrimary = Color(&lt;span style=&#34;color:#ae81ff&#34;&gt;0xFF381E72&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; md_theme_dark_primaryContainer = Color(&lt;span style=&#34;color:#ae81ff&#34;&gt;0xFF4F378B&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; md_theme_dark_onPrimaryContainer = Color(&lt;span style=&#34;color:#ae81ff&#34;&gt;0xFFEADDFF&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; md_theme_dark_secondary = Color(&lt;span style=&#34;color:#ae81ff&#34;&gt;0xFFCCC2DC&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; md_theme_dark_onSecondary = Color(&lt;span style=&#34;color:#ae81ff&#34;&gt;0xFF332D41&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; md_theme_dark_surface = Color(&lt;span style=&#34;color:#ae81ff&#34;&gt;0xFF1C1B1F&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; md_theme_dark_onSurface = Color(&lt;span style=&#34;color:#ae81ff&#34;&gt;0xFFE6E1E5&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; md_theme_dark_background = Color(&lt;span style=&#34;color:#ae81ff&#34;&gt;0xFF1C1B1F&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// ui/theme/Theme.kt
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;package&lt;/span&gt; com.example.myapp.ui.theme
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;import&lt;/span&gt; android.app.Activity
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;import&lt;/span&gt; android.os.Build
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;import&lt;/span&gt; androidx.compose.foundation.isSystemInDarkTheme
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;import&lt;/span&gt; androidx.compose.material3.*
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;import&lt;/span&gt; androidx.compose.runtime.Composable
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;import&lt;/span&gt; androidx.compose.runtime.SideEffect
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;import&lt;/span&gt; androidx.compose.ui.graphics.toArgb
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;import&lt;/span&gt; androidx.compose.ui.platform.LocalContext
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;import&lt;/span&gt; androidx.compose.ui.platform.LocalView
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;import&lt;/span&gt; androidx.core.view.WindowCompat
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; LightColorScheme = lightColorScheme(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    primary = md_theme_light_primary,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    onPrimary = md_theme_light_onPrimary,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    primaryContainer = md_theme_light_primaryContainer,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    onPrimaryContainer = md_theme_light_onPrimaryContainer,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    secondary = md_theme_light_secondary,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    onSecondary = md_theme_light_onSecondary,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    secondaryContainer = md_theme_light_secondaryContainer,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    onSecondaryContainer = md_theme_light_onSecondaryContainer,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    surface = md_theme_light_surface,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    onSurface = md_theme_light_onSurface,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    background = md_theme_light_background
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; DarkColorScheme = darkColorScheme(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    primary = md_theme_dark_primary,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    onPrimary = md_theme_dark_onPrimary,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    primaryContainer = md_theme_dark_primaryContainer,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    onPrimaryContainer = md_theme_dark_onPrimaryContainer,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    secondary = md_theme_dark_secondary,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    onSecondary = md_theme_dark_onSecondary,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    surface = md_theme_dark_surface,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    onSurface = md_theme_dark_onSurface,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    background = md_theme_dark_background
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;@Composable&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;MyAppTheme&lt;/span&gt;(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    darkTheme: Boolean = isSystemInDarkTheme(),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// å¯ç”¨ Dynamic Colorï¼ˆAndroid 12+ï¼‰
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    dynamicColor: Boolean = &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    content: &lt;span style=&#34;color:#a6e22e&#34;&gt;@Composable&lt;/span&gt; () &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; Unit
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; colorScheme = &lt;span style=&#34;color:#66d9ef&#34;&gt;when&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// Android 12+ æ”¯æŒ Dynamic Color
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        dynamicColor &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Build&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;VERSION&lt;/span&gt;.SDK_INT &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Build&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;VERSION_CODES&lt;/span&gt;.S &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; context = &lt;span style=&#34;color:#a6e22e&#34;&gt;LocalContext&lt;/span&gt;.current
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (darkTheme) dynamicDarkColorScheme(context) 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; dynamicLightColorScheme(context)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// å›é€€åˆ°é™æ€ä¸»é¢˜
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        darkTheme &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; DarkColorScheme
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; LightColorScheme
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// è®¾ç½®çŠ¶æ€æ é¢œè‰²
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; view = &lt;span style=&#34;color:#a6e22e&#34;&gt;LocalView&lt;/span&gt;.current
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (!view.isInEditMode) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        SideEffect {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; window = (view.context &lt;span style=&#34;color:#66d9ef&#34;&gt;as&lt;/span&gt; Activity).window
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            window.statusBarColor = colorScheme.primary.toArgb()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;WindowCompat&lt;/span&gt;.getInsetsController(window, view).isAppearanceLightStatusBars = !darkTheme
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    MaterialTheme(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        colorScheme = colorScheme,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        typography = Typography,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        content = content
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// ui/theme/Type.kt
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;package&lt;/span&gt; com.example.myapp.ui.theme
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;import&lt;/span&gt; androidx.compose.material3.Typography
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;import&lt;/span&gt; androidx.compose.ui.text.TextStyle
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;import&lt;/span&gt; androidx.compose.ui.text.font.FontFamily
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;import&lt;/span&gt; androidx.compose.ui.text.font.FontWeight
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;import&lt;/span&gt; androidx.compose.ui.unit.sp
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; Typography = Typography(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    bodyLarge = TextStyle(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        fontFamily = &lt;span style=&#34;color:#a6e22e&#34;&gt;FontFamily&lt;/span&gt;.Default,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        fontWeight = &lt;span style=&#34;color:#a6e22e&#34;&gt;FontWeight&lt;/span&gt;.Normal,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        fontSize = &lt;span style=&#34;color:#ae81ff&#34;&gt;16.&lt;/span&gt;sp,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        lineHeight = &lt;span style=&#34;color:#ae81ff&#34;&gt;24.&lt;/span&gt;sp,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        letterSpacing = &lt;span style=&#34;color:#ae81ff&#34;&gt;0.5&lt;/span&gt;.sp
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    titleLarge = TextStyle(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        fontFamily = &lt;span style=&#34;color:#a6e22e&#34;&gt;FontFamily&lt;/span&gt;.Default,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        fontWeight = &lt;span style=&#34;color:#a6e22e&#34;&gt;FontWeight&lt;/span&gt;.Normal,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        fontSize = &lt;span style=&#34;color:#ae81ff&#34;&gt;22.&lt;/span&gt;sp,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        lineHeight = &lt;span style=&#34;color:#ae81ff&#34;&gt;28.&lt;/span&gt;sp,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        letterSpacing = &lt;span style=&#34;color:#ae81ff&#34;&gt;0.&lt;/span&gt;sp
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    labelSmall = TextStyle(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        fontFamily = &lt;span style=&#34;color:#a6e22e&#34;&gt;FontFamily&lt;/span&gt;.Default,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        fontWeight = &lt;span style=&#34;color:#a6e22e&#34;&gt;FontWeight&lt;/span&gt;.Medium,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        fontSize = &lt;span style=&#34;color:#ae81ff&#34;&gt;11.&lt;/span&gt;sp,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        lineHeight = &lt;span style=&#34;color:#ae81ff&#34;&gt;16.&lt;/span&gt;sp,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        letterSpacing = &lt;span style=&#34;color:#ae81ff&#34;&gt;0.5&lt;/span&gt;.sp
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// MainActivity.kt
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;MainActivity&lt;/span&gt; : ComponentActivity() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;override&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;onCreate&lt;/span&gt;(savedInstanceState: Bundle?) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;super&lt;/span&gt;.onCreate(savedInstanceState)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        setContent {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            MyAppTheme {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                Surface(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    modifier = &lt;span style=&#34;color:#a6e22e&#34;&gt;Modifier&lt;/span&gt;.fillMaxSize(),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    color = &lt;span style=&#34;color:#a6e22e&#34;&gt;MaterialTheme&lt;/span&gt;.colorScheme.background
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                ) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    AppContent()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;@Composable&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;AppContent&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    Column(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        modifier = Modifier
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            .fillMaxSize()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            .padding(&lt;span style=&#34;color:#ae81ff&#34;&gt;16.&lt;/span&gt;dp)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// ä½¿ç”¨ä¸»é¢˜é¢œè‰²
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        Button(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            onClick = { },
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            colors = &lt;span style=&#34;color:#a6e22e&#34;&gt;ButtonDefaults&lt;/span&gt;.buttonColors(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                containerColor = &lt;span style=&#34;color:#a6e22e&#34;&gt;MaterialTheme&lt;/span&gt;.colorScheme.primary,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                contentColor = &lt;span style=&#34;color:#a6e22e&#34;&gt;MaterialTheme&lt;/span&gt;.colorScheme.onPrimary
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        ) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            Text(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Primary Button&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// ä½¿ç”¨ Surface å¡ç‰‡
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        Card(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            modifier = Modifier
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                .fillMaxWidth()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                .padding(top = &lt;span style=&#34;color:#ae81ff&#34;&gt;16.&lt;/span&gt;dp),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            colors = &lt;span style=&#34;color:#a6e22e&#34;&gt;CardDefaults&lt;/span&gt;.cardColors(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                containerColor = &lt;span style=&#34;color:#a6e22e&#34;&gt;MaterialTheme&lt;/span&gt;.colorScheme.surfaceVariant
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        ) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            Text(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                text = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Card Content&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                style = &lt;span style=&#34;color:#a6e22e&#34;&gt;MaterialTheme&lt;/span&gt;.typography.bodyLarge,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                color = &lt;span style=&#34;color:#a6e22e&#34;&gt;MaterialTheme&lt;/span&gt;.colorScheme.onSurfaceVariant,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                modifier = &lt;span style=&#34;color:#a6e22e&#34;&gt;Modifier&lt;/span&gt;.padding(&lt;span style=&#34;color:#ae81ff&#34;&gt;16.&lt;/span&gt;dp)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h4 id=&#34;æ·±è‰²æ¨¡å¼&#34;&gt;æ·±è‰²æ¨¡å¼
&lt;/h4&gt;&lt;p&gt;å®Œæ•´å®ç°æ–¹æ³•&lt;/p&gt;
&lt;h5 id=&#34;1ç³»ç»Ÿè·Ÿéš&#34;&gt;1.ç³»ç»Ÿè·Ÿéš
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// ä½¿ç”¨ DayNight ä¸»é¢˜
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&amp;lt;style name=&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Theme.MyApp&amp;#34;&lt;/span&gt; parent=&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Theme.Material3.DayNight&amp;#34;&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &amp;lt;!&lt;span style=&#34;color:#f92672&#34;&gt;--&lt;/span&gt; è‡ªåŠ¨æ ¹æ®ç³»ç»Ÿè®¾ç½®åˆ‡æ¢ &lt;span style=&#34;color:#f92672&#34;&gt;--&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;lt;/style&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;2-æ‰‹åŠ¨åˆ‡æ¢&#34;&gt;2. æ‰‹åŠ¨åˆ‡æ¢
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// æä¾›ç”¨æˆ·é€‰æ‹©
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;SettingsActivity&lt;/span&gt; : AppCompatActivity() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;override&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;onCreate&lt;/span&gt;(savedInstanceState: Bundle?) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;super&lt;/span&gt;.onCreate(savedInstanceState)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// è·å–å½“å‰æ¨¡å¼
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; currentMode = &lt;span style=&#34;color:#a6e22e&#34;&gt;AppCompatDelegate&lt;/span&gt;.getDefaultNightMode()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// åˆ‡æ¢æ¨¡å¼
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;when&lt;/span&gt; (userSelection) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;light&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;AppCompatDelegate&lt;/span&gt;.setDefaultNightMode(&lt;span style=&#34;color:#a6e22e&#34;&gt;AppCompatDelegate&lt;/span&gt;.MODE_NIGHT_NO)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;dark&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;AppCompatDelegate&lt;/span&gt;.setDefaultNightMode(&lt;span style=&#34;color:#a6e22e&#34;&gt;AppCompatDelegate&lt;/span&gt;.MODE_NIGHT_YES)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;system&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;AppCompatDelegate&lt;/span&gt;.setDefaultNightMode(&lt;span style=&#34;color:#a6e22e&#34;&gt;AppCompatDelegate&lt;/span&gt;.MODE_NIGHT_FOLLOW_SYSTEM)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// Compose ä¸­åˆ‡æ¢
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;@Composable&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;ThemeSettings&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;var&lt;/span&gt; darkMode &lt;span style=&#34;color:#66d9ef&#34;&gt;by&lt;/span&gt; remember { mutableStateOf(&lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;) }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    MyAppTheme(darkTheme = darkMode) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        Switch(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            checked = darkMode,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            onCheckedChange = { darkMode = &lt;span style=&#34;color:#66d9ef&#34;&gt;it&lt;/span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;3-æ·±è‰²æ¨¡å¼æ³¨æ„äº‹é¡¹&#34;&gt;3. æ·±è‰²æ¨¡å¼æ³¨æ„äº‹é¡¹
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-xml&#34; data-lang=&#34;xml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!-- ä¸ºæ·±è‰²æ¨¡å¼æä¾›ä¸“ç”¨èµ„æº --&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!-- res/values-night/colors.xml --&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;color&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;window_background&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;#121212&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/color&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!-- res/drawable-night/ic_logo.xml --&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!-- æ·±è‰²æ¨¡å¼ä¸‹ä½¿ç”¨ä¸åŒçš„å›¾æ ‡ --&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!-- res/values-night/themes.xml --&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;style&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Theme.MyApp&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;parent=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Theme.Material3.DayNight&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;item&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;android:windowLightStatusBar&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;false&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/item&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/style&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h4 id=&#34;æœ€ä½³å®è·µ&#34;&gt;æœ€ä½³å®è·µ
&lt;/h4&gt;&lt;h5 id=&#34;1-ä½¿ç”¨material-3&#34;&gt;1. ä½¿ç”¨Material 3
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// âœ… ä½¿ç”¨ M3
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;   implementation(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;com.google.android.material:material:1.12.0&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   parent=&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Theme.Material3.DayNight&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   &lt;span style=&#34;color:#75715e&#34;&gt;// âŒ ä¸è¦ç”¨æ—§ç‰ˆæœ¬
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;   parent=&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Theme.MaterialComponents.DayNight&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;2-å¯ç”¨dynamic-color&#34;&gt;2. å¯ç”¨Dynamic Color
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// âœ… è®©åº”ç”¨æ›´ä¸ªæ€§åŒ–
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;   &lt;span style=&#34;color:#a6e22e&#34;&gt;DynamicColors&lt;/span&gt;.applyToActivitiesIfAvailable(&lt;span style=&#34;color:#66d9ef&#34;&gt;this&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;3-ä½¿ç”¨è¯­ä¹‰åŒ–é¢œè‰²&#34;&gt;3. ä½¿ç”¨è¯­ä¹‰åŒ–é¢œè‰²
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// âœ… ä½¿ç”¨ä¸»é¢˜å±æ€§
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;   android:textColor=&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;?attr/colorOnSurface&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   &lt;span style=&#34;color:#75715e&#34;&gt;// âŒ ä¸è¦ç¡¬ç¼–ç 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;   android:textColor=&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;#000000&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;4-æä¾›æ·±è‰²æ¨¡å¼&#34;&gt;4. æä¾›æ·±è‰²æ¨¡å¼
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// âœ… æ”¯æŒç³»ç»Ÿæ·±è‰²æ¨¡å¼
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;   parent=&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Theme.Material3.DayNight&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   &lt;span style=&#34;color:#75715e&#34;&gt;// âŒ åªæ”¯æŒäº®è‰²
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;   parent=&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Theme.Material3.Light&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
</description>
        </item>
        <item>
        <title>Androidé¡¹ç›®ç»„ç»‡ç»“æ„</title>
        <link>http://localhost:1313/android-develop/android%E9%A1%B9%E7%9B%AE%E7%BB%84%E7%BB%87%E7%BB%93%E6%9E%84/</link>
        <pubDate>Fri, 17 Oct 2025 09:28:07 +0800</pubDate>
        
        <guid>http://localhost:1313/android-develop/android%E9%A1%B9%E7%9B%AE%E7%BB%84%E7%BB%87%E7%BB%93%E6%9E%84/</guid>
        <description>&lt;h4 id=&#34;é¡¹ç›®ç»“æ„è¯´æ˜&#34;&gt;é¡¹ç›®ç»“æ„è¯´æ˜
&lt;/h4&gt;&lt;h5 id=&#34;å®Œæ•´ç›®å½•ç»“æ„&#34;&gt;å®Œæ•´ç›®å½•ç»“æ„
&lt;/h5&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;project/
â”œâ”€â”€ gradle/
â”‚   â””â”€â”€ libs.versions.toml          # Version Catalog
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ build.gradle.kts
â”‚   â””â”€â”€ src/
â”‚       â””â”€â”€ main/
â”‚           â”œâ”€â”€ AndroidManifest.xml
â”‚           â”œâ”€â”€ java/com/example/myapp/
â”‚           â”‚   â””â”€â”€ MainActivity.kt
â”‚           â””â”€â”€ res/
â”œâ”€â”€ build.gradle.kts                # æ ¹ç›®å½•
â”œâ”€â”€ settings.gradle.kts
â””â”€â”€ gradle.properties
&lt;/code&gt;&lt;/pre&gt;&lt;h5 id=&#34;æ ¸å¿ƒåŸåˆ™&#34;&gt;æ ¸å¿ƒåŸåˆ™
&lt;/h5&gt;&lt;p&gt;&lt;strong&gt;å¿…éœ€åº“(2ä¸ª)&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;androidx.core:core-ktx&lt;/code&gt; - Kotlinæ‰©å±•&lt;/li&gt;
&lt;li&gt;&lt;code&gt;androidx.appcompat:appcompat&lt;/code&gt; - å…¼å®¹æ€§æ”¯æŒ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;UIæ–¹æ¡ˆ(äºŒé€‰ä¸€)&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä¼ ç»ŸView: Material + ConstraintLayout&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Jetpack Compose&lt;/strong&gt;: Compose BOM + Material3&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å¯é€‰æ‰©å±•ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¶æ„ç»„ä»¶ï¼šViewModel/LiveData (MVVMæ¨¡å¼éœ€è¦)&lt;/li&gt;
&lt;li&gt;åç¨‹ï¼šå¼‚æ­¥æ“ä½œ ï¼ˆç½‘ç»œæ“ä½œã€æ•°æ®åº“æ“ä½œéœ€è¦ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;ä½¿ç”¨å»ºè®®&#34;&gt;ä½¿ç”¨å»ºè®®
&lt;/h5&gt;&lt;ol&gt;
&lt;li&gt;æœ€å°é¡¹ç›®ï¼šåªç”¨ core-ktx + appcompat + ä¸€ç§UI&lt;/li&gt;
&lt;li&gt;éœ€è¦æ¶æ„ï¼šæ·»åŠ lifecycle bundle&lt;/li&gt;
&lt;li&gt;éœ€è¦ç½‘ç»œ/æ•°æ®åº“ï¼šæ·»åŠ coroutines&lt;/li&gt;
&lt;li&gt;åº“ vs æ’ä»¶
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;android.application&lt;/code&gt; / &lt;code&gt;kotlin.android&lt;/code&gt; - å¿…éœ€æ’ä»¶&lt;/li&gt;
&lt;li&gt;&lt;code&gt;kotlin.compose&lt;/code&gt; - ä»…Composeé¡¹ç›®éœ€è¦çš„æ’ä»¶&lt;/li&gt;
&lt;li&gt;å…¶ä»–éƒ½æ˜¯åº“ä¾èµ–&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h5 id=&#34;å¸¸è§è¯¯åŒº&#34;&gt;å¸¸è§è¯¯åŒº
&lt;/h5&gt;&lt;p&gt;ä¸æ˜¯å¿…é¡»çš„åº“&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Activity/Fragmentåº“ ï¼ˆappcompatå·²åŒ…å«ï¼‰&lt;/li&gt;
&lt;li&gt;RecyclerView ï¼ˆé™¤éç¡®å®šè¦ç”¨åˆ—è¡¨ï¼‰&lt;/li&gt;
&lt;li&gt;Navigationç»„ä»¶ ï¼ˆç®€å•é¡¹ç›®ä¸éœ€è¦ï¼‰&lt;/li&gt;
&lt;li&gt;Room/Retrofit ï¼ˆæœ‰éœ€æ±‚å†åŠ ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;libsversionstoml-ä¾‹å­&#34;&gt;libs.versions.toml ä¾‹å­
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-toml&#34; data-lang=&#34;toml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;[&lt;span style=&#34;color:#a6e22e&#34;&gt;versions&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# æ ¸å¿ƒç‰ˆæœ¬&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;agp&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;8.7.3&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;kotlin&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;2.1.0&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;compileSdk&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;35&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;minSdk&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;24&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;targetSdk&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;35&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# AndroidX æ ¸å¿ƒåº“ï¼ˆå¿…éœ€ï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;core-ktx&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;1.15.0&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;appcompat&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;1.7.0&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# å¯é€‰ï¼šUI åº“ï¼ˆæ ¹æ®éœ€è¦é€‰æ‹©ï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;material&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;1.12.0&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# æ³¨ï¼šCompose å’Œä¼ ç»Ÿ View äºŒé€‰ä¸€&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;compose-bom&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;2024.12.01&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# æˆ–è€…ä½¿ç”¨ ConstraintLayoutï¼ˆä¼ ç»Ÿ Viewï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;constraintlayout&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;2.2.0&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# å¯é€‰ï¼šç”Ÿå‘½å‘¨æœŸï¼ˆå¦‚éœ€ ViewModel/LiveDataï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;lifecycle&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;2.8.7&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# å¯é€‰ï¼šåç¨‹ï¼ˆå¦‚éœ€å¼‚æ­¥æ“ä½œï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;coroutines&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;1.10.1&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;[&lt;span style=&#34;color:#a6e22e&#34;&gt;libraries&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# === æ ¸å¿ƒåº“ï¼ˆå¿…éœ€ï¼‰===&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;androidx-core-ktx&lt;/span&gt; = { &lt;span style=&#34;color:#a6e22e&#34;&gt;module&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;androidx.core:core-ktx&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;version&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;ref&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;core-ktx&amp;#34;&lt;/span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;androidx-appcompat&lt;/span&gt; = { &lt;span style=&#34;color:#a6e22e&#34;&gt;module&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;androidx.appcompat:appcompat&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;version&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;ref&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;appcompat&amp;#34;&lt;/span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# === UI åº“ï¼ˆäºŒé€‰ä¸€æˆ–éƒ½ä¸è¦ï¼‰===&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# æ–¹æ¡ˆ A: Material Componentsï¼ˆä¼ ç»Ÿ Viewï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;material&lt;/span&gt; = { &lt;span style=&#34;color:#a6e22e&#34;&gt;module&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;com.google.android.material:material&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;version&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;ref&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;material&amp;#34;&lt;/span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;androidx-constraintlayout&lt;/span&gt; = { &lt;span style=&#34;color:#a6e22e&#34;&gt;module&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;androidx.constraintlayout:constraintlayout&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;version&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;ref&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;constraintlayout&amp;#34;&lt;/span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# æ–¹æ¡ˆ B: Jetpack Composeï¼ˆç°ä»£å£°æ˜å¼ UIï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;androidx-compose-bom&lt;/span&gt; = { &lt;span style=&#34;color:#a6e22e&#34;&gt;module&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;androidx.compose:compose-bom&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;version&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;ref&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;compose-bom&amp;#34;&lt;/span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;androidx-compose-ui&lt;/span&gt; = { &lt;span style=&#34;color:#a6e22e&#34;&gt;module&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;androidx.compose.ui:ui&amp;#34;&lt;/span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;androidx-compose-material3&lt;/span&gt; = { &lt;span style=&#34;color:#a6e22e&#34;&gt;module&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;androidx.compose.material3:material3&amp;#34;&lt;/span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;androidx-compose-ui-tooling-preview&lt;/span&gt; = { &lt;span style=&#34;color:#a6e22e&#34;&gt;module&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;androidx.compose.ui:ui-tooling-preview&amp;#34;&lt;/span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;androidx-activity-compose&lt;/span&gt; = { &lt;span style=&#34;color:#a6e22e&#34;&gt;module&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;androidx.activity:activity-compose&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;version&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;1.9.3&amp;#34;&lt;/span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# === å¯é€‰ï¼šæ¶æ„ç»„ä»¶ ===&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# ViewModelï¼ˆå¦‚éœ€ MVVM æ¶æ„ï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;androidx-lifecycle-viewmodel-ktx&lt;/span&gt; = { &lt;span style=&#34;color:#a6e22e&#34;&gt;module&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;androidx.lifecycle:lifecycle-viewmodel-ktx&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;version&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;ref&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;lifecycle&amp;#34;&lt;/span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# LiveDataï¼ˆå¦‚éœ€å“åº”å¼æ•°æ®ï¼ŒCompose é¡¹ç›®å¯ä¸ç”¨ï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;androidx-lifecycle-livedata-ktx&lt;/span&gt; = { &lt;span style=&#34;color:#a6e22e&#34;&gt;module&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;androidx.lifecycle:lifecycle-livedata-ktx&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;version&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;ref&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;lifecycle&amp;#34;&lt;/span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# === å¯é€‰ï¼šåç¨‹ï¼ˆå¦‚éœ€å¼‚æ­¥æ“ä½œï¼‰===&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;kotlinx-coroutines-android&lt;/span&gt; = { &lt;span style=&#34;color:#a6e22e&#34;&gt;module&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;org.jetbrains.kotlinx:kotlinx-coroutines-android&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;version&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;ref&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;coroutines&amp;#34;&lt;/span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;[&lt;span style=&#34;color:#a6e22e&#34;&gt;plugins&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# å¿…éœ€æ’ä»¶&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;android-application&lt;/span&gt; = { &lt;span style=&#34;color:#a6e22e&#34;&gt;id&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;com.android.application&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;version&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;ref&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;agp&amp;#34;&lt;/span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;kotlin-android&lt;/span&gt; = { &lt;span style=&#34;color:#a6e22e&#34;&gt;id&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;org.jetbrains.kotlin.android&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;version&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;ref&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;kotlin&amp;#34;&lt;/span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# å¯é€‰ï¼šCompose ç¼–è¯‘å™¨æ’ä»¶ï¼ˆä»… Compose é¡¹ç›®éœ€è¦ï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;kotlin-compose&lt;/span&gt; = { &lt;span style=&#34;color:#a6e22e&#34;&gt;id&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;org.jetbrains.kotlin.plugin.compose&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;version&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;ref&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;kotlin&amp;#34;&lt;/span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# å¯é€‰ï¼šå¦‚éœ€å¤šæ¨¡å—æˆ–åº“æ¨¡å—&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;android-library&lt;/span&gt; = { &lt;span style=&#34;color:#a6e22e&#34;&gt;id&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;com.android.library&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;version&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;ref&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;agp&amp;#34;&lt;/span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;[&lt;span style=&#34;color:#a6e22e&#34;&gt;bundles&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# å¯é€‰ï¼šç»„åˆå¸¸ç”¨åº“&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# ä¼ ç»Ÿ View UI å¥—ä»¶&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;traditional-ui&lt;/span&gt; = [&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;androidx-core-ktx&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;androidx-appcompat&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;material&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;androidx-constraintlayout&amp;#34;&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Compose UI å¥—ä»¶&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;compose-ui&lt;/span&gt; = [&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;androidx-compose-ui&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;androidx-compose-material3&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;androidx-compose-ui-tooling-preview&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;androidx-activity-compose&amp;#34;&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# MVVM æ¶æ„å¥—ä»¶&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;lifecycle&lt;/span&gt; = [&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;androidx-lifecycle-viewmodel-ktx&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;androidx-lifecycle-livedata-ktx&amp;#34;&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;ç–‘é—®è§£ç­”&#34;&gt;ç–‘é—®è§£ç­”
&lt;/h4&gt;&lt;h5 id=&#34;ä¸ºä»€ä¹ˆé¡¹ç›®çº§è¦ç”¨apply-false&#34;&gt;ä¸ºä»€ä¹ˆé¡¹ç›®çº§è¦ç”¨&lt;code&gt;apply false&lt;/code&gt;ï¼Ÿ
&lt;/h5&gt;&lt;p&gt;åœ¨é¡¹ç›®æ ¹ç›®å½•çš„&lt;code&gt;build.gradle.kts&lt;/code&gt;ä¸­ä½¿ç”¨&lt;code&gt;apply false&lt;/code&gt;æ˜¯ä¸ºäº†ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å£°æ˜æ’ä»¶ç‰ˆæœ¬ï¼Œä½†ä¸åº”ç”¨åˆ°æ ¹é¡¹ç›®&lt;/li&gt;
&lt;li&gt;è®©å­æ¨¡å—å¯ä»¥å¤ç”¨è¿™äº›æ’ä»¶å®šä¹‰&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// âŒ é¡¹ç›®æ ¹ç›®å½•å¦‚æœä¸åŠ  apply false
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;plugins {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    alias(libs.plugins.android.application)  &lt;span style=&#34;color:#75715e&#34;&gt;// ä¼šåº”ç”¨åˆ°æ ¹é¡¹ç›®
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// é—®é¢˜ï¼šæ ¹é¡¹ç›®ä¸æ˜¯ Android åº”ç”¨ï¼Œä¼šæŠ¥é”™ï¼
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// âœ… æ­£ç¡®åšæ³•
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;plugins {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    alias(libs.plugins.android.application) apply &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;// åªå£°æ˜ï¼Œä¸åº”ç”¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;ç±»æ¯”ç†è§£&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æŠŠæ ¹é¡¹ç›®æƒ³è±¡æˆæ’ä»¶ä»“åº“ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;apply false&lt;/code&gt; = æŠŠæ’ä»¶æ”¾åœ¨ä»“åº“è´§æ¶ä¸Š&lt;/li&gt;
&lt;li&gt;å­æ¨¡å—&lt;code&gt;alias()&lt;/code&gt; = ä»è´§æ¶å–ç”¨æ’ä»¶&lt;/li&gt;
&lt;li&gt;è´§æ¶ç®¡ç†å‘˜ï¼ˆæ ¹é¡¹ç›®ï¼‰ä¸éœ€è¦ç”¨è¿™äº›å·¥å…·ï¼ˆæ’ä»¶ï¼‰&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>Rust Jnié…ç½®</title>
        <link>http://localhost:1313/android-develop/rust-jni%E9%85%8D%E7%BD%AE/</link>
        <pubDate>Wed, 15 Oct 2025 13:45:38 +0800</pubDate>
        
        <guid>http://localhost:1313/android-develop/rust-jni%E9%85%8D%E7%BD%AE/</guid>
        <description>&lt;h4 id=&#34;ç¯å¢ƒé…ç½®&#34;&gt;ç¯å¢ƒé…ç½®
&lt;/h4&gt;&lt;h5 id=&#34;1-ç¯å¢ƒæ£€æŸ¥&#34;&gt;1. ç¯å¢ƒæ£€æŸ¥
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# æ£€æŸ¥ Rust æ˜¯å¦å®‰è£…&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;rustc --version
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# åº”è¯¥çœ‹åˆ°: rustc 1.xx.x&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# æ£€æŸ¥ Cargo&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;cargo --version
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# æ£€æŸ¥ Android Studio å’Œ SDK&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# ç¡®ä¿å·²å®‰è£… Android Studio&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;2-å®‰è£…å¿…è¦å·¥å…·&#34;&gt;2. å®‰è£…å¿…è¦å·¥å…·
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 1. å®‰è£… Android targets&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;rustup target add aarch64-linux-android    &lt;span style=&#34;color:#75715e&#34;&gt;# ARM64&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;rustup target add armv7-linux-androideabi  &lt;span style=&#34;color:#75715e&#34;&gt;# ARM32&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;rustup target add i686-linux-android       &lt;span style=&#34;color:#75715e&#34;&gt;# x86&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;rustup target add x86_64-linux-android     &lt;span style=&#34;color:#75715e&#34;&gt;# x86_64&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 2. å®‰è£… cargo-ndk (é‡è¦!)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;cargo install cargo-ndk
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 3. éªŒè¯å®‰è£…&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;cargo ndk --version
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;é…ç½®ndkè·¯å¾„&#34;&gt;é…ç½®NDKè·¯å¾„
&lt;/h5&gt;&lt;p&gt;&lt;strong&gt;macOS/Linux&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# ç¼–è¾‘ ~/.bashrc æˆ– ~/.zshrc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;export ANDROID_HOME&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;$HOME/Library/Android/sdk  &lt;span style=&#34;color:#75715e&#34;&gt;# macOS&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# æˆ–&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;export ANDROID_HOME&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;$HOME/Android/Sdk          &lt;span style=&#34;color:#75715e&#34;&gt;# Linux&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;export ANDROID_NDK_HOME&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;$ANDROID_HOME/ndk/25.2.9519653
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# æ³¨æ„: ç‰ˆæœ¬å·å¯èƒ½ä¸åŒ,æ£€æŸ¥ä½ çš„ ndk ç›®å½•&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# åº”ç”¨é…ç½®&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;source ~/.bashrc  &lt;span style=&#34;color:#75715e&#34;&gt;# æˆ– source ~/.zshrc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;Windows&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-powershell&#34; data-lang=&#34;powershell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# è®¾ç½®ç¯å¢ƒå˜é‡&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;setx ANDROID_HOME &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;C:\Users\YourName\AppData\Local\Android\Sdk&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;setx ANDROID_NDK_HOME &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;%ANDROID_HOME%\ndk\25.2.9519653&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;éªŒè¯ndk&#34;&gt;éªŒè¯NDK:
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;echo $ANDROID_NDK_HOME
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# åº”è¯¥æ˜¾ç¤ºè·¯å¾„,å¦‚: /Users/xxx/Library/Android/sdk/ndk/25.2.9519653&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;ls $ANDROID_NDK_HOME
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# åº”è¯¥çœ‹åˆ°: build, platforms, sources ç­‰ç›®å½•&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
        </item>
        <item>
        <title>Android_rustæ··åˆå¼€å‘å…¥é—¨</title>
        <link>http://localhost:1313/android-develop/android_rust%E6%B7%B7%E5%90%88%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8/</link>
        <pubDate>Wed, 15 Oct 2025 11:55:59 +0800</pubDate>
        
        <guid>http://localhost:1313/android-develop/android_rust%E6%B7%B7%E5%90%88%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8/</guid>
        <description>&lt;h4 id=&#34;ä»€ä¹ˆæ˜¯ndk&#34;&gt;ä»€ä¹ˆæ˜¯NDK?
&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;NDK = Native Development Kit(åŸç”Ÿå¼€å‘å·¥å…·åŒ…)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä¸€å¥è¯è§£é‡Š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;NDK æ˜¯ Android æä¾›çš„å·¥å…·é›†,è®©ä½ èƒ½ç”¨ &lt;strong&gt;C/C++/Rust&lt;/strong&gt; ç­‰åŸç”Ÿè¯­è¨€å¼€å‘ Android åº”ç”¨çš„ä¸€éƒ¨åˆ†&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;androidåº”ç”¨çš„ä¸¤ç§å¼€å‘æ–¹å¼&#34;&gt;Androidåº”ç”¨çš„ä¸¤ç§å¼€å‘æ–¹å¼
&lt;/h4&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Android åº”ç”¨                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚  æ–¹å¼ 1: Java/Kotlin (Android SDK)      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Kotlin/Java ä»£ç                 â”‚  â”‚
â”‚  â”‚  â†“                               â”‚  â”‚
â”‚  â”‚  ç¼–è¯‘ä¸º DEX å­—èŠ‚ç                â”‚  â”‚
â”‚  â”‚  â†“                               â”‚  â”‚
â”‚  â”‚  åœ¨ Dalvik/ART è™šæ‹Ÿæœºè¿è¡Œ        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                         â”‚
â”‚  æ–¹å¼ 2: C/C++/Rust (Android NDK)       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  C/C++/Rust ä»£ç                  â”‚  â”‚
â”‚  â”‚  â†“                               â”‚  â”‚
â”‚  â”‚  ç¼–è¯‘ä¸º .so æ–‡ä»¶ (æœºå™¨ç )        â”‚  â”‚
â”‚  â”‚  â†“                               â”‚  â”‚
â”‚  â”‚  ç›´æ¥åœ¨ CPU ä¸Šè¿è¡Œ (æ— è™šæ‹Ÿæœº)    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                         â”‚
â”‚  ä¸¤è€…é€šè¿‡ JNI æ¡¥æ¥                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;ä¸ºä»€ä¹ˆéœ€è¦ndk&#34;&gt;ä¸ºä»€ä¹ˆéœ€è¦NDKï¼Ÿ
&lt;/h4&gt;&lt;h5 id=&#34;å¯¹æ¯”ç†è§£&#34;&gt;å¯¹æ¯”ç†è§£
&lt;/h5&gt;&lt;p&gt;çº¯ &lt;strong&gt;Java/Kotlin(SDK):&lt;/strong&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;ä¼˜ç‚¹:
âœ… å¼€å‘ç®€å•
âœ… è·¨è®¾å¤‡å…¼å®¹å¥½
âœ… è°ƒè¯•æ–¹ä¾¿

ç¼ºç‚¹:
âŒ æ€§èƒ½æœ‰é™ (è™šæ‹Ÿæœºå¼€é”€)
âŒ æŸäº›åŠŸèƒ½æ— æ³•å®ç°
âŒ æ— æ³•å¤ç”¨ C/C++ åº“
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;strong&gt;NDK(C/C++/Rust)&lt;/strong&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;ä¼˜ç‚¹:
âœ… æ€§èƒ½æé«˜ (æ¥è¿‘æœºå™¨ç )
âœ… å¯ä»¥å¤ç”¨ç°æœ‰ C/C++ åº“
âœ… ç›´æ¥è®¿é—®ç¡¬ä»¶
âœ… è·¨å¹³å°ä»£ç å¤ç”¨

ç¼ºç‚¹:
âŒ å¼€å‘å¤æ‚
âŒ è°ƒè¯•å›°éš¾
âŒ éœ€è¦ä¸ºä¸åŒ CPU ç¼–è¯‘
&lt;/code&gt;&lt;/pre&gt;&lt;hr&gt;
&lt;h4 id=&#34;ndkå·¥ä½œåŸç†&#34;&gt;NDKå·¥ä½œåŸç†
&lt;/h4&gt;&lt;h5 id=&#34;å®Œæ•´æµç¨‹&#34;&gt;å®Œæ•´æµç¨‹
&lt;/h5&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;ç¬¬ 1 æ­¥: å†™ Rust ä»£ç 
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ // Rust ä»£ç            â”‚
â”‚ pub fn add(a: i32, b: i32) -&amp;gt; i32 {
â”‚     a + b              â”‚
â”‚ }                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
ç¬¬ 2 æ­¥: NDK ç¼–è¯‘
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ NDK å·¥å…·é“¾ç¼–è¯‘          â”‚
â”‚ - äº¤å‰ç¼–è¯‘              â”‚
â”‚ - é’ˆå¯¹ ARM/x86 CPU     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
ç¬¬ 3 æ­¥: ç”Ÿæˆ .so æ–‡ä»¶
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ librust_lib.so          â”‚
â”‚ (æœºå™¨ç ,å¯ç›´æ¥è¿è¡Œ)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
ç¬¬ 4 æ­¥: Android åŠ è½½
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ System.loadLibrary(&amp;#34;rust_lib&amp;#34;)
â”‚                        â”‚
â”‚ external fun add(a: Int, b: Int): Int
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
ç¬¬ 5 æ­¥: JNI è°ƒç”¨
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Kotlin â†’ JNI â†’ Rust    â”‚
â”‚ val result = add(5, 3) â”‚
â”‚ // result = 8          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
&lt;/code&gt;&lt;/pre&gt;&lt;hr&gt;
&lt;h4 id=&#34;ndkåŒ…å«ä»€ä¹ˆ&#34;&gt;NDKåŒ…å«ä»€ä¹ˆï¼Ÿ
&lt;/h4&gt;&lt;h5 id=&#34;ndkå·¥å…·é›†&#34;&gt;NDKå·¥å…·é›†
&lt;/h5&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ANDROID_NDK_HOME/
â”œâ”€â”€ build/              # æ„å»ºè„šæœ¬
â”œâ”€â”€ toolchains/         # ç¼–è¯‘å™¨å·¥å…·é“¾
â”‚   â”œâ”€â”€ aarch64-linux-android/  # ARM64 ç¼–è¯‘å™¨
â”‚   â”œâ”€â”€ arm-linux-androideabi/  # ARM32 ç¼–è¯‘å™¨
â”‚   â”œâ”€â”€ x86/                    # x86 ç¼–è¯‘å™¨
â”‚   â””â”€â”€ x86_64/                 # x86_64 ç¼–è¯‘å™¨
â”œâ”€â”€ platforms/          # Android API çº§åˆ«çš„å¤´æ–‡ä»¶
â”œâ”€â”€ sources/           # ç¤ºä¾‹ä»£ç 
â””â”€â”€ sysroot/           # ç³»ç»Ÿåº“
&lt;/code&gt;&lt;/pre&gt;&lt;h5 id=&#34;ç¼–è¯‘å™¨&#34;&gt;ç¼–è¯‘å™¨
&lt;/h5&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;NDK æä¾›äº†é’ˆå¯¹ä¸åŒ CPU æ¶æ„çš„ç¼–è¯‘å™¨:

ARM64 (arm64-v8a):     ç°ä»£æ‰‹æœº (ä¸»æµ)
ARM32 (armeabi-v7a):   è€æ‰‹æœº
x86:                   æ¨¡æ‹Ÿå™¨
x86_64:                æ¨¡æ‹Ÿå™¨
&lt;/code&gt;&lt;/pre&gt;&lt;hr&gt;
&lt;h4 id=&#34;soæ–‡ä»¶æ˜¯ä»€ä¹ˆ&#34;&gt;.soæ–‡ä»¶æ˜¯ä»€ä¹ˆï¼Ÿ
&lt;/h4&gt;&lt;h5 id=&#34;ç†è§£soæ–‡ä»¶&#34;&gt;ç†è§£.soæ–‡ä»¶
&lt;/h5&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;.so = Shared Object (å…±äº«å¯¹è±¡)
ç±»ä¼¼äº:
- Windows çš„ .dll æ–‡ä»¶
- macOS çš„ .dylib æ–‡ä»¶

ä½œç”¨:
- åŒ…å«ç¼–è¯‘åçš„æœºå™¨ç 
- å¯ä»¥è¢«å¤šä¸ªç¨‹åºå…±äº«ä½¿ç”¨
&lt;/code&gt;&lt;/pre&gt;&lt;h5 id=&#34;soæ–‡ä»¶ç¤ºä¾‹&#34;&gt;.soæ–‡ä»¶ç¤ºä¾‹
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# æŸ¥çœ‹ .so æ–‡ä»¶&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;ls android/app/src/main/jniLibs/arm64-v8a/
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# librust_lib.so  â† è¿™å°±æ˜¯ç¼–è¯‘åçš„ Rust ä»£ç &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# æŸ¥çœ‹æ–‡ä»¶ä¿¡æ¯&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;file librust_lib.so
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# librust_lib.so: ELF 64-bit LSB shared object, ARM aarch64, ...&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# æŸ¥çœ‹å¯¼å‡ºçš„å‡½æ•°&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;nm -D librust_lib.so | grep Java
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Java_com_example_rustdemo_RustBridge_add&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Java_com_example_rustdemo_RustBridge_reverseString&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h4 id=&#34;ndkå¼€å‘æµç¨‹&#34;&gt;NDKå¼€å‘æµç¨‹
&lt;/h4&gt;&lt;h5 id=&#34;å®Œæ•´å¼€å‘æµç¨‹&#34;&gt;å®Œæ•´å¼€å‘æµç¨‹
&lt;/h5&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;1. å®‰è£… NDK
   â†“
   Android Studio â†’ SDK Manager â†’ SDK Tools â†’ NDK

2. é…ç½®ç¯å¢ƒ
   â†“
   export ANDROID_NDK_HOME=/path/to/ndk

3. ç¼–å†™åŸç”Ÿä»£ç  (C/C++/Rust)
   â†“
   ä¾‹å¦‚: add.c, image.cpp, search.rs

4. ä½¿ç”¨ NDK ç¼–è¯‘
   â†“
   ndk-build  (C/C++)
   cargo-ndk  (Rust)

5. ç”Ÿæˆ .so æ–‡ä»¶
   â†“
   libmylib.so

6. æ”¾å…¥ jniLibs ç›®å½•
   â†“
   app/src/main/jniLibs/arm64-v8a/libmylib.so

7. Kotlin åŠ è½½å’Œè°ƒç”¨
   â†“
   System.loadLibrary(&amp;#34;mylib&amp;#34;)
   external fun add(a: Int, b: Int): Int
&lt;/code&gt;&lt;/pre&gt;&lt;hr&gt;
&lt;h4 id=&#34;ndkæ ¸å¿ƒæ¦‚å¿µ&#34;&gt;NDKæ ¸å¿ƒæ¦‚å¿µ
&lt;/h4&gt;&lt;h5 id=&#34;jnijava-native-interface&#34;&gt;JNI(Java Native Interface)
&lt;/h5&gt;&lt;p&gt;&lt;strong&gt;JNI&lt;/strong&gt;æ˜¯æ¡¥æ¢:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Kotlin     â”‚   JNI   â”‚   Rust       â”‚
â”‚   (è™šæ‹Ÿæœº)    â”‚ â—„â”€â”€â”€â”€â”€â–º â”‚   (åŸç”Ÿç )    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

æ•°æ®ä¼ é€’:
Kotlin Int      â†”  Rust i32
Kotlin String   â†”  Rust String
Kotlin IntArray â†”  Rust &amp;amp;[i32]
&lt;/code&gt;&lt;/pre&gt;&lt;h5 id=&#34;äº¤å‰ç¼–è¯‘&#34;&gt;äº¤å‰ç¼–è¯‘
&lt;/h5&gt;&lt;p&gt;ä»€ä¹ˆæ˜¯äº¤å‰ç¼–è¯‘?&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;ä½ åœ¨ x86_64 ç”µè„‘ä¸Šå¼€å‘
   â†“
ä½†æ‰‹æœºæ˜¯ ARM64 æ¶æ„
   â†“
éœ€è¦&amp;#34;äº¤å‰ç¼–è¯‘&amp;#34;: åœ¨ x86_64 ä¸Šç¼–è¯‘å‡º ARM64 ä»£ç 
   â†“
NDK æä¾›äº†äº¤å‰ç¼–è¯‘å·¥å…·é“¾
&lt;/code&gt;&lt;/pre&gt;&lt;h5 id=&#34;abiapplication-binary-interface&#34;&gt;ABI(Application Binary Interface)
&lt;/h5&gt;&lt;p&gt;ä¸åŒ&lt;strong&gt;CPU&lt;/strong&gt;éœ€è¦ä¸åŒçš„**.so**æ–‡ä»¶:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;arm64-v8a/libmylib.so    â†’ ARM64 æ‰‹æœº
armeabi-v7a/libmylib.so  â†’ ARM32 æ‰‹æœº
x86/libmylib.so          â†’ x86 æ¨¡æ‹Ÿå™¨
x86_64/libmylib.so       â†’ x86_64 æ¨¡æ‹Ÿå™¨
&lt;/code&gt;&lt;/pre&gt;&lt;hr&gt;
&lt;h4 id=&#34;ä»€ä¹ˆæ—¶å€™ç”¨ndk&#34;&gt;ä»€ä¹ˆæ—¶å€™ç”¨NDK?
&lt;/h4&gt;&lt;h5 id=&#34;åº”è¯¥ç”¨ndkçš„åœºæ™¯&#34;&gt;åº”è¯¥ç”¨NDKçš„åœºæ™¯
&lt;/h5&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;1. æ€§èƒ½å…³é”®ä»£ç 
   - å›¾åƒ/è§†é¢‘å¤„ç†
   - éŸ³é¢‘å¤„ç†
   - å¤§é‡æ•°å­¦è®¡ç®—
   - åŠ å¯†/è§£å¯†

2. å¤ç”¨ç°æœ‰ä»£ç 
   - å·²æœ‰ C/C++ åº“
   - è·¨å¹³å°ä»£ç  (iOS/Android å…±äº«)

3. ä¿æŠ¤æ ¸å¿ƒç®—æ³•
   - é˜²æ­¢åç¼–è¯‘
   - å•†ä¸šé€»è¾‘ä¿æŠ¤

4. è®¿é—®åº•å±‚åŠŸèƒ½
   - ç¡¬ä»¶æ§åˆ¶
   - ç³»ç»Ÿè°ƒç”¨
&lt;/code&gt;&lt;/pre&gt;&lt;h5 id=&#34;ä¸åº”è¯¥ç”¨ndkçš„åœºæ™¯&#34;&gt;ä¸åº”è¯¥ç”¨NDKçš„åœºæ™¯
&lt;/h5&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;1. ç®€å•ä¸šåŠ¡é€»è¾‘
   - æŒ‰é’®ç‚¹å‡»
   - æ•°æ®å±•ç¤º
   - ç½‘ç»œè¯·æ±‚

2. å¿«é€Ÿå¼€å‘
   - åŸå‹éªŒè¯
   - MVP é˜¶æ®µ

3. å›¢é˜Ÿä¸ç†Ÿæ‚‰ C/C++/Rust
   - ç»´æŠ¤æˆæœ¬é«˜
   - Bug éš¾ä»¥è°ƒè¯•
&lt;/code&gt;&lt;/pre&gt;&lt;hr&gt;
&lt;h4 id=&#34;ndkå¼€å‘å·¥å…·&#34;&gt;NDKå¼€å‘å·¥å…·
&lt;/h4&gt;&lt;h5 id=&#34;å¿…å¤‡å·¥å…·&#34;&gt;å¿…å¤‡å·¥å…·
&lt;/h5&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;1. Android NDK
   - ä¸‹è½½: Android Studio SDK Manager

2. CMake (C/C++) æˆ– cargo-ndk (Rust)
   - cargo install cargo-ndk

3. LLDB (è°ƒè¯•å™¨)
   - Android Studio å†…ç½®
&lt;/code&gt;&lt;/pre&gt;&lt;h5 id=&#34;è¾…åŠ©å·¥å…·&#34;&gt;è¾…åŠ©å·¥å…·
&lt;/h5&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;# æŸ¥çœ‹ .so æ–‡ä»¶ä¿¡æ¯
readelf -h libmylib.so

# æŸ¥çœ‹å¯¼å‡ºçš„å‡½æ•°
nm -D libmylib.so

# åæ±‡ç¼– (è°ƒè¯•ç”¨)
objdump -d libmylib.so
&lt;/code&gt;&lt;/pre&gt;&lt;hr&gt;
&lt;h4 id=&#34;æ€»ç»“&#34;&gt;æ€»ç»“
&lt;/h4&gt;&lt;h5 id=&#34;ndkæ˜¯ä»€ä¹ˆ&#34;&gt;NDKæ˜¯ä»€ä¹ˆï¼Ÿ
&lt;/h5&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;NDK = è®©ä½ ç”¨ C/C++/Rust å¼€å‘ Android çš„å·¥å…·åŒ…

ä½œç”¨:
1. æä¾›äº¤å‰ç¼–è¯‘å·¥å…·é“¾
2. ç¼–è¯‘å‡º .so æœºå™¨ç æ–‡ä»¶
3. é€šè¿‡ JNI ä¸ Kotlin äº¤äº’
4. è·å¾—åŸç”Ÿæ€§èƒ½

é€‚ç”¨åœºæ™¯:
- é«˜æ€§èƒ½è®¡ç®—
- å¤ç”¨ C/C++ åº“
- è·¨å¹³å°å¼€å‘
&lt;/code&gt;&lt;/pre&gt;&lt;h5 id=&#34;å…³é”®æ¦‚å¿µ&#34;&gt;å…³é”®æ¦‚å¿µ
&lt;/h5&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;NDK:   å·¥å…·åŒ…
JNI:   æ¡¥æ¢ (Kotlin â†” åŸç”Ÿä»£ç )
.so:   ç¼–è¯‘åçš„æœºå™¨ç 
ABI:   ä¸åŒ CPU æ¶æ„

æµç¨‹:
Rust ä»£ç  â†’ NDK ç¼–è¯‘ â†’ .so æ–‡ä»¶ â†’ JNI è°ƒç”¨ â†’ Kotlin ä½¿ç”¨
&lt;/code&gt;&lt;/pre&gt;</description>
        </item>
        <item>
        <title>Benchmarkå­¦ä¹ </title>
        <link>http://localhost:1313/rust/benchmark%E5%AD%A6%E4%B9%A0/</link>
        <pubDate>Mon, 13 Oct 2025 10:33:08 +0800</pubDate>
        
        <guid>http://localhost:1313/rust/benchmark%E5%AD%A6%E4%B9%A0/</guid>
        <description>&lt;h4 id=&#34;benchmarkæ ¸å¿ƒ&#34;&gt;benchmarkæ ¸å¿ƒ
&lt;/h4&gt;&lt;p&gt;æ‰€æœ‰è¯­è¨€çš„&lt;strong&gt;Benchmark&lt;/strong&gt;éƒ½åœ¨åšï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è®¡æ—¶ - æµ‹é‡æ‰§è¡Œæ—¶é—´&lt;/li&gt;
&lt;li&gt;é‡å¤ - å¤šæ¬¡è¿è¡Œå–å¹³å‡&lt;/li&gt;
&lt;li&gt;ç»Ÿè®¡ - è®¡ç®—å‡å€¼ã€æ ‡å‡†å·®&lt;/li&gt;
&lt;li&gt;å¯¹æ¯” - æ¯”è¾ƒä¸åŒå®ç°&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;é€šç”¨æµç¨‹&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;é¢„çƒ­ â†’ æµ‹é‡ â†’ ç»Ÿè®¡ â†’ æŠ¥å‘Š ï¼ˆé˜²ä¼˜åŒ–ï¼‰
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;é¢„çƒ­&lt;/strong&gt;: è·³è¿‡ç¼“å­˜æœªå‘½ä¸­çš„åˆæµ‹&lt;/p&gt;
&lt;h4 id=&#34;criterion&#34;&gt;Criterion
&lt;/h4&gt;&lt;p&gt;&lt;code&gt;Criterion&lt;/code&gt;æ˜¯rustä¸­æœ€ç°ä»£åŒ–çš„benchmarkåº“ï¼Œæ¥ä¸‹æ¥è·Ÿç€ä¾‹å­ä¸€æ­¥æ­¥æ·±å…¥äº†benchmarkã€‚&lt;/p&gt;
&lt;h4 id=&#34;å…¥é—¨&#34;&gt;å…¥é—¨
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#![allow(unused)]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;main&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;use&lt;/span&gt; criterion::{black_box, criterion_group, criterion_main, Criterion};
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;use&lt;/span&gt; mycrate::fibonacci;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;criterion_benchmark&lt;/span&gt;(c: &lt;span style=&#34;color:#66d9ef&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;mut&lt;/span&gt; Criterion) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    c.bench_function(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;fib 20&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt;b&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; b.iter(&lt;span style=&#34;color:#f92672&#34;&gt;||&lt;/span&gt; fibonacci(black_box(&lt;span style=&#34;color:#ae81ff&#34;&gt;20&lt;/span&gt;))));
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;criterion_group!&lt;/span&gt;(benches, criterion_benchmark);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;criterion_main!&lt;/span&gt;(benches);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;1-bench_functionæ–¹æ³•&#34;&gt;1. &lt;code&gt;bench_function&lt;/code&gt;æ–¹æ³•
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;c.bench_function(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;fib 20&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt;b&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; b.iter(&lt;span style=&#34;color:#f92672&#34;&gt;||&lt;/span&gt; fibonacci(black_box(&lt;span style=&#34;color:#ae81ff&#34;&gt;20&lt;/span&gt;))));
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ä½œç”¨&lt;/strong&gt;ï¼šå®šä¹‰ä¸€ä¸ªåŸºå‡†æµ‹è¯•ç”¨ä¾‹&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å‚æ•°&lt;/strong&gt;:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;fib 20&lt;/code&gt;ï¼š æµ‹è¯•ç”¨ä¾‹çš„åç§°ï¼ˆç”¨äºç»“æœæŠ¥å‘Šï¼‰&lt;/li&gt;
&lt;li&gt;é—­åŒ…å‡½æ•°ï¼šåŒ…å«å®é™…çš„æµ‹è¯•é€»è¾‘&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é—­åŒ…å†…éƒ¨&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;b&lt;/code&gt;:   &lt;code&gt;Bencher&lt;/code&gt;å¯¹è±¡(è‡ªåŠ¨ä¼ å…¥)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;b.iter(|| ...)&lt;/code&gt;ï¼šè¿è¡Œè¢«æµ‹ä»£ç å¤šæ¬¡å¹¶æµ‹é‡æ—¶é—´&lt;/li&gt;
&lt;li&gt;&lt;code&gt;black_box(20)&lt;/code&gt;ï¼šé˜»æ­¢ç¼–è¯‘å™¨ä¼˜åŒ–(ç¡®ä¿çœŸå®è®¡ç®—)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;fibonacci(20)&lt;/code&gt;ï¼šå®é™…è¢«æµ‹å‡½æ•°&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;2-criterion_groupå®&#34;&gt;2. &lt;code&gt;criterion_group!&lt;/code&gt;å®
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;criterion_group!&lt;/span&gt;(benches, criterion_benchmark);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ä½œç”¨&lt;/strong&gt;ï¼šåˆ›å»ºåŸºå‡†æµ‹è¯•ç»„&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å‚æ•°&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;benches&lt;/code&gt;ï¼šç»„åç§°ï¼ˆè‡ªå®šä¹‰æ ‡è¯†ç¬¦ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;code&gt;criterion_benchmark&lt;/code&gt;ï¼šåŒ…å«æµ‹è¯•çš„å‡½æ•°åï¼ˆæœ¬ä¾‹ä¸­çš„åŸºå‡†å‡½æ•°ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç‰¹æ€§&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;å°†å¤šä¸ªåŸºå‡†æµ‹è¯•ç»„ç»‡æˆç»„&lt;/li&gt;
&lt;li&gt;æ”¯æŒæ·»åŠ å¤šä¸ªæµ‹è¯•å‡½æ•°&lt;/li&gt;
&lt;li&gt;ç”Ÿæˆå¯¹åº”çš„ &lt;code&gt;bench_&lt;/code&gt; å¼€å¤´çš„å‡½æ•°ï¼ˆå¦‚&lt;code&gt;benches_benchmark&lt;/code&gt;ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;3-criterion_mainå®&#34;&gt;3. &lt;code&gt;criterion_main!&lt;/code&gt;å®
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;criterion_main!&lt;/span&gt;(benches);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ä½œç”¨&lt;/strong&gt;ï¼šç”ŸæˆåŸºå‡†æµ‹è¯•çš„å…¥å£å‡½æ•°&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å‚æ•°&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;benches&lt;/code&gt;ï¼šå‰é¢å®šä¹‰çš„æµ‹è¯•ç»„å&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åŠŸèƒ½&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;è‡ªåŠ¨ç”Ÿæˆ&lt;code&gt;main()&lt;/code&gt;å‡½æ•°&lt;/li&gt;
&lt;li&gt;é…ç½®å¹¶è¿è¡Œæ‰€æœ‰æŒ‡å®šçš„æµ‹è¯•ç»„&lt;/li&gt;
&lt;li&gt;å¤„ç†å‘½ä»¤è¡Œå‚æ•°ï¼ˆå¦‚ &lt;code&gt;--filter&lt;/code&gt;, &lt;code&gt;--savebaseline&lt;/code&gt;ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;4-benchesçš„æ¥æº&#34;&gt;4. &lt;code&gt;benches&lt;/code&gt;çš„æ¥æº
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;criterion_group!&lt;/span&gt;(benches, &lt;span style=&#34;color:#f92672&#34;&gt;..&lt;/span&gt;.);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//             ^^^^^^ è¿™é‡Œå®šä¹‰
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;criterion_main!&lt;/span&gt;(benches);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//             ^^^^^^ è¿™é‡Œä½¿ç”¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;benches&lt;/code&gt; æ˜¯ç”± &lt;code&gt;criterion_group!&lt;/code&gt; &lt;strong&gt;å®åˆ›å»ºçš„è‡ªå®šä¹‰æ ‡è¯†ç¬¦&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;åœ¨ &lt;code&gt;criterion_main!&lt;/code&gt; ä¸­å¼•ç”¨æ—¶ï¼š
&lt;ol&gt;
&lt;li&gt;æŸ¥æ‰¾åŒåæµ‹è¯•ç»„&lt;/li&gt;
&lt;li&gt;å°†ç»„å†…æµ‹è¯•å‡½æ•°æ·»åŠ åˆ°æ‰§è¡Œé˜Ÿåˆ—&lt;/li&gt;
&lt;li&gt;ç”ŸæˆæŠ¥å‘Šå’Œå›¾è¡¨&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;è¿›é˜¶&#34;&gt;è¿›é˜¶
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// ä½¿ç”¨ benchmark_group ç»„ç»‡æµ‹è¯•
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; group &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; c.benchmark_group(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;data_structures&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;group.sample_size(&lt;span style=&#34;color:#ae81ff&#34;&gt;100&lt;/span&gt;);  &lt;span style=&#34;color:#75715e&#34;&gt;// é…ç½®é‡‡æ ·
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;group.measurement_time(Duration::from_secs(&lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;));
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// ... å¤šä¸ªç›¸å…³æµ‹è¯•
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;group.finish();
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;benchmark_groupæ–¹æ³•&#34;&gt;&lt;code&gt;benchmark_group&lt;/code&gt;æ–¹æ³•
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;ä½œç”¨ï¼š åˆ›å»ºå…±äº«é…ç½®çš„å®¹å™¨ï¼Œä½œä¸ºå¤šä¸ªç›¸å…³æµ‹è¯•çš„é…ç½®è½½ä½“&lt;/li&gt;
&lt;li&gt;å¿…é¡»è¢«åŒ…å«åœ¨ &lt;code&gt;criterion_group!&lt;/code&gt; æ³¨å†Œçš„æµ‹è¯•å‡½æ•°ä¸­ï¼Œå¹¶ç”±å…¶è°ƒåº¦æ‰§è¡Œã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;ç†è§£ç»Ÿè®¡è¾“å‡º&#34;&gt;ç†è§£ç»Ÿè®¡è¾“å‡º
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;time:   &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;123.45 Âµs 125.67 Âµs 128.90 Âµs&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        â†‘          â†‘          â†‘
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      ä¸‹ç•Œ      ä¸­ä½æ•°       ä¸Šç•Œ
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;change: &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;-5.23% +2.34% +10.23%&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        â†‘        â†‘       â†‘
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      æœ€å¥½    é¢„æœŸå˜åŒ–  æœ€å
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Found &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt; outliers among &lt;span style=&#34;color:#ae81ff&#34;&gt;100&lt;/span&gt; measurements
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt; high mild    â† ç¨å¾®åé«˜
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; high severe  â† ä¸¥é‡åé«˜
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;ä¾‹å­&#34;&gt;ä¾‹å­
&lt;/h4&gt;&lt;h5 id=&#34;1-å‚æ•°åŒ–æµ‹è¯•&#34;&gt;1. å‚æ•°åŒ–æµ‹è¯•
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// æµ‹è¯•ä¸åŒè¾“å…¥å¤§å°
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; group &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; c.benchmark_group(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;fibonacci&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; i &lt;span style=&#34;color:#66d9ef&#34;&gt;in&lt;/span&gt; [&lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;15&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;20&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;25&lt;/span&gt;].iter() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    group.bench_with_input(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        BenchmarkId::from_parameter(i),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        i,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt;b, &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;i&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; b.iter(&lt;span style=&#34;color:#f92672&#34;&gt;||&lt;/span&gt; fibonacci(black_box(i)))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    );
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;group.finish();
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;2-å¯¹æ¯”å¤šä¸ªå®ç°&#34;&gt;2. å¯¹æ¯”å¤šä¸ªå®ç°
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; group &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; c.benchmark_group(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;sum&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;group.bench_function(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;for_loop&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt;b&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    b.iter(&lt;span style=&#34;color:#f92672&#34;&gt;||&lt;/span&gt; sum_for_loop(black_box(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;data)))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;});
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;group.bench_function(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;iterator&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt;b&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    b.iter(&lt;span style=&#34;color:#f92672&#34;&gt;||&lt;/span&gt; sum_iterator(black_box(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;data)))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;});
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;group.finish();
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;ååé‡æµ‹é‡&#34;&gt;ååé‡æµ‹é‡
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; group &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; c.benchmark_group(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;throughput&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// è®¾ç½®ååé‡å•ä½
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;group.throughput(Throughput::Bytes(data.len() &lt;span style=&#34;color:#66d9ef&#34;&gt;as&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;u64&lt;/span&gt;));
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;group.bench_function(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;process&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt;b&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    b.iter(&lt;span style=&#34;color:#f92672&#34;&gt;||&lt;/span&gt; process(black_box(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;data)))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;});
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// æŠ¥å‘Šä¼šæ˜¾ç¤º MB/s
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;è‡ªå®šä¹‰é…ç½®&#34;&gt;è‡ªå®šä¹‰é…ç½®
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;group.sample_size(&lt;span style=&#34;color:#ae81ff&#34;&gt;1000&lt;/span&gt;);              &lt;span style=&#34;color:#75715e&#34;&gt;// æ ·æœ¬æ•°
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;group.warm_up_time(Duration::from_secs(&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;));  &lt;span style=&#34;color:#75715e&#34;&gt;// é¢„çƒ­æ—¶é—´
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;group.measurement_time(Duration::from_secs(&lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;)); &lt;span style=&#34;color:#75715e&#34;&gt;// æµ‹é‡æ—¶é—´
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;group.noise_threshold(&lt;span style=&#34;color:#ae81ff&#34;&gt;0.05&lt;/span&gt;);          &lt;span style=&#34;color:#75715e&#34;&gt;// å™ªéŸ³é˜ˆå€¼
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
        </item>
        <item>
        <title>Globè¯­æ³•</title>
        <link>http://localhost:1313/rust/ripgrep/glob%E8%AF%AD%E6%B3%95/</link>
        <pubDate>Sun, 12 Oct 2025 15:03:56 +0800</pubDate>
        
        <guid>http://localhost:1313/rust/ripgrep/glob%E8%AF%AD%E6%B3%95/</guid>
        <description>&lt;h4 id=&#34;æ ¸å¿ƒé€šé…ç¬¦&#34;&gt;æ ¸å¿ƒé€šé…ç¬¦
&lt;/h4&gt;&lt;h5 id=&#34;1----åŒ¹é…ä»»æ„å­—ç¬¦ä¸å«æ–œæ &#34;&gt;1. &lt;code&gt;*&lt;/code&gt; - åŒ¹é…ä»»æ„å­—ç¬¦(ä¸å«æ–œæ )
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;*.txt           &lt;span style=&#34;color:#75715e&#34;&gt;# åŒ¹é…: file.txt, readme.txt&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#75715e&#34;&gt;# ä¸åŒ¹é…: dir/file.txt (å› ä¸ºæœ‰æ–œæ )&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;file*.log       &lt;span style=&#34;color:#75715e&#34;&gt;# åŒ¹é…: file1.log, file_backup.log&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#75715e&#34;&gt;# ä¸åŒ¹é…: myfile.log&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;*test*          &lt;span style=&#34;color:#75715e&#34;&gt;# åŒ¹é…: mytest.txt, test_file.log, unittest.rs&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h5 id=&#34;2----åŒ¹é…ä»»æ„è·¯å¾„åŒ…æ‹¬æ–œæ &#34;&gt;2. &lt;code&gt;**&lt;/code&gt; - åŒ¹é…ä»»æ„è·¯å¾„ï¼ˆåŒ…æ‹¬æ–œæ ï¼‰
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;**/*.rs         &lt;span style=&#34;color:#75715e&#34;&gt;# åŒ¹é…: main.rs, src/lib.rs, src/deep/nested/file.rs&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#75715e&#34;&gt;# ä»»æ„æ·±åº¦çš„ .rs æ–‡ä»¶&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;src/**          &lt;span style=&#34;color:#75715e&#34;&gt;# åŒ¹é…: src/ ç›®å½•ä¸‹çš„æ‰€æœ‰å†…å®¹(é€’å½’)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#75715e&#34;&gt;# src/a.txt, src/dir/b.txt, src/x/y/z.txt&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;**/test.txt     &lt;span style=&#34;color:#75715e&#34;&gt;# åŒ¹é…: test.txt, dir/test.txt, a/b/c/test.txt&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#75715e&#34;&gt;# ä»»æ„ä½ç½®çš„ test.txt&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;è®°å¿†è¦ç‚¹&lt;/strong&gt;ï¼š&lt;code&gt;**&lt;/code&gt;å¯ä»¥åŒ¹é…0ä¸ªæˆ–å¤šä¸ªç›®å½•å±‚çº§&lt;/p&gt;
&lt;hr&gt;
&lt;h5 id=&#34;3----åŒ¹é…å•ä¸ªå­—ç¬¦&#34;&gt;3. &lt;code&gt;?&lt;/code&gt; - åŒ¹é…å•ä¸ªå­—ç¬¦
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;?.txt           &lt;span style=&#34;color:#75715e&#34;&gt;# åŒ¹é…: a.txt, 1.txt, _.txt&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#75715e&#34;&gt;# ä¸åŒ¹é…: ab.txt (ä¸¤ä¸ªå­—ç¬¦)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;test?.log       &lt;span style=&#34;color:#75715e&#34;&gt;# åŒ¹é…: test1.log, testA.log&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#75715e&#34;&gt;# ä¸åŒ¹é…: test.log, test12.log&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;file???.rs      &lt;span style=&#34;color:#75715e&#34;&gt;# åŒ¹é…: file123.rs, fileabc.rs&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#75715e&#34;&gt;# æ°å¥½ 3 ä¸ªå­—ç¬¦&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;è®°å¿†è¦ç‚¹&lt;/strong&gt;ï¼šä¸€ä¸ª&lt;code&gt;?&lt;/code&gt;ä»£è¡¨æ°å¥½ä¸€ä¸ªå­—ç¬¦ï¼Œä¸å¤šä¸å°‘&lt;/p&gt;
&lt;hr&gt;
&lt;h5 id=&#34;4-æ–¹æ‹¬å·-åŒ¹é…å­—ç¬¦é›†ä¸­çš„ä¸€ä¸ª&#34;&gt;4. æ–¹æ‹¬å·&lt;code&gt;[...]&lt;/code&gt;-åŒ¹é…å­—ç¬¦é›†ä¸­çš„ä¸€ä¸ª
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;abc&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;.txt       &lt;span style=&#34;color:#75715e&#34;&gt;# åŒ¹é…: a.txt, b.txt, c.txt&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#75715e&#34;&gt;# ä¸åŒ¹é…: d.txt&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;test&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;0-9&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;.log   &lt;span style=&#34;color:#75715e&#34;&gt;# åŒ¹é…: test0.log, test5.log, test9.log&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#75715e&#34;&gt;# æ•°å­—èŒƒå›´&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;file&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;a-zA-Z&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;.rs &lt;span style=&#34;color:#75715e&#34;&gt;# åŒ¹é…: filea.rs, fileZ.rs&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#75715e&#34;&gt;# å¤§å°å†™å­—æ¯&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;0-9&lt;span style=&#34;color:#f92672&#34;&gt;][&lt;/span&gt;0-9&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;.txt  &lt;span style=&#34;color:#75715e&#34;&gt;# åŒ¹é…: 01.txt, 99.txt&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#75715e&#34;&gt;# ä¸¤ä½æ•°å­—&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;å¸¸ç”¨èŒƒå›´&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;[0-9]&lt;/code&gt; - æ•°å­—&lt;/li&gt;
&lt;li&gt;&lt;code&gt;[a-z]&lt;/code&gt; - å°å†™å­—æ¯&lt;/li&gt;
&lt;li&gt;&lt;code&gt;[A-Z]&lt;/code&gt; - å¤§å†™å­—æ¯&lt;/li&gt;
&lt;li&gt;&lt;code&gt;[a-zA-Z]&lt;/code&gt; - æ‰€æœ‰å­—æ¯&lt;/li&gt;
&lt;li&gt;&lt;code&gt;[0-9a-f]&lt;/code&gt; - åå…­è¿›åˆ¶&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h5 id=&#34;5-å¦å®šå­—ç¬¦é›†---ä¸åŒ¹é…è¿™äº›å­—ç¬¦&#34;&gt;5. å¦å®šå­—ç¬¦é›†&lt;code&gt;[!...]&lt;/code&gt; - ä¸åŒ¹é…è¿™äº›å­—ç¬¦
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;!0-9&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;.txt      &lt;span style=&#34;color:#75715e&#34;&gt;# åŒ¹é…: a.txt, _.txt&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#75715e&#34;&gt;# ä¸åŒ¹é…: 1.txt (ä¸æ˜¯æ•°å­—)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;!.&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;*.txt       &lt;span style=&#34;color:#75715e&#34;&gt;# åŒ¹é…: file.txt, readme.txt&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#75715e&#34;&gt;# ä¸åŒ¹é…: .hidden.txt (ä¸ä»¥ç‚¹å¼€å¤´)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;test&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;!abc&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;.log  &lt;span style=&#34;color:#75715e&#34;&gt;# åŒ¹é…: testd.log, test1.log&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#75715e&#34;&gt;# ä¸åŒ¹é…: testa.log, testb.log, testc.log&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h5 id=&#34;6-èŠ±æ‹¬å·a-b-c---åŒ¹é…å…¶ä¸­ä»»æ„ä¸€ä¸ª&#34;&gt;6. èŠ±æ‹¬å·&lt;code&gt;{a, b, c}&lt;/code&gt; - åŒ¹é…å…¶ä¸­ä»»æ„ä¸€ä¸ª
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;*.&lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;js,ts&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;       &lt;span style=&#34;color:#75715e&#34;&gt;# åŒ¹é…: app.js, main.ts&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#75715e&#34;&gt;# ä¸åŒ¹é…: style.css&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;file.&lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;txt,log,tmp&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#75715e&#34;&gt;# åŒ¹é…: file.txt, file.log, file.tmp&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;foo,bar&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;/*.rs  &lt;span style=&#34;color:#75715e&#34;&gt;# åŒ¹é…: foo/main.rs, bar/lib.rs&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#75715e&#34;&gt;# foo/ æˆ– bar/ ç›®å½•ä¸‹çš„ .rs æ–‡ä»¶&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;test&lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;1,2,3&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;.txt &lt;span style=&#34;color:#75715e&#34;&gt;# åŒ¹é…: test1.txt, test2.txt, test3.txt&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h5 id=&#34;7-å‰å¯¼æ–œæ ---é”šå®šåˆ°æ ¹ç›®å½•&#34;&gt;7. å‰å¯¼æ–œæ &lt;code&gt;/&lt;/code&gt; - é”šå®šåˆ°æ ¹ç›®å½•
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;/config.json    &lt;span style=&#34;color:#75715e&#34;&gt;# åªåŒ¹é…: é¡¹ç›®æ ¹ç›®å½•çš„ config.json&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#75715e&#34;&gt;# ä¸åŒ¹é…: src/config.json (å­ç›®å½•çš„)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;/*.txt          &lt;span style=&#34;color:#75715e&#34;&gt;# åªåŒ¹é…: æ ¹ç›®å½•ä¸‹çš„ .txt æ–‡ä»¶&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#75715e&#34;&gt;# ä¸åŒ¹é…: dir/file.txt&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;/src/*.rs       &lt;span style=&#34;color:#75715e&#34;&gt;# åªåŒ¹é…: æ ¹ç›®å½•ä¸‹ src/ ä¸­çš„ .rs&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#75715e&#34;&gt;# ä¸åŒ¹é…: other/src/main.rs&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h5 id=&#34;8-ç»“å°¾æ–œæ ---åªåŒ¹é…ç›®å½•&#34;&gt;8. ç»“å°¾æ–œæ &lt;code&gt;/&lt;/code&gt; - åªåŒ¹é…ç›®å½•
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;temp/           &lt;span style=&#34;color:#75715e&#34;&gt;# åªåŒ¹é…åä¸º temp çš„ç›®å½•&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#75715e&#34;&gt;# ä¸åŒ¹é…åä¸º temp çš„æ–‡ä»¶&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;node_modules/   &lt;span style=&#34;color:#75715e&#34;&gt;# åªåŒ¹é… node_modules ç›®å½•&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;build/          &lt;span style=&#34;color:#75715e&#34;&gt;# åªåŒ¹é… build ç›®å½•&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h5 id=&#34;9-æ„Ÿå¹å·---å–æ¶ˆå¿½ç•¥---gitignoreç‰¹æœ‰&#34;&gt;9. æ„Ÿå¹å·&lt;code&gt;!&lt;/code&gt; - å–æ¶ˆå¿½ç•¥ - gitignoreç‰¹æœ‰
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# å…ˆå¿½ç•¥æ‰€æœ‰ .log&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;*.log
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# ä½†ä¸å¿½ç•¥ important.log&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;!important.log
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# ç»“æœ: é™¤äº† important.log å¤–,æ‰€æœ‰ .log éƒ½è¢«å¿½ç•¥&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
</description>
        </item>
        <item>
        <title>Rustä¸­ç»å…¸å®ç°</title>
        <link>http://localhost:1313/rust/rust%E4%B8%AD%E7%BB%8F%E5%85%B8%E5%AE%9E%E7%8E%B0/</link>
        <pubDate>Sat, 11 Oct 2025 23:40:18 +0800</pubDate>
        
        <guid>http://localhost:1313/rust/rust%E4%B8%AD%E7%BB%8F%E5%85%B8%E5%AE%9E%E7%8E%B0/</guid>
        <description></description>
        </item>
        <item>
        <title>WalkParallelçš„å­¦ä¹ </title>
        <link>http://localhost:1313/rust/ripgrep/walkparallel%E7%9A%84%E5%AD%A6%E4%B9%A0/</link>
        <pubDate>Sat, 11 Oct 2025 11:56:55 +0800</pubDate>
        
        <guid>http://localhost:1313/rust/ripgrep/walkparallel%E7%9A%84%E5%AD%A6%E4%B9%A0/</guid>
        <description>&lt;p&gt;&lt;code&gt;WalkParallel&lt;/code&gt;å®ç°çš„åŠŸèƒ½æ˜¯å¯¹ç›®æ ‡æ–‡ä»¶å¹¶è¡Œéå†ï¼Œé‡‡ç”¨çš„æ˜¯&lt;strong&gt;ç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å‹&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h4 id=&#34;ç±»è¯´æ˜&#34;&gt;ç±»è¯´æ˜
&lt;/h4&gt;&lt;h5 id=&#34;walkstate&#34;&gt;WalkState
&lt;/h5&gt;&lt;p&gt;&lt;code&gt;WalkState&lt;/code&gt;ç”¨äºæ§åˆ¶ç›®å½•éå†çš„è¡Œä¸ºï¼Œç‰¹åˆ«é€‚ç”¨äºå¹¶è¡Œæ–‡ä»¶ç³»ç»Ÿéå†çš„åœºæ™¯ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;enum&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;WalkState&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  Continue,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  Skip,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  Quit,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol&gt;
&lt;li&gt;&lt;code&gt;Continue&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;é»˜è®¤çŠ¶æ€ï¼Œç»§ç»­æ­£å¸¸éå†&lt;/li&gt;
&lt;li&gt;å¦‚æœæ˜¯ç›®å½•ï¼Œä¼šé€’å½’è¿›å…¥è¯¥ç›®å½•&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Skip&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;ä»…å½“å½“å‰æ¡ç›®æ˜¯ç›®å½•æ—¶æœ‰æ•ˆ&lt;/li&gt;
&lt;li&gt;è·³è¿‡è¯¥ç›®å½•ï¼Œä¸è¿›å…¥éå†&lt;/li&gt;
&lt;li&gt;å¯¹æ–‡ä»¶æ¡ç›®æ— å½±å“&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Quit&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;è¯·æ±‚ç»ˆæ­¢æ•´ä¸ªéå†è¿‡ç¨‹&lt;/li&gt;
&lt;li&gt;ç”±äºå¹¶è¡Œéå†çš„ç‰¹æ€§ï¼Œå¯èƒ½è¿˜ä¼šæœ‰ä¸€äº›æ¡ç›®è¢«å¤„ç†&lt;/li&gt;
&lt;li&gt;é€šå¸¸ç”¨äºæ‰¾åˆ°ç›®æ ‡åæå‰é€€å‡º&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h5 id=&#34;visitorç›¸å…³&#34;&gt;Visitorç›¸å…³
&lt;/h5&gt;&lt;p&gt;å’Œ&lt;code&gt;Visitor&lt;/code&gt;ç›¸å…³çš„ç±»ç”¨äºå®šä¹‰å¯¹æ–‡ä»¶ç³»ç»Ÿæ¡ç›®çš„å…·ä½“å¤„ç†è¡Œä¸ºã€‚é€æ­¥æ‹†è§£æ¯ä¸ªç›¸å…³ç±»ã€‚&lt;/p&gt;
&lt;h6 id=&#34;parallelvistor-trait&#34;&gt;ParallelVistor Trait
&lt;/h6&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;trait&lt;/span&gt; ParallelVisitor: Send {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;visit&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; self, entry: Result&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;DirEntry, Error&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;) -&amp;gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;WalkState&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;è¿™æ˜¯ä¸€ä¸ªè®¿é—®è€…æ¥å£ï¼Œå®šä¹‰äº†å¦‚ä½•å¤„ç†æ¯ä¸ªæ–‡ä»¶/ç›®å½•æ¡ç›®&lt;/li&gt;
&lt;li&gt;&lt;code&gt;visit&lt;/code&gt;æ–¹æ³•æ¥æ”¶ä¸€ä¸ª&lt;code&gt;DirEntry&lt;/code&gt;æˆ–é”™è¯¯ï¼Œè¿”å›&lt;code&gt;WalkState&lt;/code&gt;æ¥æ§åˆ¶éå†è¡Œä¸º&lt;/li&gt;
&lt;/ul&gt;
&lt;h6 id=&#34;parallelvisitorbuilders&#34;&gt;ParallelVisitorBuilder&amp;lt;&amp;rsquo;s&amp;gt;
&lt;/h6&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;trait&lt;/span&gt; ParallelVistorBuilder&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;&amp;#39;s&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;build&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; self) -&amp;gt; Box&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;dyn&lt;/span&gt; ParallelVisitor &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;&amp;#39;s&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;impl&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;&amp;#39;a&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;&amp;#39;s&lt;/span&gt;, P: &lt;span style=&#34;color:#a6e22e&#34;&gt;ParallelVisitorBuilder&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;&amp;#39;s&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt; ParallelVisitorBuilder&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;&amp;#39;s&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;&amp;#39;a&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; P
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;build&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; self) -&amp;gt;Box&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;dyn&lt;/span&gt; ParallelVisitor &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;&amp;#39;s&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    (&lt;span style=&#34;color:#f92672&#34;&gt;**&lt;/span&gt;self).build()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;ParallelVisitorBuilder&lt;/code&gt;å®šä¹‰äº†å¦‚ä½•æ„é€ &lt;code&gt;visitor&lt;/code&gt;ï¼Œè¿™é‡Œä¸»è¦æ˜¯æ¶‰åŠåˆ°äº†å¸¸è§çš„Rustæ¨¡å¼ï¼Œç§°ä¸º&lt;strong&gt;reference implementation&lt;/strong&gt;.è¿™æ ·å°±å¯ä»¥ä¸è½¬ç§»&lt;code&gt;Builder&lt;/code&gt;çš„æ‰€æœ‰æƒäº†ï¼Œåœ¨éœ€è¦å¤šæ¬¡è°ƒç”¨&lt;code&gt;build()&lt;/code&gt;æ—¶ï¼Œå¯ä»¥é¿å…æ‰€æœ‰æƒé—®é¢˜ã€‚&lt;/p&gt;
&lt;h5 id=&#34;fnvisitor&#34;&gt;FnVisitor
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;type&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;FnVisitor&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;&amp;#39;s&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		Box&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;dyn&lt;/span&gt; FnMut(Result&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;DirEntry, Error&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;) -&amp;gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;WalkState&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; Send &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;&amp;#39;s&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;è¿™æ˜¯ä¸€ä¸ªå¯è°ƒç”¨å¯¹è±¡ç±»å‹åˆ«åï¼Œç”¨äºç®€åŒ–é—­åŒ…çš„å­˜å‚¨&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Send&lt;/code&gt;å’Œ&lt;code&gt;&#39;s&lt;/code&gt;éƒ½æ˜¯ä¿®é¥°é—­åŒ…çš„ï¼Œ&lt;code&gt;Send&lt;/code&gt;ä¿è¯å¯ä»¥å®‰å…¨çš„åœ¨çº¿ç¨‹é—´ä¼ é€’ï¼Œ&lt;code&gt;&#39;s&lt;/code&gt;ç¡®ä¿é—­åŒ…ä¸ä¼šæ¯”å®ƒæ•è·çš„å¼•ç”¨æ´»çš„æ›´ä¹…&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;fnvisitorimp&#34;&gt;FnVisitorImp
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;FnVisitImp&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;&amp;#39;s&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  visitor: &lt;span style=&#34;color:#a6e22e&#34;&gt;FnVisitor&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;&amp;#39;s&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;impl&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;&amp;#39;s&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; ParallelVisitor &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; FnVisitImp&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;&amp;#39;s&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;visit&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; self, entry: Result&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;DirEntry, Error&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;) -&amp;gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;WalkState&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        (self.visitor)(entry)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;åŒ…è£…äº†&lt;code&gt;FnVisitor&lt;/code&gt;ï¼Œå®ç°äº†&lt;code&gt;ParallelVisitor&lt;/code&gt;trait&lt;/li&gt;
&lt;li&gt;å°†&lt;code&gt;visit&lt;/code&gt;è°ƒç”¨å§”æ‰˜ç»™å†…éƒ¨çš„é—­åŒ…&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>ç®€å•ç‰ˆripgrepå®ç°æ€»ç»“</title>
        <link>http://localhost:1313/rust/ripgrep/%E7%AE%80%E5%8D%95%E7%89%88ripgrep%E5%AE%9E%E7%8E%B0%E6%80%BB%E7%BB%93/</link>
        <pubDate>Fri, 10 Oct 2025 15:43:59 +0800</pubDate>
        
        <guid>http://localhost:1313/rust/ripgrep/%E7%AE%80%E5%8D%95%E7%89%88ripgrep%E5%AE%9E%E7%8E%B0%E6%80%BB%E7%BB%93/</guid>
        <description>&lt;h4 id=&#34;æ¦‚è¿°&#34;&gt;æ¦‚è¿°
&lt;/h4&gt;&lt;p&gt;ä¾æ®å¯¹&lt;code&gt;ripgrep&lt;/code&gt;çš„å­¦ä¹ ï¼Œå®ç°ç®€å•çš„ä¸ªäººç‰ˆæœ¬çš„&lt;code&gt;tbt_ripgrep&lt;/code&gt;ï¼Œç®€å•çš„æœ‰ä»¥ä¸‹åŠŸèƒ½&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; åŸºæœ¬æœç´¢&lt;/li&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; æ·»åŠ é€‰é¡¹ï¼ˆå¿½ç•¥å¤§å°å†™ï¼Œè¡Œå·ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; å½©è‰²è¾“å‡º&lt;/li&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; æ”¯æŒé€’å½’æœç´¢ç›®å½•&lt;/li&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼&lt;/li&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; æ˜¾ç¤ºä¸Šä¸‹æ–‡&lt;/li&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; æ€§èƒ½ä¼˜åŒ–ï¼ˆåŠ å¤šçº¿ç¨‹ï¼Œä¼˜åŒ–å¤§æ–‡ä»¶å¤„ç†ï¼Œåšæ€§èƒ½å¯¹æ¯”ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;åŠŸèƒ½å®ç°&#34;&gt;åŠŸèƒ½å®ç°
&lt;/h4&gt;&lt;p&gt;å‘½ä»¤è¡Œå‚æ•°è§£æä½¿ç”¨çš„&lt;code&gt;clap&lt;/code&gt;åº“ï¼Œå½©è‰²è¾“å‡ºä¹Ÿæ˜¯ç”¨çš„&lt;code&gt;colored&lt;/code&gt;åº“ï¼Œæ­£åˆ™åŒ¹é…ä¹Ÿæ˜¯ç”¨çš„&lt;code&gt;regex&lt;/code&gt;åº“,åŸºäºä¸Šè¿°ä¸‰ä¸ªåº“æä¾›çš„åŠŸèƒ½ï¼ŒåŠŸèƒ½å®ç°çš„ä¸»è¦éš¾ç‚¹ä¸»è¦åœ¨&lt;strong&gt;ä¸Šä¸‹æ–‡æ˜¾ç¤º&lt;/strong&gt;ä¸&lt;strong&gt;é€’å½’æœç´¢ç›®å½•&lt;/strong&gt;ã€‚å…¶ä¸­é€’å½’æœç´¢ç›®å½•ä¹Ÿæ˜¯åŸºäº&lt;code&gt;walkdir&lt;/code&gt;åº“å®ç°çš„ï¼Œä½†æ˜¯ä¸»è¦æ˜¯æƒ³å­¦ä¹ &lt;code&gt;ripgrep&lt;/code&gt;çš„ç›®å½•å‘ç°æ€è·¯ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;ç¨‹åºå¯¹æ¯”&#34;&gt;ç¨‹åºå¯¹æ¯”
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;&lt;code&gt;ripgrep&lt;/code&gt;çš„èŒè´£åˆ†ç¦»åšçš„å¾ˆå¥½ï¼Œä»¥&lt;code&gt;Searcher&lt;/code&gt;ä¸ºä¾‹ï¼Œå¦‚æœä»¥æˆ‘è‡ªå·±çš„æƒ³æ³•çš„è¯ï¼Œæ˜¯ä¼šæŠŠ&lt;code&gt;Path&lt;/code&gt;æ”¾è¿›&lt;code&gt;Searcher&lt;/code&gt;ä¸­çš„ï¼Œä½†æ˜¯è¿™æ ·ä¼šè¿™æ ·ï¼Œ&lt;code&gt;search&lt;/code&gt;æ–¹æ³•å°±éœ€è¦å¤„ç†æ–‡ä»¶ç³»ç»Ÿé—®é¢˜ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºä»¥ä¸‹å†…å®¹ï¼Œä½†é‚£äº›éƒ½ä¸æ˜¯æœç´¢çš„æ ¸å¿ƒé€»è¾‘ï¼š
&lt;ul&gt;
&lt;li&gt;éœ€è¦å¤„ç†æ–‡ä»¶ç³»ç»Ÿé”™è¯¯&lt;/li&gt;
&lt;li&gt;éœ€è¦å¤„ç†ç¬¦å·é“¾æ¥&lt;/li&gt;
&lt;li&gt;éœ€è¦å¤„ç†æ–‡ä»¶ç±»å‹åˆ¤æ–­&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;åŸºäºä»¥ä¸Šçš„å·®å¼‚ï¼Œæœ¬è´¨ä¸Šæ˜¯æˆ‘æ²¡æœ‰åšå¥½&lt;strong&gt;èŒè´£åˆ†ç¦»&lt;/strong&gt;ï¼Œæˆ‘æ˜¯åŸºäºâ€œæ˜¯ä»€ä¹ˆâ€å»å®ç°åŠŸèƒ½çš„ï¼Œä½†æ˜¯&lt;code&gt;ripgrep&lt;/code&gt;æ˜¯åŸºäºâ€œåšä»€ä¹ˆâ€å»å®ç°ä»£ç çš„ï¼Œåšå¥½&lt;strong&gt;èŒè´£åˆ†ç¦»&lt;/strong&gt;,æ„Ÿè§‰ä¹Ÿç®—æ˜¯&lt;strong&gt;é¢å‘æŠ½è±¡ç¼–ç¨‹&lt;/strong&gt;çš„æ®Šé€”åŒå½’äº†å§ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ˜¾ç¤ºä¸Šä¸‹æ–‡&lt;/strong&gt;è™½ç„¶åŠŸèƒ½æ˜¯å®ç°äº†ï¼Œä½†æ˜¯è®¾è®¡çš„ä¸æ˜¯å¾ˆä¼˜é›…ï¼Œå•ä¸ªæ–‡ä»¶çš„æœç´¢ç»“æœéƒ½ä¼šå­˜å‚¨ä¸‹æ¥ï¼Œç„¶åç»Ÿä¸€æ‰“å°å‡ºæ¥ï¼Œå•ä¸ªåŒ¹é…æ–‡ä»¶è¿‡å¤šçš„æ—¶å€™ï¼Œæ•ˆç‡ä½ä¸‹çš„ç¼ºç‚¹å°±ä¼šæ”¾å¤§äº†ï¼Œç›®å‰å¯¹&lt;code&gt;ripgrep&lt;/code&gt;çš„å®ç°è¿˜ä¸æ˜¯å¾ˆæ¸…æ¥šï¼Œä½†æ˜¯å¾ˆå¥½å¥‡æ˜¯å¦‚ä½•å®ç°çš„ã€‚&lt;code&gt;ripgrep&lt;/code&gt;æ˜¯å¦‚ä½•åšåˆ°æµå¼å¤„ç† + ä¸Šä¸‹æ–‡åŠŸèƒ½å¤„ç†çš„å‘¢ï¼Ÿ&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ripgrep&lt;/code&gt;çš„&lt;code&gt;walk&lt;/code&gt;å®ç°ä¹Ÿæ˜¯å¾ˆå€¼å¾—å­¦ä¹ çš„ï¼Œæˆ‘åŸæœ¬çš„å®ç°ä¹Ÿå°±æ˜¯å¯¹&lt;code&gt;walkdir&lt;/code&gt;è¿”å›çš„è¿­ä»£å™¨è¿›è¡Œéå†å°±è¡Œï¼Œä½†æ˜¯&lt;code&gt;ripgrep&lt;/code&gt;å¯¹æ–‡ä»¶éå†è¿›è¡Œäº†åŠŸèƒ½å¤„ç†ï¼Œ&lt;code&gt;WalkBuilder&lt;/code&gt;,&lt;code&gt;WalkEventIter&lt;/code&gt;å’Œ&lt;code&gt;Walk&lt;/code&gt;éƒ½æ˜¯ï¼Œæˆ‘è§‰å¾—è¿™äº›éƒ½æ˜¯å¾ˆå€¼å¾—å­¦ä¹ çš„&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;p&gt;ä¼˜å…ˆè€ƒè™‘&lt;strong&gt;åšä»€ä¹ˆ&lt;/strong&gt;è€Œä¸æ˜¯&lt;strong&gt;æ˜¯ä»€ä¹ˆ&lt;/strong&gt;å»å®ç°åŠŸèƒ½ï¼Œ&lt;strong&gt;é¢å‘è¡Œä¸ºç¼–ç¨‹&lt;/strong&gt;ä¼˜äº&lt;strong&gt;é¢å‘å¯¹è±¡ç¼–ç¨‹&lt;/strong&gt;ï¼Œåšå¥½èŒè´£åˆ†ç¦»ã€‚&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Regex</title>
        <link>http://localhost:1313/rust/docs_rs_zh/regex/</link>
        <pubDate>Mon, 22 Sep 2025 12:19:53 +0800</pubDate>
        
        <guid>http://localhost:1313/rust/docs_rs_zh/regex/</guid>
        <description>&lt;p&gt;è¿™ä¸ªcrateæä¾›äº†åœ¨å­—ç¬¦ä¸²ä¸­æœç´¢ä¸æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…(&lt;code&gt;regular expression&lt;/code&gt;ç®€ç§°&lt;code&gt;regex&lt;/code&gt;)çš„ä¾‹ç¨‹ã€‚æœ¬åº“æ”¯æŒçš„æ­£åˆ™è¡¨è¾¾å¼è¯­æ³•å’Œå…¶ä»–æ­£åˆ™å¼•æ“ç›¸ä¼¼ï¼Œä½†æ˜¯ç¼ºå°‘äº†ä¸€äº›æ— æ³•é«˜æ•ˆå®ç°çš„åŠŸèƒ½ã€‚åŒ…æ‹¬ä½†ä¸é™äºï¼Œ&lt;code&gt;look-around&lt;/code&gt;å’Œ&lt;code&gt;backrefernces&lt;/code&gt;ã€‚ç›¸åº”çš„ï¼Œæœ¬åº“çš„æ­£åˆ™æœç´¢æœ€å·®çš„æ—¶é—´å¤æ‚åº¦æ˜¯&lt;code&gt;O(m * n)&lt;/code&gt;ï¼Œ&lt;code&gt;m&lt;/code&gt;å’Œæ­£åˆ™è¡¨è¾¾å¼æˆæ­£æ¯”ï¼Œ&lt;code&gt;n&lt;/code&gt;å’Œè¢«æœç´¢çš„å­—ç¬¦ä¸²æˆæ­£æ¯”ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ åªéœ€è¦APIæ–‡æ¡£ï¼Œåªéœ€è¦è·³è½¬è‡³[Regex][https://docs.rs/regex/latest/regex/struct.Regex.html]ç±»å‹ã€‚å¦åˆ™ï¼Œæ­¤å¤„æ˜¯å¿«é€Ÿç¤ºä¾‹ï¼Œå±•ç¤ºå¦‚ä½•è§£æç±»ä¼¼grepç¨‹åºçš„è¾“å‡ºï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;use&lt;/span&gt; regex::Regex;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; re &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Regex::new(&lt;span style=&#34;color:#e6db74&#34;&gt;r&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;(?m)^([^:]+):([0-9]+):(.+)$&amp;#34;&lt;/span&gt;).unwrap();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; hay &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;\&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;path/to/foo:54:Blue Harvest
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;path/to/bar:90:Something, Something, Something, Dark Side
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;path/to/baz:3:It&amp;#39;s a Trap!
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; results &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;vec!&lt;/span&gt;[];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; (_, [path, lineno, line]) &lt;span style=&#34;color:#66d9ef&#34;&gt;in&lt;/span&gt; re.captures_iter(hay).map(&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt;c&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; c.extract()) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    results.push((path, lineno.parse::&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;u64&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;()&lt;span style=&#34;color:#f92672&#34;&gt;?&lt;/span&gt;, line));
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;assert_eq!&lt;/span&gt;(results, &lt;span style=&#34;color:#a6e22e&#34;&gt;vec!&lt;/span&gt;[
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    (&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;path/to/foo&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;54&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Blue Harvest&amp;#34;&lt;/span&gt;),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    (&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;path/to/bar&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;90&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Something, Something, Something, Dark Side&amp;#34;&lt;/span&gt;),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    (&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;path/to/baz&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;It&amp;#39;s a Trap!&amp;#34;&lt;/span&gt;),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;]);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;æ¦‚è¿°&#34;&gt;æ¦‚è¿°
&lt;/h4&gt;&lt;hr&gt;
&lt;p&gt;æœ¬åº“çš„ä¸»è¦ç±»å‹æ˜¯&lt;code&gt;Regex&lt;/code&gt;ã€‚å…¶é‡è¦çš„æ–¹æ³•å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Regex::new&lt;/code&gt;ä½¿ç”¨é»˜è®¤é…ç½®ç¼–è¯‘æ­£åˆ™è¡¨è¾¾å¼ã€‚&lt;code&gt;RegexBuilder&lt;/code&gt;å…è®¸é…ç½®éé»˜è®¤é…ç½®ã€‚ï¼ˆä¾‹å¦‚ï¼Œä¸åŒºåˆ†å¤§å°å†™åŒ¹é…ï¼Œè¯¦ç»†æ¨¡å¼ç­‰ã€‚ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Regex::is_match&lt;/code&gt; æŠ¥å‘Šåœ¨ç‰¹å®šçš„haystackæ˜¯å¦å­˜åœ¨åŒ¹é…ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Regex::find&lt;/code&gt;æŠ¥å‘ŠåŒ¹é…é¡¹åœ¨haystackçš„å­—èŠ‚åç§»ï¼Œå¦‚æœå­˜åœ¨çš„è¯ã€‚&lt;code&gt;Regex::find_iter&lt;/code&gt;è¿”å›ä¸€ä¸ªè¿­ä»£å™¨ï¼Œç”¨äºéå†æ‰€æœ‰åŒ¹é…é¡¹ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Regex::captures&lt;/code&gt;è¿”å›&lt;code&gt;Captures&lt;/code&gt;,å®ƒæŠ¥å‘Šäº†åœ¨haystackä¸­åŒ¹é…çš„å­—èŠ‚åç§»é‡ä»¥åŠä»haystackä¸­çš„regexåŒ¹é…çš„æ¯ä¸ªæ•è·ç»„çš„å­—èŠ‚åç§»é‡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¹Ÿæœ‰&lt;code&gt;RegexSet&lt;/code&gt;ï¼Œå®ƒå…è®¸åœ¨ä¸€æ¬¡æœç´¢ä¸­æœç´¢å¤šä¸ªæ­£åˆ™è¡¨è¾¾å¼ã€‚ç„¶è€Œï¼Œå®ƒåªæŠ¥å‘ŠåŒ¹é…çš„æ¨¡å¼è€Œä¸æŠ¥å‘ŠåŒ¹é…çš„å­—èŠ‚åç§»é‡ã€‚&lt;/p&gt;
&lt;p&gt;æ­¤å¤–ï¼Œé¡¶çº§crateæ–‡æ¡£ç»„ç»‡å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;#Usage&#34; &gt;Usage&lt;/a&gt;å±•ç¤ºäº†å¦‚ä½•åœ¨Rustå·¥ç¨‹ä¸­æ·»åŠ &lt;code&gt;regex&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;#Examples&#34; &gt;Examples&lt;/a&gt;æä¾›äº†æœ‰é™çš„æ­£åˆ™è¡¨è¾¾å¼ç¤ºä¾‹ã€‚&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;#Performance&#34; &gt;Performance&lt;/a&gt;æä¾›äº†å¦‚ä½•ä¼˜åŒ–æ­£åˆ™æœç´¢é€Ÿåº¦çš„ç®€å•æ€»ç»“ã€‚&lt;/li&gt;
&lt;li&gt;[Unicode][]è®¨è®ºäº†å¯¹non-ASCIIçš„æ”¯æŒã€‚&lt;/li&gt;
&lt;li&gt;[Syntax][]åˆ—ä¸¾äº†æœ¬åº“æ˜ç¡®æ”¯æŒçš„æ­£åˆ™è¡¨è¾¾å¼è¯­æ³•ã€‚&lt;/li&gt;
&lt;li&gt;[Untrusted input][]è®¨è®ºäº†æœ¬åº“å¦‚ä½•å¤„ç†ä¸å—ä¿¡ä»»çš„regexæˆ–haystackã€‚&lt;/li&gt;
&lt;li&gt;[Crate features][]è®°å½•äº†è¿™ä¸ªåº“å¯ä»¥è¢«å¯ç”¨æˆ–ç¦ç”¨çš„ç‰¹æ€§ã€‚&lt;/li&gt;
&lt;li&gt;[Other crates][]ä¸æ­£åˆ™å®¶æ—ä¸­å…¶ä»–åº“é“¾æ¥ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;usage&#34;&gt;Usage
&lt;/h4&gt;&lt;p&gt;&lt;code&gt;regex&lt;/code&gt;åœ¨ [crates.io][https://crates.io/crates/regex]ä¸Šï¼Œå¯ä»¥é€šè¿‡åœ¨é¡¹ç›®&lt;code&gt;Cargo.toml&lt;/code&gt;æ–‡ä»¶æ·»åŠ &lt;code&gt;regex&lt;/code&gt;åˆ°ä½ çš„ä¾èµ–é¡¹æ¥ä½¿ç”¨ã€‚æ›´ç®€å•çš„æ–¹å¼ï¼Œåªéœ€è¦&lt;code&gt;cargo run regex&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ˜¯ä¸€ä¸ªå®Œæ•´çš„ç¤ºä¾‹ï¼Œå®ƒåˆ›å»ºäº†ä¸€ä¸ªæ–°çš„ Rust é¡¹ç›®ï¼Œæ·»åŠ äº†å¯¹ &lt;code&gt;regex&lt;/code&gt; çš„ä¾èµ–ï¼Œåˆ›å»ºäº†æ­£åˆ™æœç´¢çš„æºä»£ç ï¼Œç„¶åè¿è¡Œäº†ç¨‹åºã€‚&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€æ­¥ï¼Œåœ¨æ–°ç›®å½•æ–°å»ºé¡¹ç›®ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ mkdir regex-example
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ cd regex-example
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ crago init
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç¬¬äºŒæ­¥ï¼Œæ·»åŠ &lt;code&gt;regex&lt;/code&gt;ä¾èµ–ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ cargo add regex
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç¬¬ä¸‰æ­¥ï¼šç¼–è¾‘&lt;code&gt;src/main.rs&lt;/code&gt;ï¼Œç”¨ä»¥ä¸‹å†…å®¹æ›¿æ¢å…¶æºç ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;use&lt;/span&gt; regex::Regex;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;main&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; re &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Regex::new(&lt;span style=&#34;color:#e6db74&#34;&gt;r&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Hello (?&amp;lt;name&amp;gt;\w+)!&amp;#34;&lt;/span&gt;).unwrap();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; Some(caps) &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; re.captures(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Hello Murphy!&amp;#34;&lt;/span&gt;) &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;println!&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;no match!&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    };
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;println!&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;The name is: &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;{}&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;caps[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;name&amp;#34;&lt;/span&gt;]);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç¬¬å››æ­¥ï¼Œæ‰§è¡Œ&lt;code&gt;cargo run&lt;/code&gt;è¿è¡Œ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ cargo run
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   Compiling memchr v2.5.0
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   Compiling regex-syntax v0.7.1
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   Compiling aho-corasick v1.0.1
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   Compiling regex v1.8.1
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   Compiling regex-example v0.1.0 &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;/tmp/regex-example&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    Finished dev &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;unoptimized + debuginfo&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt; target&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;s&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; in 4.22s
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     Running &lt;span style=&#34;color:#e6db74&#34;&gt;`&lt;/span&gt;target/debug/regex-example&lt;span style=&#34;color:#e6db74&#34;&gt;`&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;The name is: Murphy
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç¨‹åºç¬¬ä¸€æ¬¡è¿è¡Œå°†å±•ç¤ºæ›´å¤šè¾“å‡ºï¼Œå¦‚ä¸Šæ‰€ç¤ºã€‚ä½†æ˜¯åç»­è¿è¡Œä¸éœ€è¦é‡æ–°ç¼–è¯‘ä¾èµ–é¡¹ã€‚ã€&lt;/p&gt;
&lt;h4 id=&#34;examples&#34;&gt;Examples
&lt;/h4&gt;&lt;hr&gt;
&lt;p&gt;æœ¬èŠ‚æä¾›äº†ä¸€äº›ç¤ºä¾‹ï¼Œä»¥æ•™ç¨‹é£æ ¼å±•ç¤ºå¦‚ä½•ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼åœ¨haystackä¸­è¿›è¡Œæœç´¢ã€‚APIæ–‡æ¡£ä¸­è¿˜æœ‰æ›´å¤šç¤ºä¾‹ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨å¼€å§‹ä¹‹å‰ï¼Œæœ‰å¿…è¦å®šä¹‰ä¸€äº›æœ¯è¯­ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;regex&lt;/strong&gt;æ˜¯ç±»å‹ä¸º&lt;code&gt;Regex&lt;/code&gt;çš„å€¼ã€‚æˆ‘ä»¬ç”¨&lt;code&gt;re&lt;/code&gt;ä½œä¸ºæ­£åˆ™è¡¨è¾¾å¼çš„å˜é‡åã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;pattern&lt;/strong&gt;ç”¨äºæ„å»ºæ­£åˆ™è¡¨è¾¾å¼çš„å­—ç¬¦ä¸²ã€‚æˆ‘ä»¬ç”¨&lt;code&gt;pat&lt;/code&gt;ä½œä¸ºæ¨¡å¼çš„å˜é‡åã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;haystack&lt;/strong&gt;æ˜¯è¢«æ­£åˆ™è¡¨è¾¾å¼æœç´¢çš„å­—ç¬¦ä¸²ã€‚æˆ‘ä»¬ç”¨&lt;code&gt;hay&lt;/code&gt;ä½œä¸ºhaystackçš„å˜é‡åã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æœ‰æ—¶å€™â€œregexâ€å’Œâ€œpatternâ€è¿™ä¸¤ä¸ªè¯ä¼šè¢«äº’æ¢ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨è¿™ä¸ªcrateä¸­ï¼Œå¸¸è§„è¡¨è¾¾å¼çš„ä¸€èˆ¬ä½¿ç”¨æ–¹æ³•æ˜¯å°†ä¸€ä¸ªæ¨¡å¼ç¼–è¯‘æˆä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ï¼Œç„¶åä½¿ç”¨è¯¥æ­£åˆ™è¡¨è¾¾å¼æ¥æœç´¢ã€åˆ†å‰²æˆ–æ›¿æ¢å­—ç¬¦ä¸²çš„ä¸€éƒ¨åˆ†ã€‚&lt;/p&gt;
&lt;h5 id=&#34;example-find-a-middle-intial&#34;&gt;Example: find a middle intial
&lt;/h5&gt;&lt;hr&gt;
&lt;p&gt;æˆ‘ä»¬ä»ä¸€ä¸ªéå¸¸ç®€å•çš„ä¾‹å­å¼€å§‹ï¼šä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ï¼Œç”¨äºæŸ¥æ‰¾ç‰¹å®šçš„åç§°ï¼Œä½†ä½¿ç”¨é€šé…ç¬¦æ¥åŒ¹é…ä¸­é—´åã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;use&lt;/span&gt; regex::Regex;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// We use &amp;#39;unwrap()&amp;#39; here because it would be a bug in our program if the
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// pattern failed to compile to a regex. Panicking in the presence of a bug
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// is okay.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; re &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Regex::new(&lt;span style=&#34;color:#e6db74&#34;&gt;r&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Homer (.)\. Simpson&amp;#34;&lt;/span&gt;).unwrap();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; hay &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Homer J. Simpson&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; Some(caps) &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; re.captures(hay) &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; { &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; };
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;assert_eq!&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;J&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;caps[&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;]);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åœ¨ç¬¬ä¸€ä¸ªä¾‹å­æœ‰äº›å€¼å¾—æ³¨æ„çš„åœ°æ–¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;.&lt;/code&gt; æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„æ¨¡å¼å…ƒå­—ç¬¦ï¼Œè¡¨ç¤ºâ€œåŒ¹é…ä»»ä½•å•ä¸ªå­—ç¬¦ï¼Œé™¤äº†æ¢è¡Œç¬¦ã€‚â€ï¼ˆæ›´ç²¾ç¡®åœ°è¯´ï¼Œåœ¨è¿™ä¸ª crate ä¸­ï¼Œè¡¨ç¤ºâ€œåŒ¹é…ä»»ä½• UTF-8 ç¼–ç çš„ä»»ä½• Unicode æ ‡é‡å€¼ï¼Œé™¤äº† \nã€‚â€ï¼‰&lt;/li&gt;
&lt;li&gt;æˆ‘ä»¬å¯ä»¥ç”¨è½¬ä¹‰å­—ç¬¦æ¥åŒ¹é…å®é™…çš„ç‚¹å·ï¼Œå³&lt;code&gt; \.&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;æˆ‘ä»¬ä½¿ç”¨ Rust çš„åŸå§‹å­—ç¬¦ä¸²æ¥é¿å…åœ¨æ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼è¯­æ³•å’Œ Rust çš„å­—ç¬¦ä¸²å­—é¢é‡è¯­æ³•ä¸­å¤„ç†è½¬ä¹‰åºåˆ—ã€‚å¦‚æœæˆ‘ä»¬ä¸ä½¿ç”¨åŸå§‹å­—ç¬¦ä¸²ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨&lt;code&gt;\\.&lt;/code&gt;å»åŒ¹é…å­—ç¬¦&lt;code&gt;.&lt;/code&gt;ã€‚&lt;code&gt;r&amp;quot;\.&amp;quot;&lt;/code&gt;å’Œ&lt;code&gt;\\.&lt;/code&gt;æ˜¯ç­‰æ•ˆçš„æ¨¡å¼ã€‚&lt;/li&gt;
&lt;li&gt;æˆ‘ä»¬å°†é€šé…ç¬¦&lt;code&gt; \.&lt;/code&gt; æŒ‡ä»¤æ”¾åœ¨æ‹¬å·ä¸­ã€‚è¿™äº›æ‹¬å·å…·æœ‰ç‰¹æ®Šå«ä¹‰ï¼Œè¡¨ç¤ºâ€œå°† haystack ä¸­ä¸è¿™äº›æ‹¬å·åŒ¹é…çš„éƒ¨åˆ†ä½œä¸ºæ•è·ç»„å¯ç”¨â€ã€‚æ‰¾åˆ°åŒ¹é…åï¼Œæˆ‘ä»¬ä½¿ç”¨ &amp;amp;caps[1] è®¿é—®æ­¤æ•è·ç»„ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¦åˆ™ï¼Œæˆ‘ä»¬ä½¿ç”¨ &lt;code&gt;re.captures(hay) &lt;/code&gt;æ‰§è¡Œæœç´¢ï¼Œå¹¶åœ¨æ²¡æœ‰åŒ¹é…æ—¶ä»æˆ‘ä»¬çš„å‡½æ•°ä¸­è¿”å›ã€‚ç„¶åï¼Œæˆ‘ä»¬é€šè¿‡è¯¢é—®ä¸æ•è·ç»„ç´¢å¼•ä¸º&lt;code&gt;1&lt;/code&gt;çš„éƒ¨åˆ†åŒ¹é…çš„haystackçš„é‚£ä¸€éƒ¨åˆ†æ¥å¼•ç”¨ä¸­é—´åã€‚ï¼ˆç´¢å¼•ä¸º0çš„æ•è·ç»„æ˜¯éšå¼çš„ï¼Œæ€»æ˜¯å¯¹åº”æ•´ä¸ªåŒ¹é…ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œé‚£å°±æ˜¯&lt;code&gt;Homer J. Simpson&lt;/code&gt;ã€‚ï¼‰&lt;/p&gt;
&lt;h5 id=&#34;example-named-capture-groups&#34;&gt;Example: named capture groups
&lt;/h5&gt;&lt;hr&gt;
&lt;p&gt;åœ¨æˆ‘ä»¬ä¸Šé¢çš„ä¸­é—´åˆå§‹ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç¨å¾®è°ƒæ•´ä¸€ä¸‹æ¨¡å¼ï¼Œç»™åŒ¹é…ä¸­é—´åˆå§‹çš„ç»„å‘½åï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;use&lt;/span&gt; regex::Regex;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// Note that (?P&amp;lt;middle&amp;gt;.) is a different way to spell the same thing.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; re &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Regex::new(&lt;span style=&#34;color:#e6db74&#34;&gt;r&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Homer (?&amp;lt;middle&amp;gt;.)\. Simpson&amp;#34;&lt;/span&gt;).unwrap();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; hay &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Homer J. Simpson&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; Some(caps) &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; re.captures(hay) &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; {&lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt;};
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;assert_eq!&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;J&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;caps[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;middle&amp;#34;&lt;/span&gt;]);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç»™ä¸€ç»„å‘½ååœ¨æ¨¡å¼ä¸­æœ‰å¤šä¸ªç»„æ—¶å¾ˆæœ‰ç”¨ã€‚å®ƒä½¿å¼•ç”¨è¿™äº›ç»„çš„ä»£ç æ›´å®¹æ˜“ç†è§£ã€‚&lt;/p&gt;
&lt;h5 id=&#34;example-validating-a-particular-date-format&#34;&gt;Example: validating a particular date format
&lt;/h5&gt;&lt;hr&gt;
&lt;p&gt;è¿™ä¸ªç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•ç¡®è®¤ä¸€ä¸ªå­—ç¬¦ä¸²ï¼ˆhaystackï¼‰æ˜¯å¦å®Œå…¨åŒ¹é…æŸä¸ªç‰¹å®šçš„æ—¥æœŸæ ¼å¼ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;use&lt;/span&gt; regex::Regex;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; re &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Regex::new(&lt;span style=&#34;color:#e6db74&#34;&gt;r&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;^\d{4}-\d{2}-\d{2}$&amp;#34;&lt;/span&gt;).unwrap();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;assert!&lt;/span&gt;(re.is_match(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;2010-03-14&amp;#34;&lt;/span&gt;));
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ³¨æ„ &lt;code&gt;^&lt;/code&gt; å’Œ &lt;code&gt;$&lt;/code&gt; é”šç‚¹çš„ä½¿ç”¨ã€‚åœ¨è¿™ä¸ªcrateä¸­ï¼Œæ¯ä¸ªæ­£åˆ™è¡¨è¾¾å¼æœç´¢éƒ½ä¼šåœ¨å…¶æ¨¡å¼çš„å¼€å¤´éšå¼åœ°åŠ ä¸Š&lt;code&gt;(?s:.)*?&lt;/code&gt;ï¼Œè¿™ä½¿å¾—æ­£åˆ™è¡¨è¾¾å¼å¯ä»¥åœ¨haystackçš„ä»»ä½•ä½ç½®è¿›è¡ŒåŒ¹é…ã€‚æ­£å¦‚ä¸Šé¢æ‰€æåˆ°çš„ï¼Œé”šç‚¹å¯ä»¥ç”¨æ¥ç¡®ä¿æ•´ä¸ªhaystackåŒ¹é…ä¸€ä¸ªæ¨¡å¼ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ª crate é»˜è®¤æ˜¯ Unicode æ„ŸçŸ¥çš„ï¼Œè¿™æ„å‘³ç€ &lt;code&gt;\d &lt;/code&gt;å¯èƒ½ä¼šåŒ¹é…ä½ å¯èƒ½é¢„æœŸçš„æ›´å¤šå†…å®¹ã€‚ä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;use&lt;/span&gt; regex::Regex;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; re &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Regex::new(&lt;span style=&#34;color:#e6db74&#34;&gt;r&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;^\d{4}-\d{2}-\d{2}$&amp;#34;&lt;/span&gt;).unwrap();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;assert!&lt;/span&gt;(re.is_match(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;ğŸšğŸ˜ğŸ™ğŸ˜-ğŸ˜ğŸ›-ğŸ™ğŸœ&amp;#34;&lt;/span&gt;));
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¦ä»…åŒ¹é…ASCIIåè¿›åˆ¶æ•°å­—ï¼Œä»¥ä¸‹æ‰€æœ‰å†…å®¹éƒ½æ˜¯ç­‰æ•ˆçš„ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;[0-9]&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;[?-u:\d]&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;[[:digit:]]&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;[\d&amp;amp;&amp;amp;\p{ascii}]&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;example-find-dates-in-a-haystack&#34;&gt;Example: find dates in a haystack
&lt;/h5&gt;&lt;hr&gt;
&lt;p&gt;åœ¨ä¹‹å‰çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å±•ç¤ºäº†å¦‚ä½•éªŒè¯æ•´ä¸ªhaystackæ˜¯å¦å¯¹åº”äºç‰¹å®šçš„æ—¥æœŸæ ¼å¼ã€‚ä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è¦ä»ä¸€å¤§å †æ•°æ®ä¸­æå–å‡ºç‰¹å®šæ ¼å¼çœ‹èµ·æ¥åƒæ—¥æœŸçš„æ‰€æœ‰ä¸œè¥¿ï¼Œè¯¥æ€ä¹ˆåŠï¼Ÿè¦å®ç°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸ªè¿­ä»£å™¨APIæ¥æŸ¥æ‰¾æ‰€æœ‰åŒ¹é…é¡¹ï¼ˆè¯·æ³¨æ„ï¼Œæˆ‘ä»¬å·²ç»ç§»é™¤äº†é”šç‚¹å¹¶åˆ‡æ¢åˆ°æŸ¥æ‰¾ä»…åŒ…å«ASCIIå­—ç¬¦çš„æ•°å­—ï¼‰ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;use&lt;/span&gt; regex::Regex;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; re &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Regex::new(&lt;span style=&#34;color:#e6db74&#34;&gt;r&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;[0-9]{4}-[0-9]{2}-[0-9]{2}&amp;#34;&lt;/span&gt;).unwrap();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; hay &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;What do 1865-04-14, 1881-07-02, 1901-09-06 and 1963-11-22 have in common?&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// &amp;#39;m&amp;#39; is a &amp;#39;Match&amp;#39;, and &amp;#39;as_str()&amp;#39; returns the matching part of the haystack.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; dates: Vec&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;str&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; re.find_iter(hay).map(&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt;m&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; m.as_str()).collect();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;assert_eq!&lt;/span&gt;(dates, &lt;span style=&#34;color:#a6e22e&#34;&gt;vec!&lt;/span&gt;[
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;1865-04-14&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;1881-07-02&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;1901-09-06&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;1963-11-22&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;]);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æˆ‘ä»¬ä¹Ÿå¯ä»¥éå†æ•è·å€¼ï¼ˆ&lt;code&gt;Captures&lt;/code&gt;ï¼‰è€Œä¸æ˜¯åŒ¹é…å€¼ï¼ˆ&lt;code&gt;Match&lt;/code&gt;ï¼‰ï¼Œè¿™æ ·å°±å¯ä»¥é€šè¿‡æ•è·ç»„è®¿é—®æ—¥æœŸçš„æ¯ä¸ªç»„ä»¶ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;?&amp;lt;&lt;/span&gt;name&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;pattern)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â”‚&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â”‚&lt;/span&gt;    &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â”‚&lt;/span&gt;       &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â”‚&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â”‚&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â”‚&lt;/span&gt;    &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â”‚&lt;/span&gt;       &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â””â”€&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;æ•è·ç»„çš„æ¨¡å¼&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â”‚&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â”‚&lt;/span&gt;    &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;æ•è·ç»„çš„åç§°&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â”‚&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;å‘½åè¯­æ³•çš„å¼€å§‹&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;æ•è·ç»„çš„å¼€å§‹&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;use&lt;/span&gt; regex::Regex;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; re &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Regex::new(&lt;span style=&#34;color:#e6db74&#34;&gt;r&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;(?&amp;lt;y&amp;gt;[0-9]{4})-(?&amp;lt;m&amp;gt;[0-9]{2})-(?&amp;lt;d&amp;gt;[0-9]{2})&amp;#34;&lt;/span&gt;).unwrap();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; hay &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;What do 1865-04-14, 1881-07-02, 1901-09-06 and 1963-11-22 have in common?&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// &amp;#39;m&amp;#39; is a &amp;#39;Match&amp;#39;, and &amp;#39;as_str()&amp;#39; returns the matching part of the haystack.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; dates: Vec&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;str&lt;/span&gt;, &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;str&lt;/span&gt;, &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;str&lt;/span&gt;)&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; re.captures_iter(hay).map(&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt;caps&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// The unwraps are okay because every capture group must match if the whole
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// regex matches, and in this context, we know we have a match.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;//
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// Note that we use `caps.name(&amp;#34;y&amp;#34;).unwrap().as_str()` instead of
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// `&amp;amp;caps[&amp;#34;y&amp;#34;]` because the lifetime of the former is the same as the
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// lifetime of `hay` above, but the lifetime of the latter is tied to the
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// lifetime of `caps` due to how the `Index` trait is defined.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; year &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; caps.name(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;y&amp;#34;&lt;/span&gt;).unwrap().as_str();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; month &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; caps.name(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;m&amp;#34;&lt;/span&gt;).unwrap().as_str();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; day &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; caps.name(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;d&amp;#34;&lt;/span&gt;).unwrap().as_str();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    (year, month, day)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}).collect();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;assert_eq!&lt;/span&gt;(dates, &lt;span style=&#34;color:#a6e22e&#34;&gt;vec!&lt;/span&gt;[
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    (&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;1865&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;04&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;14&amp;#34;&lt;/span&gt;),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    (&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;1881&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;07&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;02&amp;#34;&lt;/span&gt;),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    (&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;1901&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;09&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;06&amp;#34;&lt;/span&gt;),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    (&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;1963&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;11&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;22&amp;#34;&lt;/span&gt;),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;]);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;example-simpler-capture-group-extraction&#34;&gt;Example: simpler capture group extraction
&lt;/h5&gt;&lt;hr&gt;
&lt;p&gt;å¯ä»¥ä½¿ç”¨&lt;code&gt; Captures::extract&lt;/code&gt; å°†å‰ä¸€ä¸ªç¤ºä¾‹ä¸­çš„ä»£ç ç®€åŒ–ä¸€äº›ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;use&lt;/span&gt; regex::Regex;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; re &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Regex::new(&lt;span style=&#34;color:#e6db74&#34;&gt;r&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;([0-9]{4})-([0-9]{2})-([0-9]{2})&amp;#34;&lt;/span&gt;).unwrap();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; hay &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;What do 1865-04-14, 1881-07-02, 1901-09-06 and 1963-11-22 have in common?&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; dates: Vec&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;str&lt;/span&gt;, &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;str&lt;/span&gt;, &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;str&lt;/span&gt;)&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; re.captures_iter(hay).map(&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt;caps&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; (_, [year, month, day]) &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; caps.extract();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    (year, month, day)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}).collect();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;assert_eq!&lt;/span&gt;(dates, &lt;span style=&#34;color:#a6e22e&#34;&gt;vec!&lt;/span&gt;[
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    (&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;1865&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;04&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;14&amp;#34;&lt;/span&gt;),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    (&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;1881&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;07&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;02&amp;#34;&lt;/span&gt;),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    (&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;1901&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;09&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;06&amp;#34;&lt;/span&gt;),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    (&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;1963&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;11&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;22&amp;#34;&lt;/span&gt;),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;]);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;Captures::extract&lt;/code&gt; é€šè¿‡ç¡®ä¿åŒ¹é…çš„ç»„æ•°ä¸é€šè¿‡ &lt;code&gt;[year, month, day] &lt;/code&gt;è¯­æ³•è¯·æ±‚çš„ç»„æ•°åŒ¹é…æ¥å·¥ä½œã€‚å¦‚æœå®ƒä»¬åŒ¹é…ï¼Œé‚£ä¹ˆæ¯ä¸ªå¯¹åº”æ•è·ç»„çš„å­å­—ç¬¦ä¸²å°†è‡ªåŠ¨ä»¥é€‚å½“å¤§å°çš„æ•°ç»„è¿”å›ã€‚Rust çš„æ•°ç»„æ¨¡å¼åŒ¹é…è¯­æ³•è´Ÿè´£å…¶ä½™éƒ¨åˆ†ã€‚&lt;/p&gt;
&lt;h5 id=&#34;replacement-with-named-capture-groups&#34;&gt;replacement with named capture groups
&lt;/h5&gt;&lt;hr&gt;
&lt;p&gt;åœ¨ä¹‹å‰çš„ä¾‹å­åŸºç¡€ä¸Šï¼Œä¹Ÿè®¸æˆ‘ä»¬æƒ³é‡æ–°æ’åˆ—æ—¥æœŸæ ¼å¼ã€‚å¯ä»¥é€šè¿‡æ‰¾åˆ°æ¯ä¸ªåŒ¹é…é¡¹å¹¶ç”¨ä¸åŒçš„å†…å®¹æ›¿æ¢å®ƒæ¥å®ç°ã€‚&lt;code&gt;Regex::replace_all&lt;/code&gt; è¿™ä¸ªå‡½æ•°æä¾›äº†ä¸€ç§æ–¹ä¾¿çš„æ–¹æ³•æ¥å®Œæˆè¿™ä¸ªä»»åŠ¡ï¼ŒåŒ…æ‹¬æ”¯æŒåœ¨æ›¿æ¢å­—ç¬¦ä¸²ä¸­å¼•ç”¨å‘½åç»„ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;use&lt;/span&gt; regex::Regex;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; re &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Regex::new(&lt;span style=&#34;color:#e6db74&#34;&gt;r&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;(?&amp;lt;y&amp;gt;\d{4})-(?&amp;lt;m&amp;gt;\d{2})-(?&amp;lt;d&amp;gt;\d{2})&amp;#34;&lt;/span&gt;).unwrap();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; before &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;1973-01-05, 1975-08-25 and 1980-10-18&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; after &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; re.replace_all(before, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;$m/$d/$y&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;assert_eq!&lt;/span&gt;(after, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;01/05/1973, 08/25/1975 and 10/18/1980&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ›¿æ¢æ–¹æ³•å®é™…ä¸Šåœ¨æ›¿æ¢ä¸­æ˜¯å¤šæ€çš„ï¼Œè¿™æä¾›äº†æ¯”è¿™é‡Œçœ‹åˆ°çš„æ›´å¤šçš„çµæ´»æ€§ã€‚ï¼ˆæœ‰å…³ &lt;code&gt;Regex::replace&lt;/code&gt; çš„æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…æ–‡æ¡£ã€‚ï¼‰&lt;/p&gt;
&lt;h5 id=&#34;example-verbose-mode&#34;&gt;Example: verbose mode
&lt;/h5&gt;&lt;hr&gt;
&lt;p&gt;å½“ä½ çš„æ­£åˆ™è¡¨è¾¾å¼å˜å¾—å¤æ‚æ—¶ï¼Œä½ å¯èƒ½éœ€è¦è€ƒè™‘ä½¿ç”¨å…¶ä»–å·¥å…·ï¼Œè€Œä¸æ˜¯æ­£åˆ™è¡¨è¾¾å¼ã€‚ä½†æ˜¯ï¼Œå¦‚æœä½ åšæŒä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ï¼Œä½ å¯ä»¥ä½¿ç”¨ &lt;code&gt;x&lt;/code&gt; æ ‡å¿—å¯ç”¨ä¸æ˜¾ç€çš„ç©ºç™½æ¨¡å¼æˆ–â€œè¯¦ç»†æ¨¡å¼â€ã€‚åœ¨è¿™ç§æ¨¡å¼ä¸‹ï¼Œç©ºç™½è¢«è§†ä¸ºä¸æ˜¾ç€ï¼Œå¯ä»¥ç¼–å†™æ³¨é‡Šã€‚è¿™å¯èƒ½ä¼šä½¿ä½ çš„æ¨¡å¼æ›´æ˜“äºç†è§£ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;use&lt;/span&gt; regex::Regex;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; re &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Regex::new(&lt;span style=&#34;color:#e6db74&#34;&gt;r&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;(?x)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;  (?P&amp;lt;y&amp;gt;\d{4}) # the year, including all Unicode digits
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;  -
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;  (?P&amp;lt;m&amp;gt;\d{2}) # the month, including all Unicode digits
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;  -
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;  (?P&amp;lt;d&amp;gt;\d{2}) # the day, including all Unicode digits
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;).unwrap();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; before &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;1973-01-05, 1975-08-25 and 1980-10-18&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; after &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; re.replace_all(before, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;$m/$d/$y&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;assert_eq!&lt;/span&gt;(after, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;01/05/1973, 08/25/1975 and 10/18/1980&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¦‚æœä½ å¸Œæœ›åœ¨è¿™ç§æ¨¡å¼ä¸‹åŒ¹é…ç©ºç™½å­—ç¬¦ï¼Œä»ç„¶å¯ä»¥ä½¿ç”¨ &lt;code&gt;\s&lt;/code&gt;, &lt;code&gt;\n&lt;/code&gt;, &lt;code&gt;\t&lt;/code&gt; ç­‰ã€‚è¦è½¬ä¹‰å•ä¸ªç©ºæ ¼å­—ç¬¦ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ &lt;code&gt;\&lt;/code&gt;ï¼Œä½¿ç”¨å…¶åå…­è¿›åˆ¶å­—ç¬¦ä»£ç  &lt;code&gt;\x20&lt;/code&gt; æˆ–æš‚æ—¶ç¦ç”¨&lt;code&gt; x&lt;/code&gt; æ ‡å¿—ï¼Œä¾‹å¦‚ï¼Œ&lt;code&gt;(?-x: )&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;h5 id=&#34;example-match-multiple-regular-expressions-simultaneously&#34;&gt;Example: match multiple regular expressions simultaneously
&lt;/h5&gt;&lt;p&gt;è¿™å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨ &lt;code&gt;RegexSet&lt;/code&gt; åœ¨ä¸€æ¬¡æ‰«æä¸­åŒ¹é…å¤šä¸ªï¼ˆå¯èƒ½é‡å çš„ï¼‰æ­£åˆ™è¡¨è¾¾å¼ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;use&lt;/span&gt; regex::RegexSet;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; set &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; RegexSet::new(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;[
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;r&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;\w+&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;r&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;\d+&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;r&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;\pL+&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;r&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;foo&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;r&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;bar&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;r&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;barfoo&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;r&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;foobar&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;]).unwrap();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// Iterate over and collect all of the matches. Each match corresponds to the
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// ID of the matching pattern.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; matches: Vec&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;_&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; set.matches(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;foobar&amp;#34;&lt;/span&gt;).into_iter().collect();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;assert_eq!&lt;/span&gt;(matches, &lt;span style=&#34;color:#a6e22e&#34;&gt;vec!&lt;/span&gt;[&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;6&lt;/span&gt;]);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// You can also test whether a particular regex matched:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; matches &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; set.matches(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;foobar&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;assert!&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;!&lt;/span&gt;matches.matched(&lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;));
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;assert!&lt;/span&gt;(matches.matched(&lt;span style=&#34;color:#ae81ff&#34;&gt;6&lt;/span&gt;));
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;performance&#34;&gt;Performance
&lt;/h4&gt;&lt;hr&gt;
&lt;p&gt;æœ¬èŠ‚ç®€è¦è®¨è®ºäº†æ­£åˆ™è¡¨è¾¾å¼åœ¨é€Ÿåº¦å’Œèµ„æºä½¿ç”¨æ–¹é¢çš„å‡ ä¸ªé—®é¢˜ã€‚&lt;/p&gt;
&lt;h5 id=&#34;only-ask-for-what-you-need&#34;&gt;Only ask for what you need
&lt;/h5&gt;&lt;hr&gt;
&lt;p&gt;åœ¨ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼è¿›è¡Œæœç´¢æ—¶ï¼Œé€šå¸¸å¯ä»¥è¯·æ±‚ä¸‰ç§ä¸åŒç±»å‹çš„ä¿¡æ¯ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ­£åˆ™è¡¨è¾¾å¼åœ¨haystackä¸­åŒ¹é…å—ï¼Ÿ&lt;/li&gt;
&lt;li&gt;æ­£åˆ™è¡¨è¾¾å¼åœ¨haystackåŒ¹é…çš„ä½ç½®ï¼Ÿ&lt;/li&gt;
&lt;li&gt;æ¯ä¸ªæ•è·ç»„åœ¨haystackä¸­åŒ¹é…çš„ä½ç½®åœ¨å“ªé‡Œï¼Ÿ&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä¸€èˆ¬æ¥è¯´ï¼Œè¿™ä¸ªåº“å¯ä»¥æä¾›ä¸€ä¸ªå‡½æ•°æ¥å›ç­”#3ï¼Œè¿™ä¼šè‡ªåŠ¨åŒ…å«#1å’Œ#2ã€‚ç„¶è€Œï¼Œè®¡ç®—æ•è·ç»„åŒ¹é…ä½ç½®å¯èƒ½ä¼šæ˜¾è‘—æ›´æ˜‚è´µï¼Œæ‰€ä»¥å¦‚æœä½ ä¸éœ€è¦çš„è¯æœ€å¥½ä¸è¦è¿™æ ·åšã€‚&lt;/p&gt;
&lt;p&gt;å› æ­¤ï¼Œåªéœ€è¦è¯·æ±‚ä½ éœ€è¦çš„å†…å®¹ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ åªéœ€è¦æµ‹è¯•æ­£åˆ™è¡¨è¾¾å¼æ˜¯å¦åŒ¹é…ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä¸è¦ä½¿ç”¨&lt;code&gt;Regex::find&lt;/code&gt;ã€‚è€Œæ˜¯ä½¿ç”¨&lt;code&gt;Regex::is_match&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;h5 id=&#34;unicode-can-impact-usage-and-search-speed&#34;&gt;Unicode can impact usage and search speed
&lt;/h5&gt;&lt;hr&gt;
&lt;p&gt;è¿™ä¸ªcrateå¯¹Unicodeæœ‰ä¸€çº§æ”¯æŒå¹¶é»˜è®¤å¯ç”¨ã€‚åœ¨è®¸å¤šæƒ…å†µä¸‹ï¼Œä¸ºäº†æ”¯æŒå®ƒæ‰€éœ€çš„é¢å¤–å†…å­˜å¯ä»¥å¿½ç•¥ä¸è®¡ï¼Œå¹¶ä¸”é€šå¸¸ä¸ä¼šå½±å“æœç´¢é€Ÿåº¦ã€‚ä½†åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå®ƒå¯èƒ½ä¼šæœ‰å½±å“ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨å†…å­˜ä½¿ç”¨æ–¹é¢ï¼ŒUnicodeçš„ä¸»è¦å½±å“ä¸»è¦é€šè¿‡Unicodeå­—ç¬¦ç±»ä½“ç°ã€‚Unicodeå­—ç¬¦ç±»é€šå¸¸ç›¸å½“å¤§ã€‚ä¾‹å¦‚ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œ\wåŒ¹é…å¤§çº¦14ä¸‡ä¸ªä¸åŒçš„ä»£ç ç‚¹ã€‚è¿™éœ€è¦é¢å¤–çš„å†…å­˜ï¼Œå¹¶ä¸”é€šå¸¸ä¼šå‡æ…¢æ­£åˆ™è¡¨è¾¾å¼ç¼–è¯‘çš„é€Ÿåº¦ã€‚è™½ç„¶è¿™é‡Œå¶å°”ä½¿ç”¨ä¸€ä¸ª\wé€šå¸¸ä¸ä¼šè¢«æ³¨æ„åˆ°ï¼Œä½†å†™\w{100}ä¼šé»˜è®¤ç”Ÿæˆä¸€ä¸ªç›¸å½“å¤§çš„æ­£åˆ™è¡¨è¾¾å¼ã€‚å®é™…ä¸Šï¼Œ\wæ¯”å…¶ä»…é™ASCIIçš„ç‰ˆæœ¬å¤§å¾—å¤šï¼Œå› æ­¤å¦‚æœæ‚¨çš„éœ€æ±‚ä»…é™äºASCIIï¼Œé‚£ä¹ˆä½¿ç”¨ASCIIç±»å¯èƒ½æ˜¯ä¸€ä¸ªå¥½ä¸»æ„ã€‚ä»…é™ASCIIçš„\wå¯ä»¥ä»¥å¤šç§æ–¹å¼æ‹¼å†™ã€‚ä»¥ä¸‹æ‰€æœ‰å†…å®¹éƒ½æ˜¯ç­‰ä»·çš„ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;[0-9A-Za-z_]&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;(?-u:\w)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;[[:word:]]&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;[\w&amp;amp;&amp;amp;\p{ascii}]&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åœ¨æœç´¢é€Ÿåº¦æ–¹é¢ï¼ŒUnicodeé€šå¸¸èƒ½å¤Ÿå¾ˆå¥½åœ°å¤„ç†ï¼Œå³ä½¿åœ¨ä½¿ç”¨å¤§å‹Unicodeå­—ç¬¦ç±»æ—¶ä¹Ÿæ˜¯å¦‚æ­¤ã€‚ç„¶è€Œï¼Œä¸€äº›æ›´å¿«çš„å†…éƒ¨æ­£åˆ™è¡¨è¾¾å¼å¼•æ“æ— æ³•å¤„ç†Unicodeæ„ŸçŸ¥çš„å•è¯è¾¹ç•Œæ–­è¨€ã€‚å› æ­¤ï¼Œå¦‚æœä½ ä¸éœ€è¦Unicodeæ„ŸçŸ¥çš„å•è¯è¾¹ç•Œæ–­è¨€ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨(?-u:\b)ä»£æ›¿\bï¼Œå…¶ä¸­å‰è€…ä½¿ç”¨ASCII-onlyçš„å•è¯å­—ç¬¦å®šä¹‰ã€‚&lt;/p&gt;
&lt;h5 id=&#34;literals-might-accelerate-searches&#34;&gt;Literals might accelerate searches
&lt;/h5&gt;&lt;hr&gt;
&lt;p&gt;è¿™ä¸ªcrateåœ¨è¯†åˆ«æ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼ä¸­çš„å­—é¢é‡å¹¶ä½¿ç”¨å®ƒä»¬åŠ é€Ÿæœç´¢æ–¹é¢é€šå¸¸è¡¨ç°è‰¯å¥½ã€‚å¦‚æœå¯èƒ½çš„è¯ï¼Œåœ¨ä½ çš„æ¨¡å¼ä¸­åŒ…å«æŸç§å­—é¢é‡å¯èƒ½ä¼šä½¿æœç´¢æ˜¾è‘—åŠ å¿«ã€‚ä¾‹å¦‚ï¼Œåœ¨æ­£åˆ™è¡¨è¾¾å¼ \w+@\w+ ä¸­ï¼Œå¼•æ“ä¼šæŸ¥æ‰¾ @ çš„å‡ºç°ï¼Œç„¶åå°è¯•åå‘åŒ¹é… \w+ æ¥æ‰¾åˆ°èµ·å§‹ä½ç½®ã€‚&lt;/p&gt;
&lt;h5 id=&#34;avoid-re-compiling-regexes-especially-in-a-loop&#34;&gt;Avoid re-compiling regexes, especially in a loop
&lt;/h5&gt;&lt;hr&gt;
&lt;p&gt;åœ¨å¾ªç¯ä¸­ç¼–è¯‘ç›¸åŒçš„æ¨¡å¼æ˜¯ä¸€ç§åæ¨¡å¼ï¼Œå› ä¸ºæ­£åˆ™è¡¨è¾¾å¼ç¼–è¯‘é€šå¸¸å¾ˆæ˜‚è´µã€‚ï¼ˆç¼–è¯‘æ—¶é—´å–å†³äºæ¨¡å¼çš„å¤§å°ï¼Œå¯èƒ½ä»å‡ å¾®ç§’åˆ°å‡ æ¯«ç§’ä¸ç­‰ã€‚ï¼‰ä¸ä»…ç¼–è¯‘æœ¬èº«æ˜‚è´µï¼Œè€Œä¸”è¿™è¿˜ä¼šé˜»æ­¢æ­£åˆ™è¡¨è¾¾å¼å¼•æ“å†…éƒ¨é‡ç”¨åˆ†é…çš„ä¼˜åŒ–ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ Rust ä¸­ï¼Œå¦‚æœæ­£åˆ™è¡¨è¾¾å¼åœ¨è¾…åŠ©å‡½æ•°å†…éƒ¨ä½¿ç”¨ï¼Œä¼ é€’å®ƒä»¬å¯èƒ½ä¼šæœ‰äº›éº»çƒ¦ã€‚ç›¸åï¼Œæˆ‘ä»¬å»ºè®®ä½¿ç”¨ &lt;code&gt;std::sync::LazyLock&lt;/code&gt; æˆ– &lt;code&gt;once_cell&lt;/code&gt; crateï¼Œå¦‚æœä½ ä¸èƒ½ä½¿ç”¨æ ‡å‡†åº“ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨ &lt;code&gt;std::sync::LazyLock&lt;/code&gt;ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;use&lt;/span&gt; std::sync::LazyLock;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;use&lt;/span&gt; regex::Regex;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;some_helper_function&lt;/span&gt;(haystack: &lt;span style=&#34;color:#66d9ef&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;str&lt;/span&gt;) -&amp;gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;static&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;RE&lt;/span&gt;: &lt;span style=&#34;color:#a6e22e&#34;&gt;LazyLock&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Regex&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; LazyLock::new(&lt;span style=&#34;color:#f92672&#34;&gt;||&lt;/span&gt; Regex::new(&lt;span style=&#34;color:#e6db74&#34;&gt;r&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;...&amp;#34;&lt;/span&gt;).unwrap());
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;RE&lt;/span&gt;.is_match(haystack)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;main&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;assert!&lt;/span&gt;(some_helper_function(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;abc&amp;#34;&lt;/span&gt;));
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;assert!&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;!&lt;/span&gt;some_helper_function(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;ac&amp;#34;&lt;/span&gt;));
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å…·ä½“æ¥è¯´ï¼Œåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæ­£åˆ™è¡¨è¾¾å¼ä¼šåœ¨ç¬¬ä¸€æ¬¡ä½¿ç”¨æ—¶è¿›è¡Œç¼–è¯‘ã€‚åœ¨åç»­ä½¿ç”¨ä¸­ï¼Œå®ƒä¼šé‡ç”¨ä¹‹å‰æ„å»ºçš„æ­£åˆ™è¡¨è¾¾å¼ã€‚æ³¨æ„å¦‚ä½•å°†æ­£åˆ™è¡¨è¾¾å¼å®šä¹‰ä¸ºç‰¹å®šå‡½æ•°çš„å±€éƒ¨å˜é‡ã€‚&lt;/p&gt;
&lt;h5 id=&#34;sharing-a-regex-across-threads-can-resule-in-contention&#34;&gt;Sharing a regex across threads can resule in contention
&lt;/h5&gt;&lt;hr&gt;
&lt;p&gt;è™½ç„¶å•ä¸ªæ­£åˆ™è¡¨è¾¾å¼å¯ä»¥åŒæ—¶ä»å¤šä¸ªçº¿ç¨‹è‡ªç”±ä½¿ç”¨ï¼Œä½†å¿…é¡»æ”¯ä»˜ä¸€å®šçš„åŒæ­¥æˆæœ¬ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œé™¤éæ¯ä¸ªçº¿ç¨‹çš„ä¸»è¦ä»»åŠ¡æ˜¯ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼è¿›è¡Œæœç´¢ï¼Œå¹¶ä¸”å¤§å¤šæ•°æœç´¢éƒ½åœ¨è¾ƒçŸ­çš„å­—ç¬¦ä¸²ä¸­è¿›è¡Œï¼Œå¦åˆ™ä¸ä¼šè§‚å¯Ÿåˆ°è¿™ç§æƒ…å†µã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå…±äº«èµ„æºçš„å†…éƒ¨ç«äº‰å¯èƒ½ä¼šæ¿€å¢ï¼Œå¢åŠ å»¶è¿Ÿï¼Œä»è€Œå¯èƒ½å‡æ…¢æ¯ä¸ªå•ç‹¬çš„æœç´¢ã€‚&lt;/p&gt;
&lt;p&gt;å¯ä»¥é€šè¿‡åœ¨å‘é€åˆ°å¦ä¸€ä¸ªçº¿ç¨‹ä¹‹å‰å…‹éš†æ¯ä¸ªæ­£åˆ™è¡¨è¾¾å¼æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚å…‹éš†çš„æ­£åˆ™è¡¨è¾¾å¼ä»ç„¶ä¼šå…±äº«å…¶ç¼–è¯‘çŠ¶æ€çš„ç›¸åŒå†…éƒ¨åªè¯»éƒ¨åˆ†ï¼ˆå®ƒæ˜¯å¼•ç”¨è®¡æ•°çš„ï¼‰ï¼Œä½†æ¯ä¸ªçº¿ç¨‹å°†è·å¾—å¯¹è¿è¡Œæœç´¢æ—¶ä½¿ç”¨çš„å¯å˜ç©ºé—´çš„ä¼˜åŒ–è®¿é—®ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œè¿™æ ·åšä¸ä¼šå¢åŠ é¢å¤–çš„å†…å­˜æˆæœ¬ã€‚å”¯ä¸€çš„æˆæœ¬æ˜¯éœ€è¦æ˜¾å¼å…‹éš†æ­£åˆ™è¡¨è¾¾å¼æ‰€å¢åŠ çš„ä»£ç å¤æ‚æ€§ã€‚ï¼ˆå¦‚æœä½ åœ¨å¤šä¸ªçº¿ç¨‹ä¹‹é—´å…±äº«åŒä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ï¼Œæ¯ä¸ªçº¿ç¨‹ä»ç„¶ä¼šè·å¾—è‡ªå·±çš„å¯å˜ç©ºé—´ï¼Œä½†è®¿é—®è¯¥ç©ºé—´ä¼šæ›´æ…¢ã€‚ï¼‰&lt;/p&gt;
&lt;h4 id=&#34;unicode&#34;&gt;Unicode
&lt;/h4&gt;&lt;hr&gt;
&lt;p&gt;æœ¬èŠ‚è®¨è®ºäº†è¯¥æ­£åˆ™è¡¨è¾¾å¼åº“å¯¹Unicodeçš„æ”¯æŒæƒ…å†µã€‚åœ¨å±•ç¤ºä¸€äº›ç¤ºä¾‹ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ€»ç»“ä¸€ä¸‹ç›¸å…³è¦ç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è¿™ä¸ª crate å‡ ä¹å®Œå…¨å®ç°äº† Unicode æŠ€æœ¯æ ‡å‡† #18 ä¸­è§„å®šçš„â€œåŸºæœ¬ Unicode æ”¯æŒâ€ï¼ˆçº§åˆ« 1ï¼‰ã€‚æ”¯æŒçš„è¯¦ç»†ä¿¡æ¯åœ¨ regex crate ä»“åº“çš„æ ¹ç›®å½•ä¸‹çš„ UNICODE.md æ–‡ä»¶ä¸­æœ‰è¯¦ç»†è¯´æ˜ã€‚å‡ ä¹ä¸æ”¯æŒ Unicode æŠ€æœ¯æ ‡å‡† #18 ä¸­è§„å®šçš„â€œæ‰©å±• Unicode æ”¯æŒâ€ï¼ˆçº§åˆ« 2ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;é¡¶çº§æ­£åˆ™è¡¨è¾¾å¼åƒè¿­ä»£éå†haystackä¸­çš„æ¯ä¸ªä»£ç ç‚¹ä¸€æ ·è¿è¡Œæœç´¢ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒåŒ¹é…çš„åŸºæœ¬åŸå­æ˜¯ä¸€ä¸ªå•ä¸€çš„ä»£ç ç‚¹ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;bytes::Regex&lt;/code&gt; åœ¨æ‰€æœ‰æƒ…å†µä¸‹éƒ½å…è®¸ç¦ç”¨ Unicode æ¨¡å¼ï¼Œå¯¹æ•´ä¸ªæ¨¡å¼æˆ–éƒ¨åˆ†æ¨¡å¼è¿›è¡Œç¦ç”¨ã€‚å½“ Unicode æ¨¡å¼è¢«ç¦ç”¨æ—¶ï¼Œæœç´¢ä¼šåƒéå† haystack ä¸­çš„æ¯ä¸ªå­—èŠ‚ä¸€æ ·è¿›è¡Œã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒåŒ¹é…çš„åŸºæœ¬å•å…ƒæ˜¯ä¸€ä¸ªå­—èŠ‚ã€‚ï¼ˆé¡¶çº§ Regex ä¹Ÿå…è®¸ç¦ç”¨ Unicodeï¼Œä»è€Œåƒé€å­—èŠ‚åŒ¹é…ä¸€æ ·è¿›è¡ŒåŒ¹é…ï¼Œä½†ä»…åœ¨è¿™æ ·åšä¸ä¼šå…è®¸åŒ¹é…æ— æ•ˆçš„ UTF-8 æ—¶ã€‚ï¼‰&lt;/li&gt;
&lt;li&gt;å½“Unicodeæ¨¡å¼å¯ç”¨ï¼ˆé»˜è®¤æƒ…å†µä¸‹ï¼‰æ—¶ï¼Œ&lt;code&gt;.&lt;/code&gt;å°†åŒ¹é…ä¸€ä¸ªå®Œæ•´çš„Unicodeæ ‡é‡å€¼ï¼Œå³ä½¿å®ƒä½¿ç”¨å¤šä¸ªå­—èŠ‚è¿›è¡Œç¼–ç ã€‚å½“Unicodeæ¨¡å¼ç¦ç”¨ï¼ˆä¾‹å¦‚ï¼Œ(?-u:.ï¼‰ï¼‰æ—¶ï¼Œ&lt;code&gt;.&lt;/code&gt;å°†å§‹ç»ˆåŒ¹é…ä¸€ä¸ªå­—èŠ‚ã€‚&lt;/li&gt;
&lt;li&gt;å­—ç¬¦ç±» &lt;code&gt;\w&lt;/code&gt;, &lt;code&gt;\d&lt;/code&gt; å’Œ &lt;code&gt;\s&lt;/code&gt; é»˜è®¤æ˜¯ Unicode æ„ŸçŸ¥çš„ã€‚ä½¿ç”¨&lt;code&gt; (?-u:\w)&lt;/code&gt;, &lt;code&gt;(?-u:\d) &lt;/code&gt;å’Œ &lt;code&gt;(?-u:\s)&lt;/code&gt; å¯ä»¥è·å–å®ƒä»¬çš„ ASCII ä»…å®šä¹‰ã€‚&lt;/li&gt;
&lt;li&gt;åŒæ ·ï¼Œ&lt;code&gt;\b&lt;/code&gt; å’Œ &lt;code&gt;\B&lt;/code&gt; ä½¿ç”¨ Unicode å®šä¹‰çš„â€œå•è¯â€å­—ç¬¦ã€‚è¦è·å–ä»…é™ ASCII çš„å•è¯è¾¹ç•Œï¼Œå¯ä»¥ä½¿ç”¨ &lt;code&gt;(?-u:\b)&lt;/code&gt; å’Œ &lt;code&gt;(?-u:\B)&lt;/code&gt;ã€‚è¿™ä¹Ÿé€‚ç”¨äºç‰¹æ®Šçš„å•è¯è¾¹ç•Œæ–­è¨€ã€‚ï¼ˆå³ &lt;code&gt;\b{start}&lt;/code&gt;ï¼Œ&lt;code&gt;\b{end}&lt;/code&gt;ï¼Œ&lt;code&gt;\b{start-half}&lt;/code&gt;ï¼Œ&lt;code&gt;\b{end-half}&lt;/code&gt;ã€‚ï¼‰&lt;/li&gt;
&lt;li&gt;åœ¨å¤šè¡Œæ¨¡å¼ä¸‹ï¼Œ&lt;code&gt;^ &lt;/code&gt;å’Œ&lt;code&gt; $&lt;/code&gt; ä¸æ˜¯ Unicode æ„ŸçŸ¥çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒä»¬åªè¯†åˆ«&lt;code&gt; \n&lt;/code&gt;ï¼ˆå‡è®¾æœªå¯ç”¨ CRLF æ¨¡å¼ï¼‰ï¼Œè€Œä¸è¯†åˆ« Unicode å®šä¹‰çš„å…¶ä»–ä»»ä½•è¡Œç»ˆæ­¢ç¬¦ã€‚&lt;/li&gt;
&lt;li&gt;ä¸åŒºåˆ†å¤§å°å†™çš„æœç´¢æ˜¯Unicodeæ„ŸçŸ¥çš„ï¼Œå¹¶ä½¿ç”¨ç®€å•çš„å¤§å°å†™æŠ˜å ã€‚&lt;/li&gt;
&lt;li&gt;Unicodeé€šç”¨ç±»åˆ«ã€è„šæœ¬å’Œè®¸å¤šå¸ƒå°”å±æ€§å¯ä»¥é€šè¿‡é»˜è®¤çš„\p{å±æ€§åç§°}è¯­æ³•è®¿é—®ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨æ‰€æœ‰æƒ…å†µä¸‹ï¼ŒåŒ¹é…éƒ½æ˜¯ä½¿ç”¨å­—èŠ‚åç§»é‡æŠ¥å‘Šçš„ã€‚æ›´ç²¾ç¡®åœ°è¯´ï¼Œæ˜¯ä½¿ç”¨UTF-8ä»£ç å•å…ƒåç§»é‡ã€‚è¿™å…è®¸å¯¹haystackè¿›è¡Œå¸¸æ•°æ—¶é—´çš„ç´¢å¼•å’Œåˆ‡ç‰‡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ¨¡å¼æœ¬èº«ä»…è¢«è§£é‡Šä¸ºUnicodeæ ‡é‡å€¼çš„åºåˆ—ã€‚è¿™æ„å‘³ç€ä½ å¯ä»¥åœ¨ä½ çš„æ¨¡å¼ä¸­ç›´æ¥ä½¿ç”¨Unicodeå­—ç¬¦ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;use&lt;/span&gt; regex::Regex;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; re &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Regex::new(&lt;span style=&#34;color:#e6db74&#34;&gt;r&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;(?i)Î”+&amp;#34;&lt;/span&gt;).unwrap();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; m &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; re.find(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Î”Î´Î”&amp;#34;&lt;/span&gt;).unwrap();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;assert_eq!&lt;/span&gt;((&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;6&lt;/span&gt;), (m.start(), m.end()));
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// alternatively:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;assert_eq!&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;..&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;6&lt;/span&gt;, m.range());
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¦‚ä¸Šæ‰€è¿°ï¼ŒUnicodeé€šç”¨ç±»åˆ«ã€è„šæœ¬ã€è„šæœ¬æ‰©å±•ã€ç‰ˆæœ¬ä»¥åŠä¸€äº›å¸ƒå°”å±æ€§éƒ½å¯ä»¥ä½œä¸ºå­—ç¬¦ç±»ä½¿ç”¨ã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥åŒ¹é…ä¸€ä¸²æ•°å­—ã€å¸Œè…Šå­—æ¯æˆ– Cherokee å­—æ¯ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;use&lt;/span&gt; regex::Regex;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; re &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Regex::new(&lt;span style=&#34;color:#e6db74&#34;&gt;r&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;[\pN\p{Greek}\p{Cherokee}]+&amp;#34;&lt;/span&gt;).unwrap();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; m &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; re.find(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;abcÎ”á Î²â… á´Î³Î´â…¡xyz&amp;#34;&lt;/span&gt;).unwrap();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;assert_eq!&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;..&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;23&lt;/span&gt;, m.range());
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;opt-out-of-unicode-support&#34;&gt;Opt out of Unicode support
&lt;/h5&gt;&lt;hr&gt;
&lt;p&gt;&lt;code&gt;bytes::Regex&lt;/code&gt;ç±»å‹å¯ä»¥æœç´¢&lt;code&gt;&amp;amp;[u8]&lt;/code&gt;haystackã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œhaystacks é€šå¸¸åƒä¸» &lt;code&gt;Regex&lt;/code&gt; ç±»å‹ä¸€æ ·è¢«å½“ä½œ UTF-8 å¤„ç†ã€‚ç„¶è€Œï¼Œå¯ä»¥é€šè¿‡å…³é—­&lt;code&gt;u&lt;/code&gt;æ ‡å¿—æ¥ç¦ç”¨æ­¤è¡Œä¸ºï¼Œå³ä½¿è¿™æ ·åšå¯èƒ½ä¼šå¯¼è‡´åŒ¹é…æ— æ•ˆçš„UTF-8ã€‚ä¾‹å¦‚ï¼Œå½“å…³é—­&lt;code&gt;u&lt;/code&gt;æ ‡å¿—æ—¶ï¼Œ&lt;code&gt;.&lt;/code&gt;å°†åŒ¹é…ä»»ä½•å­—èŠ‚è€Œä¸æ˜¯ä»»ä½•Unicodeæ ‡é‡å€¼ã€‚&lt;/p&gt;
&lt;p&gt;ç¦ç”¨ &lt;code&gt;u&lt;/code&gt; æ ‡å¿—ä¹Ÿå¯ä»¥ä½¿ç”¨æ ‡å‡†çš„ &lt;code&gt;&amp;amp;str&lt;/code&gt; åŸºäºçš„ Regex ç±»å‹ï¼Œä½†ä»…åœ¨ç»´æŠ¤ UTF-8 ä¸å˜æ€§çš„æƒ…å†µä¸‹å…è®¸ã€‚ä¾‹å¦‚ï¼Œ&lt;code&gt;(?-u:\w)&lt;/code&gt; æ˜¯ä¸€ä¸ªä»…åŒ…å« ASCII å­—ç¬¦çš„ \w å­—ç¬¦ç±»ï¼Œå¹¶ä¸”åœ¨ &lt;code&gt;&amp;amp;str&lt;/code&gt; åŸºäºçš„ Regex ä¸­æ˜¯åˆæ³•çš„ï¼Œä½† &lt;code&gt;(?-u:\W)&lt;/code&gt;å°†å°è¯•åŒ¹é…ä¸åœ¨&lt;code&gt;(?-u:\w)&lt;/code&gt;ä¸­çš„ä»»ä½•å­—èŠ‚ï¼Œè¿™åè¿‡æ¥åŒ…æ‹¬æ— æ•ˆçš„ UTF-8 å­—èŠ‚ã€‚åŒæ ·ï¼Œ&lt;code&gt;(?-u:\xFF)&lt;/code&gt;å°†å°è¯•åŒ¹é…åŸå§‹å­—èŠ‚ &lt;code&gt;\xFF&lt;/code&gt;ï¼ˆè€Œä¸æ˜¯ U+00FFï¼‰ï¼Œè¿™æ˜¯æ— æ•ˆçš„ UTF-8ï¼Œå› æ­¤åœ¨ &lt;code&gt;&amp;amp;str&lt;/code&gt; åŸºäºçš„æ­£åˆ™è¡¨è¾¾å¼ä¸­æ˜¯éæ³•çš„ã€‚&lt;/p&gt;
&lt;p&gt;æœ€åï¼Œç”±äºUnicodeæ”¯æŒéœ€è¦æ‰“åŒ…å¤§å‹Unicodeæ•°æ®è¡¨ï¼Œè¯¥crateæä¾›äº†æ§åˆ¶å°å¼€å…³æ¥ç¦ç”¨è¿™äº›æ•°æ®è¡¨çš„ç¼–è¯‘ï¼Œè¿™åœ¨ç¼©å°äºŒè¿›åˆ¶æ–‡ä»¶å¤§å°å’Œå‡å°‘ç¼–è¯‘æ—¶é—´æ–¹é¢å¯èƒ½å¾ˆæœ‰ç”¨ã€‚æœ‰å…³å¦‚ä½•å®ç°è¿™ä¸€ç‚¹çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…crateåŠŸèƒ½éƒ¨åˆ†ã€‚&lt;/p&gt;
&lt;h4 id=&#34;syntax&#34;&gt;Syntax
&lt;/h4&gt;&lt;hr&gt;
&lt;p&gt;æœ¬åº“æ”¯æŒçš„è¯­æ³•å¦‚ä¸‹ã€‚&lt;/p&gt;
&lt;p&gt;æ³¨æ„ï¼Œæ­£åˆ™è¡¨è¾¾å¼è§£æå™¨å’ŒæŠ½è±¡è¯­æ³•åœ¨å•ç‹¬çš„ crate &lt;code&gt;regex-syntax&lt;/code&gt; ä¸­æš´éœ²ã€‚&lt;/p&gt;
&lt;h5 id=&#34;matching-one-character&#34;&gt;Matching one character
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-tcl&#34; data-lang=&#34;tcl&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;.             é™¤äº†æ¢è¡Œç¬¦&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;ï¼ˆ&lt;/span&gt;åŒ…æ‹¬å¸¦æœ‰ s æ ‡å¿—çš„æ¢è¡Œç¬¦&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;ï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;[&lt;/span&gt;0-9&lt;span style=&#34;color:#66d9ef&#34;&gt;]&lt;/span&gt;         ä»»ä½• ASCII æ•°å­—
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;d            æ•°å­— &lt;span style=&#34;color:#66d9ef&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;p&lt;span style=&#34;color:#66d9ef&#34;&gt;{&lt;/span&gt;Nd&lt;span style=&#34;color:#66d9ef&#34;&gt;})&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;D            éæ•°å­—
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;pX           ç”±ä¸€ä¸ªå­—æ¯åç§°æ ‡è¯†çš„Unicodeå­—ç¬¦ç±»
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;p&lt;span style=&#34;color:#66d9ef&#34;&gt;{&lt;/span&gt;Greek&lt;span style=&#34;color:#66d9ef&#34;&gt;}&lt;/span&gt;     Unicodeå­—ç¬¦ç±»&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;ï¼ˆ&lt;/span&gt;é€šç”¨ç±»åˆ«æˆ–è„šæœ¬&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;ï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;PX           ç”±ä¸€ä¸ªå­—æ¯åç§°æ ‡è¯†çš„å¦å®šUnicodeå­—ç¬¦ç±»
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;P&lt;span style=&#34;color:#66d9ef&#34;&gt;{&lt;/span&gt;Greek&lt;span style=&#34;color:#66d9ef&#34;&gt;}&lt;/span&gt;     å¦å®šçš„Unicodeå­—ç¬¦ç±»&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;ï¼ˆ&lt;/span&gt;é€šç”¨ç±»åˆ«æˆ–è„šæœ¬&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;ï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;character-classes&#34;&gt;Character classes
&lt;/h5&gt;&lt;hr&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;[xyz]         A character class matching either x, y or z (&lt;span style=&#34;color:#66d9ef&#34;&gt;union&lt;/span&gt;).
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;[&lt;span style=&#34;color:#f92672&#34;&gt;^&lt;/span&gt;xyz]        A character class matching any character except x, y and z.
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;[a&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;z]         A character class matching any character &lt;span style=&#34;color:#66d9ef&#34;&gt;in&lt;/span&gt; range a&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;z.
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;[[:&lt;span style=&#34;color:#a6e22e&#34;&gt;alpha&lt;/span&gt;:]]   &lt;span style=&#34;color:#66d9ef&#34;&gt;ASCII&lt;/span&gt; character class ([A&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;Za&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;z])
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;[[:&lt;span style=&#34;color:#f92672&#34;&gt;^&lt;/span&gt;alpha:]]  Negated &lt;span style=&#34;color:#66d9ef&#34;&gt;ASCII&lt;/span&gt; character class ([&lt;span style=&#34;color:#f92672&#34;&gt;^&lt;/span&gt;A&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;Za&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;z])
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;[x[&lt;span style=&#34;color:#f92672&#34;&gt;^&lt;/span&gt;xyz]]     Nested&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;grouping character class (matching any character except y and z)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;[a&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;y&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt;xyz]    Intersection (matching x or y)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;[&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;9&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt;[&lt;span style=&#34;color:#f92672&#34;&gt;^&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;]]   Subtraction using intersection and negation (matching &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;9&lt;/span&gt; except &lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;[&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;9&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;--&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;]      Direct subtraction (matching &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;9&lt;/span&gt; except &lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;[a&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;g&lt;span style=&#34;color:#f92672&#34;&gt;~~&lt;/span&gt;b&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;h]    Symmetric difference (matching &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;`&lt;/span&gt;a&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;`&lt;/span&gt; and &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;`&lt;/span&gt;h&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;`&lt;/span&gt; only)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;[&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;[&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;]]        Escaping &lt;span style=&#34;color:#66d9ef&#34;&gt;in&lt;/span&gt; character classes (matching [ or ])
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;[a&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt;b]        An empty character class matching nothing
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä»»ä½•å‘½åå­—ç¬¦ç±»éƒ½å¯ä»¥å‡ºç°åœ¨æ–¹æ‹¬å·&lt;code&gt; [... ]&lt;/code&gt; å­—ç¬¦ç±»ä¸­ã€‚ä¾‹å¦‚ï¼Œ&lt;code&gt;[\p{Greek}[:digit:]]&lt;/code&gt; åŒ¹é…ä»»ä½• ASCII æ•°å­—æˆ–å¸Œè…Šå­—æ¯è¡¨ä¸­çš„ä»»ä½•ä»£ç ç‚¹ã€‚&lt;code&gt;[\p{Greek}&amp;amp;&amp;amp;\pL]&lt;/code&gt; åŒ¹é…å¸Œè…Šå­—æ¯ã€‚&lt;/p&gt;
&lt;p&gt;å­—ç¬¦ç±»ä¸­çš„ä¼˜å…ˆçº§ï¼Œä»æœ€ç»‘å®šåˆ°æœ€ä¸ç»‘å®šï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;èŒƒå›´ï¼š&lt;code&gt;[a-cd]&lt;/code&gt; == &lt;code&gt;[[a-c]d]&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¹¶é›†ï¼š&lt;code&gt;[ab&amp;amp;&amp;amp;bc]&lt;/code&gt; == &lt;code&gt;[[ab]&amp;amp;&amp;amp;[bc]]&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;äº¤é›†ã€å·®é›†ã€å¯¹ç§°å·®é›†ã€‚è¿™ä¸‰ç§è¿ç®—ç¬¦å…·æœ‰ç›¸åŒçš„ä¼˜å…ˆçº§ï¼Œå¹¶æŒ‰ä»å·¦åˆ°å³çš„é¡ºåºè¿›è¡Œè®¡ç®—ã€‚ä¾‹å¦‚ï¼Œ&lt;code&gt;[\pL--\p{Greek}&amp;amp;&amp;amp;\p{Uppercase}]&lt;/code&gt; == &lt;code&gt;[[\pL--\p{Greek}]&amp;amp;&amp;amp;\p{Uppercase}]&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¦å®šï¼š&lt;code&gt;[^a-z&amp;amp;&amp;amp;b]&lt;/code&gt; == &lt;code&gt;[^[a-z&amp;amp;&amp;amp;b]]&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h5 id=&#34;composites&#34;&gt;Composites
&lt;/h5&gt;&lt;hr&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;xy    concatenation (x followed by y)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;x&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt;y   alternation (x or y, prefer x)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;use&lt;/span&gt; regex::Regex;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; haystack &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;samwise&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// If &amp;#39;samwise&amp;#39; comes first in our alternation, then it is
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// preferred as a match, even if the regex engine could
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// technically detect that &amp;#39;sam&amp;#39; led to a match earlier.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; re &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Regex::new(&lt;span style=&#34;color:#e6db74&#34;&gt;r&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;samwise|sam&amp;#34;&lt;/span&gt;).unwrap();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;assert_eq!&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;samwise&amp;#34;&lt;/span&gt;, re.find(haystack).unwrap().as_str());
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// But if &amp;#39;sam&amp;#39; comes first, then it will match instead.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// In this case, it is impossible for &amp;#39;samwise&amp;#39; to match
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// because &amp;#39;sam&amp;#39; is a prefix of it.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; re &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Regex::new(&lt;span style=&#34;color:#e6db74&#34;&gt;r&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;sam|samwise&amp;#34;&lt;/span&gt;).unwrap();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;assert_eq!&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;sam&amp;#34;&lt;/span&gt;, re.find(haystack).unwrap().as_str());
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;repetitions&#34;&gt;Repetitions
&lt;/h5&gt;&lt;hr&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;x&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;        zero or more of x (greedy)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;x&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;        one or more of x (greedy)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;x&lt;span style=&#34;color:#f92672&#34;&gt;?&lt;/span&gt;        zero or one of x (greedy)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;x&lt;span style=&#34;color:#f92672&#34;&gt;*?&lt;/span&gt;       zero or more of x (ungreedy&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;lazy)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;x&lt;span style=&#34;color:#f92672&#34;&gt;+?&lt;/span&gt;       one or more of x (ungreedy&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;lazy)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;x&lt;span style=&#34;color:#f92672&#34;&gt;??&lt;/span&gt;       zero or one of x (ungreedy&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;lazy)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;x{n,m}    at least n x and at most m x (greedy)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;x{n,}     at least n x (greedy)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;x{n}      exactly n x
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;x{n,m}&lt;span style=&#34;color:#f92672&#34;&gt;?&lt;/span&gt;   at least n x and at most m x (ungreedy&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;lazy)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;x{n,}&lt;span style=&#34;color:#f92672&#34;&gt;?&lt;/span&gt;    at least n x (ungreedy&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;lazy)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;x{n}&lt;span style=&#34;color:#f92672&#34;&gt;?&lt;/span&gt;     exactly n x
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;empty-matches&#34;&gt;Empty Matches
&lt;/h5&gt;&lt;hr&gt;
&lt;p&gt;ç©ºæ­£åˆ™è¡¨è¾¾å¼æ˜¯æœ‰æ•ˆçš„ï¼Œå¹¶ä¸”åŒ¹é…ç©ºå­—ç¬¦ä¸²ã€‚ä¾‹å¦‚ï¼Œç©ºæ­£åˆ™è¡¨è¾¾å¼åœ¨ä½ç½®0ã€1ã€2å’Œ3å¤„åŒ¹é…abcã€‚åœ¨ä½¿ç”¨é¡¶çº§&lt;code&gt;Regex&lt;/code&gt;å¯¹&lt;code&gt;&amp;amp;str&lt;/code&gt; haystacksè¿›è¡ŒåŒ¹é…æ—¶ï¼Œç©ºåŒ¹é…ä¼šåˆ†å‰²ä»£ç ç‚¹ï¼Œå› æ­¤æ°¸è¿œä¸ä¼šè¿”å›ã€‚ç„¶è€Œï¼Œåœ¨ä½¿ç”¨&lt;code&gt;bytes::Regex&lt;/code&gt;æ—¶ï¼Œå…è®¸è¿™æ ·çš„åŒ¹é…ã€‚ä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; re &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; regex::Regex::new(&lt;span style=&#34;color:#e6db74&#34;&gt;r&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;).unwrap();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; ranges: Vec&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;_&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; re.find_iter(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;ğŸ’©&amp;#34;&lt;/span&gt;).map(&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt;m&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; m.range()).collect();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;assert_eq!&lt;/span&gt;(ranges, &lt;span style=&#34;color:#a6e22e&#34;&gt;vec!&lt;/span&gt;[&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;..&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;..&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;]);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; re &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; regex::bytes::Regex::new(&lt;span style=&#34;color:#e6db74&#34;&gt;r&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;).unwrap();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; ranges: Vec&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;_&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; re.find_iter(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;ğŸ’©&amp;#34;&lt;/span&gt;.as_bytes()).map(&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt;m&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; m.range()).collect();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;assert_eq!&lt;/span&gt;(ranges, &lt;span style=&#34;color:#a6e22e&#34;&gt;vec!&lt;/span&gt;[&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;..&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;..&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;..&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;..&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;..&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;]);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ³¨æ„ï¼Œç©ºæ­£åˆ™è¡¨è¾¾å¼ä¸æ°¸è¿œæ— æ³•åŒ¹é…çš„æ­£åˆ™è¡¨è¾¾å¼æ˜¯ä¸åŒçš„ã€‚ä¾‹å¦‚ï¼Œæ­£åˆ™è¡¨è¾¾å¼ [a&amp;amp;&amp;amp;b] æ˜¯ä¸€ä¸ªå­—ç¬¦ç±»ï¼Œè¡¨ç¤º a å’Œ b çš„äº¤é›†ã€‚è¿™ä¸ªäº¤é›†æ˜¯ç©ºçš„ï¼Œè¿™æ„å‘³ç€å­—ç¬¦ç±»æ˜¯ç©ºçš„ã€‚ç”±äºç©ºé›†ä¸­æ²¡æœ‰ä¸œè¥¿ï¼Œ[a&amp;amp;&amp;amp;b] ä¸åŒ¹é…ä»»ä½•ä¸œè¥¿ï¼Œç”šè‡³ä¸åŒ¹é…ç©ºå­—ç¬¦ä¸²ã€‚&lt;/p&gt;
&lt;h5 id=&#34;grouping-and-flags&#34;&gt;Grouping and flags
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;(exp)          &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;ç¼–å·æ•è·ç»„ï¼ˆæŒ‰æ‰“å¼€æ‹¬å·ç´¢å¼•ï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;?&lt;/span&gt;P&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;name&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;exp)  &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;å‘½åï¼ˆä¹Ÿå¯ç¼–å·ï¼‰æ•è·ç»„ï¼ˆåç§°å¿…é¡»ä¸ºå­—æ¯æ•°å­—ï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;?&amp;lt;&lt;/span&gt;name&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;exp)   &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;å‘½åï¼ˆä¹Ÿå¯ç¼–å·ï¼‰æ•è·ç»„ï¼ˆåç§°å¿…é¡»ä¸ºå­—æ¯æ•°å­—ï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;?&lt;/span&gt;:&lt;span style=&#34;color:#a6e22e&#34;&gt;exp&lt;/span&gt;)        &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;éæ•è·ç»„&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;?&lt;/span&gt;flags)       &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;åœ¨å½“å‰ç»„å†…è®¾ç½®æ ‡å¿—&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;?&lt;/span&gt;flags:&lt;span style=&#34;color:#a6e22e&#34;&gt;exp&lt;/span&gt;)   &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;è®¾ç½®&lt;/span&gt;expçš„æ ‡å¿—&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;ï¼ˆéæ•è·ï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ•è·ç»„åç§°å¿…é¡»æ˜¯ä»»ä½•ç”±å­—æ¯ã€æ•°å­—å’Œ Unicode ä»£ç ç‚¹ç»„æˆçš„åºåˆ—ï¼Œæ­¤å¤–è¿˜å¯ä»¥åŒ…å« &lt;code&gt;.&lt;/code&gt;ã€&lt;code&gt;_&lt;/code&gt;ã€&lt;code&gt;[&lt;/code&gt; å’Œ&lt;code&gt; ]&lt;/code&gt;ã€‚åç§°å¿…é¡»ä»¥ &lt;code&gt;_&lt;/code&gt; æˆ–å­—æ¯ä»£ç ç‚¹å¼€å¤´ã€‚å­—æ¯ç ç‚¹å¯¹åº”äºå­—æ¯Unicodeå±æ€§ï¼Œè€Œæ•°å­—ç ç‚¹å¯¹åº”äºåè¿›åˆ¶æ•°å­—ã€å­—æ¯æ•°å­—å’Œå…¶ä»–æ•°å­—é€šç”¨ç±»åˆ«çš„å¹¶é›†ã€‚&lt;/p&gt;
&lt;p&gt;æ ‡å¿—æ˜¯å•ä¸ªå­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œ&lt;code&gt;(?x)&lt;/code&gt; è®¾ç½®æ ‡å¿— &lt;code&gt;x&lt;/code&gt;ï¼Œ&lt;code&gt;(?-x)&lt;/code&gt; æ¸…é™¤æ ‡å¿— &lt;code&gt;x&lt;/code&gt;ã€‚å¯ä»¥åŒæ—¶è®¾ç½®æˆ–æ¸…é™¤å¤šä¸ªæ ‡å¿—ï¼š&lt;code&gt;(?xy)&lt;/code&gt; åŒæ—¶è®¾ç½®æ ‡å¿— &lt;code&gt;x&lt;/code&gt; å’Œ &lt;code&gt;y&lt;/code&gt;ï¼Œ&lt;code&gt;(?x-y)&lt;/code&gt; è®¾ç½®æ ‡å¿— &lt;code&gt;x&lt;/code&gt; å¹¶æ¸…é™¤æ ‡å¿— &lt;code&gt;y&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€æœ‰æ ‡å¿—é»˜è®¤æƒ…å†µä¸‹æ˜¯ç¦ç”¨çš„ï¼Œé™¤éå¦æœ‰è¯´æ˜ã€‚å®ƒä»¬æ˜¯ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;i     &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;ä¸åŒºåˆ†å¤§å°å†™ï¼šå­—æ¯åŒ¹é…å¤§å°å†™&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;m     &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;å¤šè¡Œæ¨¡å¼ï¼š&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;^&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;å’Œ&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;$&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;åŒ¹é…è¡Œçš„å¼€å§‹&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;ç»“æŸ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;s     &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;å…è®¸&lt;/span&gt; . &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;åŒ¹é…&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;n
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;R     &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;å¯ç”¨&lt;/span&gt;CRLFæ¨¡å¼&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;ï¼šå½“å¯ç”¨å¤šè¡Œæ¨¡å¼æ—¶ï¼Œä½¿ç”¨\&lt;/span&gt;r&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;n
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;U     &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;äº¤æ¢&lt;/span&gt; x&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;å’Œ&lt;/span&gt; x&lt;span style=&#34;color:#f92672&#34;&gt;*?&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;çš„å«ä¹‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;u     Unicode &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;æ”¯æŒï¼ˆé»˜è®¤å¯ç”¨ï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;x     &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;è¯¦ç»†æ¨¡å¼ï¼Œå¿½ç•¥ç©ºç™½å­—ç¬¦å¹¶å…è®¸è¡Œæ³¨é‡Šï¼ˆä»¥&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;`&lt;/span&gt;#&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;`&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;å¼€å§‹ï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åœ¨è¯¦ç»†æ¨¡å¼ä¸‹ï¼Œç©ºç™½å­—ç¬¦åœ¨ä»»ä½•åœ°æ–¹éƒ½ä¼šè¢«å¿½ç•¥ï¼ŒåŒ…æ‹¬åœ¨å­—ç¬¦ç±»ä¸­ã€‚è¦æ’å…¥ç©ºç™½å­—ç¬¦ï¼Œå¯ä»¥ä½¿ç”¨å…¶è½¬ä¹‰å½¢å¼æˆ–åå…­è¿›åˆ¶å­—é¢é‡ã€‚ä¾‹å¦‚ï¼Œ&lt;code&gt;\ &lt;/code&gt; æˆ– &lt;code&gt;\x20&lt;/code&gt; ç”¨äºè¡¨ç¤º ASCII ç©ºæ ¼ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨æ¨¡å¼ä¸­å¯ä»¥åˆ‡æ¢æ ‡å¿—ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼Œå‰åŠéƒ¨åˆ†ä¸åŒºåˆ†å¤§å°å†™ï¼ŒååŠéƒ¨åˆ†åŒºåˆ†å¤§å°å†™ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;use&lt;/span&gt; regex::Regex;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; re &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Regex::new(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;r(?i)a+(?-i)b+&amp;#34;&lt;/span&gt;).unwrap();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; m &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; re.find(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;AaAaAabbBBBb&amp;#34;&lt;/span&gt;).unwrap();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;assert_eq!&lt;/span&gt;(m.as_str(), &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;AaAaAabb&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ³¨æ„ï¼Œ&lt;code&gt;a+&lt;/code&gt; åŒ¹é…&lt;code&gt;a&lt;/code&gt; æˆ–&lt;code&gt;A&lt;/code&gt;ï¼Œä½† &lt;code&gt;b+&lt;/code&gt; åªåŒ¹é… &lt;code&gt;b&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å¤šè¡Œæ¨¡å¼æ„å‘³ç€ ^ å’Œ $ ä¸å†ä»…åŒ¹é…è¾“å…¥çš„å¼€å§‹/ç»“æŸä½ç½®ï¼Œè¿˜åŒ¹é…è¡Œçš„å¼€å§‹/ç»“æŸä½ç½®ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;use&lt;/span&gt; regex::Regex;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; re &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Regex::new(&lt;span style=&#34;color:#e6db74&#34;&gt;r&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;(?m)^line \d+&amp;#34;&lt;/span&gt;).unwrap();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; m &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; re.find(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;line one&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;\n&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;line 2&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;\n&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;).unwrap();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;assert_eq!&lt;/span&gt;(m.as_str(), &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;line 2&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ³¨æ„ ^ åŒ¹é…åœ¨æ–°è¡Œä¹‹åï¼Œå³ä½¿åœ¨è¾“å…¥çš„æœ«å°¾ä¹Ÿæ˜¯å¦‚æ­¤ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;use&lt;/span&gt; regex::Regex;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; re &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Regex::new(&lt;span style=&#34;color:#e6db74&#34;&gt;r&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;(?m)^&amp;#34;&lt;/span&gt;).unwrap();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; m &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; re.find_iter(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;test&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;\n&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;).last().unwrap();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;assert_eq!&lt;/span&gt;((m.start(), m.end()), (&lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;));
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å½“åŒæ—¶å¯ç”¨CRLFæ¨¡å¼å’Œå¤šè¡Œæ¨¡å¼æ—¶ï¼Œ&lt;code&gt;^&lt;/code&gt;å’Œ&lt;code&gt;$&lt;/code&gt;å°†åŒ¹é…&lt;code&gt;\r&lt;/code&gt;æˆ–&lt;code&gt;\n&lt;/code&gt;ï¼Œä½†æ°¸è¿œä¸ä¼šåœ¨&lt;code&gt;\r\n&lt;/code&gt;ä¸­é—´ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;use&lt;/span&gt; regex::Regex;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; re &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Regex::new(&lt;span style=&#34;color:#e6db74&#34;&gt;r&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;(?mR)^foo$&amp;#34;&lt;/span&gt;).unwrap();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; m &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; re.find(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;\r\n&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;foo&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;\r\n&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;).unwrap();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;assert_eq!&lt;/span&gt;(m.as_str(), &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;foo&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Unicodeæ¨¡å¼ä¹Ÿå¯ä»¥é€‰æ‹©æ€§åœ°ç¦ç”¨ï¼Œå°½ç®¡åªæœ‰åœ¨ç»“æœä¸ä¼šåŒ¹é…æ— æ•ˆçš„UTF-8æ—¶æ‰è¿™æ ·åšã€‚ä¸€ä¸ªå¾ˆå¥½çš„ä¾‹å­æ˜¯ä½¿ç”¨ASCIIå•è¯è¾¹ç•Œè€Œä¸æ˜¯Unicodeå•è¯è¾¹ç•Œï¼Œè¿™å¯èƒ½ä¼šä½¿æŸäº›æ­£åˆ™è¡¨è¾¾å¼æœç´¢è¿è¡Œå¾—æ›´å¿«ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;use&lt;/span&gt; regex::Regex;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; re &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Regex::new(&lt;span style=&#34;color:#e6db74&#34;&gt;r&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;(?-u:\b).+(?-u:\b)&amp;#34;&lt;/span&gt;).unwrap();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; m &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; re.find(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;$$abc$$&amp;#34;&lt;/span&gt;).unwrap();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;assert_eq!&lt;/span&gt;(m.as_str(), &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;abc&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;escape-sequences&#34;&gt;Escape sequences
&lt;/h5&gt;&lt;hr&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;              literal &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;, applies to all &lt;span style=&#34;color:#66d9ef&#34;&gt;ASCII&lt;/span&gt; except [&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;9&lt;/span&gt;A&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;Za&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;z&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;gt;&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;a              bell (&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;x07)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;f              form feed (&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;x0C)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;t              horizontal tab
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;n              new line
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;r              carriage &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;v              vertical tab (&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;x0B)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;A              matches at the beginning of a haystack
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;z              matches at the end of a haystack
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;b              word boundary assertion
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;B              negated word boundary assertion
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;b{start}, &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;   start&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;of&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;word boundary assertion
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;b{end}, &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;     end&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;of&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;word boundary assertion
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;b{start&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;half}  half of a start&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;of&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;word boundary assertion
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;b{end&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;half}    half of a end&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;of&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;word boundary assertion
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;123&lt;/span&gt;            octal character code, up to three digits (when enabled)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;x7F            hex character code (exactly two digits)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;x{&lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;FFFF}      any hex character code corresponding to a Unicode code point
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;u007F          hex character code (exactly four digits)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;u{&lt;span style=&#34;color:#ae81ff&#34;&gt;7&lt;/span&gt;F}          any hex character code corresponding to a Unicode code point
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;U0000007F&lt;/span&gt;      hex character code (exactly eight digits)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;U{&lt;span style=&#34;color:#ae81ff&#34;&gt;7&lt;/span&gt;F}          any hex character code corresponding to a Unicode code point
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;p{Letter}      Unicode character class
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;P{Letter}      negated Unicode character class
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;d, &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;s, &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;w      Perl character class
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;D, &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;S, &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;W      negated Perl character class
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;perl-character-classes-unicode-friendly&#34;&gt;Perl character classes (Unicode friendly)
&lt;/h5&gt;&lt;hr&gt;
&lt;p&gt;è¿™äº›ç±»åŸºäºUTS#18ä¸­æä¾›çš„å®šä¹‰ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;d     digit (&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;p{Nd})
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;D     not digit
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;s     whitespace (&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;p{White_Space})
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;S     not whitespace
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;w     word character (&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;p{Alphabetic} &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;p{M} &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;d &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;p{Pc} &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;p{Join_Control})
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;W     not word character
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;ascii-character-classes&#34;&gt;ASCII character classes
&lt;/h5&gt;&lt;hr&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;[[:&lt;span style=&#34;color:#a6e22e&#34;&gt;alnum&lt;/span&gt;:]]    alphanumeric ([&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;9&lt;/span&gt;A&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;Za&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;z])
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;[[:&lt;span style=&#34;color:#a6e22e&#34;&gt;alpha&lt;/span&gt;:]]    alphabetic ([A&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;Za&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;z])
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;[[:&lt;span style=&#34;color:#a6e22e&#34;&gt;ascii&lt;/span&gt;:]]    &lt;span style=&#34;color:#66d9ef&#34;&gt;ASCII&lt;/span&gt; ([&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;x00&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;x7F])
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;[[:&lt;span style=&#34;color:#a6e22e&#34;&gt;blank&lt;/span&gt;:]]    blank ([&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;t ])
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;[[:&lt;span style=&#34;color:#a6e22e&#34;&gt;cntrl&lt;/span&gt;:]]    control ([&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;x00&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;x1F&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;x7F])
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;[[:&lt;span style=&#34;color:#a6e22e&#34;&gt;digit&lt;/span&gt;:]]    digits ([&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;9&lt;/span&gt;])
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;[[:&lt;span style=&#34;color:#a6e22e&#34;&gt;graph&lt;/span&gt;:]]    graphical ([&lt;span style=&#34;color:#f92672&#34;&gt;!-~&lt;/span&gt;])
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;[[:&lt;span style=&#34;color:#a6e22e&#34;&gt;lower&lt;/span&gt;:]]    lower case ([a&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;z])
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;[[:&lt;span style=&#34;color:#a6e22e&#34;&gt;print&lt;/span&gt;:]]    printable ([ &lt;span style=&#34;color:#f92672&#34;&gt;-~&lt;/span&gt;])
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;[[:&lt;span style=&#34;color:#a6e22e&#34;&gt;punct&lt;/span&gt;:]]    punctuation ([&lt;span style=&#34;color:#f92672&#34;&gt;!-/&lt;/span&gt;:&lt;span style=&#34;color:#f92672&#34;&gt;-@&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;[&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;`&lt;/span&gt;{&lt;span style=&#34;color:#f92672&#34;&gt;-~&lt;/span&gt;])
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;[[:&lt;span style=&#34;color:#a6e22e&#34;&gt;space&lt;/span&gt;:]]    whitespace ([&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;t&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;n&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;v&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;f&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;r ])
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;[[:&lt;span style=&#34;color:#a6e22e&#34;&gt;upper&lt;/span&gt;:]]    upper case ([A&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;Z])
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;[[:&lt;span style=&#34;color:#a6e22e&#34;&gt;word&lt;/span&gt;:]]     word characters ([&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;9&lt;/span&gt;A&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;Za&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;z_])
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;[[:&lt;span style=&#34;color:#a6e22e&#34;&gt;xdigit&lt;/span&gt;:]]   hex digit ([&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;9&lt;/span&gt;A&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;Fa&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;f])
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;[åŸåœ°å€][https://docs.rs/regex/latest/regex/ ]&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;å•è¯&#34;&gt;å•è¯
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;verbose&lt;/code&gt;:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;adj.&lt;/code&gt; å†—é•¿çš„ï¼Œå•°å—¦çš„&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;routine&lt;/code&gt;:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;n.&lt;/code&gt; å¸¸è§„ï¼Œ æ— èŠ&lt;/li&gt;
&lt;li&gt;&lt;code&gt;adj.&lt;/code&gt; å¸¸è§„çš„ï¼Œæ— èŠçš„&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;subsequent&lt;/code&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;adj.&lt;/code&gt;éšåçš„ï¼Œåæ¥çš„&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;wildcard&lt;/code&gt;:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;n.&lt;/code&gt;é€šé…ç¬¦&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;tweak&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;adj.&lt;/code&gt;ç¨å¾®è°ƒæ•´ï¼Œæ‹§ï¼Œæ‰¯&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;polymorphic&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;adj.&lt;/code&gt;å¤šæ€çš„&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;insignificant&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;adj.&lt;/code&gt;å¾®ä¸è¶³é“çš„ï¼›æ— è¶³è½»é‡çš„ï¼›æ— æ„ä¹‰çš„&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;comprehend&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;vt.&lt;/code&gt;ç†è§£ï¼Œé¢†æ‚Ÿï¼ŒåŒ…å«&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;simultaneously&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;adv.&lt;/code&gt;åŒæ—¶åœ°ï¼ŒåŒæ­¥åœ°&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;overlap&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;vt.&lt;/code&gt;ä¸&amp;hellip;é‡å ï¼›æœ‰é‡å &lt;/li&gt;
&lt;li&gt;&lt;code&gt;n.&lt;/code&gt;é‡å éƒ¨åˆ†&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;concern&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;n.&lt;/code&gt;å…³å¿ƒï¼Œæ‹…å¿ƒ&lt;/li&gt;
&lt;li&gt;&lt;code&gt;vt.&lt;/code&gt;ä½¿æ‹…å¿ƒï¼Œæ¶‰åŠ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;h2 id=&#34;contention&#34;&gt;&lt;code&gt;contention&lt;/code&gt;
&lt;/h2&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>Weekly Learning Log - 2025-09-21</title>
        <link>http://localhost:1313/learning-reflection/2025-09-21-weekly/</link>
        <pubDate>Sun, 21 Sep 2025 14:02:18 +0800</pubDate>
        
        <guid>http://localhost:1313/learning-reflection/2025-09-21-weekly/</guid>
        <description>&lt;h3 id=&#34;what-i-learned&#34;&gt;What I Learned
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;æŒæ¡äº†åå˜å’Œé€†å˜çš„æ¦‚å¿µ&lt;/li&gt;
&lt;li&gt;phantomDataçš„å­¦ä¹ &lt;/li&gt;
&lt;li&gt;tokioæ”¾å¼ƒæ‰€æœ‰æƒï¼Œæ”¹ç”¨è£¸æŒ‡é’ˆçš„åŸå› &lt;/li&gt;
&lt;li&gt;selectï¼å®çš„ä½¿ç”¨å­¦ä¹ &lt;/li&gt;
&lt;li&gt;çœ‹äº†tokioçš„Taskéƒ¨åˆ†ï¼Œä½†æ˜¯é˜…è¯»è¿‡åå°è±¡ä¸æ˜¯å¾ˆæ·±&lt;/li&gt;
&lt;li&gt;åŒå·¥&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;challenges--solutions&#34;&gt;Challenges &amp;amp; Solutions
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;é˜…è¯»æºç åˆ°äº†ç–²è½¯æœŸï¼Œæ„Ÿè§‰å­¦ä¸åˆ°ä»€ä¹ˆä¸œè¥¿ &amp;mdash; è½¬ä¸ºå®ç°å°é¡¹ç›®æˆ–è€…çœ‹ç®€å•ç‰ˆæœ¬çš„é¡¹ç›®&lt;/li&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;this-weeks-win&#34;&gt;This Week&amp;rsquo;s Win
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;å®ç°äº†ç®€å•çš„EchoæœåŠ¡å™¨&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;next-week-focus&#34;&gt;Next Week Focus
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;å¿ƒæ€è°ƒæ•´ï¼Œä¸è¦å¦„æƒ³ä¸€å£æ°”åƒæˆèƒ–å­ï¼Œéœ€è¦æ…¢æ…¢ç§¯ç´¯&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;å­¦ä¹ æ—¶é•¿:&lt;/strong&gt;
&lt;strong&gt;å®Œæˆä»»åŠ¡:&lt;/strong&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>ç‰ˆæœ¬è¿­ä»£å¼å­¦ä¹ é¡¹ç›®æºç </title>
        <link>http://localhost:1313/tutorials/%E7%89%88%E6%9C%AC%E8%BF%AD%E4%BB%A3%E5%BC%8F%E5%AD%A6%E4%B9%A0%E9%A1%B9%E7%9B%AE%E6%BA%90%E7%A0%81/</link>
        <pubDate>Sun, 21 Sep 2025 13:21:34 +0800</pubDate>
        
        <guid>http://localhost:1313/tutorials/%E7%89%88%E6%9C%AC%E8%BF%AD%E4%BB%A3%E5%BC%8F%E5%AD%A6%E4%B9%A0%E9%A1%B9%E7%9B%AE%E6%BA%90%E7%A0%81/</guid>
        <description>&lt;h4 id=&#34;1-çœ‹é‡Œç¨‹ç¢‘ç‰ˆæœ¬&#34;&gt;1. çœ‹é‡Œç¨‹ç¢‘ç‰ˆæœ¬
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# å…ˆçœ‹æ ‡ç­¾å†å²ï¼Œæ‰¾é‡è¦ç‰ˆæœ¬&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;git tag --sort&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;-version:refname | head -20
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# è¾“å‡ºå¯èƒ½æ˜¯è¿™æ ·ï¼š&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 13.0.0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 12.1.0  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 12.0.0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 11.0.0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# ...&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 0.1.0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# é‡ç‚¹çœ‹è¿™äº›ç‰ˆæœ¬ï¼š&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;git checkout 0.1.0    &lt;span style=&#34;color:#75715e&#34;&gt;# æœ€åˆç‰ˆæœ¬ - ç†è§£æ ¸å¿ƒæ€æƒ³&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;git checkout 0.5.0    &lt;span style=&#34;color:#75715e&#34;&gt;# æ—©æœŸç¨³å®šç‰ˆ - åŸºæœ¬åŠŸèƒ½å®Œæ•´&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;git checkout 1.0.0    &lt;span style=&#34;color:#75715e&#34;&gt;# ç¬¬ä¸€ä¸ªå¤§ç‰ˆæœ¬ - è®¾è®¡æˆå‹&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;git checkout 5.0.0    &lt;span style=&#34;color:#75715e&#34;&gt;# ä¸­æœŸç‰ˆæœ¬ - æ€§èƒ½ä¼˜åŒ–&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;git checkout 13.0.0   &lt;span style=&#34;color:#75715e&#34;&gt;# æœ€æ–°ç‰ˆæœ¬ - å¯¹æ¯”æ¼”è¿›&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;2-çœ‹å…³é”®æäº¤&#34;&gt;2. çœ‹å…³é”®æäº¤
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# æœç´¢é‡è¦çš„è®¾è®¡å†³ç­–æäº¤&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;git log --oneline --grep&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;refactor&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;git log --oneline --grep&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;performance&amp;#34;&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;git log --oneline --grep&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;rewrite&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;git log --oneline --author&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;BurntSushi&amp;#34;&lt;/span&gt; --grep&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;initial&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# çœ‹æ–‡ä»¶å˜åŒ–æœ€å¤§çš„æäº¤&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;git log --oneline --stat | grep -A5 -B1 &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;files changed.*insertions.*deletions&amp;#34;&lt;/span&gt; | head -20
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;3-æŒ‰åŠŸèƒ½æ¨¡å—å­¦ä¹ &#34;&gt;3. æŒ‰åŠŸèƒ½æ¨¡å—å­¦ä¹ 
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# çœ‹ç‰¹å®šæ–‡ä»¶çš„æ¼”è¿›å†å²&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;git log --oneline src/main.rs | tail -10        &lt;span style=&#34;color:#75715e&#34;&gt;# main å‡½æ•°çš„æ¼”è¿›&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;git log --oneline src/search.rs | tail -5       &lt;span style=&#34;color:#75715e&#34;&gt;# æœç´¢é€»è¾‘çš„æ¼”è¿›  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;git log --oneline Cargo.toml | tail -5          &lt;span style=&#34;color:#75715e&#34;&gt;# ä¾èµ–çš„æ¼”è¿›&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# çœ‹æŸä¸ªåŠŸèƒ½çš„å¼•å…¥&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;git log --oneline --grep&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;SIMD&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;git log --oneline --grep&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;regex&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;git log --oneline --grep&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;parallel&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;æ¨èçš„å­¦ä¹ è·¯å¾„&#34;&gt;æ¨èçš„å­¦ä¹ è·¯å¾„
&lt;/h4&gt;&lt;h5 id=&#34;ç¬¬ä¸€é˜¶æ®µç†è§£æ ¸å¿ƒè®¾è®¡&#34;&gt;ç¬¬ä¸€é˜¶æ®µï¼šç†è§£æ ¸å¿ƒè®¾è®¡
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;git checkout 0.1.0
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# çœ‹è¿™ä¸ªç‰ˆæœ¬çš„ä»£ç ç»“æ„ï¼Œç†è§£æœ€åŸºæœ¬çš„å®ç°&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# ä»£ç é‡å°ï¼Œå®¹æ˜“ç†è§£æ ¸å¿ƒæ€è·¯&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;git checkout 0.10.0  &lt;span style=&#34;color:#75715e&#34;&gt;# è·³è·ƒå¼åœ°çœ‹å‡ ä¸ªæ—©æœŸç‰ˆæœ¬&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;git checkout 1.0.0
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;ç¬¬äºŒé˜¶æ®µå…³é”®æ¼”è¿›ç‚¹&#34;&gt;ç¬¬äºŒé˜¶æ®µï¼šå…³é”®æ¼”è¿›ç‚¹
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# æœç´¢é‡è¦çš„æäº¤ä¿¡æ¯&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;git log --oneline --grep&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;rewrite&amp;#34;&lt;/span&gt; | head -5
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;git log --oneline --grep&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;performance&amp;#34;&lt;/span&gt; | head -5
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# æ‰‹åŠ¨é€‰æ‹©å‡ ä¸ªå…³é”®æäº¤çœ‹&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;git show &amp;lt;é‡è¦æäº¤å“ˆå¸Œ&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;ç¬¬ä¸‰é˜¶æ®µå¯¹æ¯”å­¦ä¹ &#34;&gt;ç¬¬ä¸‰é˜¶æ®µï¼šå¯¹æ¯”å­¦ä¹ 
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;git checkout main
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# å¯¹æ¯”æœ€æ–°ç‰ˆæœ¬å’Œæ—©æœŸç‰ˆæœ¬çš„å·®å¼‚&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;git diff 0.1.0..main src/main.rs
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
        </item>
        <item>
        <title>Gitå‘½ä»¤ç§¯ç´¯</title>
        <link>http://localhost:1313/tutorials/git%E5%91%BD%E4%BB%A4%E7%A7%AF%E7%B4%AF/</link>
        <pubDate>Sun, 21 Sep 2025 11:08:27 +0800</pubDate>
        
        <guid>http://localhost:1313/tutorials/git%E5%91%BD%E4%BB%A4%E7%A7%AF%E7%B4%AF/</guid>
        <description>&lt;h5 id=&#34;git-log---oneline--tail--20&#34;&gt;&lt;code&gt;git log --oneline | tail -20&lt;/code&gt;
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;git log&lt;/code&gt;ç°å®æäº¤å†å²&lt;/li&gt;
&lt;li&gt;&lt;code&gt;--oneline&lt;/code&gt;å°†æ¯ä¸ªæäº¤å‹ç¼©ä¸ºä¸€è¡Œæ˜¾ç¤º&lt;/li&gt;
&lt;li&gt;&lt;code&gt;|&lt;/code&gt;ï¼Œç®¡é“ç¬¦ï¼Œ å°†å‰ä¸€ä¸ªå‘½ä»¤çš„è¾“å‡ºä½œä¸ºåä¸€ä¸ªå‘½ä»¤è¾“å…¥&lt;/li&gt;
&lt;li&gt;&lt;code&gt;tail -20&lt;/code&gt;,æ˜¾ç¤ºè¾“å…¥æˆ–æ–‡ä»¶æœ«å°¾éƒ¨åˆ†ï¼Œ&lt;code&gt;-20&lt;/code&gt;å‚æ•°è¡¨ç¤ºæ˜¾ç¤ºæœ€åä¸€è¡Œ&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>Tokioæ ¸å¿ƒæ¨¡å‹è§£æ</title>
        <link>http://localhost:1313/rust/tokio/tokio%E6%A0%B8%E5%BF%83%E6%A8%A1%E5%9E%8B%E8%A7%A3%E6%9E%90/</link>
        <pubDate>Fri, 19 Sep 2025 13:50:29 +0800</pubDate>
        
        <guid>http://localhost:1313/rust/tokio/tokio%E6%A0%B8%E5%BF%83%E6%A8%A1%E5%9E%8B%E8%A7%A3%E6%9E%90/</guid>
        <description>&lt;h1 id=&#34;tokio-æ ¸å¿ƒæ¨¡å‹è§£æ&#34;&gt;Tokio æ ¸å¿ƒæ¨¡å‹è§£æ
&lt;/h1&gt;&lt;p&gt;è®©æˆ‘ä»¬ä»é¡¶å±‚è®¾è®¡å¼€å§‹ï¼Œé€æ­¥æ·±å…¥ Tokio çš„å¼‚æ­¥è¿è¡Œæ—¶æ¨¡å‹ã€‚&lt;/p&gt;
&lt;h2 id=&#34;1-æ ¸å¿ƒæŠ½è±¡æ¨¡å‹&#34;&gt;1. æ ¸å¿ƒæŠ½è±¡æ¨¡å‹
&lt;/h2&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;+-------------------------------------------------+
|                Runtime (è¿è¡Œæ—¶)                  |
|  +-------------------------------------------+  |
|  |              Reactor (ååº”å™¨)              |  |
|  |  - I/O å¤šè·¯å¤ç”¨ (epoll/kqueue/IOCP)        |  |
|  |  - å¤„ç† I/O äº‹ä»¶é€šçŸ¥                        |  |
|  +-------------------------------------------+  |
|                                                 |
|  +-------------------------------------------+  |
|  |              Scheduler (è°ƒåº¦å™¨)            |  |
|  |  - å¤šçº¿ç¨‹å·¥ä½œçªƒå–è°ƒåº¦                      |  |
|  |  - ä»»åŠ¡é˜Ÿåˆ—ç®¡ç†                            |  |
|  +-------------------------------------------+  |
|                                                 |
|  +-------------------------------------------+  |
|  |               Timer (å®šæ—¶å™¨)               |  |
|  |  - ç®¡ç†å®šæ—¶ä»»åŠ¡                            |  |
|  |  - åŸºäºæ—¶é—´è½®çš„å®šæ—¶å™¨å®ç°                   |  |
|  +-------------------------------------------+  |
+-------------------------------------------------+
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;2-ä»»åŠ¡ç”Ÿå‘½å‘¨æœŸæ¨¡å‹&#34;&gt;2. ä»»åŠ¡ç”Ÿå‘½å‘¨æœŸæ¨¡å‹
&lt;/h2&gt;&lt;h3 id=&#34;21-ä»»åŠ¡çŠ¶æ€æœº&#34;&gt;2.1 ä»»åŠ¡çŠ¶æ€æœº
&lt;/h3&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-mermaid&#34; data-lang=&#34;mermaid&#34;&gt;stateDiagram-v2
    [*] --&amp;gt; Created: åˆ›å»º
    Created --&amp;gt; Scheduled: è°ƒåº¦
    Scheduled --&amp;gt; Running: æ‰§è¡Œ
    Running --&amp;gt; Pending: ç­‰å¾…I/O
    Pending --&amp;gt; Scheduled: I/Oå°±ç»ª
    Running --&amp;gt; Complete: å®Œæˆ
    Running --&amp;gt; Panicked: ææ…Œ
    Running --&amp;gt; Cancelled: å–æ¶ˆ
    Pending --&amp;gt; Cancelled: å–æ¶ˆ
    Panicked --&amp;gt; [*]
    Complete --&amp;gt; [*]
    Cancelled --&amp;gt; [*]
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;22-çŠ¶æ€ä½è¡¨ç¤º&#34;&gt;2.2 çŠ¶æ€ä½è¡¨ç¤º
&lt;/h3&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// çŠ¶æ€ä½åŸŸ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;RUNNING&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;usize&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0b0001&lt;/span&gt;;      &lt;span style=&#34;color:#75715e&#34;&gt;// ä»»åŠ¡æ­£åœ¨æ‰§è¡Œ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;COMPLETE&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;usize&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0b0010&lt;/span&gt;;     &lt;span style=&#34;color:#75715e&#34;&gt;// ä»»åŠ¡å·²å®Œæˆ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;NOTIFIED&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;usize&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0b0100&lt;/span&gt;;     &lt;span style=&#34;color:#75715e&#34;&gt;// ä»»åŠ¡å·²é€šçŸ¥è°ƒåº¦å™¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;JOIN_INTEREST&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;usize&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0b1000&lt;/span&gt;; &lt;span style=&#34;color:#75715e&#34;&gt;// æœ‰ä»»åŠ¡åœ¨ç­‰å¾…Join
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;JOIN_WAKER&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;usize&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0b1_0000&lt;/span&gt;;  &lt;span style=&#34;color:#75715e&#34;&gt;// å·²è®¾ç½®Join Waker
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;CANCELLED&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;usize&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0b10_0000&lt;/span&gt;;  &lt;span style=&#34;color:#75715e&#34;&gt;// ä»»åŠ¡å·²å–æ¶ˆ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;3-æ ¸å¿ƒæ•°æ®ç»“æ„&#34;&gt;3. æ ¸å¿ƒæ•°æ®ç»“æ„
&lt;/h2&gt;&lt;h3 id=&#34;31-ä»»åŠ¡ç»“æ„-rawtask&#34;&gt;3.1 ä»»åŠ¡ç»“æ„ (RawTask)
&lt;/h3&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;RawTask&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    header: &lt;span style=&#34;color:#a6e22e&#34;&gt;Header&lt;/span&gt;,          &lt;span style=&#34;color:#75715e&#34;&gt;// ä»»åŠ¡å¤´ä¿¡æ¯
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    scheduler: &lt;span style=&#34;color:#a6e22e&#34;&gt;Scheduler&lt;/span&gt;,    &lt;span style=&#34;color:#75715e&#34;&gt;// è°ƒåº¦å™¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    state: &lt;span style=&#34;color:#a6e22e&#34;&gt;State&lt;/span&gt;,           &lt;span style=&#34;color:#75715e&#34;&gt;// ä»»åŠ¡çŠ¶æ€
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    future: &lt;span style=&#34;color:#a6e22e&#34;&gt;Future&lt;/span&gt;,         &lt;span style=&#34;color:#75715e&#34;&gt;// è¦æ‰§è¡Œçš„Future
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    output: Option&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Output&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;, &lt;span style=&#34;color:#75715e&#34;&gt;// Futureçš„è¾“å‡º
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;32-è°ƒåº¦å™¨æ¨¡å‹&#34;&gt;3.2 è°ƒåº¦å™¨æ¨¡å‹
&lt;/h3&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;+----------------+     +----------------+     +----------------+
|   Local Queue  | &amp;lt;-&amp;gt; | Global Queue  | &amp;lt;-&amp;gt; | Worker Threads |
+----------------+     +----------------+     +----------------+
        ^                     ^                       ^
        |                     |                       |
        v                     v                       v
+----------------+     +----------------+     +----------------+
| Task Producer  |     | Work Stealing  |     | Task Consumer  |
| (spawn)        |     | (è´Ÿè½½å‡è¡¡)      |     | (poll)         |
+----------------+     +----------------+     +----------------+
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;4-æ‰§è¡Œæµç¨‹&#34;&gt;4. æ‰§è¡Œæµç¨‹
&lt;/h2&gt;&lt;h3 id=&#34;41-ä»»åŠ¡åˆ›å»ºä¸è°ƒåº¦&#34;&gt;4.1 ä»»åŠ¡åˆ›å»ºä¸è°ƒåº¦
&lt;/h3&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-mermaid&#34; data-lang=&#34;mermaid&#34;&gt;sequenceDiagram
    participant A as ç”¨æˆ·ä»£ç 
    participant B as Runtime
    participant C as è°ƒåº¦å™¨
    participant D as å·¥ä½œçº¿ç¨‹
    
    A-&amp;gt;&amp;gt;B: spawn(future)
    B-&amp;gt;&amp;gt;C: åˆ›å»ºä»»åŠ¡å¹¶åŠ å…¥é˜Ÿåˆ—
    C-&amp;gt;&amp;gt;D: å·¥ä½œçº¿ç¨‹çªƒå–ä»»åŠ¡
    D-&amp;gt;&amp;gt;D: æ‰§è¡Œfuture.poll()
    alt Futureè¿”å›Pending
        D-&amp;gt;&amp;gt;B: æ³¨å†ŒWaker
    else Futureè¿”å›Ready
        D-&amp;gt;&amp;gt;B: è®¾ç½®è¾“å‡ºç»“æœ
    end
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;42-io-å°±ç»ªå¤„ç†&#34;&gt;4.2 I/O å°±ç»ªå¤„ç†
&lt;/h3&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-mermaid&#34; data-lang=&#34;mermaid&#34;&gt;sequenceDiagram
    participant A as Reactor
    participant B as è°ƒåº¦å™¨
    participant C as ä»»åŠ¡
    
    A-&amp;gt;&amp;gt;B: I/O å°±ç»ªäº‹ä»¶
    B-&amp;gt;&amp;gt;C: å”¤é†’å…³è”çš„Waker
    C-&amp;gt;&amp;gt;B: å°†ä»»åŠ¡åŠ å…¥å°±ç»ªé˜Ÿåˆ—
    B-&amp;gt;&amp;gt;C: è°ƒåº¦æ‰§è¡Œ
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;5-å…³é”®ä¼˜åŒ–æŠ€æœ¯&#34;&gt;5. å…³é”®ä¼˜åŒ–æŠ€æœ¯
&lt;/h2&gt;&lt;h3 id=&#34;51-æ— é”é˜Ÿåˆ—&#34;&gt;5.1 æ— é”é˜Ÿåˆ—
&lt;/h3&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// ä½¿ç”¨crossbeamçš„æ— é”é˜Ÿåˆ—
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;type&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;TaskQueue&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; crossbeam_deque::Worker&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Arc&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Task&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;52-å·¥ä½œçªƒå–&#34;&gt;5.2 å·¥ä½œçªƒå–
&lt;/h3&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// å·¥ä½œçº¿ç¨‹å°è¯•ä»å…¶ä»–é˜Ÿåˆ—çªƒå–ä»»åŠ¡
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;steal_work&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;self) -&amp;gt; Option&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Task&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// éšæœºé€‰æ‹©å—å®³è€…é˜Ÿåˆ—
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; len &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; self.workers.len();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; start &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; self.rng.&lt;span style=&#34;color:#66d9ef&#34;&gt;usize&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;..&lt;/span&gt;len);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; i &lt;span style=&#34;color:#66d9ef&#34;&gt;in&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;..&lt;/span&gt;len {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; idx &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; (start &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; i) &lt;span style=&#34;color:#f92672&#34;&gt;%&lt;/span&gt; len;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; Some(task) &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; self.workers[idx].steal() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; Some(task);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    None
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;53-é›¶æˆæœ¬æŠ½è±¡&#34;&gt;5.3 é›¶æˆæœ¬æŠ½è±¡
&lt;/h3&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// ä½¿ç”¨æ³›å‹å’Œç¼–è¯‘æœŸå¤šæ€
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;spawn&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;F, T&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;(future: &lt;span style=&#34;color:#a6e22e&#34;&gt;F&lt;/span&gt;) -&amp;gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;JoinHandle&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;T&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;where&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    F: &lt;span style=&#34;color:#a6e22e&#34;&gt;Future&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Output &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; T&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; Send &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &amp;#39;static,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    T: Send &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &amp;#39;static,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// ç¼–è¯‘æ—¶ç”Ÿæˆç‰¹å®šç±»å‹çš„ä»£ç 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;6-å†…å­˜æ¨¡å‹&#34;&gt;6. å†…å­˜æ¨¡å‹
&lt;/h2&gt;&lt;h3 id=&#34;61-ä»»åŠ¡åˆ†é…&#34;&gt;6.1 ä»»åŠ¡åˆ†é…
&lt;/h3&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// è‡ªå®šä¹‰å†…å­˜åˆ†é…å™¨ä¼˜åŒ–
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; layout &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Layout::new::&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Header&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    .extend(Layout::new::&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Scheduler&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;())&lt;span style=&#34;color:#f92672&#34;&gt;?&lt;/span&gt;.&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    .extend(Layout::new::&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;T&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;())&lt;span style=&#34;color:#f92672&#34;&gt;?&lt;/span&gt;.&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; ptr &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; alloc(layout);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;62-å¼•ç”¨è®¡æ•°&#34;&gt;6.2 å¼•ç”¨è®¡æ•°
&lt;/h3&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// ä½¿ç”¨åŸå­å¼•ç”¨è®¡æ•°ç®¡ç†ä»»åŠ¡ç”Ÿå‘½å‘¨æœŸ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Task&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    header: &lt;span style=&#34;color:#a6e22e&#34;&gt;Arc&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Header&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// ...
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;impl&lt;/span&gt; Drop &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; Task {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;drop&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; self) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; Arc::strong_count(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;self.header) &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// æœ€åä¸€ä¸ªå¼•ç”¨ï¼Œé‡Šæ”¾èµ„æº
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;7-è°ƒè¯•ä¸è¿½è¸ª&#34;&gt;7. è°ƒè¯•ä¸è¿½è¸ª
&lt;/h2&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#[cfg(tokio_unstable)]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;TaskMeta&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    name: &lt;span style=&#34;color:#66d9ef&#34;&gt;&amp;amp;&lt;/span&gt;&amp;#39;static &lt;span style=&#34;color:#66d9ef&#34;&gt;str&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    location: &lt;span style=&#34;color:#66d9ef&#34;&gt;&amp;amp;&lt;/span&gt;&amp;#39;static &lt;span style=&#34;color:#a6e22e&#34;&gt;std&lt;/span&gt;::panic::Location&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&amp;#39;static&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// ...
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;8-ä½¿ç”¨æ¨¡å‹&#34;&gt;8. ä½¿ç”¨æ¨¡å‹
&lt;/h2&gt;&lt;h3 id=&#34;81-åŸºæœ¬ä½¿ç”¨&#34;&gt;8.1 åŸºæœ¬ä½¿ç”¨
&lt;/h3&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#[tokio::main]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;async&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;main&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// åˆ›å»ºä»»åŠ¡
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; handle &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; tokio::spawn(&lt;span style=&#34;color:#66d9ef&#34;&gt;async&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// å¼‚æ­¥ä»£ç 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Hello, Tokio!&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    });
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// ç­‰å¾…ä»»åŠ¡å®Œæˆ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; result &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; handle.&lt;span style=&#34;color:#66d9ef&#34;&gt;await&lt;/span&gt;.unwrap();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;println!&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;{}&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;, result);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;82-ä»»åŠ¡é—´é€šä¿¡&#34;&gt;8.2 ä»»åŠ¡é—´é€šä¿¡
&lt;/h3&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// ä½¿ç”¨é€šé“è¿›è¡Œä»»åŠ¡é—´é€šä¿¡
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; (tx, &lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; rx) &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; tokio::sync::mpsc::channel(&lt;span style=&#34;color:#ae81ff&#34;&gt;32&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// ç”Ÿäº§è€…ä»»åŠ¡
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;tokio::spawn(&lt;span style=&#34;color:#66d9ef&#34;&gt;async&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;move&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    tx.send(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Hello&amp;#34;&lt;/span&gt;).&lt;span style=&#34;color:#66d9ef&#34;&gt;await&lt;/span&gt;.unwrap();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;});
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// æ¶ˆè´¹è€…ä»»åŠ¡
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;tokio::spawn(&lt;span style=&#34;color:#66d9ef&#34;&gt;async&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;move&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;while&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; Some(message) &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; rx.recv().&lt;span style=&#34;color:#66d9ef&#34;&gt;await&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;println!&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;received: &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;{}&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;, message);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;});
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;9-æ€§èƒ½è€ƒé‡&#34;&gt;9. æ€§èƒ½è€ƒé‡
&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;ä»»åŠ¡å¤§å°&lt;/strong&gt;ï¼šä¿æŒä»»åŠ¡å°å·§é«˜æ•ˆ&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é¿å…é˜»å¡&lt;/strong&gt;ï¼šä¸è¦åœ¨å¼‚æ­¥ä¸Šä¸‹æ–‡ä¸­æ‰§è¡Œé˜»å¡æ“ä½œ&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ‰¹é‡å¤„ç†&lt;/strong&gt;ï¼šåˆå¹¶å°çš„I/Oæ“ä½œä¸ºæ‰¹é‡æ“ä½œ&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åˆç†ä½¿ç”¨spawn&lt;/strong&gt;ï¼šé¿å…åˆ›å»ºè¿‡å¤šä»»åŠ¡&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;10-è°ƒè¯•æŠ€å·§&#34;&gt;10. è°ƒè¯•æŠ€å·§
&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;å¯ç”¨ &lt;code&gt;tokio_unstable&lt;/code&gt; ç‰¹æ€§è·å–æ›´å¤šè°ƒè¯•ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨ &lt;code&gt;tracing&lt;/code&gt; è¿›è¡Œåˆ†å¸ƒå¼è¿½è¸ª&lt;/li&gt;
&lt;li&gt;ç›‘æ§è¿è¡Œæ—¶æŒ‡æ ‡ï¼ˆä»»åŠ¡æ•°ã€é˜Ÿåˆ—é•¿åº¦ç­‰ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è¿™ä¸ªæ¨¡å‹å±•ç¤ºäº† Tokio å¦‚ä½•é«˜æ•ˆåœ°ç®¡ç†å¼‚æ­¥ä»»åŠ¡ã€‚ç†è§£è¿™äº›æ ¸å¿ƒæ¦‚å¿µåï¼Œæ‚¨å¯ä»¥æ›´æ·±å…¥åœ°ç ”ç©¶ç‰¹å®šç»„ä»¶çš„å®ç°ç»†èŠ‚ã€‚&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Tokioä»»åŠ¡ç³»ç»Ÿè§£æ</title>
        <link>http://localhost:1313/rust/tokio/tokio%E4%BB%BB%E5%8A%A1%E7%B3%BB%E7%BB%9F%E8%A7%A3%E6%9E%90/</link>
        <pubDate>Fri, 19 Sep 2025 12:38:14 +0800</pubDate>
        
        <guid>http://localhost:1313/rust/tokio/tokio%E4%BB%BB%E5%8A%A1%E7%B3%BB%E7%BB%9F%E8%A7%A3%E6%9E%90/</guid>
        <description>&lt;p&gt;Tokioçš„ä»»åŠ¡ç³»ç»Ÿæ˜¯å…¶å¼‚æ­¥è¿è¡Œæ—¶çš„æ ¸å¿ƒï¼Œå®ƒè´Ÿè´£è°ƒåº¦å’Œæ‰§è¡Œå¼‚æ­¥ä»»åŠ¡ã€‚è®©æˆ‘ä»¬æ·±å…¥åˆ†æå…¶è®¾è®¡å’Œå®ç°ã€‚&lt;/p&gt;
&lt;h3 id=&#34;1-æ ¸å¿ƒç»„ä»¶&#34;&gt;1. æ ¸å¿ƒç»„ä»¶
&lt;/h3&gt;&lt;h4 id=&#34;11-ä»»åŠ¡è¡¨ç¤º&#34;&gt;1.1 ä»»åŠ¡è¡¨ç¤º
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;crate&lt;/span&gt;) &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Task&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;S: &amp;#39;static&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  raw: &lt;span style=&#34;color:#a6e22e&#34;&gt;RawTask&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  _p: &lt;span style=&#34;color:#a6e22e&#34;&gt;PhantomData&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;S&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;RawTask&lt;/code&gt;ï¼šå®é™…çš„ä»»åŠ¡æ•°æ®ï¼ŒåŒ…å«ä»»åŠ¡çŠ¶æ€ã€è°ƒåº¦å™¨ç­‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;PhantomData&amp;lt;S&amp;gt;&lt;/code&gt;ï¼šå…³è”è°ƒåº¦å™¨ç±»å‹ï¼Œç”¨äºç±»å‹å®‰å…¨&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;12-ä»»åŠ¡å¤´header&#34;&gt;1.2 ä»»åŠ¡å¤´(Header)
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;crate&lt;/span&gt;) &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Header&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    state: &lt;span style=&#34;color:#a6e22e&#34;&gt;State&lt;/span&gt;,                   &lt;span style=&#34;color:#75715e&#34;&gt;// ä»»åŠ¡çŠ¶æ€
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    queue_next: &lt;span style=&#34;color:#a6e22e&#34;&gt;UnsafeCell&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;..&lt;/span&gt;.&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;,    &lt;span style=&#34;color:#75715e&#34;&gt;// ä»»åŠ¡é˜Ÿåˆ—æŒ‡é’ˆ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    vtable: &lt;span style=&#34;color:#66d9ef&#34;&gt;&amp;amp;&lt;/span&gt;&amp;#39;static &lt;span style=&#34;color:#a6e22e&#34;&gt;Vtable&lt;/span&gt;,        &lt;span style=&#34;color:#75715e&#34;&gt;// è™šå‡½æ•°è¡¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    owner_id: &lt;span style=&#34;color:#a6e22e&#34;&gt;UnsafeCell&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;..&lt;/span&gt;.&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;,      &lt;span style=&#34;color:#75715e&#34;&gt;// ä»»åŠ¡æ‰€æœ‰è€…ID
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// ...
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;2-ä»»åŠ¡ç”Ÿå‘½å‘¨æœŸ&#34;&gt;2. ä»»åŠ¡ç”Ÿå‘½å‘¨æœŸ
&lt;/h4&gt;&lt;h4 id=&#34;21-åˆ›å»ºä»»åŠ¡&#34;&gt;2.1 åˆ›å»ºä»»åŠ¡
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;new_task&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;T, S&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;(task: &lt;span style=&#34;color:#a6e22e&#34;&gt;T&lt;/span&gt;, scheduler: &lt;span style=&#34;color:#a6e22e&#34;&gt;S&lt;/span&gt;, id: &lt;span style=&#34;color:#a6e22e&#34;&gt;Id&lt;/span&gt;) -&amp;gt; (Task&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;S&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;, Notified&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;S&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;, JoinHandle&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;T::Output&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;where&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    T: &lt;span style=&#34;color:#a6e22e&#34;&gt;Future&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &amp;#39;static,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    S: &lt;span style=&#34;color:#a6e22e&#34;&gt;Schedule&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; raw &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; RawTask::new::&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;T, S&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;(task, scheduler, id, spawned_at);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// åˆ›å»ºä¸‰ç§å¥æŸ„
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; task &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Task { raw, _p: &lt;span style=&#34;color:#a6e22e&#34;&gt;PhantomData&lt;/span&gt; };
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; notified &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Notified(Task { raw, _p: &lt;span style=&#34;color:#a6e22e&#34;&gt;PhantomData&lt;/span&gt; });
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; join &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; JoinHandle::new(raw);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    (task, notified, join)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;RawTask&lt;/code&gt;å®ç°äº†Copyï¼Œæ•…è¿™é‡Œå¯ä»¥è¿™æ ·åšï¼ŒåŒæ—¶æˆ‘ä»¬éœ€è¦çŸ¥é“&lt;code&gt;RawTask&lt;/code&gt;çš„åˆå§‹å¼•ç”¨è®¡æ•°çŠ¶æ€ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;super&lt;/span&gt;) &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;new&lt;/span&gt;() -&amp;gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;State&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  State {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    val: &lt;span style=&#34;color:#a6e22e&#34;&gt;AtomicUsize&lt;/span&gt;::new(&lt;span style=&#34;color:#66d9ef&#34;&gt;INTIAL_STATE&lt;/span&gt;),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åˆå§‹çŠ¶æ€è®¾ç½®ä¸ºï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;INITIAL_STATE&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;usize&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; (&lt;span style=&#34;color:#66d9ef&#34;&gt;REF_ONE&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;JOIN_INTEREST&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;NOTIFIED&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™æ„å‘³ç€ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åˆå§‹å¼•ç”¨è®¡æ•°æ˜¯&lt;code&gt;REF_ONE * 3&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;åŒæ—¶è®¾ç½®äº† &lt;code&gt;JOIN_INTEREST&lt;/code&gt; å’Œ &lt;code&gt;NOTIFIED&lt;/code&gt; æ ‡å¿—ä½&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä¸€ä¸ªä»»åŠ¡åˆ›å»ºä¼šè¿”å›ä¸‰ä¸ªå¥æŸ„ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;Task&lt;/code&gt;ï¼šç”¨äºå–æ¶ˆæˆ–é‡Šæ”¾ä»»åŠ¡&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Notified&lt;/code&gt;ï¼šè¡¨ç¤ºä»»åŠ¡å·²å‡†å¤‡å¥½æ‰§è¡Œ&lt;/li&gt;
&lt;li&gt;&lt;code&gt;JoinHandle&lt;/code&gt;ï¼šç”¨äºç­‰å¾…ä»»åŠ¡å®Œæˆå¹¶è·å–ç»“æœ&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;3-æ ¸å¿ƒæœºåˆ¶&#34;&gt;3. æ ¸å¿ƒæœºåˆ¶
&lt;/h3&gt;&lt;h4 id=&#34;31-ä»»åŠ¡è°ƒåº¦&#34;&gt;3.1 ä»»åŠ¡è°ƒåº¦
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// åœ¨è°ƒåº¦å™¨ä¸­çš„æ‰§è¡Œå¾ªç¯
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;loop&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; task &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; self.next_task();  &lt;span style=&#34;color:#75715e&#34;&gt;// è·å–ä¸‹ä¸€ä¸ªå°±ç»ªä»»åŠ¡
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    task.run();                  &lt;span style=&#34;color:#75715e&#34;&gt;// æ‰§è¡Œä»»åŠ¡
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;32-å”¤é†’æœºåˆ¶&#34;&gt;3.2 å”¤é†’æœºåˆ¶
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// Waker å®ç°
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Waker&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    header: &lt;span style=&#34;color:#a6e22e&#34;&gt;NonNull&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Header&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// ...
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;impl&lt;/span&gt; std::task::Wake &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; Waker {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;wake&lt;/span&gt;(self) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        self.wake_by_ref();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;wake_by_ref&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;self) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// å°†ä»»åŠ¡æ ‡è®°ä¸ºå°±ç»ªå¹¶é‡æ–°è°ƒåº¦
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;unsafe&lt;/span&gt; { (self.header.as_ref().vtable.schedule)(self.header) };
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;4-å†…å­˜ç®¡ç†&#34;&gt;4. å†…å­˜ç®¡ç†
&lt;/h3&gt;&lt;h4 id=&#34;41-ä»»åŠ¡åˆ†é…&#34;&gt;4.1 ä»»åŠ¡åˆ†é…
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;impl&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;T: &lt;span style=&#34;color:#a6e22e&#34;&gt;Future&lt;/span&gt;, S: &lt;span style=&#34;color:#a6e22e&#34;&gt;Schedule&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; RawTask&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;T, S&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;new&lt;/span&gt;(future: &lt;span style=&#34;color:#a6e22e&#34;&gt;T&lt;/span&gt;, scheduler: &lt;span style=&#34;color:#a6e22e&#34;&gt;S&lt;/span&gt;, id: &lt;span style=&#34;color:#a6e22e&#34;&gt;Id&lt;/span&gt;) -&amp;gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;NonNull&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Header&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// 1. è®¡ç®—å†…å­˜å¸ƒå±€
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// 2. åˆ†é…å†…å­˜
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// 3. åˆå§‹åŒ– Header å’Œ Future
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// 4. è¿”å›æŒ‡å‘ Header çš„æŒ‡é’ˆ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;42-å†…å­˜å¸ƒå±€&#34;&gt;4.2 å†…å­˜å¸ƒå±€
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;+-------------------+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt;      Header       &lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;// åŒ…å«ä»»åŠ¡å…ƒæ•°æ®å’Œè™šå‡½æ•°è¡¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;+-------------------+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt;   Scheduler (S)   &lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;// è°ƒåº¦å™¨å®ä¾‹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;+-------------------+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt;   Future (T)      &lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;// å®é™…çš„ Future
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;+-------------------+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt;   Output Slot     &lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;// å­˜å‚¨ Future çš„è¾“å‡º
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;+-------------------+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt;   Traces          &lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;// è°ƒè¯•å’Œè·Ÿè¸ªä¿¡æ¯
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;+-------------------+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;5-å¹¶å‘æ§åˆ¶&#34;&gt;5. å¹¶å‘æ§åˆ¶
&lt;/h3&gt;&lt;h4 id=&#34;51-çŠ¶æ€ç®¡ç†&#34;&gt;5.1 çŠ¶æ€ç®¡ç†
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;State&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// ä½¿ç”¨åŸå­æ“ä½œç®¡ç†çŠ¶æ€
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// - è¿è¡Œä¸­æ ‡å¿—
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// - å®Œæˆæ ‡å¿—
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// - å–æ¶ˆæ ‡å¿—
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// - å¼•ç”¨è®¡æ•°
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    value: &lt;span style=&#34;color:#a6e22e&#34;&gt;AtomicUsize&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å…·ä½“æ¥è¯´ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é«˜ä½çš„æ¯”ç‰¹ä½ç”¨äºå¼•ç”¨è®¡æ•°(&lt;code&gt;REF_COUNT_MASK&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;ä½ä½çš„æ¯”ç‰¹ä½ç”¨äºä»»åŠ¡çŠ¶æ€(&lt;code&gt;STATE_MASK&lt;/code&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;52-é”ä¼˜åŒ–&#34;&gt;5.2 é”ä¼˜åŒ–
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// ä½¿ç”¨æ— é”ç®—æ³•ä¼˜åŒ–çƒ­ç‚¹è·¯å¾„
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;transition_to_running&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;self) -&amp;gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;TransitionToRunning&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// ä½¿ç”¨åŸå­æ“ä½œæ›´æ–°çŠ¶æ€
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// é¿å…ä½¿ç”¨äº’æ–¥é”
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;7-è®¾è®¡æ¨¡å¼&#34;&gt;7. è®¾è®¡æ¨¡å¼
&lt;/h3&gt;&lt;h4 id=&#34;71-ç±»å‹æ“¦é™¤&#34;&gt;7.1 ç±»å‹æ“¦é™¤
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// ä½¿ç”¨è™šå‡½æ•°è¡¨å®ç°ç±»å‹æ“¦é™¤
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Vtable&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    poll: &lt;span style=&#34;color:#a6e22e&#34;&gt;unsafe&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt;(NonNull&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Header&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    dealloc: &lt;span style=&#34;color:#a6e22e&#34;&gt;unsafe&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt;(NonNull&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Header&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// ...
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;72-é›¶æˆæœ¬æŠ½è±¡&#34;&gt;7.2 é›¶æˆæœ¬æŠ½è±¡
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// ä½¿ç”¨æ³›å‹å’Œç¼–è¯‘æœŸå¤šæ€
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;impl&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;T, S&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; Task&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;T, S&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// é›¶æˆæœ¬æŠ½è±¡
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
        </item>
        <item>
        <title>PhantomDataçš„ä½œç”¨</title>
        <link>http://localhost:1313/rust/phantomdata%E7%9A%84%E4%BD%9C%E7%94%A8/</link>
        <pubDate>Fri, 19 Sep 2025 10:20:18 +0800</pubDate>
        
        <guid>http://localhost:1313/rust/phantomdata%E7%9A%84%E4%BD%9C%E7%94%A8/</guid>
        <description>&lt;p&gt;&lt;code&gt;PhantomData&lt;/code&gt;åœ¨Rustä¸­æ˜¯ä¸ºæ³›å‹æä¾›é€»è¾‘ä¸Šçš„è¡¥å……ï¼Œå®ƒå¸®åŠ©ç¼–è¯‘å™¨ç†è§£å’ŒéªŒè¯æ³›å‹å‚æ•°çš„ä½¿ç”¨æ–¹å¼ã€‚&lt;/p&gt;
&lt;h4 id=&#34;æ ¸å¿ƒä½œç”¨&#34;&gt;æ ¸å¿ƒä½œç”¨
&lt;/h4&gt;&lt;p&gt;&lt;code&gt;PhantomData&lt;/code&gt;æ˜¯ä¸€ä¸ªé›¶ç±»å‹å¤§å°ï¼ˆZSTï¼‰ï¼Œå®ƒä¸ä¼šåœ¨è¿è¡Œæ—¶å ç”¨ä»»ä½•å†…å­˜ï¼Œä½†åœ¨ç¼–è¯‘æœŸæä¾›é‡è¦ä¿¡æ¯ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;ç±»å‹æ ‡è®°&lt;/strong&gt;ï¼šå‘Šè¯‰ç¼–è¯‘å™¨â€œè¿™ä¸ªç±»å‹é€»è¾‘ä¸Šæ‹¥æœ‰&lt;code&gt;T&lt;/code&gt;â€&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç”Ÿå‘½å‘¨æœŸè¿½è¸ª&lt;/strong&gt;ï¼šå¸®ç»„ç¼–è¯‘å™¨éªŒè¯ç”Ÿå‘½å‘¨æœŸçš„æ­£ç¡®æ€§&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å˜ä½“æ§åˆ¶&lt;/strong&gt;:å½±å“æ³›å‹å‚æ•°çš„åå˜/é€†å˜è¡Œä¸º&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Dropæ£€æŸ¥&lt;/strong&gt;ï¼šå½±å“&lt;code&gt;Drop&lt;/code&gt;æ£€æŸ¥å™¨çš„è¡Œä¸º&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;åœ¨&lt;code&gt;JoinHandle&amp;lt;T&amp;gt;&lt;/code&gt;ä¸­çš„å…·ä½“ä½œç”¨&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;JoinHandle&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;T&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    raw: &lt;span style=&#34;color:#a6e22e&#34;&gt;RawTask&lt;/span&gt;,         &lt;span style=&#34;color:#75715e&#34;&gt;// åŸå§‹ä»»åŠ¡æŒ‡é’ˆï¼Œä¸ç›´æ¥åŒ…å« T
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    _p: &lt;span style=&#34;color:#a6e22e&#34;&gt;PhantomData&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;T&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;,   &lt;span style=&#34;color:#75715e&#34;&gt;// é€»è¾‘ä¸Šè¡¨ç¤ºè¿™ä¸ªå¥æŸ„æ‹¥æœ‰ T çš„æ‰€æœ‰æƒ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™é‡Œ&lt;code&gt;PhantomData&amp;lt;T&amp;gt;&lt;/code&gt;è¡¨ç¤ºï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;æ‰€æœ‰æƒæ ‡è®°&lt;/strong&gt;: &lt;code&gt;JoinHandle&amp;lt;T&amp;gt;&lt;/code&gt;é€»è¾‘ä¸Šâ€œæ‹¥æœ‰â€ä¸€ä¸ª&lt;code&gt;T&lt;/code&gt;ç±»å‹çš„å€¼&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç±»å‹å…³è”&lt;/strong&gt;: å°†&lt;code&gt;RawTask&lt;/code&gt;ä¸è¿”å›ç±»å‹&lt;code&gt;T&lt;/code&gt;å…³è”èµ·æ¥&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Dropæ£€æŸ¥&lt;/strong&gt;ï¼š ç¡®ä¿å½“&lt;code&gt;JoinHandle&amp;lt;T&amp;gt;&lt;/code&gt;è¢«dropæ—¶ï¼Œ&lt;code&gt;T&lt;/code&gt;çš„ææ„å‡½æ•°ä¼šè¢«æ­£ç¡®è°ƒç”¨&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;å…¶ä»–å¸¸è§ä½¿ç”¨åœºæ™¯&#34;&gt;å…¶ä»–å¸¸è§ä½¿ç”¨åœºæ™¯
&lt;/h4&gt;&lt;h5 id=&#34;1-ä¸å®‰å…¨çš„ä»£ç ä¸­æ ‡è®°æ‰€æœ‰æƒ&#34;&gt;1. ä¸å®‰å…¨çš„ä»£ç ä¸­æ ‡è®°æ‰€æœ‰æƒï¼š
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;MyPtr&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;T&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  ptr: &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;u8&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  _marker: &lt;span style=&#34;color:#a6e22e&#34;&gt;PhantomData&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;T&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;, &lt;span style=&#34;color:#75715e&#34;&gt;//é€»è¾‘ä¸Šæ‹¥æœ‰T
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;2-ç”Ÿå‘½å‘¨æœŸæ ‡è®°&#34;&gt;2. ç”Ÿå‘½å‘¨æœŸæ ‡è®°
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Slice&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;&amp;#39;a&lt;/span&gt;, T&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    data: &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt; T,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    len: &lt;span style=&#34;color:#66d9ef&#34;&gt;usize&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    _marker: &lt;span style=&#34;color:#a6e22e&#34;&gt;PhantomData&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;&amp;#39;a&lt;/span&gt; T&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;,  &lt;span style=&#34;color:#75715e&#34;&gt;// è¡¨ç¤ºåŒ…å«å¯¹ T çš„ç”Ÿå‘½å‘¨æœŸ &amp;#39;a çš„å¼•ç”¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;3-å˜ä½“æ§åˆ¶&#34;&gt;3. å˜ä½“æ§åˆ¶
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Producer&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;T&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    data: &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt; (),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    _marker: &lt;span style=&#34;color:#a6e22e&#34;&gt;PhantomData&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt;() -&amp;gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;T&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;,  &lt;span style=&#34;color:#75715e&#34;&gt;// ä½¿ T åå˜
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;4-ç±»å‹å®‰å…¨æŠ½è±¡&#34;&gt;4. ç±»å‹å®‰å…¨æŠ½è±¡
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Token&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;T&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    _private: &lt;span style=&#34;color:#a6e22e&#34;&gt;PhantomData&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;T&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;,  &lt;span style=&#34;color:#75715e&#34;&gt;// åˆ›å»ºç±»å‹çº§åˆ«çš„æ ‡è®°
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;æ€»ç»“&#34;&gt;æ€»ç»“
&lt;/h4&gt;&lt;p&gt;&lt;code&gt;PhantomData&lt;/code&gt;æ˜¯Rustç±»å‹ç³»ç»Ÿä¸­ä¸€ä¸ªå¼ºå¤§å·¥å…·ï¼Œå®ƒå…è®¸åœ¨ä¸å®é™…å­˜å‚¨å€¼çš„æƒ…å†µä¸‹ï¼Œè¡¨è¾¾ç±»å‹ä¹‹é—´çš„å…³ç³»å’Œçº¦æŸã€‚&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Taské˜…è¯»æ‰‹è®°</title>
        <link>http://localhost:1313/rust/tokio/task%E9%98%85%E8%AF%BB%E6%89%8B%E8%AE%B0/</link>
        <pubDate>Wed, 17 Sep 2025 10:00:38 +0800</pubDate>
        
        <guid>http://localhost:1313/rust/tokio/task%E9%98%85%E8%AF%BB%E6%89%8B%E8%AE%B0/</guid>
        <description>&lt;h4 id=&#34;errorrs&#34;&gt;error.rs
&lt;/h4&gt;&lt;h5 id=&#34;ä¸»è¦ç»“æ„&#34;&gt;ä¸»è¦ç»“æ„
&lt;/h5&gt;&lt;p&gt;&lt;strong&gt;JoinError&lt;/strong&gt;ï¼šè¡¨ç¤ºä»»åŠ¡æ‰§è¡Œå¤±è´¥çš„é”™è¯¯ç±»å‹ï¼ŒåŒ…å«&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;repr&lt;/code&gt;:é”™è¯¯çš„å…·ä½“è¡¨ç¤º&lt;/li&gt;
&lt;li&gt;&lt;code&gt;id&lt;/code&gt;:ä»»åŠ¡çš„å”¯ä¸€æ ‡è¯†ç¬¦&lt;/li&gt;
&lt;li&gt;ä¸º&lt;code&gt;io::Error&lt;/code&gt;å®ç°äº†&lt;code&gt;From&amp;lt;JoinError&amp;gt;&lt;/code&gt;ï¼Œæ–¹ä¾¿ç±»å‹è½¬æ¢ï¼Œæå‡å…¼å®¹æ€§&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Repr&lt;/strong&gt;æšä¸¾ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Canceled&lt;/code&gt;ï¼šè¡¨ç¤ºä»»åŠ¡è¢«å–æ¶ˆ&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Panic&lt;/code&gt;:è¡¨ç¤ºä»»åŠ¡å› panicè€Œç»ˆæ­¢ï¼ŒåŒ…å«panicä¿¡æ¯&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;joinrs&#34;&gt;join.rs
&lt;/h4&gt;&lt;p&gt;å®ç°äº†Tokioå¼‚æ­¥è¿è¡Œæ—¶ä¸­çš„&lt;code&gt;JoinHandle&lt;/code&gt;ç±»å‹ï¼Œè¿™æ˜¯tokioä»»åŠ¡ç³»ç»Ÿçš„æ ¸å¿ƒç»„ä»¶ä¹‹ä¸€ã€‚&lt;/p&gt;
&lt;h5 id=&#34;æ ¸å¿ƒåŠŸèƒ½&#34;&gt;æ ¸å¿ƒåŠŸèƒ½
&lt;/h5&gt;&lt;p&gt;&lt;code&gt;JoinHandle&amp;lt;T&amp;gt;&lt;/code&gt;æ˜¯ä¸€ä¸ªè¡¨ç¤ºå¼‚æ­¥ä»»åŠ¡æ‰§è¡Œç»“æœçš„å¥æŸ„ï¼Œä¸»è¦åŠŸèƒ½åŒ…æ‹¬ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä»»åŠ¡ç»“æœè·å–ï¼šé€šè¿‡&lt;code&gt;await&lt;/code&gt;è·å–ä»»åŠ¡çš„æ‰§è¡Œç»“æœ&lt;/li&gt;
&lt;li&gt;ä»»åŠ¡å–æ¶ˆï¼šå¯ä»¥å–æ¶ˆæ­£åœ¨è¿è¡Œçš„ä»»åŠ¡&lt;/li&gt;
&lt;li&gt;ä»»åŠ¡çŠ¶æ€æŸ¥è¯¢ï¼šæ£€æŸ¥ä»»åŠ¡æ˜¯å¦å·²å®Œæˆ&lt;/li&gt;
&lt;li&gt;ä»»åŠ¡IDè·å–ï¼šè·å–ä»»åŠ¡çš„å”¯ä¸€æ ‡è¯†ç¬¦&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;code&gt;Future&lt;/code&gt;å®ç°&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å…è®¸ç›´æ¥&lt;code&gt;await&lt;/code&gt; &lt;code&gt;JoinHandle&lt;/code&gt;æ¥ç­‰å¾…ä»»åŠ¡å®Œæˆ&lt;/li&gt;
&lt;li&gt;è¿”å›&lt;code&gt;Result&amp;lt;T, JoinError&amp;gt;&lt;/code&gt;ï¼Œå…¶ä¸­&lt;code&gt;T&lt;/code&gt;æ˜¯ä»»åŠ¡çš„è¿”å›ç±»å‹&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸å…¶ä»–ç»„ä»¶çš„äº¤äº’&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸&lt;code&gt;RwaTask&lt;/code&gt;äº¤äº’æ¥ç®¡ç†ä»»åŠ¡çš„çŠ¶æ€&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨&lt;code&gt;Header&lt;/code&gt;æ¥è®¿é—®ä»»åŠ¡çš„å…ƒæ•°æ®&lt;/li&gt;
&lt;li&gt;ä¸è¿è¡Œæ—¶è°ƒåº¦å™¨åä½œæ¥æ‰§è¡Œä»»åŠ¡&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;corers&#34;&gt;core.rs
&lt;/h4&gt;&lt;p&gt;&lt;code&gt;core.rs&lt;/code&gt;æ˜¯Tokioä»»åŠ¡ç³»ç»Ÿçš„æ ¸å¿ƒå®ç°æ–‡ä»¶ï¼Œå®šä¹‰äº†ä»»åŠ¡çš„æ ¸å¿ƒæ•°æ®ç»“æ„å’Œåº•å±‚æ“ä½œã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Cell&amp;lt;T, S&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;crate&lt;/span&gt;) &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Cell&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;T: &lt;span style=&#34;color:#a6e22e&#34;&gt;Future&lt;/span&gt;, S: &amp;#39;static&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;/// Header field
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;super&lt;/span&gt;) header: &lt;span style=&#34;color:#a6e22e&#34;&gt;Header&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;/// Scheduler-specific data
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;super&lt;/span&gt;) scheduler: &lt;span style=&#34;color:#a6e22e&#34;&gt;UnsafeCell&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Option&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;S&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;/// Either the future or output, depending on the execution stage.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;super&lt;/span&gt;) stage: &lt;span style=&#34;color:#a6e22e&#34;&gt;CoreStage&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;T&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;ä»»åŠ¡çš„åŸºæœ¬å†…å­˜å¸ƒå±€&lt;/li&gt;
&lt;li&gt;åŒ…å«ä»»åŠ¡å¤´ã€è°ƒåº¦å™¨å’Œä»»åŠ¡é˜¶æ®µä¿¡æ¯&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨&lt;code&gt;UnsafeCell&lt;/code&gt;å®ç°å†…éƒ¨å¯å˜æ€§&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;Header&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;crate&lt;/span&gt;) &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Header&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;super&lt;/span&gt;) state: &lt;span style=&#34;color:#a6e22e&#34;&gt;State&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;super&lt;/span&gt;) vtable: &lt;span style=&#34;color:#66d9ef&#34;&gt;&amp;amp;&lt;/span&gt;&amp;#39;static &lt;span style=&#34;color:#a6e22e&#34;&gt;Vtable&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;super&lt;/span&gt;) owner_id: &lt;span style=&#34;color:#a6e22e&#34;&gt;UnsafeCell&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Option&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;NonZeroU64&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;super&lt;/span&gt;) next_atomic: &lt;span style=&#34;color:#a6e22e&#34;&gt;UnsafeCell&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Option&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;NonNull&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Header&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;super&lt;/span&gt;) vtable_padding: &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt; (),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;#[cfg(tokio_unstable)]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;crate&lt;/span&gt;) id: &lt;span style=&#34;color:#a6e22e&#34;&gt;Id&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;#[cfg(not(tokio_unstable))]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;super&lt;/span&gt;) id: &lt;span style=&#34;color:#a6e22e&#34;&gt;Id&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// ...
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;ä»»åŠ¡å¤´ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;åŒ…å«ä»»åŠ¡çŠ¶æ€ã€è™šå‡½æ•°è¡¨ã€æ‰€æœ‰è€…IDç­‰&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨&lt;code&gt;UnsafeCell&lt;/code&gt;å®ç°çº¿ç¨‹å®‰å…¨&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;Core&amp;lt;T, S&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;super&lt;/span&gt;) &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Core&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;T: &lt;span style=&#34;color:#a6e22e&#34;&gt;Future&lt;/span&gt;, S: &amp;#39;static&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;super&lt;/span&gt;) stage: &lt;span style=&#34;color:#a6e22e&#34;&gt;CoreStage&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;T&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;super&lt;/span&gt;) scheduler: &lt;span style=&#34;color:#a6e22e&#34;&gt;UnsafeCell&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Option&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;S&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;super&lt;/span&gt;) task_id: &lt;span style=&#34;color:#a6e22e&#34;&gt;Id&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// ...
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;ä»»åŠ¡æ ¸å¿ƒé€»è¾‘&lt;/li&gt;
&lt;li&gt;ç®¡ç†ä»»åŠ¡æ‰§è¡Œé˜¶æ®µå’Œè°ƒåº¦å™¨&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;ä»»åŠ¡ç”Ÿå‘½å‘¨æœŸç®¡ç†&#34;&gt;ä»»åŠ¡ç”Ÿå‘½å‘¨æœŸç®¡ç†
&lt;/h5&gt;&lt;p&gt;&lt;strong&gt;ä»»åŠ¡é˜¶æ®µ&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;enum&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Stage&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;T&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    Running(T),      &lt;span style=&#34;color:#75715e&#34;&gt;// ä»»åŠ¡æ­£åœ¨æ‰§è¡Œ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    Finished(&lt;span style=&#34;color:#66d9ef&#34;&gt;super&lt;/span&gt;::Result&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;T::Output&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;),  &lt;span style=&#34;color:#75715e&#34;&gt;// ä»»åŠ¡å·²å®Œæˆ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    Consumed,        &lt;span style=&#34;color:#75715e&#34;&gt;// ä»»åŠ¡ç»“æœå·²è¢«æ¶ˆè´¹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;ä»»åŠ¡è½®è¯¢&#34;&gt;ä»»åŠ¡è½®è¯¢
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;super&lt;/span&gt;) &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;poll&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;self, &lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; cx: &lt;span style=&#34;color:#a6e22e&#34;&gt;Context&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&amp;#39;_&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;) -&amp;gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Poll&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;T::Output&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; res &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    self.stage.stage.with_mut(&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt;ptr&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#75715e&#34;&gt;// è·å–ä»»åŠ¡é˜¶æ®µçš„å¯å˜å¼•ç”¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;      &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; future &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;match&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;unsafe&lt;/span&gt; { &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;ptr } {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        Stage::Running(future) &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; future,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        _ &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;unreachable!&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;unexpected stage&amp;#34;&lt;/span&gt;),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      };
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#75715e&#34;&gt;// è½®è¯¢future
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;      &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; future &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;unsafe&lt;/span&gt; { Pin::new_unchecked(future) };
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; _guard &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; TaskIdGuard::enter(self.task_id);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      future.poll(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; cx)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    })
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  };
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;//æ¸…ç†å·¥ä½œ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; res.is_ready() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    self.drop_future_or_output();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  res
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä»»åŠ¡è¾“å‡ºç®¡ç†&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// å­˜å‚¨ä»»åŠ¡è¾“å‡º
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;super&lt;/span&gt;) &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;store_output&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;self, output: &lt;span style=&#34;color:#a6e22e&#34;&gt;super&lt;/span&gt;::Result&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;T::Output&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;unsafe&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    self.set_stage(Stage::Finished(output));
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// è·å–ä»»åŠ¡è¾“å‡º
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;super&lt;/span&gt;) &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;take_output&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;self) -&amp;gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;super&lt;/span&gt;::Result&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;T::Output&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;use&lt;/span&gt; std::mem;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  self.stage.stage.with_mut(&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt;ptr&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// Safety:: the caller ensures mutual exclusion to the field.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;match&lt;/span&gt; mem::replace(&lt;span style=&#34;color:#66d9ef&#34;&gt;unsafe&lt;/span&gt; { &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;ptr }, Stage::Consumed) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      Stage::Finished(output) &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; output,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      _ &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;panic!&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;JoinHandle polled after completion&amp;#34;&lt;/span&gt;),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  })
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å†…å­˜å¸ƒå±€ä¼˜åŒ–&lt;/p&gt;
&lt;p&gt;æ–‡ä»¶å¼€å¤´çš„æ³¨é‡Šè¯¦ç»†è¯´æ˜äº†ä¸åŒæ¶æ„ä¸‹çš„ç¼“å­˜è¡Œå¤§å°ä¼˜åŒ–:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#[cfg_attr(
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;    any(
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;        target_arch = &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;x86_64&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;        target_arch = &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;aarch64&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;        target_arch = &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;powerpc64&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;    ),
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;    repr(align(128))  // 128å­—èŠ‚å¯¹é½
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;)]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä»»åŠ¡IDç®¡ç†&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;/// åœ¨æ‰§è¡Œæˆ–åˆ é™¤ future æ—¶è®¾ç½®å’Œæ¸…é™¤ä¸Šä¸‹æ–‡ä¸­çš„ä»»åŠ¡ ID
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;crate&lt;/span&gt;) &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;TaskIdGuard&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    parent_task_id: Option&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Id&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;impl&lt;/span&gt; TaskIdGuard {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;enter&lt;/span&gt;(id: &lt;span style=&#34;color:#a6e22e&#34;&gt;Id&lt;/span&gt;) -&amp;gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Self&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        TaskIdGuard {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            parent_task_id: &lt;span style=&#34;color:#a6e22e&#34;&gt;context&lt;/span&gt;::set_current_task_id(Some(id)),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;impl&lt;/span&gt; Drop &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; TaskIdGuard {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;drop&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; self) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        context::set_current_task_id(self.parent_task_id);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;abortrs&#34;&gt;abort.rs
&lt;/h4&gt;&lt;p&gt;å®ç°äº†&lt;code&gt;AbortHandle&lt;/code&gt;ç±»å‹ï¼Œè¿™æ˜¯Tokioä»»åŠ¡ç³»ç»Ÿä¸­ç”¨äºå–æ¶ˆä»»åŠ¡çš„æ ¸å¿ƒç»„ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;AbortHandle&lt;/code&gt;æä¾›äº†ä»¥ä¸‹ä¸»è¦åŠŸèƒ½ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä»»åŠ¡å–æ¶ˆï¼šå…è®¸å¤–éƒ¨å–æ¶ˆæ­£åœ¨è¿è¡Œçš„å¼‚æ­¥ä»»åŠ¡&lt;/li&gt;
&lt;li&gt;ä»»åŠ¡çŠ¶æ€æŸ¥è¯¢ï¼šæ£€æŸ¥ä»»åŠ¡æ˜¯å¦å·²å®Œæˆ&lt;/li&gt;
&lt;li&gt;ä»»åŠ¡æ ‡è¯†ï¼šè·å–ä»»åŠ¡çš„å”¯ä¸€æ ‡è¯†ç¬¦&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;AbortHandle&lt;/code&gt;æ˜¯ä¸€ä¸ªå…¸å‹çš„æ‰€æœ‰æƒä»£ç†æ¨¡å¼ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;è½»é‡çº§å¥æŸ„ï¼šåªåŒ…å«å¿…è¦çš„ä¿¡æ¯æ¥å¼•ç”¨ä»»åŠ¡&lt;/li&gt;
&lt;li&gt;å¼•ç”¨è®¡æ•°ï¼šä½¿ç”¨&lt;code&gt;Arc&lt;/code&gt;é£æ ¼çš„å¼•ç”¨è®¡æ•°ç®¡ç†ç”Ÿå‘½å‘¨æœŸ&lt;/li&gt;
&lt;li&gt;çº¿ç¨‹å®‰å…¨ï¼šå†…éƒ¨ä½¿ç”¨åŸå­æ“ä½œä¿è¯çº¿ç¨‹å®‰å…¨&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å¼•ç”¨è®¡æ•°çš„å®ç°&lt;/p&gt;
&lt;p&gt;å¼•ç”¨è®¡æ•°å¢åŠ (Cloneå®ç°)&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;impl&lt;/span&gt; Clone &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; AbortHandle {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;clone&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;self) -&amp;gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Self&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// 1. å¢åŠ å¼•ç”¨è®¡æ•°
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        self.raw.ref_inc();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// 2. åˆ›å»ºæ–°å®ä¾‹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        Self::new(self.raw)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¼•ç”¨è®¡æ•°å‡å°‘(Dropè¡¨ç°)&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;impl&lt;/span&gt; Drop &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; AbortHandle {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;drop&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; self) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// å‡å°‘å¼•ç”¨è®¡æ•°
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        self.raw.drop_abort_handle();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;RawTask&lt;/code&gt;å†…éƒ¨å®ç°äº†å¼•ç”¨è®¡æ•°é€»è¾‘&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// ä¼ªä»£ç ï¼Œå±•ç¤º RawTask å†…éƒ¨å®ç°
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;RawTask&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ptr: &lt;span style=&#34;color:#a6e22e&#34;&gt;NonNull&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Header&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;impl&lt;/span&gt; RawTask {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// å¢åŠ å¼•ç”¨è®¡æ•°
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;crate&lt;/span&gt;) &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;ref_inc&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;self) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// 1. è·å– Header çš„å¯å˜å¼•ç”¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// 2. åŸå­åœ°å¢åŠ å¼•ç”¨è®¡æ•°
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; ref_count &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; self.header().ref_count.fetch_add(&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, Ordering::Relaxed);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// é˜²æ­¢å¼•ç”¨è®¡æ•°æº¢å‡º
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; ref_count &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;MAX_REF_COUNT&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            std::process::abort();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// å‡å°‘å¼•ç”¨è®¡æ•°
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;crate&lt;/span&gt;) &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;drop_abort_handle&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;self) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// 1. åŸå­åœ°å‡å°‘å¼•ç”¨è®¡æ•°
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; ref_count &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; self.header().ref_count.fetch_sub(&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, Ordering::Release);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// 2. å¦‚æœè¿™æ˜¯æœ€åä¸€ä¸ªå¼•ç”¨ï¼Œæ‰§è¡Œæ¸…ç†
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; ref_count &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// ç¡®ä¿æ‰€æœ‰å…ˆå‰çš„å†™æ“ä½œå¯¹å…¶ä»–çº¿ç¨‹å¯è§
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            std::sync::atomic::fence(Ordering::Acquire);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// é‡Šæ”¾èµ„æº
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            self.free();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// è·å– Header çš„å¼•ç”¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;header&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;self) -&amp;gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;Header&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;unsafe&lt;/span&gt; { &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;*&lt;/span&gt;self.ptr.as_ptr() }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;rawrs&#34;&gt;raw.rs
&lt;/h4&gt;&lt;p&gt;&lt;code&gt;raw.rs&lt;/code&gt;æ˜¯Tokioä»»åŠ¡ç³»ç»Ÿçš„æ ¸å¿ƒå®ç°æ–‡ä»¶ï¼Œå®ƒå®šä¹‰äº†åº•å±‚&lt;code&gt;RawTask&lt;/code&gt;ç±»å‹ï¼Œè´Ÿè´£ç®¡ç†ä»»åŠ¡å†…å­˜å’Œç”Ÿå‘½å‘¨æœŸã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ ¸å¿ƒç»“æ„&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;code&gt;RawTask&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;super&lt;/span&gt;) &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;RawTask&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ptr: &lt;span style=&#34;color:#a6e22e&#34;&gt;NonNull&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Header&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;è½»é‡çº§åŒ…è£…ï¼ŒåŒ…å«æŒ‡å‘ä»»åŠ¡å¤´çš„æŒ‡é’ˆ&lt;/li&gt;
&lt;li&gt;å®ç°äº†è‡ªå®šä¹‰çš„å¼•ç”¨è®¡æ•°å’Œç”Ÿå‘½å‘¨æœŸç®¡ç†&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å†…å­˜å¸ƒå±€&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;+------------------+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt;     Header       &lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;--&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;åŒ…å«çŠ¶æ€ã€è™šè¡¨ç­‰å…ƒæ•°æ®&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;+------------------+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt;   Scheduler      &lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;--&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;è°ƒåº¦å™¨ç‰¹å®šæ•°æ®&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;+------------------+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt;   Future         &lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;--&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;ç”¨æˆ·æä¾›çš„&lt;/span&gt; Future
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;+------------------+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt;   Output         &lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;--&lt;/span&gt; Future &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;çš„è¾“å‡º&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;+------------------+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt;    Trailer       &lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;--&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;å…¶ä»–å…ƒæ•°æ®ï¼ˆå¦‚&lt;/span&gt; waker&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;ï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;+------------------+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸»è¦åŠŸèƒ½&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;super&lt;/span&gt;) &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;new&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;T, S&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    task: &lt;span style=&#34;color:#a6e22e&#34;&gt;T&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    scheduler: &lt;span style=&#34;color:#a6e22e&#34;&gt;S&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    id: &lt;span style=&#34;color:#a6e22e&#34;&gt;Id&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    _spawned_at: &lt;span style=&#34;color:#a6e22e&#34;&gt;SpawnLocation&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;) -&amp;gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;RawTask&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;åˆ†é…å†…å­˜å¹¶åˆå§‹åŒ–ä»»åŠ¡&lt;/li&gt;
&lt;li&gt;è®¾ç½®åˆå§‹çŠ¶æ€å’Œè™šè¡¨&lt;/li&gt;
&lt;li&gt;è¿”å›&lt;code&gt;RawTask&lt;/code&gt;å®ä¾‹&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¼•ç”¨è®¡æ•°&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;super&lt;/span&gt;) &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;ref_inc&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;self) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; n &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; self.header().state.ref_inc();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; n &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;MAX_REF_COUNT&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// å¤„ç†æº¢å‡º
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;super&lt;/span&gt;) &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;ref_dec&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;self) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; self.header().state.ref_dec() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// æœ€åä¸€ä¸ªå¼•ç”¨è¢«ä¸¢å¼ƒ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        self.drop_reference();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å†…å­˜åˆ†é…&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; ptr &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Box::into_raw(Cell::&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;_, S&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;::new(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    task,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    scheduler,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    State::new(),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    id,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;#[cfg(tokio_unstable)]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    _spawned_at.&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;));
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å†…å­˜é‡Šæ”¾&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;unsafe&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;drop_abort_handle_slow&lt;/span&gt;(self) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// é‡Šæ”¾èµ„æº
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; ptr &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; self.ptr.as_ptr();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; _ &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Box::from_raw(ptr.cast::&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Cell&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;(), S&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt;());
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol&gt;
&lt;li&gt;ç®¡ç†ä»»åŠ¡çš„å†…å­˜å¸ƒå±€å’Œç”Ÿå‘½å‘¨æœŸ&lt;/li&gt;
&lt;li&gt;å®ç°è‡ªå®šä¹‰çš„å¼•ç”¨è®¡æ•°&lt;/li&gt;
&lt;li&gt;æä¾›ä¸è°ƒåº¦å™¨çš„é›†æˆç‚¹&lt;/li&gt;
&lt;li&gt;å¤„ç†ä»»åŠ¡çŠ¶æ€è½¬æ¢&lt;/li&gt;
&lt;li&gt;æä¾›çº¿ç¨‹å®‰å…¨çš„æ“ä½œ&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// 1. åˆ†é…å†…å­˜å¹¶åˆ›å»º Box
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; boxed &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Box::new(MyData::new());
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// 2. è½¬æ¢ä¸ºåŸå§‹æŒ‡é’ˆï¼Œæ”¾å¼ƒæ‰€æœ‰æƒ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//Â æ”¾å¼ƒæ‰€æœ‰æƒ = è®²å€¼çš„æ‰€æœ‰æƒä»Rustçš„æ‰€æœ‰æƒç³»ç»Ÿç§»é™¤
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// æ˜ç¡®æ”¾å¼ƒ Rust å¯¹è¿™å—å†…å­˜çš„æ‰€æœ‰æƒç®¡ç†
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// è°ƒç”¨è€…å¿…é¡»æ‰‹åŠ¨ç®¡ç†å†…å­˜
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; raw &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Box::into_raw(boxed);  &lt;span style=&#34;color:#75715e&#34;&gt;// ä¸ä¼šè‡ªåŠ¨é‡Šæ”¾
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// 3. ä½¿ç”¨åŸå§‹æŒ‡é’ˆ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;unsafe&lt;/span&gt; { (&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;raw).do_something() };
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// 4. æ‰‹åŠ¨é‡Šæ”¾å†…å­˜
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; _ &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;unsafe&lt;/span&gt; { Box::from_raw(raw) };  &lt;span style=&#34;color:#75715e&#34;&gt;// ææ„å¹¶é‡Šæ”¾å†…å­˜
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// æˆ–è€…æ›´å®‰å…¨åœ°ï¼š
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; _boxed &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;unsafe&lt;/span&gt; { Box::from_raw(raw) };  &lt;span style=&#34;color:#75715e&#34;&gt;// é‡æ–°è·å¾—æ‰€æœ‰æƒ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// _boxed åœ¨è¿™é‡Œè¢« dropï¼Œå†…å­˜è¢«é‡Šæ”¾
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ”¾å¼ƒæ‰€æœ‰æƒæ„å‘³ç€ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ— è‡ªåŠ¨ææ„ï¼šRustä¸ä¼šè‡ªåŠ¨è°ƒç”¨&lt;code&gt;drop&lt;/code&gt;æˆ–é‡Šæ”¾å†…å­˜&lt;/li&gt;
&lt;li&gt;å†…å­˜æ³„æ¼é£é™©ï¼šå¦‚æœå¿˜è®°æ‰‹åŠ¨é‡Šæ”¾ï¼Œä¼šå¯¼è‡´å†…å­˜æ³„æ¼&lt;/li&gt;
&lt;li&gt;å®‰å…¨æ€§è´£ä»»ï¼šè°ƒç”¨è€…å¿…é¡»ç¡®ä¿
&lt;ol&gt;
&lt;li&gt;æŒ‡é’ˆæœ‰æ•ˆï¼ˆéç©ºã€æœªé‡Šæ”¾ï¼‰&lt;/li&gt;
&lt;li&gt;æ­£ç¡®è°ƒç”¨ææ„å‡½æ•°&lt;/li&gt;
&lt;li&gt;æ­£ç¡®é‡Šæ”¾å†…å­˜&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä¸ºä»€ä¹ˆéœ€è¦æ”¾å¼ƒæ‰€æœ‰æƒï¼Ÿ&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;FFIäº¤äº’ï¼šä¸Cä»£ç äº¤äº’æ—¶éœ€è¦ä½¿ç”¨åŸå§‹æŒ‡é’ˆ&lt;/li&gt;
&lt;li&gt;è‡ªå¼•ç”¨ç»“æ„ï¼šæ„å»ºè‡ªå¼•ç”¨æˆ–å¤æ‚æ•°æ®ç»“æ„&lt;/li&gt;
&lt;li&gt;æ€§èƒ½ä¼˜åŒ–ï¼šé¿å…å¼•ç”¨è®¡æ•°çš„å¼€é”€&lt;/li&gt;
&lt;li&gt;ç”Ÿå‘½å‘¨æœŸæ‰©å±•ï¼šéœ€è¦æ¯”Rustç”Ÿå‘½å‘¨æœŸç³»ç»Ÿæ›´çµæ´»çš„ç”Ÿå‘½å‘¨æœŸç®¡ç†&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;staters&#34;&gt;state.rs
&lt;/h4&gt;&lt;p&gt;Tokio å¼‚æ­¥è¿è¡Œæ—¶ä¸­ä»»åŠ¡çŠ¶æ€ç®¡ç†çš„æ ¸å¿ƒç»„ä»¶ä¹‹ä¸€ã€‚å®ƒè´Ÿè´£ç®¡ç†å¼‚æ­¥ä»»åŠ¡çš„ç”Ÿå‘½å‘¨æœŸçŠ¶æ€ï¼Œä½¿ç”¨åŸå­æ“ä½œæ¥ç¡®ä¿çº¿ç¨‹å®‰å…¨ã€‚&lt;/p&gt;
&lt;h5 id=&#34;ä¸»è¦åŠŸèƒ½&#34;&gt;ä¸»è¦åŠŸèƒ½
&lt;/h5&gt;&lt;ol&gt;
&lt;li&gt;çŠ¶æ€ç®¡ç†
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨&lt;code&gt;State&lt;/code&gt;ç»“æ„ä½“å°è£…äº†ä¸€ä¸ªåŸå­æ•´æ•°ï¼Œè¡¨ç¤ºä»»åŠ¡çš„å½“å‰çŠ¶æ€&lt;/li&gt;
&lt;li&gt;é€šè¿‡&lt;code&gt;Snapshot&lt;/code&gt;ç±»å‹æä¾›å¯¹çŠ¶æ€çš„ä¸å¯å˜å¿«ç…§è®¿é—®&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;çŠ¶æ€è½¬æ¢
&lt;ul&gt;
&lt;li&gt;æä¾›çº¿ç¨‹å®‰å…¨çš„çŠ¶æ€è½¬æ¢æ–¹æ³•,å¦‚&lt;code&gt;transition_to_running()&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨åŸå­æ“ä½œç¡®ä¿çŠ¶æ€è½¬æ¢çš„çº¿ç¨‹å®‰å…¨æ€§&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å¼•ç”¨è®¡æ•°ï¼š
&lt;ul&gt;
&lt;li&gt;ç®¡ç†ä»»åŠ¡çš„å¼•ç”¨è®¡æ•°ï¼Œè·Ÿè¸ªä»»åŠ¡çš„æ‰€æœ‰è€…æ•°é‡&lt;/li&gt;
&lt;li&gt;å¤„ç†ä»»åŠ¡çš„åˆ›å»ºå’Œé”€æ¯&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ç”Ÿå‘½å‘¨æœŸç®¡ç†
&lt;ul&gt;
&lt;li&gt;è·Ÿè¸ªä»»åŠ¡æ˜¯å¦å®Œæˆã€æ˜¯å¦è¢«å–æ¶ˆ&lt;/li&gt;
&lt;li&gt;ç®¡ç†ä»»åŠ¡çš„é€šçŸ¥çŠ¶æ€&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h5 id=&#34;å…³é”®ç»“æ„ä½“&#34;&gt;å…³é”®ç»“æ„ä½“
&lt;/h5&gt;&lt;ol&gt;
&lt;li&gt;&lt;code&gt;State.rs&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;åŒ…å«ä¸€ä¸ª&lt;code&gt;AtomicUsize&lt;/code&gt;ï¼Œä»¥çº¿ç¨‹å®‰å…¨çš„æ–¹å¼å­˜å‚¨çŠ¶æ€&lt;/li&gt;
&lt;li&gt;æä¾›å„ç§çŠ¶æ€è½¬æ¢æ–¹æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Snapshot&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;çŠ¶æ€çš„ä¸å¯å˜å¿«ç…§&lt;/li&gt;
&lt;li&gt;æä¾›æŸ¥è¯¢æ–¹æ³•æ£€æŸ¥çŠ¶æ€&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;TransitionToRunning&lt;/code&gt;ç­‰æšä¸¾
&lt;ul&gt;
&lt;li&gt;è¡¨ç¤ºçŠ¶æ€è½¬æ¢çš„ç»“æœ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;wakerrs&#34;&gt;waker.rs
&lt;/h4&gt;&lt;p&gt;æ˜¯Tokioè¿è¡Œæ—¶ä¸­å®ç°WakeråŠŸèƒ½çš„æ ¸å¿ƒæ¨¡å—ï¼Œè´Ÿè´£å¼‚æ­¥ä»»åŠ¡çš„å”¤é†’æœºåˆ¶ã€‚ä»¥ä¸‹æ˜¯å…¶ä¸»è¦åŠŸèƒ½å’Œä½œç”¨ï¼š&lt;/p&gt;
&lt;h5 id=&#34;æ ¸å¿ƒåŠŸèƒ½-1&#34;&gt;æ ¸å¿ƒåŠŸèƒ½
&lt;/h5&gt;&lt;ol&gt;
&lt;li&gt;Wakerå®ç°ï¼š
&lt;ul&gt;
&lt;li&gt;æä¾›äº†&lt;code&gt;WakerRef&lt;/code&gt;ç»“æ„ä½“ï¼Œæ˜¯&lt;code&gt;std::task::Waker&lt;/code&gt;çš„è½»é‡çº§åŒ…è£…&lt;/li&gt;
&lt;li&gt;å®ç°äº†&lt;code&gt;Deref&lt;/code&gt;trait,ä½¿å…¶å¯ä»¥é€æ˜åœ°ä½œä¸º&lt;code&gt;Waker&lt;/code&gt;ä½¿ç”¨&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ€§èƒ½ä¼˜åŒ–
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨&lt;code&gt;ManuallyDrop&lt;/code&gt;é¿å…ä¸å¿…è¦çš„å¼•ç”¨è®¡æ•°æ“ä½œ&lt;/li&gt;
&lt;li&gt;é€šè¿‡&lt;code&gt;PhantomData&lt;/code&gt;ç¡®ä¿ç±»å‹å®‰å…¨&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;è°ƒè¯•æ”¯æŒï¼š
&lt;ul&gt;
&lt;li&gt;åœ¨å¯ç”¨&lt;code&gt;trace&lt;/code&gt;ç‰¹æ€§æ—¶ï¼Œæä¾›è¯¦ç»†çš„ä»»åŠ¡å”¤é†’æ—¥å¿—&lt;/li&gt;
&lt;li&gt;è®°å½•ä»»åŠ¡IDå’Œæ“ä½œç±»å‹ï¼Œä¾¿äºè°ƒè¯•å’Œæ€§èƒ½åˆ†æ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h5 id=&#34;å…³é”®ç»„ä»¶&#34;&gt;å…³é”®ç»„ä»¶
&lt;/h5&gt;&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;WakerRef&lt;/code&gt;ç»“æ„ä½“&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å°è£…äº†æ ‡å‡†åº“çš„&lt;code&gt;Waker&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨&lt;code&gt;PhantomData&lt;/code&gt;å…³è”è°ƒåº¦å™¨ç±»å‹&lt;code&gt;S&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Waker VTable&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å®šä¹‰äº†Wakerçš„è¡Œä¸º
&lt;ul&gt;
&lt;li&gt;clone_wakerï¼šå…‹éš†Waker&lt;/li&gt;
&lt;li&gt;drop_wakerï¼šé‡Šæ”¾Wakerèµ„æº&lt;/li&gt;
&lt;li&gt;wake_by_valï¼šæ¶ˆè´¹Wakerå¹¶å”¤é†’ä»»åŠ¡&lt;/li&gt;
&lt;li&gt;wake_by_ref:ä¸æ¶ˆè´¹Wakerçš„æƒ…å†µä¸‹å”¤é†’ä»»åŠ¡&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;raw_waker&lt;/code&gt;å‡½æ•°&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä»&lt;code&gt;Header&lt;/code&gt;åˆ›å»ºåŸå§‹Waker&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨é™æ€çš„&lt;code&gt;WAKER_VTABLE&lt;/code&gt;å®šä¹‰&lt;code&gt;Waker&lt;/code&gt;çš„è¡Œä¸º&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h5 id=&#34;åœ¨tokioçš„ä½œç”¨&#34;&gt;åœ¨Tokioçš„ä½œç”¨
&lt;/h5&gt;&lt;ol&gt;
&lt;li&gt;ä»»åŠ¡å”¤é†’
&lt;ul&gt;
&lt;li&gt;å½“å¼‚æ­¥æ“ä½œå®Œæˆæ—¶ï¼Œé€šè¿‡Wakeré€šçŸ¥æ‰§è¡Œå™¨ä»»åŠ¡å¯ä»¥ç»§ç»­æ‰§è¡Œ&lt;/li&gt;
&lt;li&gt;æ”¯æŒ&lt;code&gt;wake_by_val&lt;/code&gt;å’Œ&lt;code&gt;wake_by_ref&lt;/code&gt;ä¸¤ç§å”¤é†’æ–¹å¼&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ€§èƒ½ä¼˜åŒ–
&lt;ul&gt;
&lt;li&gt;é¿å…ä¸å¿…è¦çš„Wakerå…‹éš†&lt;/li&gt;
&lt;li&gt;å‡å°‘å¼•ç”¨è®¡æ•°æ“ä½œ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;è°ƒè¯•æ”¯æŒ
&lt;ul&gt;
&lt;li&gt;æä¾›è¯¦ç»†çš„å”¤é†’æ—¥å¿—ï¼Œå¸®åŠ©è¯Šæ–­æ­»é”å’Œæ€§èƒ½é—®é¢˜&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;harnessrs&#34;&gt;harness.rs
&lt;/h4&gt;&lt;p&gt;æ˜¯Tokioä»»åŠ¡æ‰§è¡Œçš„æ ¸å¿ƒæ¨¡å—ä¹‹ä¸€ï¼Œå®ƒå°è£…äº†ä»»åŠ¡æ‰§è¡Œçš„ç”Ÿå‘½å‘¨æœŸç®¡ç†ã€‚è¿™ä¸ªæ–‡ä»¶ä¸»è¦å¤„ç†ä»»åŠ¡çš„è½®è¯¢å’ŒçŠ¶æ€è½¬æ¢ã€‚&lt;/p&gt;
&lt;h5 id=&#34;æ ¸å¿ƒåŠŸèƒ½-2&#34;&gt;æ ¸å¿ƒåŠŸèƒ½
&lt;/h5&gt;&lt;ol&gt;
&lt;li&gt;ä»»åŠ¡è½®è¯¢ç®¡ç†
&lt;ul&gt;
&lt;li&gt;æä¾›äº†&lt;code&gt;poll_inner&lt;/code&gt;æ–¹æ³•ï¼Œè´Ÿè´£æ‰§è¡Œå¼‚æ­¥ä»»åŠ¡çš„è½®è¯¢&lt;/li&gt;
&lt;li&gt;å¤„ç†ä»»åŠ¡ä»è¿è¡ŒçŠ¶æ€åˆ°ç©ºé—²çŠ¶æ€çš„è½¬æ¢&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;çŠ¶æ€æœºè½¬æ¢
&lt;ul&gt;
&lt;li&gt;ç®¡ç†ä»»åŠ¡çŠ¶æ€çš„è½¬æ¢ï¼ŒåŒ…æ‹¬
&lt;ul&gt;
&lt;li&gt;è¿è¡Œä¸­(Running)&lt;/li&gt;
&lt;li&gt;ç©ºé—²(Idle)&lt;/li&gt;
&lt;li&gt;å®Œæˆ(Complete)&lt;/li&gt;
&lt;li&gt;å–æ¶ˆ(Cancelled)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ç”Ÿå‘½å‘¨æœŸæ§åˆ¶
&lt;ul&gt;
&lt;li&gt;å¤„ç†ä»»åŠ¡çš„åˆ›å»ºã€æ‰§è¡Œå’Œé”€æ¯&lt;/li&gt;
&lt;li&gt;ç®¡ç†ä»»åŠ¡çš„å¼•ç”¨è®¡æ•°&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h5 id=&#34;ä¸»è¦ç»„ä»¶&#34;&gt;ä¸»è¦ç»„ä»¶
&lt;/h5&gt;&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;Harness&lt;/code&gt;ç»“æ„ä½“&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å°è£…äº†ä»»åŠ¡æ‰§è¡Œæ‰€éœ€çš„æ‰€æœ‰çŠ¶æ€å’Œä¸Šä¸‹æ–‡&lt;/li&gt;
&lt;li&gt;æä¾›äº†æ“ä½œä»»åŠ¡ç”Ÿå‘½å‘¨æœŸçš„æ–¹æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;çŠ¶æ€è½¬æ¢&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;transition_to_running&lt;/code&gt;å°†ä»»åŠ¡çŠ¶æ€è®¾ç½®ä¸ºè¿è¡Œä¸­&lt;/li&gt;
&lt;li&gt;&lt;code&gt;transition_to_idle&lt;/code&gt;å°†ä»»åŠ¡çŠ¶æ€è®¾ç½®ä¸ºç©ºé—²&lt;/li&gt;
&lt;li&gt;å¤„ç†å„ç§è½¬æ¢ç»“æœï¼ˆæˆåŠŸã€é€šçŸ¥ã€å–æ¶ˆç­‰ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Wakeré›†æˆ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åˆ›å»º&lt;code&gt;waker_ref&lt;/code&gt;ç”¨äºå”¤é†’ä»»åŠ¡&lt;/li&gt;
&lt;li&gt;æ„å»º&lt;code&gt;Context&lt;/code&gt;ä¼ é€’ç»™futureçš„&lt;code&gt;poll&lt;/code&gt;æ–¹æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä»»åŠ¡è°ƒåº¦ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä½œä¸ºä»»åŠ¡è°ƒåº¦çš„æ ¸å¿ƒç»„ä»¶&lt;/li&gt;
&lt;li&gt;ä¸è°ƒåº¦å™¨ååŒå·¥ä½œï¼Œç®¡ç†ä»»åŠ¡çš„è¿è¡Œ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
</description>
        </item>
        <item>
        <title>Weekly Learning Log - 2025-09-14</title>
        <link>http://localhost:1313/learning-reflection/2025-09-14-weekly/</link>
        <pubDate>Sun, 14 Sep 2025 13:31:08 +0800</pubDate>
        
        <guid>http://localhost:1313/learning-reflection/2025-09-14-weekly/</guid>
        <description>&lt;h3 id=&#34;what-i-learned&#34;&gt;What I Learned
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;tokioé¡¹ç›®å­¦ä¹ 
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;runtime/timeæ¨¡å—å­¦ä¹ ï¼Œæ—¶é—´è½®ç®—æ³•çš„å­¦ä¹ &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ThreadIdç±»çš„å­¦ä¹ &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æŒæ¡äº†åŸå­ç±»ä¸ä»…æœ‰åŸå­æ€§ï¼Œè¿˜æœ‰å†…å­˜é¡ºåºæ§åˆ¶çš„åŠŸèƒ½&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä½¿ç”¨&lt;code&gt;Mutex&lt;/code&gt;ã€&lt;code&gt;Condvar&lt;/code&gt;å’Œ&lt;code&gt;AtomicUsize&lt;/code&gt;å®ç°çº¿ç¨‹çš„æŒ‚èµ·ä¸å”¤é†’&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;çº¿ç¨‹&lt;/strong&gt;çš„æŒ‚èµ·å’Œ&lt;strong&gt;ä»»åŠ¡&lt;/strong&gt;çš„æŒ‚èµ·ï¼Œæœ‰äº›æ—¶å€™ä¸ä»…è¦äº†è§£åŠŸèƒ½ï¼Œè¿˜è¦æŒæ¡åŠŸèƒ½çš„ä¸»è¯­&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å‡ ç§ä¸åŒçš„Handleï¼Œä½“ç°äº†å…³æ³¨ç‚¹çš„åˆ†ç¦»&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Runtimeçš„Handleï¼Œä¾›å¼€å‘è€…è°ƒç”¨&lt;/li&gt;
&lt;li&gt;Schedulerçš„Handle&lt;/li&gt;
&lt;li&gt;IoHandle&lt;/li&gt;
&lt;li&gt;TimeHandle&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;examplesçš„å­¦ä¹ ï¼Œç†Ÿæ‚‰tokioçš„ä½¿ç”¨&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å®šæ—¶å™¨çš„ç»“æ„ä½“è¡¨ç¤º&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;challenges--solutions&#34;&gt;Challenges &amp;amp; Solutions
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;å¯¹tokioçš„ç†è§£ä¸å¤Ÿæ·±å…¥ï¼Œè¿˜åœ¨è¡¨é¢&lt;/li&gt;
&lt;li&gt;ç›®å‰çœ‹åˆ°çš„Wakeréƒ½æ˜¯wakeçº¿ç¨‹ï¼Œå¦‚ä½•å®ç°wakeçš„taskè¿˜ä¸ç†è§£&lt;/li&gt;
&lt;li&gt;stdåº“çš„å­¦ä¹ æ²¡æœ‰ç»§ç»­&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;this-weeks-win&#34;&gt;This Week&amp;rsquo;s Win
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;çº¿ç¨‹æŒ‚èµ·ä¸å”¤é†’çš„å®ç°&lt;/li&gt;
&lt;li&gt;å¯¹é—­åŒ…æˆ–Callbackçš„å…·ä½“åŒ–ç†è§£ï¼š&lt;strong&gt;Callbackä¼ é€’çš„æ˜¯æ“ä½œæˆ–é€»è¾‘ï¼Œæ™®é€šå‚æ•°æ˜¯ä¼ é€’æ•°æ®&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;å®ç°äº†ç®€å•çš„fdå‘½ä»¤&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;next-week-focus&#34;&gt;Next Week Focus
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;å­¦ä¹ æ—¶é•¿:&lt;/strong&gt;
&lt;strong&gt;å®Œæˆä»»åŠ¡:&lt;/strong&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>å¯¹Callbackçš„ç†è§£</title>
        <link>http://localhost:1313/rust/%E5%AF%B9callback%E7%9A%84%E7%90%86%E8%A7%A3/</link>
        <pubDate>Fri, 12 Sep 2025 03:02:50 +0800</pubDate>
        
        <guid>http://localhost:1313/rust/%E5%AF%B9callback%E7%9A%84%E7%90%86%E8%A7%A3/</guid>
        <description>&lt;p&gt;ä¸ªäººç†è§£ï¼šå›è°ƒçš„æœ¬è´¨å°±æ˜¯å°†å‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’ï¼Œè€Œå‡½æ•° è¿‘ä¼¼ &lt;strong&gt;æ“ä½œ&lt;/strong&gt;ã€‚æ‰€ä»¥, æœ‰åˆ«äºæ™®é€šå‚æ•°ä¼ é€’çš„æ˜¯&lt;strong&gt;æ•°æ®&lt;/strong&gt;ï¼Œ&lt;code&gt;Callback&lt;/code&gt;ä¼ é€’çš„æ˜¯&lt;strong&gt;æ“ä½œ&lt;/strong&gt;æˆ–&lt;strong&gt;é€»è¾‘&lt;/strong&gt;&lt;/p&gt;
&lt;h4 id=&#34;ä¼˜åŠ¿&#34;&gt;ä¼˜åŠ¿
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;è§£è€¦&lt;/strong&gt;: å®Œæˆé€»è¾‘çš„åˆ†ç¦»,è¦&lt;strong&gt;åšä»€ä¹ˆ(è°ƒç”¨è€…)&lt;strong&gt;ä¸&lt;/strong&gt;ä½•æ—¶åšåˆ†ç¦»(è¢«è°ƒç”¨è€…)&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å†…å­˜é«˜æ•ˆ&lt;/strong&gt;ï¼šé¿å…ä¸€æ¬¡æ€§åŠ è½½æ‰€æœ‰æ•°æ®åˆ°å†…å­˜ï¼Œç‰¹åˆ«é€‚åˆå¤„ç†æµå¼æ•°æ®æˆ–å¤§é‡æ•°æ®(ä¾‹å¦‚é¿å…æ”¾åˆ°é›†åˆåœ¨éå†)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;çµæ´»æ€§&lt;/strong&gt;ï¼šå…è®¸è°ƒç”¨è€…è‡ªå®šä¹‰å¤„ç†é€»è¾‘ï¼Œæé«˜ä»£ç å¤ç”¨æ€§&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å®æ—¶å¤„ç†&lt;/strong&gt;ï¼šæ•°æ®å¯ä»¥ç«‹å³å¤„ç†ï¼Œé™ä½å»¶è¿Ÿ&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;èµ„æºæ§åˆ¶&lt;/strong&gt;ï¼šå¯ä»¥è½»æ¾å®ç°æå‰ç»ˆæ­¢ã€é”™è¯¯å¤„ç†ç­‰æ§åˆ¶æµ&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç»„åˆæ€§&lt;/strong&gt;ï¼šå¯ä»¥æ–¹ä¾¿åœ°ç»„åˆå¤šä¸ªå›è°ƒå‡½æ•°ï¼Œå®ç°å¤æ‚çš„æ•°æ®å¤„ç†ç®¡é“&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;äº‹ä»¶é©±åŠ¨&lt;/strong&gt;ï¼šå¤©ç„¶é€‚åˆäº‹ä»¶é©±åŠ¨çš„ç¼–ç¨‹æ¨¡å¼&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ¥å£ä¸€è‡´æ€§&lt;/strong&gt;ï¼šæä¾›ç»Ÿä¸€çš„æ¥å£å¤„ç†ä¸åŒç±»å‹çš„æ“ä½œ&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;æ§åˆ¶åè½¬&#34;&gt;æ§åˆ¶åè½¬
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;æ™®é€šå‡½æ•°è°ƒç”¨ï¼šè°ƒç”¨è€…æ§åˆ¶æ‰§è¡Œæµç¨‹&lt;/li&gt;
&lt;li&gt;å›è°ƒï¼šè¢«è°ƒç”¨è€…å†³å®šä½•æ—¶æ‰§è¡Œæ“ä½œ&lt;/li&gt;
&lt;li&gt;æ§åˆ¶æƒä»è°ƒç”¨è€…è½¬ç§»åˆ°è¢«è°ƒç”¨è€…&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>å„ç±»Handleä¹‹èŒè´£åŒºåˆ†</title>
        <link>http://localhost:1313/rust/tokio/%E5%90%84%E7%B1%BBhandle%E4%B9%8B%E8%81%8C%E8%B4%A3%E5%8C%BA%E5%88%86/</link>
        <pubDate>Fri, 12 Sep 2025 02:39:18 +0800</pubDate>
        
        <guid>http://localhost:1313/rust/tokio/%E5%90%84%E7%B1%BBhandle%E4%B9%8B%E8%81%8C%E8%B4%A3%E5%8C%BA%E5%88%86/</guid>
        <description>&lt;p&gt;Tokioä¸­çš„Handleæœ‰å¾ˆå¤šï¼Œå®ƒä»¬å„è‡ªè´Ÿè´£ä¸åŒçš„åŠŸèƒ½æ¨¡å—ã€‚&lt;/p&gt;
&lt;h4 id=&#34;1-runtimehandle&#34;&gt;1. runtime::Handle
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;runtimeçš„é¡¶å±‚å¥æŸ„&lt;/li&gt;
&lt;li&gt;æä¾›åˆ›å»ºä»»åŠ¡ã€è¿›å…¥è¿è¡Œæ—¶ä¸Šä¸‹æ–‡çš„èƒ½åŠ›&lt;/li&gt;
&lt;li&gt;åŒ…å«å…¶ä»–å­ç³»ç»Ÿçš„å¥æŸ„&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;2-timehandle&#34;&gt;2. time::Handle
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;æ—¶é—´å­ç³»ç»Ÿçš„å…¥å£&lt;/li&gt;
&lt;li&gt;ç®¡ç†å®šæ—¶å™¨å’Œæ—¶é—´ç›¸å…³çš„æ“ä½œ&lt;/li&gt;
&lt;li&gt;å†…éƒ¨æŒæœ‰&lt;code&gt;scheduler::Handle&lt;/code&gt;æ¥å”¤é†’ä»»åŠ¡&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;3-schedulerhandle&#34;&gt;3. scheduler::Handle
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;ä»»åŠ¡è°ƒåº¦çš„æ ¸å¿ƒå¥æŸ„&lt;/li&gt;
&lt;li&gt;è´Ÿè´£ä»»åŠ¡çš„æäº¤å’Œå”¤é†’&lt;/li&gt;
&lt;li&gt;è¢«å…¶ä»–Handleç”¨æ¥ä¸è°ƒåº¦å™¨äº¤äº’&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;4iostack--iohandle&#34;&gt;4.IoStack / IoHandle
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;I/Oå­ç³»ç»Ÿçš„å¥æŸ„&lt;/li&gt;
&lt;li&gt;ç®¡ç†I/Oèµ„æºå’Œäº‹ä»¶äº¤äº’&lt;/li&gt;
&lt;li&gt;ä¸æ“ä½œç³»ç»ŸI/OåŸè¯­äº¤äº’&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;å¼•ç”¨å…³ç³»&#34;&gt;å¼•ç”¨å…³ç³»
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;runtime::Handle
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â”œâ”€â”€&lt;/span&gt; time::Handle
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â”‚&lt;/span&gt;     &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â””â”€â”€&lt;/span&gt; scheduler::Handle
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â”œâ”€â”€&lt;/span&gt; scheduler::Handle
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â””â”€â”€&lt;/span&gt; IoStack
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â””â”€â”€&lt;/span&gt; IoHandle
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;è®¾è®¡ç›®çš„&#34;&gt;è®¾è®¡ç›®çš„
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;å…³æ³¨ç‚¹åˆ†ç¦»ï¼šæ¯ä¸ªHandleåªå…³æ³¨è‡ªå·±çš„é¢†åŸŸ&lt;/li&gt;
&lt;li&gt;ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼šé€šè¿‡Arcå…±äº«æ‰€æœ‰æƒ&lt;/li&gt;
&lt;li&gt;çº¿ç¨‹å®‰å…¨ï¼šå†…éƒ¨ä½¿ç”¨é”æˆ–åŸå­æ“ä½œ&lt;/li&gt;
&lt;li&gt;çµæ´»æ€§ï¼šå¯ä»¥å•ç‹¬ä½¿ç”¨æˆ–ç»„åˆä½¿ç”¨&lt;/li&gt;
&lt;/ol&gt;
</description>
        </item>
        <item>
        <title>æ—¶é—´è½®ç®—æ³•</title>
        <link>http://localhost:1313/rust/tokio/%E6%97%B6%E9%97%B4%E8%BD%AE%E7%AE%97%E6%B3%95/</link>
        <pubDate>Thu, 11 Sep 2025 21:51:21 +0800</pubDate>
        
        <guid>http://localhost:1313/rust/tokio/%E6%97%B6%E9%97%B4%E8%BD%AE%E7%AE%97%E6%B3%95/</guid>
        <description>&lt;p&gt;æ—¶é—´è½®(Time Wheel)æ˜¯Tokioå®šæ—¶å™¨å®ç°çš„æ ¸å¿ƒç®—æ³•ï¼Œå®ƒé€šè¿‡åˆ†å±‚çš„æ–¹å¼é«˜æ•ˆç®¡ç†å¤§é‡å®šæ—¶å™¨ã€‚&lt;/p&gt;
&lt;h3 id=&#34;1-åŸºæœ¬æ¦‚å¿µ&#34;&gt;1. åŸºæœ¬æ¦‚å¿µ
&lt;/h3&gt;&lt;h4 id=&#34;11-wheelç»“æ„ä¸å±‚çº§å…³ç³»&#34;&gt;1.1 Wheelç»“æ„ä¸å±‚çº§å…³ç³»
&lt;/h4&gt;&lt;h5 id=&#34;111-æ—¶é—´è½®ç»“æ„&#34;&gt;1.1.1 æ—¶é—´è½®ç»“æ„
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;crate&lt;/span&gt;) &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Wheel&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#e6db74&#34;&gt;///å½“å‰æ—¶é—´è½®å·²è¿‡å»çš„æ—¶é—´
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&lt;/span&gt;  elapsed: &lt;span style=&#34;color:#66d9ef&#34;&gt;u64&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#e6db74&#34;&gt;///æ—¶é—´è½®çš„åˆ†å±‚
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&lt;/span&gt;  levels: Box&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;[Level; &lt;span style=&#34;color:#66d9ef&#34;&gt;NUM_LEVELS&lt;/span&gt;]&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#e6db74&#34;&gt;///Entries queued for firing
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&lt;/span&gt;  pending: &lt;span style=&#34;color:#a6e22e&#34;&gt;EntryList&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;112-å±‚çº§&#34;&gt;1.1.2 å±‚çº§
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Level&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  slot: [EntryList; &lt;span style=&#34;color:#66d9ef&#34;&gt;LEVEL_MULT&lt;/span&gt;],		&lt;span style=&#34;color:#75715e&#34;&gt;//æ§½ä½æ•°ç»„
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;  level: &lt;span style=&#34;color:#66d9ef&#34;&gt;usize&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  occupied: &lt;span style=&#34;color:#66d9ef&#34;&gt;u64&lt;/span&gt;,										&lt;span style=&#34;color:#75715e&#34;&gt;// bit fieldæŒ‡ç¤ºslotæ˜¯å¦å ç”¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;113-æ§½ä½&#34;&gt;1.1.3 æ§½ä½
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Slot&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  head: Option&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;NonNull&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;TimerShared&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;12-åˆ†å±‚è®¾è®¡&#34;&gt;1.2 åˆ†å±‚è®¾è®¡
&lt;/h4&gt;&lt;p&gt;Tokioä½¿ç”¨å¤šçº§æ—¶é—´è½®ï¼ˆé€šå¸¸ä¸º6çº§ï¼‰ï¼Œæ¯çº§åŒ…å«å›ºå®šæ•°é‡çš„æ§½ä½ï¼Œæ¯çº§åŒ…å«å›ºå®šæ•°é‡çš„æ§½ä½(slots)ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç¬¬0çº§ï¼š64ä¸ªæ§½ä½ï¼Œæ¯ä¸ª64^0æ¯«ç§’&lt;/li&gt;
&lt;li&gt;ç¬¬1çº§ï¼š64ä¸ªæ§½ä½ï¼Œæ¯ä¸ª64^1æ¯«ç§’&lt;/li&gt;
&lt;li&gt;ç¬¬2çº§ï¼š32ä¸ªæ§½ä½ï¼Œæ¯ä¸ª64^2æ¯«ç§’&lt;/li&gt;
&lt;li&gt;ç¬¬3çº§ï¼š32ä¸ªæ§½ä½ï¼Œæ¯ä¸ª64^3æ¯«ç§’&lt;/li&gt;
&lt;li&gt;ç¬¬4çº§ï¼š32ä¸ªæ§½ä½ï¼Œæ¯ä¸ª64^4æ¯«ç§’&lt;/li&gt;
&lt;li&gt;ç¬¬5çº§ï¼š32ä¸ªæ§½ä½ï¼Œæ¯ä¸ª64^5æ¯«ç§’&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;æ—¶é—´è½®çš„å·¥ä½œæµç¨‹&#34;&gt;æ—¶é—´è½®çš„å·¥ä½œæµç¨‹
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;æ·»åŠ ä¸€ä¸ª500msåè§¦å‘çš„å®šæ—¶å™¨&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;ç¬¬0çº§ï¼š500 &amp;gt; 64ms â†’ ä¸é€‚ç”¨&lt;/li&gt;
&lt;li&gt;ç¬¬1çº§ï¼š500 / 64 = 7.8 â†’ æ”¾å…¥ç¬¬7ä¸ªæ§½ä½&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ—¶é—´æ¨è¿›&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;æ¯æ¯«ç§’æ£€æŸ¥ç¬¬0çº§&lt;/li&gt;
&lt;li&gt;æ¯64msæ£€æŸ¥ç¬¬1çº§&lt;/li&gt;
&lt;li&gt;ä¾æ­¤ç±»æ¨&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é™çº§&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;å½“é«˜å±‚çº§çš„æ—¶é—´è½®è½¬åŠ¨æ—¶ï¼Œå°†å®šæ—¶å™¨é‡æ–°åˆ†é…åˆ°æ›´ç²¾ç¡®çš„å±‚çº§&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è¿™ç§å¤šçº§è®¾è®¡ä½¿å¾—tokioèƒ½å¤Ÿï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç²¾ç¡®å¤„ç†çŸ­æœŸå®šæ—¶å™¨(æ¯«ç§’çº§)&lt;/li&gt;
&lt;li&gt;é«˜æ•ˆç®¡ç†é•¿æœŸå®šæ—¶å™¨( å¹´)&lt;/li&gt;
&lt;li&gt;ä¿æŒè¾ƒä½çš„å†…å­˜å ç”¨å’Œè®¡ç®—å¼€é”€&lt;/li&gt;
&lt;li&gt;æ ¹æ®&lt;code&gt;elapsed&lt;/code&gt;ç¡®å®šéœ€è¦æ£€æŸ¥çš„æ—¶é—´è½®å±‚çº§å’Œæ§½ä½&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ—¶é—´è½®å’Œæ—¶è‹±é’Ÿï¼ˆæ—¶é’ˆã€åˆ†é’ˆã€ç§’é’ˆï¼‰å¯ä»¥è¿›è¡Œç±»æ¯”ç†è§£ã€‚&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Timeçš„é˜…è¯»å­¦ä¹ è®°å½•</title>
        <link>http://localhost:1313/rust/tokio/time%E7%9A%84%E9%98%85%E8%AF%BB%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/</link>
        <pubDate>Thu, 11 Sep 2025 16:20:08 +0800</pubDate>
        
        <guid>http://localhost:1313/rust/tokio/time%E7%9A%84%E9%98%85%E8%AF%BB%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/</guid>
        <description>&lt;h4 id=&#34;sourcers&#34;&gt;source.rs
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;ç”¨äºç®¡ç†æ—¶é—´æˆ³è½¬æ¢&lt;/li&gt;
&lt;li&gt;&lt;code&gt;start_time&lt;/code&gt;è®°å½•è¿è¡Œæ—¶å¯åŠ¨çš„ç»å¯¹æ—¶é—´ç‚¹&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;entryrs&#34;&gt;entry.rs
&lt;/h4&gt;&lt;h5 id=&#34;1-æ ¸å¿ƒæ•°æ®ç»“æ„&#34;&gt;1. æ ¸å¿ƒæ•°æ®ç»“æ„
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;TimerEntry&lt;/code&gt;ï¼šè¡¨ç¤ºä¸€ä¸ªå®šæ—¶å™¨æ¡ç›®&lt;/li&gt;
&lt;li&gt;&lt;code&gt;TimerShared&lt;/code&gt;ï¼šå®šæ—¶å™¨çš„å…±äº«çŠ¶æ€ï¼ŒåŒ…å«å¹¶å‘æ§åˆ¶é€»è¾‘&lt;/li&gt;
&lt;li&gt;&lt;code&gt;StateCell&lt;/code&gt;ï¼šç®¡ç†å®šæ—¶å™¨çŠ¶æ€çš„åŸå­æ“ä½œå°è£…&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;2-ä¸»è¦åŠŸèƒ½&#34;&gt;2. ä¸»è¦åŠŸèƒ½
&lt;/h5&gt;&lt;h6 id=&#34;å®šæ—¶å™¨çŠ¶æ€ç®¡ç†&#34;&gt;å®šæ—¶å™¨çŠ¶æ€ç®¡ç†
&lt;/h6&gt;&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨åŸå­æ“ä½œå®ç°æ— é”çŠ¶æ€è½¬æ¢&lt;/li&gt;
&lt;li&gt;æ”¯æŒå®šæ—¶å™¨çš„æ³¨å†Œã€å–æ¶ˆå’Œè§¦å‘&lt;/li&gt;
&lt;li&gt;&lt;code&gt;StateCell&lt;/code&gt;æœ‰ä¸‰ç§çŠ¶æ€
&lt;ul&gt;
&lt;li&gt;å…·ä½“çš„è¿‡æœŸæ—¶é—´æˆ³ï¼ˆå®šæ—¶å™¨å·²è°ƒåº¦ï¼Œå¾…è§¦å‘ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;code&gt;STATE_PENDING_FIRE&lt;/code&gt;ï¼ˆå®šæ—¶å™¨å·²åˆ°æœŸï¼Œæ­£å‡†å¤‡è§¦å‘ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;code&gt;STATE_DEREGISTERED&lt;/code&gt;(å·²å–æ¶ˆ/å®Œæˆ)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;[&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;å·²è°ƒåº¦&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;--&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;æ—¶é—´åˆ°&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;-&amp;gt; [&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;å¾…è§¦å‘&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;--&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;è§¦å‘å®Œæˆ&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;-&amp;gt; [&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;å·²å–æ¶ˆ&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   &lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt;                                          &lt;span style=&#34;color:#f92672&#34;&gt;^&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   &lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt;                                          &lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   &lt;span style=&#34;color:#f92672&#34;&gt;+------------------&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;å–æ¶ˆ&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;-------------------+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;TimerShared&lt;/code&gt;è´Ÿè´£ç®¡ç†å®šæ—¶å™¨çš„å…±äº«çŠ¶æ€å’Œå¹¶å‘å®‰å…¨ï¼Œåˆ†ç¦»äº†å®šæ—¶å™¨çš„æ³¨å†Œæ—¶é—´ï¼Œç”¨äºæ—¶é—´è½®è°ƒåº¦&lt;/li&gt;
&lt;li&gt;&lt;code&gt;TimerEntry&lt;/code&gt;æ˜¯ç”¨æˆ·å¯è§çš„å¥æŸ„ï¼ŒåŒ…å«å®Œæ•´çš„ç”Ÿå‘½å‘¨æœŸç®¡ç†&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;modrs&#34;&gt;mod.rs
&lt;/h4&gt;&lt;p&gt;è´Ÿè´£ç®¡ç†æ‰€æœ‰ä¸æ—¶é—´ç›¸å…³çš„åŠŸèƒ½&lt;/p&gt;
&lt;h5 id=&#34;æ ¸å¿ƒç»“æ„&#34;&gt;æ ¸å¿ƒç»“æ„
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;Driverç»“æ„ä½“ï¼Œæ—¶é—´é©±åŠ¨çš„ä¸»è¦å®ç°ï¼Œè´Ÿè´£
&lt;ul&gt;
&lt;li&gt;ç®¡ç†æ—¶é—´è½®ï¼ˆtime wheelï¼‰å®ä¾‹&lt;/li&gt;
&lt;li&gt;å¤„ç†å®šæ—¶å™¨çš„æ³¨å†Œã€å–æ¶ˆå’Œè§¦å‘&lt;/li&gt;
&lt;li&gt;ä¸I/Oé©±åŠ¨ååŒå·¥ä½œ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Inner&lt;/code&gt;å’Œ&lt;code&gt;InnerState&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;åŒ…å«æ—¶é—´è½®å®ä¾‹&lt;/li&gt;
&lt;li&gt;ç®¡ç†é©±åŠ¨çŠ¶æ€ï¼ˆå¦‚æ˜¯å¦å·²å…³é—­ï¼‰&lt;/li&gt;
&lt;li&gt;æä¾›çº¿ç¨‹å®‰å…¨çš„å†…éƒ¨çŠ¶æ€è®¿é—®&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;å…³é”®æ–¹æ³•&#34;&gt;å…³é”®æ–¹æ³•
&lt;/h5&gt;&lt;p&gt;process_at_timeæ–¹æ³•&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¤„ç†å½“å‰æ—¶é—´ç‚¹æ‰€æœ‰åˆ°æœŸçš„å®šæ—¶å™¨&lt;/li&gt;
&lt;li&gt;å¤„ç†ç³»ç»Ÿæ—¶é—´å›é€€çš„æƒ…å†µ&lt;/li&gt;
&lt;li&gt;æ‰¹é‡å”¤é†’ç­‰å¾…çš„ä»»åŠ¡&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;reregisteræ–¹æ³•&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é‡æ–°æ³¨å†Œå®šæ—¶å™¨åˆ°æ–°çš„æ—¶é—´ç‚¹&lt;/li&gt;
&lt;li&gt;çº¿ç¨‹å®‰å…¨çš„æ›´æ–°å®šæ—¶å™¨&lt;/li&gt;
&lt;li&gt;å¤„ç†é©±åŠ¨å…³é—­çš„æƒ…å†µ&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>Park çº¿ç¨‹æŒ‚èµ·çš„å®ç°</title>
        <link>http://localhost:1313/rust/tokio/park-%E7%BA%BF%E7%A8%8B%E6%8C%82%E8%B5%B7%E7%9A%84%E5%AE%9E%E7%8E%B0/</link>
        <pubDate>Wed, 10 Sep 2025 10:04:26 +0800</pubDate>
        
        <guid>http://localhost:1313/rust/tokio/park-%E7%BA%BF%E7%A8%8B%E6%8C%82%E8%B5%B7%E7%9A%84%E5%AE%9E%E7%8E%B0/</guid>
        <description>&lt;p&gt;&lt;code&gt;park.rs&lt;/code&gt;æ˜¯Tokioè¿è¡Œæ—¶ä¸­ç”¨äºçº¿ç¨‹æŒ‚èµ·å’Œæ¢å¤çš„æ ¸å¿ƒã€‚&lt;/p&gt;
&lt;h4 id=&#34;æ ¸å¿ƒç»“æ„&#34;&gt;æ ¸å¿ƒç»“æ„
&lt;/h4&gt;&lt;h5 id=&#34;parkthread-å’Œ-unparkthread&#34;&gt;ParkThread å’Œ UnParkThread
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;crate&lt;/span&gt;) &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;ParkThread&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  inner: &lt;span style=&#34;color:#a6e22e&#34;&gt;Arc&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Inner&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;crate&lt;/span&gt;) &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;UnParkThread&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  inner: &lt;span style=&#34;color:#a6e22e&#34;&gt;Arc&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Inner&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¹ä¸€çœ‹ï¼Œè¿™ä¸¤æ ¹æœ¬å°±æ˜¯ç›¸åŒçš„ç»“æ„ï¼Œä½†æ˜¯å®ƒä»¬æ˜¯ç”¨åœ¨ä¸åŒåœ°æ–¹çš„ï¼Œä»¥åŠimplå—æœ‰åŒºåˆ«ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;tokio_thread_local!&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;static&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;CURRENT_PARKER&lt;/span&gt;: &lt;span style=&#34;color:#a6e22e&#34;&gt;ParkThread&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; ParkThread::new();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™æ˜¯æœ€é‡è¦çš„åŒºåˆ«ï¼Œ&lt;code&gt;ParkThread&lt;/code&gt;ç”¨åœ¨äº†çº¿ç¨‹å±€éƒ¨å˜é‡ä¸Šï¼Œè€Œ&lt;code&gt;UnParkThread&lt;/code&gt;æ²¡æœ‰çº¿ç¨‹å±€éƒ¨é™åˆ¶ï¼Œå¦å¤–&lt;code&gt;UnParkThread&lt;/code&gt;åªå®ç°äº†&lt;code&gt;unpark&lt;/code&gt;æ–¹æ³•ï¼Œç›®çš„æ˜¯è®©å…¶ä»–çº¿ç¨‹åªèƒ½å”¤é†’ã€‚&lt;/p&gt;
&lt;h5 id=&#34;inner&#34;&gt;Inner
&lt;/h5&gt;&lt;p&gt;&lt;code&gt;Inner&lt;/code&gt;ç»“æ„ä½“ä½¿ç”¨åŸå­æ“ä½œç®¡ç†çº¿ç¨‹çŠ¶æ€ï¼Œè¿™ç§çŠ¶æ€ç®¡ç†æ˜¯æ„å»ºæ— é”å¹¶å‘åŸè¯­çš„åŸºç¡€ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;EMPTY&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;usize&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;			&lt;span style=&#34;color:#75715e&#34;&gt;//åˆå§‹çŠ¶æ€æˆ–unparkçŠ¶æ€
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;PARKED&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;usize&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;;		&lt;span style=&#34;color:#75715e&#34;&gt;//çº¿ç¨‹å·²æŒ‚èµ·
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;NOTIFIED&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;usize&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;;	&lt;span style=&#34;color:#75715e&#34;&gt;//çº¿ç¨‹å·²è¢«é€šçŸ¥å”¤é†’
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Inner&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  state: &lt;span style=&#34;color:#a6e22e&#34;&gt;AtomicUsize&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  mutex: &lt;span style=&#34;color:#a6e22e&#34;&gt;Mutex&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;()&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  condvar: &lt;span style=&#34;color:#a6e22e&#34;&gt;Condvar&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;ä¸ºä»€ä¹ˆç›´æ¥ç”¨&lt;code&gt;Mutex&amp;lt;Usize&amp;gt;&lt;/code&gt;è€Œæ˜¯å¤šç”¨äº†ä¸€ä¸ª&lt;code&gt;AtomicUsize&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;AtomicUsize&lt;/code&gt;æ˜¯æ— é”çš„ï¼Œæ¯”è·å– &lt;code&gt;Mutex&lt;/code&gt;å¿«&lt;/li&gt;
&lt;li&gt;å†…å­˜é¡ºåºä¿è¯&lt;/li&gt;
&lt;li&gt;çŠ¶æ€æ›´æ–°ä½¿ç”¨åŸå­æ“ä½œï¼Œå‡å°‘é”çš„æŒæœ‰æ—¶é—´&lt;/li&gt;
&lt;li&gt;é”ç²’åº¦æ§åˆ¶ï¼Œ&lt;code&gt;Mutex&lt;/code&gt;åªä¿æŠ¤æ¡ä»¶å˜é‡çš„ç­‰å¾…/é€šçŸ¥æ—¶æœº&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;å…·ä½“åŠŸèƒ½çš„å®ç°&#34;&gt;å…·ä½“åŠŸèƒ½çš„å®ç°
&lt;/h4&gt;&lt;h5 id=&#34;park&#34;&gt;park()
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;park&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;self) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; self
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  		.state
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  		.compare_exchange(&lt;span style=&#34;color:#66d9ef&#34;&gt;NOTIFIED&lt;/span&gt;, &lt;span style=&#34;color:#66d9ef&#34;&gt;EMPTY&lt;/span&gt;, SeqCst, SeqCst)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  		.is_ok() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt;; &lt;span style=&#34;color:#75715e&#34;&gt;// â€œè™šå‡å”¤é†’â€ä¿æŠ¤ï¼Œå¦ä¸€ä¸ªçº¿ç¨‹unparkï¼Œæ­¤çº¿ç¨‹åˆparkï¼Œé¿å…äº†æ²¡å¿…è¦çš„çº¿ç¨‹æŒ‚èµ·å’Œå”¤é†’æ“ä½œ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;  }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;// è·å–é”,å¹¶ä¿®æ”¹çŠ¶æ€è‡³parked
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; m: &lt;span style=&#34;color:#a6e22e&#34;&gt;std&lt;/span&gt;::sync::MutexGuard&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&amp;#39;_, ()&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; self.mutex.lock();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;match&lt;/span&gt; self.state.compare_exchange(&lt;span style=&#34;color:#66d9ef&#34;&gt;EMPTY&lt;/span&gt;, &lt;span style=&#34;color:#66d9ef&#34;&gt;PARKED&lt;/span&gt;, SeqCst, SeqCst) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    Ok(_) &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; {}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    Err(&lt;span style=&#34;color:#66d9ef&#34;&gt;NOTIFIED&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; old &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; self.state.swap(&lt;span style=&#34;color:#66d9ef&#34;&gt;EMPTY&lt;/span&gt;, SeqCst);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#a6e22e&#34;&gt;debug_assert_eq!&lt;/span&gt;(old, &lt;span style=&#34;color:#66d9ef&#34;&gt;NOTIFIED&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;park state changed unexpectedly&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    Err(actual) &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;panic!&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;inconsistent park state; actual = &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;{actual}&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;loop&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    m &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; self.condvar.wait(m).unwrap(); &lt;span style=&#34;color:#75715e&#34;&gt;//é‡Šæ”¾é”å¹¶æŒ‚èµ·çº¿ç¨‹ç­‰å¾…notify
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; self
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    		.state
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    		.compare_exchange(&lt;span style=&#34;color:#66d9ef&#34;&gt;NOTIFIED&lt;/span&gt;, &lt;span style=&#34;color:#66d9ef&#34;&gt;EMPTY&lt;/span&gt;, SeqCst, SeqCst)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    		.is_ok() 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt;; &lt;span style=&#34;color:#75715e&#34;&gt;//ç¡®ä¿æœ‰æ•ˆå”¤é†’ï¼ŒNOTIFIED -&amp;gt; EMPTY,å¿½ç•¥é”™è¯¯å”¤é†’
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h6 id=&#34;åŒé‡æ£€æŸ¥æ¨¡å¼&#34;&gt;åŒé‡æ£€æŸ¥æ¨¡å¼
&lt;/h6&gt;&lt;ul&gt;
&lt;li&gt;ç¬¬ä¸€æ¬¡æ£€æŸ¥é¿å…ä¸å¿…è¦çš„é”è·å–&lt;/li&gt;
&lt;li&gt;ç¬¬äºŒæ¬¡æ£€æŸ¥å¤„ç†ç«æ€æ¡ä»¶&lt;/li&gt;
&lt;/ul&gt;
&lt;h6 id=&#34;è™šå‡å”¤é†’å¤„ç†&#34;&gt;è™šå‡å”¤é†’å¤„ç†
&lt;/h6&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;loop&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    m &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; self.condvar.wait(m).unwrap();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; self.state.compare_exchange(&lt;span style=&#34;color:#66d9ef&#34;&gt;NOTIFIED&lt;/span&gt;, &lt;span style=&#34;color:#66d9ef&#34;&gt;EMPTY&lt;/span&gt;, SeqCst, SeqCst).is_ok() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™ä¸ªå¾ªç¯ç¡®ä¿åªæœ‰æ”¶åˆ°çœŸæ­£çš„é€šçŸ¥æ‰ä¼šè¿”å›ï¼Œå¤„ç†äº†æ¡ä»¶å˜é‡çš„è™šå‡å”¤é†’é—®é¢˜ã€‚&lt;/p&gt;
&lt;h5 id=&#34;unpark&#34;&gt;unpark
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;unpark&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;self) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;//æ— è®ºä»€ä¹ˆçŠ¶æ€éƒ½ç½®ä¸ºNOTIFIED
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;match&lt;/span&gt; self.state.swap(&lt;span style=&#34;color:#66d9ef&#34;&gt;NOTIFIED&lt;/span&gt;, SeqCst) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;EMPTY&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;NOTIFIED&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;PARKED&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; {}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    _ &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;panic!&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;inconsistent state in unpark&amp;#34;&lt;/span&gt;),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;//é€šè¿‡lockç¡®ä¿ç›®æ ‡çº¿ç¨‹å·²ç»æ˜¯PARKEDäº†
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;  drop(self.mutex.lock());
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  self.condvar.notify_one();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;é€šè¿‡æ§åˆ¶ParkThreadå’ŒUnParkThreadçš„æ–¹æ³•ï¼Œå®Œæˆäº†åŠŸèƒ½åˆ†ç¦»ï¼Œé…åˆä¹‹å‰çš„&lt;code&gt;ThreadLocal&lt;/code&gt;,å®Œæˆäº†çº¿ç¨‹è‡ªå·±æŒ‚èµ·ï¼Œç„¶åå…¶ä»–çº¿ç¨‹å¯ä»¥å”¤é†’æ­¤çº¿ç¨‹çš„åŠŸèƒ½ã€‚åŒæ—¶UnParkThreadä¹Ÿå¯ä»¥è½¬ä¸º&lt;code&gt;Waker&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;h5 id=&#34;shutdown&#34;&gt;shutdown
&lt;/h5&gt;&lt;p&gt;é€šçŸ¥çº¿ç¨‹è¯¥é†’äº†ï¼Œå…·ä½“çš„shutdownæ“ä½œç”±è°ƒç”¨è€…å¤„ç†ã€‚&lt;/p&gt;
&lt;h5 id=&#34;cachedparkthread&#34;&gt;CachedParkThread
&lt;/h5&gt;&lt;ol&gt;
&lt;li&gt;ç¼“å­˜&lt;code&gt;Waker&lt;/code&gt;é¿å…é‡å¤åˆ†é…&lt;/li&gt;
&lt;li&gt;æä¾›&lt;code&gt;block_on&lt;/code&gt;æ–¹æ³•ï¼Œè¿™æ˜¯è¿è¡Œæ—¶æ‰§è¡Œfutureçš„åŸºç¡€&lt;/li&gt;
&lt;li&gt;é€šè¿‡çº¿ç¨‹å±€éƒ¨å­˜å‚¨ç®¡ç†æ¯ä¸ªçº¿ç¨‹çš„parker&lt;/li&gt;
&lt;li&gt;&lt;code&gt;_anchor: PhantomData&amp;lt;Rc&amp;lt;()&amp;gt;&amp;gt;&lt;/code&gt;éšå«äº†&lt;code&gt;!Send + !Sync&lt;/code&gt;ï¼ŒCachedParkThread ä¸å¯è·¨çº¿ç¨‹ã€‚&lt;/li&gt;
&lt;/ol&gt;
</description>
        </item>
        <item>
        <title>Runtimeé€æ–‡ä»¶é˜…è¯»å­¦ä¹ è®°å½•</title>
        <link>http://localhost:1313/rust/tokio/runtime%E9%80%90%E6%96%87%E4%BB%B6%E9%98%85%E8%AF%BB%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/</link>
        <pubDate>Tue, 09 Sep 2025 00:20:36 +0800</pubDate>
        
        <guid>http://localhost:1313/rust/tokio/runtime%E9%80%90%E6%96%87%E4%BB%B6%E9%98%85%E8%AF%BB%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/</guid>
        <description>&lt;h4 id=&#34;thread_idrs&#34;&gt;thread_id.rs
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;ä¸»è¦ç±»&lt;code&gt;ThreadId&lt;/code&gt;ï¼Œå…¶åŠŸèƒ½æ˜¯ä¸ºçº¿ç¨‹ç”Ÿæˆä¸é‡å¤çš„çº¿ç¨‹id&lt;/li&gt;
&lt;li&gt;ä¸»è¦å­¦ä¹ åˆ°çš„å†…å®¹
&lt;ul&gt;
&lt;li&gt;å†…å­˜æ’åºï¼ŒAtomicç±»ä¸ä»…æ˜¯åŸå­æ“ä½œï¼Œè¿˜æœ‰å†…å­˜æ’åºçš„åŠŸèƒ½&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;task_hooksrs&#34;&gt;task_hooks.rs
&lt;/h3&gt;&lt;h4 id=&#34;1-æ ¸å¿ƒç±»å‹&#34;&gt;1. æ ¸å¿ƒç±»å‹
&lt;/h4&gt;&lt;p&gt;&lt;code&gt;TaskCallback&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;crate&lt;/span&gt;) &lt;span style=&#34;color:#66d9ef&#34;&gt;type&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;TaskCallback&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; std::sync::Arc&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;dyn&lt;/span&gt; Fn(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;TaskMeta&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&amp;#39;_&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; Send &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; Sync&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;è¡¨ç¤ºä¸€ä¸ªä»»åŠ¡å›è°ƒå‡½æ•°&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨&lt;code&gt;Arc&lt;/code&gt;å®ç°å¼•ç”¨è®¡æ•°ï¼Œæ”¯æŒå¤šçº¿ç¨‹å…±äº«&lt;/li&gt;
&lt;li&gt;æ¥æ”¶&lt;code&gt;&amp;amp;TaskMeta&amp;lt;&#39;_&amp;gt;&lt;/code&gt;ä½œä¸ºå‚æ•°ï¼ŒåŒ…å«ä»»åŠ¡å…ƒæ•°æ®&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;TaskMeta&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;TaskMeta&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;&amp;#39;a&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    id: &lt;span style=&#34;color:#a6e22e&#34;&gt;super&lt;/span&gt;::task::Id,         &lt;span style=&#34;color:#75715e&#34;&gt;// ä»»åŠ¡ID
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    spawned_at: &lt;span style=&#34;color:#a6e22e&#34;&gt;SpawnedAt&lt;/span&gt;,       &lt;span style=&#34;color:#75715e&#34;&gt;// ä»»åŠ¡åˆ›å»ºä½ç½®
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    _p: &lt;span style=&#34;color:#a6e22e&#34;&gt;std&lt;/span&gt;::marker::PhantomData&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;&amp;#39;a&lt;/span&gt; ()&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;åŒ…å«ä»»åŠ¡çš„åŸºæœ¬æ•°æ®&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨ç”Ÿå‘½å‘¨æœŸå‚æ•°&lt;code&gt;&#39;a&lt;/code&gt;ç¡®ä¿å¼•ç”¨çš„æœ‰æ•ˆæ€§&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;TaskHooks&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;crate&lt;/span&gt;) &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;TaskHooks&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;crate&lt;/span&gt;) task_spawn_callback: Option&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;TaskCallback&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;,  &lt;span style=&#34;color:#75715e&#34;&gt;//ä»»åŠ¡ç”Ÿæˆ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;crate&lt;/span&gt;) task_terminate_callback: Option&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;TaskCallback&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;, &lt;span style=&#34;color:#75715e&#34;&gt;//ä»»åŠ¡ç»“æŸ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;#[cfg(tokio_unstable)]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;crate&lt;/span&gt;) before_poll_callback: Option&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;TaskCallback&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;#[cfg(tokio_unstable)]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;crate&lt;/span&gt;) after_poll_callback: Option&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;TaskCallback&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;åœ¨ä»»åŠ¡ä¸åŒçš„çŠ¶æ€å›è°ƒ&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;processrs&#34;&gt;process.rs
&lt;/h4&gt;&lt;p&gt;ä¸»è¦è§£å†³Unixç³»ç»Ÿä¸Šå­¤å„¿è¿›ç¨‹å›æ”¶é—®é¢˜&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é€šè¿‡&lt;code&gt;GlobalOrphanQueue&lt;/code&gt;ç®¡ç†éœ€è¦å›æ”¶çš„è¿›ç¨‹&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨&lt;code&gt;SignalDriver&lt;/code&gt;ç›‘å¬&lt;code&gt;SIGCHLD&lt;/code&gt;ä¿¡å·&lt;/li&gt;
&lt;li&gt;éé˜»å¡åœ°æ£€æŸ¥å­è¿›ç¨‹çŠ¶æ€&lt;/li&gt;
&lt;li&gt;å­¤å„¿è¿›ç¨‹æŒ‡çˆ¶è¿›ç¨‹å·²ç»ç»ˆæ­¢æˆ–é€€å‡ºï¼Œä½†å­è¿›ç¨‹ä»åœ¨è¿è¡Œçš„è¿›ç¨‹ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;SIGCHLD&lt;/code&gt;æ˜¯ç”¨äºé€šçŸ¥çˆ¶è¿›ç¨‹å…¶å­è¿›ç¨‹çŠ¶æ€å‘ç”Ÿå˜åŒ–çš„ä¿¡å·ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;parkrs&#34;&gt;park.rs
&lt;/h4&gt;&lt;p&gt;å®ç°çº¿ç¨‹çš„æŒ‚èµ·ä¸å”¤é†’&lt;/p&gt;
&lt;h4 id=&#34;driverrs&#34;&gt;driver.rs
&lt;/h4&gt;&lt;p&gt;åœ¨tokioè¿è¡Œæ—¶ä¸­æ‰®æ¼”ç€èšåˆå’Œç®¡ç†ä¸åŒI/Oå’Œç³»ç»Ÿäº‹ä»¶é©±åŠ¨å™¨çš„è§’è‰²ã€‚ä¸»è¦å¤„ç†çº¿ç¨‹çš„æŒ‚èµ·å’Œå”¤é†’æœºåˆ¶ã€‚&lt;/p&gt;
&lt;h5 id=&#34;1-é©±åŠ¨å™¨èšåˆ&#34;&gt;1. é©±åŠ¨å™¨èšåˆ
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;å®ƒèšåˆäº†å¤šç§åº•å±‚é©±åŠ¨å™¨ï¼ŒåŒ…æ‹¬I/Oé©±åŠ¨å™¨(&lt;code&gt;IoDriver&lt;/code&gt;)ï¼Œä¿¡å·é©±åŠ¨å™¨(&lt;code&gt;SingalDriver&lt;/code&gt;)å’Œäº‹ä»¶é©±åŠ¨å™¨(&lt;code&gt;TimeDriver&lt;/code&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;2-å”¤é†’æŒ‚èµ·æ”¯æŒ&#34;&gt;2. å”¤é†’/æŒ‚èµ·æ”¯æŒ
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;æä¾›äº†&lt;code&gt;park()&lt;/code&gt;å’Œ&lt;code&gt;unpark()&lt;/code&gt;æ–¹æ³•ç”¨äºçº¿ç¨‹çš„æŒ‚èµ·å’Œå”¤é†’&lt;/li&gt;
&lt;li&gt;&lt;code&gt;park()&lt;/code&gt;æ–¹æ³•ä¼šä½¿å½“å‰çº¿ç¨‹è¿›å…¥ä¼‘çœ çŠ¶æ€ï¼Œç­‰å¾…äº‹ä»¶å‘ç”Ÿ&lt;/li&gt;
&lt;li&gt;&lt;code&gt;unpark()&lt;/code&gt;æ–¹æ³•ç”¨äºå”¤é†’è¢«æŒ‚èµ·çš„çº¿ç¨‹&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;3-å¤šæ¨¡å¼æ”¯æŒ&#34;&gt;3. å¤šæ¨¡å¼æ”¯æŒ
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;æ”¯æŒå¯ç”¨æˆ–ç¦ç”¨ç‰¹å®šåŠŸèƒ½(å¦‚I/Oé©±åŠ¨)çš„ä¸åŒè¿è¡Œæ—¶é…ç½®&lt;/li&gt;
&lt;li&gt;ä¾‹å¦‚ï¼Œ&lt;code&gt;IoStack&lt;/code&gt;æšä¸¾æœ‰&lt;code&gt;Enabled&lt;/code&gt;å’Œ&lt;code&gt;Disabled&lt;/code&gt;ä¸¤ç§å˜ä½“ï¼Œåˆ†åˆ«å¯¹åº”å¯ç”¨å’Œç¦ç”¨I/Oé©±åŠ¨çš„æƒ…å†µ&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;4-è¶…æ—¶æ”¯æŒ&#34;&gt;4. è¶…æ—¶æ”¯æŒ
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;æä¾›äº†&lt;code&gt;park_timeout()&lt;/code&gt;æ–¹æ³•ï¼Œå…è®¸çº¿ç¨‹å”¤é†’åœ¨æŒ‡å®šçš„è¶…æ—¶åè‡ªåŠ¨å”¤é†’&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;5-ä¼˜ç§€è®¾è®¡&#34;&gt;5. ä¼˜ç§€è®¾è®¡
&lt;/h5&gt;&lt;p&gt;å…³æ³¨ç‚¹åˆ†ç¦»ï¼Œ&lt;code&gt;IoStack&lt;/code&gt;å…³æ³¨äºparking,&lt;code&gt;IoHandle&lt;/code&gt;å…³æ³¨äºunparking&lt;/p&gt;
&lt;h5 id=&#34;configrs&#34;&gt;config.rs
&lt;/h5&gt;&lt;p&gt;runtimeå‘½ä»¤é…ç½®ï¼Œç”¨äºå®šåˆ¶è¿è¡Œæ—¶è¡Œä¸ºã€‚ä»¥ä¸‹æ˜¯å„å­—æ®µçš„è¯¦ç»†è¯´æ˜&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;code&gt;global_queue_interval: Option&amp;lt;u32&amp;gt;&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ§åˆ¶ä»å…¨å±€/è¿œç¨‹ä»»åŠ¡é˜Ÿåˆ—æ‹‰å–ä»»åŠ¡çš„é¢‘ç‡&lt;/li&gt;
&lt;li&gt;&lt;code&gt;None&lt;/code&gt;è¡¨ç¤ºæ¯æ¬¡æ£€æŸ¥å…¨å±€é˜Ÿåˆ—&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Some(n)&lt;/code&gt;è¡¨ç¤ºæ¯nä¸ªtickæ£€æŸ¥ä¸€æ¬¡å…¨å±€é˜Ÿåˆ—&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;code&gt;event_interval: u32&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ‰§è¡Œå®šæ—¶å™¨å’ŒI/Oäº‹ä»¶æ£€æŸ¥çš„é¢‘ç‡&lt;/li&gt;
&lt;li&gt;è¾ƒå°çš„å€¼æé«˜å“åº”æ€§ï¼Œä½†å¯èƒ½å¢åŠ CPUä½¿ç”¨ç‡&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;code&gt;before_park: Option&amp;lt;Callback&amp;gt;&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;å·¥ä½œçº¿ç¨‹æŒ‚èµ·å‰æ‰§è¡Œçš„å›è°ƒ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç”¨äºæ‰§è¡Œçº¿ç¨‹ç‰¹å®šçš„æ¸…ç†æˆ–çŠ¶æ€ä¿å­˜&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;code&gt;after_unpark: Option&amp;lt;Callback&amp;gt;&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;å·¥ä½œçº¿ç¨‹å”¤é†’åæ‰§è¡Œçš„å›è°ƒ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç”¨äºæ¢å¤çº¿ç¨‹ç‰¹å®šçŠ¶æ€æˆ–æ‰§è¡Œåˆå§‹åŒ–&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;code&gt;before_spawn: Option&amp;lt;TaskCallback&amp;gt;&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;æ¯ä¸ªä»»åŠ¡ç”Ÿæˆå‰æ‰§è¡Œçš„å›è°ƒ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç”¨äºä»»åŠ¡çº§åˆ«çš„ç›‘æ§æˆ–åˆå§‹åŒ–&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;code&gt;after_termination: Option&amp;lt;TaskCallback&amp;gt;&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;æ¯ä¸ªä»»åŠ¡ç»ˆæ­¢åæ‰§è¡Œçš„å›è°ƒ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç”¨äºèµ„æºæ¸…ç†æˆ–ç»Ÿè®¡ä¿¡æ¯æ”¶é›†&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;code&gt;before_poll: Option&amp;lt;TaskCallback&amp;gt;&lt;/code&gt;&lt;/strong&gt; (ä»…é™ unstable ç‰¹æ€§)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¯æ¬¡ poll æ“ä½œå‰æ‰§è¡Œçš„å›è°ƒ&lt;/li&gt;
&lt;li&gt;ç”¨äºæ€§èƒ½åˆ†ææˆ–è°ƒè¯•&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;code&gt;after_poll: Option&amp;lt;TaskCallback&amp;gt;&lt;/code&gt;&lt;/strong&gt; (ä»…é™ unstable ç‰¹æ€§)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;æ¯æ¬¡ poll æ“ä½œåæ‰§è¡Œçš„å›è°ƒ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é€šå¸¸ä¸ &lt;code&gt;before_poll&lt;/code&gt; é…å¯¹ä½¿ç”¨&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;LIFO æ’æ§½ç›¸å…³é…ç½®&lt;/strong&gt;ï¼ˆä»£ç ç‰‡æ®µä¸­æœªå®Œå…¨æ˜¾ç¤ºï¼‰&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ç”¨äºä¼˜åŒ–ä»»åŠ¡è°ƒåº¦&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç‰¹åˆ«é€‚ç”¨äºæ¶ˆæ¯ä¼ é€’ç­‰æ¨¡å¼&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;builderrs&#34;&gt;builder.rs
&lt;/h4&gt;&lt;p&gt;&lt;code&gt;Runtime&lt;/code&gt;æ ¸å¿ƒæ„å»ºé…ç½®&lt;/p&gt;
&lt;h5 id=&#34;ioé©±åŠ¨&#34;&gt;&lt;strong&gt;I/Oé©±åŠ¨&lt;code&gt;enable_io&lt;/code&gt;å’Œ&lt;code&gt;nevents&lt;/code&gt;&lt;/strong&gt;
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;enable_io&lt;/code&gt;ï¼šæ˜¯å¦å¯ç”¨I/Oé©±åŠ¨
&lt;ul&gt;
&lt;li&gt;å¯ç”¨æ—¶ï¼šæ”¯æŒå¼‚æ­¥I/Oæ“ä½œï¼ˆå¦‚TCP/UDPå¥—æ¥å­—ã€æ–‡ä»¶I/Oç­‰ï¼‰&lt;/li&gt;
&lt;li&gt;ç¦ç”¨æ—¶ï¼šç›¸å…³APIå°†ä¸å¯ç”¨ï¼Œå‡å°‘è¿è¡Œæ—¶å¼€é”€&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;nevents&lt;/code&gt;ï¼š æ¯æ¬¡è½®è¯¢æ—¶å¤„ç†çš„æœ€å¤§äº‹ä»¶æ•°
&lt;ul&gt;
&lt;li&gt;å½±å“I/Oååé‡å’Œå“åº”æ€§&lt;/li&gt;
&lt;li&gt;å€¼è¶Šå¤§ï¼Œååé‡å¯èƒ½è¶Šé«˜ï¼Œä½†å»¶è¿Ÿå¯èƒ½å¢åŠ &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;äº‹ä»¶é©±åŠ¨enable_time&#34;&gt;äº‹ä»¶é©±åŠ¨(&lt;code&gt;enable_time&lt;/code&gt;)
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;æ§åˆ¶æ˜¯å¦å¯ç”¨æ—¶é—´ç›¸å…³çš„åŠŸèƒ½&lt;/li&gt;
&lt;li&gt;å¯ç”¨æ—¶ï¼š
&lt;ul&gt;
&lt;li&gt;æ”¯æŒ&lt;code&gt;tokio::time&lt;/code&gt;æ¨¡å—ï¼ˆå¦‚&lt;code&gt;sleep&lt;/code&gt;ã€&lt;code&gt;timeout&lt;/code&gt;ç­‰ï¼‰&lt;/li&gt;
&lt;li&gt;å…è®¸ä½¿ç”¨å®šæ—¶å™¨å’Œæ—¶é—´ç›¸å…³çš„å¼‚æ­¥æ“ä½œ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ç¦ç”¨æ—¶ï¼š
&lt;ul&gt;
&lt;li&gt;å‡å°‘è¿è¡Œæ—¶å¼€é”€&lt;/li&gt;
&lt;li&gt;äº‹ä»¶ç›¸å…³&lt;code&gt;API&lt;/code&gt;å°†ä¸å¯ç”¨&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;æ—¶é’Ÿæ§åˆ¶start_paused&#34;&gt;æ—¶é’Ÿæ§åˆ¶(&lt;code&gt;start_paused&lt;/code&gt;)
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;æ§åˆ¶è¿è¡Œæ—¶æ—¶é’Ÿçš„åˆå§‹çŠ¶æ€&lt;/li&gt;
&lt;li&gt;&lt;code&gt;true&lt;/code&gt;ï¼šæ—¶é’Ÿä»æš‚åœçŠ¶æ€å¼€å§‹
&lt;ul&gt;
&lt;li&gt;æ—¶é—´ä¸ä¼šè‡ªåŠ¨æ¨è¿›&lt;/li&gt;
&lt;li&gt;é€‚ç”¨äºæµ‹è¯•ï¼Œå¯ä»¥ç²¾ç¡®æ§åˆ¶æ—¶é—´&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;false&lt;/code&gt;(é»˜è®¤)ï¼šä½¿ç”¨ç³»ç»Ÿæ—¶é’Ÿ
&lt;ul&gt;
&lt;li&gt;æ—¶é—´æ­£å¸¸æµé€&lt;/li&gt;
&lt;li&gt;é€‚ç”¨äºç”Ÿäº§ç¯å¢ƒ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;æ—¶é—´é©±åŠ¨time-wheelå®ç°&#34;&gt;æ—¶é—´é©±åŠ¨(Time Wheel)å®ç°
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨å¤šçº§æ—¶é—´è½®ç®¡ç†å®šæ—¶å™¨&lt;/li&gt;
&lt;li&gt;æ¯ä¸ªæ—¶é—´è½®æœ‰ä¸åŒçš„ç²¾åº¦ï¼Œå½¢æˆå±‚çº§ç»“æ„
&lt;ul&gt;
&lt;li&gt;ç¬¬ä¸€çº§ï¼šæ¯«ç§’çº§ç²¾åº¦&lt;/li&gt;
&lt;li&gt;ç¬¬äºŒçº§ï¼šç§’çº§ç²¾åº¦&lt;/li&gt;
&lt;li&gt;æ›´é«˜å±‚ï¼šåˆ†é’Ÿ/å°æ—¶çº§ç²¾åº¦&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ä¼˜ç‚¹ï¼šO(1) æ—¶é—´å¤æ‚åº¦æ’å…¥/åˆ é™¤å®šæ—¶å™¨&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;ç³»ç»Ÿè°ƒç”¨&#34;&gt;ç³»ç»Ÿè°ƒç”¨
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;ä¸»è¦ä½¿ç”¨ &lt;code&gt;timerfd&lt;/code&gt; (Linux) æˆ– &lt;code&gt;kqueue&lt;/code&gt; (macOS) ç­‰ç³»ç»Ÿçº§å®šæ—¶å™¨&lt;/li&gt;
&lt;li&gt;ä¸ I/O å¤šè·¯å¤ç”¨é›†æˆï¼Œç»Ÿä¸€äº‹ä»¶å¾ªç¯&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;ä¸ioé©±åŠ¨çš„é›†æˆ&#34;&gt;ä¸I/Oé©±åŠ¨çš„é›†æˆ
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// ç®€åŒ–çš„æ—¶é—´è½®ç»“æ„
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;TimeWheel&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// ä¸åŒç²¾åº¦çš„æ—¶é—´è½®
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    wheels: [Wheel; &lt;span style=&#34;color:#66d9ef&#34;&gt;LEVELS&lt;/span&gt;],
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// å½“å‰æ—¶é—´
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    now: &lt;span style=&#34;color:#66d9ef&#34;&gt;u64&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
        </item>
        <item>
        <title>Vscodeé«˜æ•ˆå…‰æ ‡ç§»åŠ¨</title>
        <link>http://localhost:1313/tutorials/vscode%E9%AB%98%E6%95%88%E5%85%89%E6%A0%87%E7%A7%BB%E5%8A%A8/</link>
        <pubDate>Mon, 08 Sep 2025 14:00:04 +0800</pubDate>
        
        <guid>http://localhost:1313/tutorials/vscode%E9%AB%98%E6%95%88%E5%85%89%E6%A0%87%E7%A7%BB%E5%8A%A8/</guid>
        <description>&lt;h4 id=&#34;åŸºç¡€ç§»åŠ¨&#34;&gt;åŸºç¡€ç§»åŠ¨
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Option + â†/â†’&lt;/code&gt; - æŒ‰å•è¯ç§»åŠ¨&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Cmd + â†/â†’&lt;/code&gt; - è¡Œé¦–/è¡Œå°¾&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Cmd + â†‘/â†“&lt;/code&gt; - æ–‡ä»¶å¼€å¤´/ç»“å°¾&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Cmd + G&lt;/code&gt; - è·³è½¬åˆ°æŒ‡å®šè¡Œå·&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Cmd + P&lt;/code&gt; - å¿«é€Ÿæ‰“å¼€æ–‡ä»¶&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;é«˜çº§ç§»åŠ¨&#34;&gt;é«˜çº§ç§»åŠ¨
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Option + â†‘/â†“ &lt;/code&gt; - ç§»åŠ¨å½“å‰è¡Œ&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>Macç»ˆç«¯ç¾åŒ–é…ç½®</title>
        <link>http://localhost:1313/tutorials/mac%E7%BB%88%E7%AB%AF%E7%BE%8E%E5%8C%96%E9%85%8D%E7%BD%AE/</link>
        <pubDate>Mon, 08 Sep 2025 12:19:22 +0800</pubDate>
        
        <guid>http://localhost:1313/tutorials/mac%E7%BB%88%E7%AB%AF%E7%BE%8E%E5%8C%96%E9%85%8D%E7%BD%AE/</guid>
        <description>&lt;h1 id=&#34;macç»ˆç«¯ç¾åŒ–å®Œæ•´é…ç½®æŒ‡å—&#34;&gt;Macç»ˆç«¯ç¾åŒ–å®Œæ•´é…ç½®æŒ‡å—
&lt;/h1&gt;&lt;h2 id=&#34;æ­¥éª¤ä¸€å®‰è£…-iterm2&#34;&gt;æ­¥éª¤ä¸€ï¼šå®‰è£… iTerm2
&lt;/h2&gt;&lt;h3 id=&#34;11-ä¸‹è½½å¹¶å®‰è£…-iterm2&#34;&gt;1.1 ä¸‹è½½å¹¶å®‰è£… iTerm2
&lt;/h3&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# æ–¹æ³•ä¸€ï¼šç›´æ¥ä¸‹è½½&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# è®¿é—® https://iterm2.com ä¸‹è½½æœ€æ–°ç‰ˆæœ¬&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# æ–¹æ³•äºŒï¼šä½¿ç”¨ Homebrewï¼ˆæ¨èï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# å…ˆå®‰è£… Homebrewï¼ˆå¦‚æœè¿˜æ²¡æœ‰ï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;/bin/bash -c &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;$(&lt;/span&gt;curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh&lt;span style=&#34;color:#66d9ef&#34;&gt;)&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# ä½¿ç”¨ Homebrew å®‰è£… iTerm2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;brew install --cask iterm2
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;12-å¯åŠ¨-iterm2&#34;&gt;1.2 å¯åŠ¨ iTerm2
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;åœ¨åº”ç”¨ç¨‹åºæ–‡ä»¶å¤¹ä¸­æ‰¾åˆ° iTerm2&lt;/li&gt;
&lt;li&gt;åŒå‡»å¯åŠ¨ï¼Œç¬¬ä¸€æ¬¡å¯èƒ½éœ€è¦æˆæƒ&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;æ­¥éª¤äºŒç¡®è®¤å¹¶åˆ‡æ¢åˆ°-zsh&#34;&gt;æ­¥éª¤äºŒï¼šç¡®è®¤å¹¶åˆ‡æ¢åˆ° Zsh
&lt;/h2&gt;&lt;h3 id=&#34;21-æ£€æŸ¥å½“å‰-shell&#34;&gt;2.1 æ£€æŸ¥å½“å‰ Shell
&lt;/h3&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;echo $SHELL
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¦‚æœæ˜¾ç¤º &lt;code&gt;/bin/zsh&lt;/code&gt;ï¼Œå¯ä»¥è·³è¿‡åˆ‡æ¢æ­¥éª¤&lt;/p&gt;
&lt;h3 id=&#34;22-åˆ‡æ¢åˆ°-zshå¦‚æœéœ€è¦&#34;&gt;2.2 åˆ‡æ¢åˆ° Zshï¼ˆå¦‚æœéœ€è¦ï¼‰
&lt;/h3&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# æŸ¥çœ‹ç³»ç»Ÿå¯ç”¨çš„ Shell&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;cat /etc/shells
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# åˆ‡æ¢é»˜è®¤ Shell ä¸º Zsh&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;chsh -s /bin/zsh
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# é‡å¯ç»ˆç«¯ä½¿è®¾ç½®ç”Ÿæ•ˆ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h2 id=&#34;æ­¥éª¤ä¸‰å®‰è£…-oh-my-zsh&#34;&gt;æ­¥éª¤ä¸‰ï¼šå®‰è£… Oh My Zsh
&lt;/h2&gt;&lt;h3 id=&#34;31-å®‰è£…-oh-my-zsh&#34;&gt;3.1 å®‰è£… Oh My Zsh
&lt;/h3&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sh -c &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;$(&lt;/span&gt;curl -fsSL https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh&lt;span style=&#34;color:#66d9ef&#34;&gt;)&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;32-éªŒè¯å®‰è£…&#34;&gt;3.2 éªŒè¯å®‰è£…
&lt;/h3&gt;&lt;p&gt;å®‰è£…å®Œæˆåï¼Œç»ˆç«¯ä¼šè‡ªåŠ¨é‡å¯ï¼Œä½ ä¼šçœ‹åˆ°å½©è‰²çš„æç¤ºç¬¦ï¼Œè¯´æ˜å®‰è£…æˆåŠŸã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;æ­¥éª¤å››å®‰è£…-powerlevel10k-ä¸»é¢˜&#34;&gt;æ­¥éª¤å››ï¼šå®‰è£… Powerlevel10k ä¸»é¢˜
&lt;/h2&gt;&lt;h3 id=&#34;41-å®‰è£…ä¸»é¢˜&#34;&gt;4.1 å®‰è£…ä¸»é¢˜
&lt;/h3&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;git clone --depth&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; https://github.com/romkatv/powerlevel10k.git &lt;span style=&#34;color:#e6db74&#34;&gt;${&lt;/span&gt;ZSH_CUSTOM&lt;span style=&#34;color:#66d9ef&#34;&gt;:-&lt;/span&gt;$HOME/.oh-my-zsh/custom&lt;span style=&#34;color:#e6db74&#34;&gt;}&lt;/span&gt;/themes/powerlevel10k
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;42-ä¿®æ”¹é…ç½®æ–‡ä»¶&#34;&gt;4.2 ä¿®æ”¹é…ç½®æ–‡ä»¶
&lt;/h3&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# ç¼–è¾‘ zsh é…ç½®æ–‡ä»¶&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;nano ~/.zshrc
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ‰¾åˆ° &lt;code&gt;ZSH_THEME&lt;/code&gt; è¡Œï¼Œä¿®æ”¹ä¸ºï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;ZSH_THEME&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;powerlevel10k/powerlevel10k&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;43-é‡æ–°åŠ è½½é…ç½®&#34;&gt;4.3 é‡æ–°åŠ è½½é…ç½®
&lt;/h3&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;source ~/.zshrc
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;44-é…ç½®-powerlevel10k&#34;&gt;4.4 é…ç½® Powerlevel10k
&lt;/h3&gt;&lt;p&gt;é‡æ–°åŠ è½½åä¼šè‡ªåŠ¨å¯åŠ¨é…ç½®å‘å¯¼ï¼ŒæŒ‰ç…§æç¤ºé€‰æ‹©ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å­—ä½“å®‰è£…ï¼šé€‰æ‹© &amp;ldquo;Yes&amp;rdquo; å®‰è£… MesloLGS NF å­—ä½“&lt;/li&gt;
&lt;li&gt;æ ·å¼é€‰æ‹©ï¼šé€‰æ‹©ä½ å–œæ¬¢çš„æ ·å¼ï¼ˆæ¨è Rainbow æˆ– Leanï¼‰&lt;/li&gt;
&lt;li&gt;å›¾æ ‡æ˜¾ç¤ºï¼šé€‰æ‹©æ˜¯å¦æ˜¾ç¤ºå„ç§å›¾æ ‡&lt;/li&gt;
&lt;li&gt;å®Œæˆé…ç½®&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å¦‚æœæ²¡æœ‰è‡ªåŠ¨å¯åŠ¨é…ç½®å‘å¯¼ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;p10k configure
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h2 id=&#34;æ­¥éª¤äº”å®‰è£…å¢å¼ºæ’ä»¶&#34;&gt;æ­¥éª¤äº”ï¼šå®‰è£…å¢å¼ºæ’ä»¶
&lt;/h2&gt;&lt;h3 id=&#34;51-å®‰è£…è‡ªåŠ¨å»ºè®®æ’ä»¶&#34;&gt;5.1 å®‰è£…è‡ªåŠ¨å»ºè®®æ’ä»¶
&lt;/h3&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;git clone git@github.com:zsh-users/zsh-autosuggestions.git &lt;span style=&#34;color:#e6db74&#34;&gt;${&lt;/span&gt;ZSH_CUSTOM&lt;span style=&#34;color:#66d9ef&#34;&gt;:-&lt;/span&gt;~/.oh-my-zsh/custom&lt;span style=&#34;color:#e6db74&#34;&gt;}&lt;/span&gt;/plugins/zsh-autosuggestions
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;52-å®‰è£…è¯­æ³•é«˜äº®æ’ä»¶&#34;&gt;5.2 å®‰è£…è¯­æ³•é«˜äº®æ’ä»¶
&lt;/h3&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;git clone git@github.com:zsh-users/zsh-syntax-highlighting.git &lt;span style=&#34;color:#e6db74&#34;&gt;${&lt;/span&gt;ZSH_CUSTOM&lt;span style=&#34;color:#66d9ef&#34;&gt;:-&lt;/span&gt;~/.oh-my-zsh/custom&lt;span style=&#34;color:#e6db74&#34;&gt;}&lt;/span&gt;/plugins/zsh-syntax-highlighting
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;53-ä¿®æ”¹æ’ä»¶é…ç½®&#34;&gt;5.3 ä¿®æ”¹æ’ä»¶é…ç½®
&lt;/h3&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;vim ~/.zshrc
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ‰¾åˆ° &lt;code&gt;plugins=&lt;/code&gt; è¡Œï¼Œæ›¿æ¢ä¸ºï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;plugins&lt;span style=&#34;color:#f92672&#34;&gt;=(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    git                      &lt;span style=&#34;color:#75715e&#34;&gt;# Gitå‘½ä»¤è¡¥å…¨å’Œåˆ«å&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    zsh-autosuggestions     &lt;span style=&#34;color:#75715e&#34;&gt;# å‘½ä»¤å†å²å»ºè®®&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    zsh-syntax-highlighting &lt;span style=&#34;color:#75715e&#34;&gt;# å‘½ä»¤è¯­æ³•é«˜äº®&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    web-search              &lt;span style=&#34;color:#75715e&#34;&gt;# å¿«é€Ÿæœç´¢&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    copypath                &lt;span style=&#34;color:#75715e&#34;&gt;# å¤åˆ¶å½“å‰è·¯å¾„&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    copyfile                &lt;span style=&#34;color:#75715e&#34;&gt;# å¤åˆ¶æ–‡ä»¶å†…å®¹&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    colored-man-pages       &lt;span style=&#34;color:#75715e&#34;&gt;# å½©è‰²mané¡µé¢&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    extract                 &lt;span style=&#34;color:#75715e&#34;&gt;# æ™ºèƒ½è§£å‹&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;54-é‡æ–°åŠ è½½é…ç½®&#34;&gt;5.4 é‡æ–°åŠ è½½é…ç½®
&lt;/h3&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;source ~/.zshrc
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h2 id=&#34;æ­¥éª¤å…­iterm2-ä¼˜åŒ–è®¾ç½®&#34;&gt;æ­¥éª¤å…­ï¼šiTerm2 ä¼˜åŒ–è®¾ç½®
&lt;/h2&gt;&lt;h3 id=&#34;61-å­—ä½“è®¾ç½®&#34;&gt;6.1 å­—ä½“è®¾ç½®
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;æ‰“å¼€ iTerm2 åå¥½è®¾ç½® (âŒ˜ + ,)&lt;/li&gt;
&lt;li&gt;é€‰æ‹© Profiles â†’ Text&lt;/li&gt;
&lt;li&gt;å­—ä½“æ”¹ä¸ºï¼šMesloLGS NF (å¦‚æœæŒ‰ç…§å‘å¯¼å®‰è£…äº†çš„è¯)&lt;/li&gt;
&lt;li&gt;å­—ä½“å¤§å°ï¼š14-16&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;62-é¢œè‰²ä¸»é¢˜&#34;&gt;6.2 é¢œè‰²ä¸»é¢˜
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;åœ¨ Profiles â†’ Colors&lt;/li&gt;
&lt;li&gt;Color Presets é€‰æ‹©ï¼š
&lt;ul&gt;
&lt;li&gt;Solarized Darkï¼ˆç»å…¸ï¼‰&lt;/li&gt;
&lt;li&gt;Draculaï¼ˆæŠ¤çœ¼ï¼‰&lt;/li&gt;
&lt;li&gt;æˆ–å¯¼å…¥å…¶ä»–ä¸»é¢˜&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;63-çª—å£è®¾ç½®&#34;&gt;6.3 çª—å£è®¾ç½®
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;åœ¨ Profiles â†’ Window&lt;/li&gt;
&lt;li&gt;è°ƒæ•´é€æ˜åº¦ï¼ˆå¯é€‰ï¼‰&lt;/li&gt;
&lt;li&gt;è®¾ç½®çª—å£å¤§å°&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h2 id=&#34;æ­¥éª¤ä¸ƒå®‰è£…å®ç”¨å·¥å…·å¯é€‰&#34;&gt;æ­¥éª¤ä¸ƒï¼šå®‰è£…å®ç”¨å·¥å…·ï¼ˆå¯é€‰ï¼‰
&lt;/h2&gt;&lt;h3 id=&#34;71-å®‰è£…ç°ä»£åŒ–å‘½ä»¤å·¥å…·&#34;&gt;7.1 å®‰è£…ç°ä»£åŒ–å‘½ä»¤å·¥å…·
&lt;/h3&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# æ›´å¥½çš„ ls&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;brew install exa
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# æ›´å¥½çš„ cat&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;brew install bat
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# æ›´å¥½çš„ find&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;brew install fd
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# æ›´å¥½çš„ grep&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;brew install ripgrep
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;72-æ·»åŠ åˆ«å&#34;&gt;7.2 æ·»åŠ åˆ«å
&lt;/h3&gt;&lt;p&gt;åœ¨ &lt;code&gt;~/.zshrc&lt;/code&gt; æ–‡ä»¶æœ«å°¾æ·»åŠ ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# ç°ä»£åŒ–å‘½ä»¤åˆ«å&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;alias ls&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;exa --icons&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;alias ll&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;exa -l --icons&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;alias la&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;exa -la --icons&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;alias cat&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;bat&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;alias find&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;fd&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;alias grep&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;rg&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# å®ç”¨åˆ«å&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;alias zshconfig&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;vim ~/.zshrc&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;alias ohmyzsh&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;vim ~/.oh-my-zsh&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;alias reload&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;source ~/.zshrc&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h2 id=&#34;æ­¥éª¤å…«æœ€ç»ˆæµ‹è¯•&#34;&gt;æ­¥éª¤å…«ï¼šæœ€ç»ˆæµ‹è¯•
&lt;/h2&gt;&lt;h3 id=&#34;81-é‡æ–°åŠ è½½æ‰€æœ‰é…ç½®&#34;&gt;8.1 é‡æ–°åŠ è½½æ‰€æœ‰é…ç½®
&lt;/h3&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;source ~/.zshrc
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;82-æµ‹è¯•åŠŸèƒ½&#34;&gt;8.2 æµ‹è¯•åŠŸèƒ½
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;è‡ªåŠ¨å»ºè®®&lt;/strong&gt;ï¼šè¾“å…¥ &lt;code&gt;git&lt;/code&gt; ç„¶åçœ‹æ˜¯å¦æœ‰ç°è‰²å»ºè®®&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è¯­æ³•é«˜äº®&lt;/strong&gt;ï¼šè¾“å…¥æ­£ç¡®/é”™è¯¯çš„å‘½ä»¤çœ‹é¢œè‰²å˜åŒ–&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Tabè¡¥å…¨&lt;/strong&gt;ï¼šè¾“å…¥ &lt;code&gt;ls ~/&lt;/code&gt; æŒ‰Tabçœ‹è¡¥å…¨æ•ˆæœ&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;GitçŠ¶æ€&lt;/strong&gt;ï¼šåœ¨Gitä»“åº“ä¸­æŸ¥çœ‹åˆ†æ”¯æ˜¾ç¤º&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h2 id=&#34;å¸¸è§é—®é¢˜è§£å†³&#34;&gt;å¸¸è§é—®é¢˜è§£å†³
&lt;/h2&gt;&lt;h3 id=&#34;å­—ä½“é—®é¢˜&#34;&gt;å­—ä½“é—®é¢˜
&lt;/h3&gt;&lt;p&gt;å¦‚æœçœ‹åˆ°ä¹±ç æˆ–æ–¹å—ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# é‡æ–°é…ç½® Powerlevel10k&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;p10k configure
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;æ’ä»¶ä¸å·¥ä½œ&#34;&gt;æ’ä»¶ä¸å·¥ä½œ
&lt;/h3&gt;&lt;p&gt;æ£€æŸ¥æ’ä»¶æ˜¯å¦æ­£ç¡®å®‰è£…ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;ls ~/.oh-my-zsh/custom/plugins/
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;é…ç½®é‡ç½®&#34;&gt;é…ç½®é‡ç½®
&lt;/h3&gt;&lt;p&gt;å¦‚æœé…ç½®å‡ºé”™ï¼Œå¯ä»¥é‡æ–°é…ç½®ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# é‡æ–°é…ç½®ä¸»é¢˜&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;p10k configure
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# æˆ–è€…é‡æ–°å®‰è£… Oh My Zsh&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sh -c &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;$(&lt;/span&gt;curl -fsSL https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh&lt;span style=&#34;color:#66d9ef&#34;&gt;)&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
        </item>
        <item>
        <title>å†…å­˜æ’åº</title>
        <link>http://localhost:1313/rust/%E5%86%85%E5%AD%98%E6%8E%92%E5%BA%8F/</link>
        <pubDate>Mon, 08 Sep 2025 11:16:22 +0800</pubDate>
        
        <guid>http://localhost:1313/rust/%E5%86%85%E5%AD%98%E6%8E%92%E5%BA%8F/</guid>
        <description>&lt;h4 id=&#34;1-ä¸ºä»€ä¹ˆéœ€è¦å†…å­˜æ’åº&#34;&gt;1. ä¸ºä»€ä¹ˆéœ€è¦å†…å­˜æ’åº
&lt;/h4&gt;&lt;p&gt;åœ¨å¤šçº¿ç¨‹ç¼–ç¨‹ä¸­ï¼Œç¼–è¯‘å™¨å’Œå¤„ç†å™¨ä¼šè¿›è¡Œå„ç§ä¼˜åŒ–(å¦‚æŒ‡ä»¤é‡æ’åº)æ¥æä¾›æ€§èƒ½ã€‚å†…å­˜æ’åºå®šä¹‰äº†è¿™äº›ä¼˜åŒ–åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸­çš„è¡Œä¸ºã€‚&lt;/p&gt;
&lt;h4 id=&#34;rustä¸­çš„å†…å­˜æ’åºçº§åˆ«&#34;&gt;Rustä¸­çš„å†…å­˜æ’åºçº§åˆ«
&lt;/h4&gt;&lt;p&gt;Rusté€šè¿‡&lt;code&gt;std::sync::atomic::Ordering&lt;/code&gt;æä¾›äº†å‡ ç§å†…å­˜æ’åºçº§åˆ«ï¼š&lt;/p&gt;
&lt;h5 id=&#34;21-relaxed&#34;&gt;2.1 Relaxed
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;æœ€å¼±çš„å†…å­˜æ’åº&lt;/li&gt;
&lt;li&gt;åªä¿è¯å½“å‰æ“ä½œçš„åŸå­æ€§&lt;/li&gt;
&lt;li&gt;ä¸ä¿è¯æ“ä½œä¹‹é—´çš„é¡ºåº&lt;/li&gt;
&lt;li&gt;é€‚ç”¨åœºæ™¯ï¼šç®€å•çš„è®¡æ•°å™¨ã€ç»Ÿè®¡ä¿¡æ¯&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;use&lt;/span&gt; std::sync::atomic::{AtomicUsize, Ordering};
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; counter &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; AtomicUsize::new(&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;counter.fetch_add(&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, Ordering::Relaxed);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;22-releaseå’Œacquire&#34;&gt;2.2 Releaseå’ŒAcquire
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Release&lt;/code&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å†™å±éšœ&lt;/strong&gt;ï¼Œç¡®ä¿Releaseæ“ä½œä¹‹å‰çš„æ‰€æœ‰å†…å­˜æ“ä½œï¼ˆè¯»/å†™ï¼‰éƒ½å®Œæˆ&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¯è§æ€§ä¿è¯&lt;/strong&gt;ï¼Œç¡®ä¿è¿™äº›ä¿®æ”¹å¯¹å…¶ä»–çº¿ç¨‹å¯è§&lt;/li&gt;
&lt;li&gt;å‘å¸ƒæ•°æ®åˆ°å…±äº«å†…å­˜ï¼Œæ ‡è®°æ•°æ®å‡†å¤‡å°±ç»ª&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Acquire&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;è¯»å±éšœ&lt;/strong&gt;ï¼šç¡®ä¿åœ¨Acquireæ“ä½œä¹‹åçš„æ‰€æœ‰å†…å­˜æ“ä½œï¼ˆè¯»/å†™ï¼‰éƒ½èƒ½çœ‹åˆ°ä¹‹å‰Releaseæ“ä½œçš„æ‰€æœ‰ä¿®æ”¹&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¯è§æ€§ä¿è¯&lt;/strong&gt;ï¼šç¡®ä¿çœ‹åˆ°å…¶ä»–çº¿ç¨‹Releaseæ“ä½œä¹‹å‰çš„æ‰€æœ‰ä¿®æ”¹&lt;/li&gt;
&lt;li&gt;ä»å…±äº«å†…å­˜è¯»å–æ•°æ®ï¼Œæ£€æŸ¥æ•°æ®æ˜¯å¦å°±ç»ª&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;23-acqrel&#34;&gt;2.3 AcqRel
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;ç»„åˆè¯­ä¹‰ï¼ŒåŒæ—¶å…·æœ‰&lt;code&gt;Release&lt;/code&gt;å’Œ&lt;code&gt;Acquire&lt;/code&gt;çš„è¯­ä¹‰&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;24-seqcst&#34;&gt;2.4 Seqcst
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æœ€å¼ºä¿è¯&lt;/strong&gt;ï¼šé™¤äº†&lt;code&gt;Acquire/Release&lt;/code&gt;å¤–ï¼Œè¿˜ä¿è¯å…¨å±€ä¸€è‡´æ€§&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é¢å¤–ä¿è¯&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;æ‰€æœ‰çº¿ç¨‹çœ‹åˆ°çš„æ“ä½œé¡ºåºä¸€è‡´ï¼Œæ‰€æœ‰çº¿ç¨‹çœ‹åˆ°çš„æ“ä½œé¡ºåºæ˜¯ä¸€è‡´çš„
&lt;ul&gt;
&lt;li&gt;è¦ä¹ˆçœ‹åˆ° (3) -&amp;gt; (1) -&amp;gt; (4) -&amp;gt; (2)&lt;/li&gt;
&lt;li&gt;è¦ä¹ˆçœ‹åˆ° (1) -&amp;gt; (3) -&amp;gt; (2) -&amp;gt; (4)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å»ºç«‹å…¨å±€æ“ä½œé¡ºåº&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;å°ç»“&#34;&gt;å°ç»“
&lt;/h4&gt;&lt;p&gt;&lt;code&gt;Relaxed&lt;/code&gt;æ˜¯åªé’ˆå¯¹åŸå­å˜é‡çš„ï¼Œå…¶ä»–å†…å­˜æ’åºæ˜¯é’ˆå¯¹å…±äº«å†…å­˜çš„ï¼Œå……å½“ç€å†…å­˜å±éšœçš„ä½œç”¨ã€‚&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Runtimeçš„æ ¸å¿ƒæ¦‚å¿µ</title>
        <link>http://localhost:1313/rust/tokio/runtime%E7%9A%84%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5/</link>
        <pubDate>Sat, 06 Sep 2025 18:53:34 +0800</pubDate>
        
        <guid>http://localhost:1313/rust/tokio/runtime%E7%9A%84%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5/</guid>
        <description>&lt;h4 id=&#34;1-runtimeåŸºæœ¬æ¶æ„&#34;&gt;1. RuntimeåŸºæœ¬æ¶æ„
&lt;/h4&gt;&lt;p&gt;Tokioçš„runtimeæ˜¯å¼‚æ­¥åº”ç”¨çš„æ ¸å¿ƒï¼Œä¸»è¦è´Ÿè´£ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä»»åŠ¡è°ƒåº¦&lt;/li&gt;
&lt;li&gt;I/Oäº‹ä»¶å¾ªç¯&lt;/li&gt;
&lt;li&gt;å®šæ—¶å™¨ç®¡ç†&lt;/li&gt;
&lt;li&gt;çº¿ç¨‹æ± ç®¡ç†&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è®©æˆ‘ä»¬çœ‹çœ‹runtimeçš„ä¸»è¦ç»„ä»¶ï¼š&lt;/p&gt;
&lt;h5 id=&#34;11-runtimeç»“æ„ä½“&#34;&gt;1.1 Runtimeç»“æ„ä½“
&lt;/h5&gt;&lt;p&gt;&lt;code&gt;Runtime&lt;/code&gt;ç»“æ„ä½“æ˜¯æ•´ä¸ªå¼‚æ­¥è¿è¡Œæ—¶çš„å…¥å£ç‚¹ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Runtime&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#e6db74&#34;&gt;/// Task scheduler
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&lt;/span&gt;  scheduler: &lt;span style=&#34;color:#a6e22e&#34;&gt;Scheduler&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#e6db74&#34;&gt;/// handles to runtime, also contains driver handles
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&lt;/span&gt;  handle: &lt;span style=&#34;color:#a6e22e&#34;&gt;Handle&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#e6db74&#34;&gt;/// Blocking pool handle, used to signal shutdown
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&lt;/span&gt;  blocking_pool: &lt;span style=&#34;color:#a6e22e&#34;&gt;BlockingPool&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;2-æ ¸å¿ƒç»„ä»¶&#34;&gt;2. æ ¸å¿ƒç»„ä»¶
&lt;/h4&gt;&lt;h5 id=&#34;21-scheduler&#34;&gt;2.1 scheduler
&lt;/h5&gt;&lt;p&gt;&lt;strong&gt;ä½œç”¨ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è´Ÿè´£ä»»åŠ¡çš„è°ƒåº¦å’Œæ‰§è¡Œ&lt;/li&gt;
&lt;li&gt;ç®¡ç†ä»»åŠ¡é˜Ÿåˆ—å’Œä»»åŠ¡çŠ¶æ€&lt;/li&gt;
&lt;li&gt;å†³å®šä»»åŠ¡çš„æ‰§è¡Œé¡ºåº&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;è®¾è®¡åŸå› &lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å°†è°ƒåº¦é€»è¾‘ä¸è¿è¡Œæ—¶å…¶ä»–éƒ¨åˆ†è§£è€¦&lt;/li&gt;
&lt;li&gt;æ”¯æŒä¸åŒçš„è°ƒåº¦ç­–ç•¥ï¼ˆå•çº¿ç¨‹/å¤šçº¿ç¨‹ï¼‰&lt;/li&gt;
&lt;li&gt;ä½¿è°ƒåº¦å™¨å¯ä»¥ç‹¬ç«‹æµ‹è¯•å’Œä¼˜åŒ–&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;22-handle&#34;&gt;2.2 handle
&lt;/h5&gt;&lt;p&gt;&lt;strong&gt;ä½œç”¨ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æä¾›å¯¹è¿è¡Œæ—¶çš„è½»é‡çº§å¼•ç”¨&lt;/li&gt;
&lt;li&gt;å…è®¸åœ¨è¿è¡Œæ—¶å¤–éƒ¨åˆ†å‘ä»»åŠ¡&lt;/li&gt;
&lt;li&gt;åŒ…å«å¯¹I/Oé©±åŠ¨ã€å®šæ—¶å™¨ç­‰ç»„ä»¶çš„è®¿é—®&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;è®¾è®¡åŸå› &lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é¿å…ç›´æ¥æš´éœ²&lt;code&gt;Runtime&lt;/code&gt;çš„æ‰€æœ‰æƒ&lt;/li&gt;
&lt;li&gt;å…è®¸å¤šä¸ªåœ°æ–¹æŒæœ‰å¯¹è¿è¡Œæ—¶çš„å¼•ç”¨&lt;/li&gt;
&lt;li&gt;æ”¯æŒè·¨çº¿ç¨‹å‘é€ä»»åŠ¡&lt;/li&gt;
&lt;li&gt;ä¾¿äºåœ¨å¼‚æ­¥ä»£ç ä¸­è·å–å½“å‰è¿è¡Œæ—¶&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;23-blockingpool&#34;&gt;2.3 BlockingPool
&lt;/h5&gt;&lt;p&gt;&lt;strong&gt;ä½œç”¨ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç®¡ç†é˜»å¡æ“ä½œçš„å·¥ä½œçº¿ç¨‹æ± &lt;/li&gt;
&lt;li&gt;æ‰§è¡Œå¯èƒ½é˜»å¡çš„æ“ä½œï¼Œå¦‚æ–‡ä»¶I/Oæˆ–CPUå¯†é›†å‹è®¡ç®—&lt;/li&gt;
&lt;li&gt;é˜²æ­¢é˜»å¡æ“ä½œå½±å“å¼‚æ­¥ä»»åŠ¡è°ƒåº¦&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;è®¾è®¡åŸå› &lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;éš”ç¦»é˜»å¡æ“ä½œï¼Œé¿å…å½±å“äº‹ä»¶å¾ªç¯&lt;/li&gt;
&lt;li&gt;æä¾›æ˜ç¡®çš„APIæ¥å¤„ç†é˜»å¡æ“ä½œ&lt;/li&gt;
&lt;li&gt;å…è®¸æ§åˆ¶é˜»å¡æ“ä½œçš„å¹¶å‘åº¦&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;3-æ•´ä½“è®¾è®¡è€ƒé‡&#34;&gt;3. æ•´ä½“è®¾è®¡è€ƒé‡
&lt;/h4&gt;&lt;h5 id=&#34;1-å…³æ³¨ç‚¹åˆ†ç¦»&#34;&gt;1. å…³æ³¨ç‚¹åˆ†ç¦»
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;scheduler&lt;/code&gt;å¤„ç†ä»»åŠ¡è°ƒåº¦&lt;/li&gt;
&lt;li&gt;&lt;code&gt;handle&lt;/code&gt;æä¾›è¿è¡Œæ—¶è®¿é—®&lt;/li&gt;
&lt;li&gt;&lt;code&gt;blocking_pool&lt;/code&gt;å¤„ç†é˜»å¡æ“ä½œ&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;2-æ‰€æœ‰æƒç®¡ç†&#34;&gt;2. æ‰€æœ‰æƒç®¡ç†
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Runtime&lt;/code&gt;æ‹¥æœ‰æ‰€æœ‰èµ„æºçš„æ‰€æœ‰æƒ&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Handle&lt;/code&gt;æä¾›äº†å…±äº«è®¿é—®çš„æ–¹å¼&lt;/li&gt;
&lt;li&gt;èµ„æºåœ¨&lt;code&gt;Runtime&lt;/code&gt;è¢«dropæ—¶æ­£ç¡®æ¸…ç†&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;3-æ€§èƒ½ä¼˜åŒ–&#34;&gt;3. æ€§èƒ½ä¼˜åŒ–
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;è½»é‡çº§çš„&lt;code&gt;Handle&lt;/code&gt;å¯ä»¥å¤§é‡å¤åˆ¶&lt;/li&gt;
&lt;li&gt;é˜»å¡æ“ä½œä¸ä¼šé˜»å¡äº‹ä»¶å¾ªç¯&lt;/li&gt;
&lt;li&gt;è°ƒåº¦å™¨å¯ä»¥æ ¹æ®éœ€è¦é€‰æ‹©å•çº¿ç¨‹æˆ–å¤šçº¿ç¨‹å®ç°&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;4-çµæ´»æ€§&#34;&gt;4. çµæ´»æ€§
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;æ”¯æŒä¸åŒçš„è¿è¡Œæ—¶é…ç½®&lt;/li&gt;
&lt;li&gt;å¯ä»¥æ‰©å±•æ–°çš„è°ƒåº¦ç­–ç•¥&lt;/li&gt;
&lt;li&gt;ä¾¿äºæµ‹è¯•å’Œæ¨¡æ‹Ÿ&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;handleä¸ºä»€ä¹ˆæ˜¯runtimeçš„è½»é‡çº§å¼•ç”¨&#34;&gt;Handleä¸ºä»€ä¹ˆæ˜¯Runtimeçš„è½»é‡çº§å¼•ç”¨
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;Runtime&lt;/code&gt;ä¸­çš„&lt;code&gt;scheduler&lt;/code&gt;å­—æ®µ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è¿™æ˜¯ä¸»è¦çš„&lt;code&gt;Scheduler&lt;/code&gt;å®ä¾‹&lt;/li&gt;
&lt;li&gt;å®ƒæ‹¥æœ‰ä»»åŠ¡é˜Ÿåˆ—å’Œå…¶ä»–èµ„æº&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;Handle&lt;/code&gt;ä¸­çš„å¼•ç”¨&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸æ˜¯å¼•ç”¨&lt;code&gt;Scheduler&lt;/code&gt;æœ¬èº«&lt;/li&gt;
&lt;li&gt;è€Œæ˜¯å¼•ç”¨&lt;code&gt;Scheduler&lt;/code&gt;å†…éƒ¨çš„å…±äº«çŠ¶æ€&lt;/li&gt;
&lt;li&gt;è¿™äº›çŠ¶æ€é€šå¸¸æ˜¯é€šè¿‡&lt;code&gt;Arc&lt;/code&gt;åŒ…è£…çš„ç‹¬ç«‹ç»“æ„&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å…·ä½“å®ç°&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;CurrentThread&lt;/code&gt;è°ƒåº¦å™¨å¯èƒ½ä½¿ç”¨&lt;code&gt;Rc&amp;lt;RefCell&amp;lt;...&amp;gt;&amp;gt;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;MultiThread&lt;/code&gt;è°ƒåº¦å™¨ä½¿ç”¨&lt;code&gt;Arc&lt;/code&gt;è¿›è¡Œçº¿ç¨‹é—´å…±äº«&lt;/li&gt;
&lt;li&gt;è¿™äº›å†…éƒ¨ç»“æ„åœ¨&lt;code&gt;Scheduler&lt;/code&gt;åˆå§‹åŒ–åˆ›å»º&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ‰€æœ‰æƒå…³ç³»&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;CurrentThread&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// å†…éƒ¨ä½¿ç”¨ Rc å…±äº«çŠ¶æ€
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    shared: &lt;span style=&#34;color:#a6e22e&#34;&gt;Rc&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Shared&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// ...
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Handle&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// å…±äº«ç›¸åŒçš„ Rc&amp;lt;Shared&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    shared: &lt;span style=&#34;color:#a6e22e&#34;&gt;Rc&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Shared&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// ...
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;åˆ›å»ºHandleæ—¶ï¼Œä¼šå…‹éš†&lt;code&gt;Arc/Rc&lt;/code&gt;å¢åŠ å¼•ç”¨è®¡æ•°&lt;/li&gt;
&lt;li&gt;è¿™æ ·çš„è®¾è®¡ä½“ç°äº†&lt;code&gt;Scheduler&lt;/code&gt;æ˜¯&lt;code&gt;Runtime&lt;/code&gt;çš„æ ¸å¿ƒ&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;æ–‡ä»¶ioä¸ºä»€ä¹ˆä½¿ç”¨é˜»å¡çº¿ç¨‹æ± &#34;&gt;æ–‡ä»¶I/Oä¸ºä»€ä¹ˆä½¿ç”¨é˜»å¡çº¿ç¨‹æ± 
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;ç½‘ç»œI/Oï¼šç°ä»£æ“ä½œç³»ç»Ÿæä¾›äº†ä¸“é—¨çš„éé˜»å¡APIï¼ˆå¦‚Linuxçš„epollï¼ŒmacOSçš„kqueueï¼‰&lt;/li&gt;
&lt;li&gt;æ–‡ä»¶I/Oï¼šå¤§å¤šæ•°æ“ä½œç³»ç»Ÿçš„æ–‡ä»¶ç³»ç»ŸAPIåº•å±‚ä»ç„¶æ˜¯é˜»å¡çš„&lt;/li&gt;
&lt;li&gt;æ€§èƒ½è€ƒé‡ï¼šæ–‡ä»¶æ“ä½œé€šå¸¸æ¯”ç½‘ç»œæ“ä½œå¿«å¾—å¤šï¼›ä½¿ç”¨éé˜»å¡APIåè€Œå¢åŠ å¼€é”€ï¼›ç£ç›˜I/Oçš„å»¶è¿Ÿé€šå¸¸æ¯”ç½‘ç»œI/Oæ›´å¯é¢„æµ‹ã€‚&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>Weekly Learning Log - 2025-09-07</title>
        <link>http://localhost:1313/learning-reflection/2025-09-07-weekly/</link>
        <pubDate>Sat, 06 Sep 2025 15:39:56 +0800</pubDate>
        
        <guid>http://localhost:1313/learning-reflection/2025-09-07-weekly/</guid>
        <description>&lt;h3 id=&#34;what-i-learned&#34;&gt;What I Learned
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Ripgrepé¡¹ç›®Walkéƒ¨åˆ†å­¦ä¹ &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;å‚æ•°è§£æåˆ†å±‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¤æ‚é—®é¢˜åˆ†ç¦»-ç»„åˆå¤„ç†ï¼Œå¤šç”¨ç»„åˆ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ–‡ä»¶å†…å®¹éå†æœç´¢ï¼šåˆ†è§£ä¸ºæ–‡ä»¶å‘ç°å’Œå•ä¸ªæ–‡ä»¶å†…å®¹æœç´¢&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é¢å‘&lt;code&gt;trait&lt;/code&gt;ç¼–ç¨‹&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä»»åŠ¡çªƒå–åˆæ­¥åˆè§&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¹¶å‘ç¼–ç¨‹ç»å…¸æ¨¡å‹&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Worker &amp;mdash;- Work &amp;mdash;&amp;mdash; Visitor ç»å…¸æŠ½è±¡&lt;/li&gt;
&lt;li&gt;ç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å‹&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;rustæ ‡å‡†åº“å­¦ä¹ &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Iterator&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;acc&lt;/code&gt;æ˜¯&lt;code&gt;accumulator&lt;/code&gt;çš„ç¼©å†™ï¼Œæ ‡è¯†ç´¯ç§¯è®¡ç®—è¿‡ç¨‹ä¸­çš„ä¸­é—´ç»“æœ&lt;/li&gt;
&lt;li&gt;&lt;code&gt;fold&lt;/code&gt;å‡½æ•°ï¼Œç”¨äºå°†é›†åˆä¸­çš„æ‰€æœ‰å…ƒç´ é€šè¿‡æ“ä½œ&amp;quot;æŠ˜å &amp;quot;æˆå•ä¸ªå€¼&lt;/li&gt;
&lt;li&gt;æ¶ˆè´¹selfæ„å»ºæ–°çš„è¿­ä»£å™¨ï¼ŒMapä¹‹äºmapç­‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Resultã€Option&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;refä¸&amp;amp;çš„åŒºåˆ«&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;tokioé¡¹ç›®å­¦ä¹ &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Pinå’ŒUpinçš„ç†è§£ï¼Œä¸ºä»€ä¹ˆéœ€è¦Pin&lt;/li&gt;
&lt;li&gt;Wakerå’ŒContextçš„æœºåˆ¶&lt;/li&gt;
&lt;li&gt;CPUçš„æ‰§è¡Œé€Ÿåº¦ä¸I/Oçš„é€Ÿåº¦å·®å¼‚ï¼Œéœ€è¦å¼‚æ­¥ä»»åŠ¡è®©å‡ºçº¿ç¨‹ï¼Œè€Œé&lt;strong&gt;ä¸ºäº†è®©å‡ºè€Œè®©å‡º&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;futureçš„ç®€å•å®ç°&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Tcp å’Œ Udpç½‘ç»œç¼–ç¨‹&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;tcpå’Œudpçš„åŒºåˆ«&lt;/li&gt;
&lt;li&gt;å¯¹&lt;strong&gt;æœ‰è¿æ¥&lt;/strong&gt;çš„ç†è§£ï¼štcpåŒæ–¹å¯¹å…±åŒçŠ¶æ€ä¿¡æ¯çš„ç»´æŠ¤ï¼Œudpå‘é€çš„éƒ½æ˜¯ç‹¬ç«‹çš„æ•°æ®åŒ…ï¼Œæ•…æ— è¿æ¥&lt;/li&gt;
&lt;li&gt;traitå¯¹è±¡å’Œæ™®é€šå¯¹è±¡çš„å†…å­˜ç»“æ„&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;challenges--solutions&#34;&gt;Challenges &amp;amp; Solutions
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;this-weeks-win&#34;&gt;This Week&amp;rsquo;s Win
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;æ¶æ„è®¾è®¡ç†è§£åŠ æ·±ï¼Œå¯¹ç»„åˆå’Œé¢å‘traitç¼–ç¨‹æœ‰äº†è¿›ä¸€æ­¥ç†è§£&lt;/li&gt;
&lt;li&gt;çœŸæ­£ç†è§£äº†Tcpçš„&lt;strong&gt;æœ‰è¿æ¥&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Iteratorä¸­mapç­‰æ–¹æ³•é€šè¿‡æ„å»ºä¸­é—´ç»“æ„ä½“ï¼ˆå¦‚Mapï¼‰æ¥å®ç°&lt;/li&gt;
&lt;li&gt;FnOnceã€FnMutã€Fnçš„æ·±å…¥å­¦ä¹ &lt;/li&gt;
&lt;li&gt;å¹¶è¡Œç¼–ç¨‹çš„æ¨¡å‹&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;next-week-focus&#34;&gt;Next Week Focus
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;ç»§ç»­å­¦ä¹ tokio&lt;/li&gt;
&lt;li&gt;å­¦ä¹ andriodè¯­éŸ³é¡¹ç›®&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;å­¦ä¹ æ—¶é•¿:&lt;/strong&gt;
&lt;strong&gt;å®Œæˆä»»åŠ¡:&lt;/strong&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Wakerå’ŒContextæœºåˆ¶</title>
        <link>http://localhost:1313/rust/tokio/waker%E5%92%8Ccontext%E6%9C%BA%E5%88%B6/</link>
        <pubDate>Fri, 05 Sep 2025 18:51:54 +0800</pubDate>
        
        <guid>http://localhost:1313/rust/tokio/waker%E5%92%8Ccontext%E6%9C%BA%E5%88%B6/</guid>
        <description>&lt;h4 id=&#34;åŸºæœ¬æ¦‚å¿µ&#34;&gt;åŸºæœ¬æ¦‚å¿µ
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Context&lt;/strong&gt;ï¼šæä¾›å¼‚æ­¥ä»»åŠ¡æ‰§è¡Œçš„ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œæœ€é‡è¦çš„æ˜¯åŒ…å«Waker&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Waker&lt;/strong&gt;ï¼šç”¨äºå”¤é†’è¢«æŒ‚èµ·çš„å¼‚æ­¥ä»»åŠ¡çš„æœºåˆ¶&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Poll&lt;/strong&gt;ï¼šFutureçš„è½®è¯¢çŠ¶æ€, &lt;code&gt;Ready&lt;/code&gt;æˆ–&lt;code&gt;Pending&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;contextçš„å®šä¹‰&#34;&gt;Contextçš„å®šä¹‰
&lt;/h4&gt;&lt;p&gt;&lt;code&gt;Context&lt;/code&gt; æ˜¯Rustæ ‡å‡†åº“ä¸­&lt;code&gt;std::task&lt;/code&gt;æ¨¡å—æä¾›çš„ç»“æ„ä½“ï¼Œå®ƒä¸»è¦åŒ…å«ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¯¹&lt;code&gt;Waker&lt;/code&gt;çš„å¼•ç”¨&lt;/li&gt;
&lt;li&gt;å¯é€‰çš„ä»»åŠ¡æœ¬åœ°å­˜å‚¨&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;åœ¨Tokioä¸­ï¼Œ&lt;code&gt;Context&lt;/code&gt;ä¸»è¦ç”¨äºï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;impl&lt;/span&gt; Future &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; MyFuture {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;type&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Output&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; ();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;poll&lt;/span&gt;(self: &lt;span style=&#34;color:#a6e22e&#34;&gt;Pin&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; Self&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;, cx: &lt;span style=&#34;color:#66d9ef&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;mut&lt;/span&gt; Context&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&amp;#39;_&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;) -&amp;gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Poll&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Self::Output&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// ä½¿ç”¨ cx.waker() è·å– Waker
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// å½“ I/O æœªå°±ç»ªæ—¶ï¼Œä¿å­˜ Waker ä»¥ä¾¿åç»­å”¤é†’
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;wakerçš„æ ¸å¿ƒå®ç°&#34;&gt;Wakerçš„æ ¸å¿ƒå®ç°
&lt;/h4&gt;&lt;p&gt;åœ¨Tokioä¸­ï¼Œ&lt;code&gt;Waker&lt;/code&gt;æ˜¯å¼‚æ­¥ä»»åŠ¡é€šçŸ¥æœºåˆ¶çš„æ ¸å¿ƒã€‚å…ˆçœ‹çœ‹Tokioä¸­çš„å…³é”®å®ç°&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;super&lt;/span&gt;) &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;WakerRef&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;&amp;#39;a&lt;/span&gt;, S: &amp;#39;static&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  waker: &lt;span style=&#34;color:#a6e22e&#34;&gt;ManuallyDrop&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Waker&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  _p: &lt;span style=&#34;color:#a6e22e&#34;&gt;PhantomData&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;&amp;#39;a&lt;/span&gt; Header, S)&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;wakerçš„åˆ›å»º&#34;&gt;Wakerçš„åˆ›å»º
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;raw_waker&lt;/span&gt;(header: &lt;span style=&#34;color:#a6e22e&#34;&gt;NonNull&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Header&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;) -&amp;gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;RawWaker&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; ptr &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; header.as_ptr() &lt;span style=&#34;color:#66d9ef&#34;&gt;as&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt;();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  RawWaker::new(ptr, &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;WAKER_VTABLE&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;wakerçš„vtable&#34;&gt;Wakerçš„VTable
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;static&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;WAKER_VTABLE&lt;/span&gt;: &lt;span style=&#34;color:#a6e22e&#34;&gt;RawWakerVTable&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; RawWakerVTable::new(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    clone_waker,    &lt;span style=&#34;color:#75715e&#34;&gt;// å…‹éš† Waker
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    wake_by_val,    &lt;span style=&#34;color:#75715e&#34;&gt;// æ¶ˆè´¹ Waker å¹¶å”¤é†’ä»»åŠ¡
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    wake_by_ref,    &lt;span style=&#34;color:#75715e&#34;&gt;// ä¸æ¶ˆè´¹ Waker çš„æƒ…å†µä¸‹å”¤é†’ä»»åŠ¡
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    drop_waker,     &lt;span style=&#34;color:#75715e&#34;&gt;// é‡Šæ”¾ Waker èµ„æº
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;wakerçš„ç”Ÿå‘½å‘¨æœŸ&#34;&gt;wakerçš„ç”Ÿå‘½å‘¨æœŸ
&lt;/h5&gt;&lt;ol&gt;
&lt;li&gt;åˆ›å»ºï¼š å½“ä»»åŠ¡è¢«åˆ›å»ºæ—¶ï¼Œä¼šåˆ›å»ºä¸€ä¸ªå¯¹åº”çš„Waker&lt;/li&gt;
&lt;li&gt;å”¤é†’ï¼šå½“I/Oäº‹ä»¶å°±ç»ªæˆ–å®šæ—¶å™¨è§¦å‘&lt;/li&gt;
&lt;li&gt;æ¶ˆè´¹ï¼šä»»åŠ¡è¢«å”¤é†’åï¼ŒWakerä¼šè¢«æ¶ˆè´¹æ‰&lt;/li&gt;
&lt;li&gt;é‡å»ºï¼šå¦‚æœéœ€è¦å†æ¬¡å”¤é†’ä»»åŠ¡ï¼Œéœ€è¦é‡æ–°åˆ›å»ºWaker&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;å·¥ä½œæµç¨‹ç¤ºä¾‹&#34;&gt;å·¥ä½œæµç¨‹ç¤ºä¾‹
&lt;/h4&gt;&lt;p&gt;ç®€æ˜“çš„ä»»åŠ¡å”¤é†’æµç¨‹ï¼š&lt;/p&gt;
&lt;h5 id=&#34;1-ä»»åŠ¡åˆ›å»º&#34;&gt;1. ä»»åŠ¡åˆ›å»º
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; task &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;async&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;//å¼‚æ­¥ä»£ç 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;tokio::spawn(task);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;2-wakeråˆ›å»º&#34;&gt;2. Wakeråˆ›å»º
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;Tokioè¿è¡Œæ—¶ä¸ºä»»åŠ¡åˆ›å»ºWaker&lt;/li&gt;
&lt;li&gt;WakeråŒ…å«æŒ‡å‘ä»»åŠ¡çŠ¶æ€çš„æŒ‡é’ˆ&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;3-ioæ³¨å†Œ&#34;&gt;3. I/Oæ³¨å†Œ
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// å½“è°ƒç”¨ç±»ä¼¼ TcpStream::read æ—¶
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; ready &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;ready!&lt;/span&gt;(self.io.poll_read_ready(cx)&lt;span style=&#34;color:#f92672&#34;&gt;?&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;4-ä»»åŠ¡æŒ‚èµ·&#34;&gt;4. ä»»åŠ¡æŒ‚èµ·
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;å¦‚æœI/Oæœªå°±ç»ªï¼Œä¿å­˜Waker&lt;/li&gt;
&lt;li&gt;è¿”å›&lt;code&gt;Poll::Pending&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;5-äº‹ä»¶å°±ç»ª&#34;&gt;5. äº‹ä»¶å°±ç»ª
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;I/Oäº‹ä»¶å°±ç»ªï¼Œä¿å­˜Waker&lt;/li&gt;
&lt;li&gt;äº‹ä»¶å¾ªç¯è°ƒç”¨ä¿å­˜çš„Wakerçš„&lt;code&gt;wake()&lt;/code&gt;æ–¹æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;6-ä»»åŠ¡æ¢å¤&#34;&gt;6. ä»»åŠ¡æ¢å¤
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;Wakerå°†ä»»åŠ¡æ”¾å›å°±ç»ªé˜Ÿåˆ—&lt;/li&gt;
&lt;li&gt;è°ƒåº¦å™¨å†æ¬¡è½®è¯¢è¯¥ä»»åŠ¡&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>æ™®é€šå¯¹è±¡å’Œtraitå¯¹è±¡</title>
        <link>http://localhost:1313/rust/%E6%99%AE%E9%80%9A%E5%AF%B9%E8%B1%A1%E5%92%8Ctrait%E5%AF%B9%E8%B1%A1/</link>
        <pubDate>Fri, 05 Sep 2025 18:49:07 +0800</pubDate>
        
        <guid>http://localhost:1313/rust/%E6%99%AE%E9%80%9A%E5%AF%B9%E8%B1%A1%E5%92%8Ctrait%E5%AF%B9%E8%B1%A1/</guid>
        <description>&lt;h4 id=&#34;æ™®é€šå¯¹è±¡çš„å†…å­˜ç»“æ„&#34;&gt;æ™®é€šå¯¹è±¡çš„å†…å­˜ç»“æ„
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;åªåŒ…å«æ•°æ®æˆå‘˜&lt;/li&gt;
&lt;li&gt;æ–¹æ³•ä¸å ç”¨å†…å­˜ç©ºé—´&lt;/li&gt;
&lt;li&gt;æ–¹æ³•è°ƒç”¨æ˜¯é™æ€åˆ†å‘çš„ï¼Œæ–¹æ³•å­˜å‚¨åœ¨ä»£ç æ®µä¸­ï¼Œè°ƒç”¨æ—¶ç›´æ¥è·³è½¬åˆ°å›ºå®šåœ°å€&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Point&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  x: &lt;span style=&#34;color:#66d9ef&#34;&gt;i32&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  y: &lt;span style=&#34;color:#66d9ef&#34;&gt;i32&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;///å†…å­˜ç»“æ„
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;+------+------+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; x: &lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; y: &lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;// 8 å­—èŠ‚ (i32 æ˜¯ 4 å­—èŠ‚)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;+------+------+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;traitå¯¹è±¡å†…å­˜ç»“æ„&#34;&gt;traitå¯¹è±¡å†…å­˜ç»“æ„
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;ç”±ä¸¤ä¸ªæŒ‡é’ˆç»„æˆ
&lt;ul&gt;
&lt;li&gt;æ•°æ®æŒ‡é’ˆï¼šæŒ‡å‘å®é™…æ•°æ®çš„æŒ‡é’ˆ&lt;/li&gt;
&lt;li&gt;è™šè¡¨æŒ‡é’ˆï¼šæŒ‡å‘è™šè¡¨çš„æŒ‡é’ˆ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;è™šè¡¨åŒ…å«
&lt;ul&gt;
&lt;li&gt;ææ„å‡½æ•°æŒ‡é’ˆ&lt;/li&gt;
&lt;li&gt;ç±»å‹å¤§å°å’Œå¯¹é½ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;traitä¸­æ‰€æœ‰æ–¹æ³•çš„å‡½æ•°æŒ‡é’ˆ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;trait&lt;/span&gt; Shape {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;area&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;self) -&amp;gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;f64&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;scale&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; self, factor: &lt;span style=&#34;color:#66d9ef&#34;&gt;f64&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Circle&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    radius: &lt;span style=&#34;color:#66d9ef&#34;&gt;f64&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;impl&lt;/span&gt; Shape &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; Circle {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;area&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;self) -&amp;gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;f64&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        std::&lt;span style=&#34;color:#66d9ef&#34;&gt;f64&lt;/span&gt;::consts::&lt;span style=&#34;color:#66d9ef&#34;&gt;PI&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; self.radius &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; self.radius
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;scale&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; self, factor: &lt;span style=&#34;color:#66d9ef&#34;&gt;f64&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        self.radius &lt;span style=&#34;color:#f92672&#34;&gt;*=&lt;/span&gt; factor;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; circle: Box&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;dyn&lt;/span&gt; Shape&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Box::new(Circle { radius: &lt;span style=&#34;color:#ae81ff&#34;&gt;1.0&lt;/span&gt; });
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;å†…å­˜å¸ƒå±€&#34;&gt;å†…å­˜å¸ƒå±€
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;+------------------+&lt;/span&gt;     &lt;span style=&#34;color:#f92672&#34;&gt;+------------------+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;æ•°æ®æŒ‡é’ˆ&lt;/span&gt;          &lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;-&amp;gt; &lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; radius: &lt;span style=&#34;color:#66d9ef&#34;&gt;f64&lt;/span&gt;      &lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;+------------------+&lt;/span&gt;     &lt;span style=&#34;color:#f92672&#34;&gt;+------------------+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;è™šè¡¨æŒ‡é’ˆ&lt;/span&gt;          &lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;-&amp;gt; &lt;span style=&#34;color:#f92672&#34;&gt;+------------------+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;+------------------+&lt;/span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;æŒ‡å‘&lt;/span&gt; Circle &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;çš„è™šè¡¨&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                        &lt;span style=&#34;color:#f92672&#34;&gt;+------------------+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                        &lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; drop_in_place    &lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;// ææ„å‡½æ•°
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;                        &lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; size             &lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;// ç±»å‹å¤§å°
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;                        &lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; align            &lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;// å¯¹é½æ–¹å¼
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;                        &lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; area() &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;å‡½æ•°æŒ‡é’ˆ&lt;/span&gt;   &lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;// ç¬¬ä¸€ä¸ª trait æ–¹æ³•
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;                        &lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; scale() &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;å‡½æ•°æŒ‡é’ˆ&lt;/span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;// ç¬¬äºŒä¸ª trait æ–¹æ³•
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;                        &lt;span style=&#34;color:#f92672&#34;&gt;+------------------+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;æ–¹æ³•è°ƒç”¨è¿‡ç¨‹&#34;&gt;æ–¹æ³•è°ƒç”¨è¿‡ç¨‹
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ™®é€šå¯¹è±¡æ–¹æ³•&lt;/strong&gt;: æ™®é€šå¯¹è±¡æ–¹æ³•å­˜å‚¨åœ¨ä»£ç æ®µä¸­ï¼Œä¸å ç”¨å¯¹è±¡å†…å­˜ï¼Œè°ƒç”¨æ—¶ç›´æ¥è·³è½¬åˆ°å›ºå®šåœ°å€ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;traitå¯¹è±¡æ–¹æ³•&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;è·å–è™šè¡¨æŒ‡é’ˆ&lt;/li&gt;
&lt;li&gt;ä»è™šè¡¨ä¸­è·å–å‡½æ•°æŒ‡é’ˆ&lt;/li&gt;
&lt;li&gt;è°ƒç”¨å‡½æ•°&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>Rustä¸­åŸºç¡€ç½‘ç»œç¼–ç¨‹</title>
        <link>http://localhost:1313/rust/rust%E4%B8%AD%E5%9F%BA%E7%A1%80%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/</link>
        <pubDate>Fri, 05 Sep 2025 02:04:09 +0800</pubDate>
        
        <guid>http://localhost:1313/rust/rust%E4%B8%AD%E5%9F%BA%E7%A1%80%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/</guid>
        <description>&lt;h3 id=&#34;rust-ç½‘ç»œç¼–ç¨‹åŸºç¡€tcp-ä¸-udp&#34;&gt;Rust ç½‘ç»œç¼–ç¨‹åŸºç¡€ï¼šTCP ä¸ UDP
&lt;/h3&gt;&lt;h4 id=&#34;tcp-ä¸-udp-åŸºç¡€æ¦‚å¿µ&#34;&gt;TCP ä¸ UDP åŸºç¡€æ¦‚å¿µ
&lt;/h4&gt;&lt;h5 id=&#34;tcp-ä¼ è¾“æ§åˆ¶åè®®&#34;&gt;TCP (ä¼ è¾“æ§åˆ¶åè®®)
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;é¢å‘è¿æ¥&lt;/strong&gt;ï¼šé€šä¿¡å‰éœ€è¦å»ºç«‹è¿æ¥ï¼Œä½¿ç”¨ &lt;code&gt;TcpStream&lt;/code&gt; è¡¨ç¤ºè¿æ¥&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¯é æ€§&lt;/strong&gt;ï¼šä¿è¯æ•°æ®æŒ‰åºåˆ°è¾¾ï¼Œè‡ªåŠ¨å¤„ç†ä¸¢åŒ…é‡ä¼ &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æµå¼åè®®&lt;/strong&gt;ï¼šæ•°æ®æ²¡æœ‰æ˜ç¡®è¾¹ç•Œï¼Œéœ€è¦åº”ç”¨å±‚å¤„ç†æ¶ˆæ¯åˆ†å¸§&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æµé‡æ§åˆ¶&lt;/strong&gt;ï¼šå†…ç½®æµé‡æ§åˆ¶å’Œæ‹¥å¡æ§åˆ¶æœºåˆ¶&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é€‚ç”¨åœºæ™¯&lt;/strong&gt;ï¼šæ–‡ä»¶ä¼ è¾“ã€ç½‘é¡µæµè§ˆã€ç”µå­é‚®ä»¶ç­‰éœ€è¦å¯é ä¼ è¾“çš„åœºæ™¯&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;udp-ç”¨æˆ·æ•°æ®æŠ¥åè®®&#34;&gt;UDP (ç”¨æˆ·æ•°æ®æŠ¥åè®®)
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ— è¿æ¥&lt;/strong&gt;ï¼šæ¯ä¸ªæ•°æ®åŒ…ç‹¬ç«‹å‘é€ï¼Œä½¿ç”¨ &lt;code&gt;UdpSocket&lt;/code&gt; è¿›è¡Œé€šä¿¡&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¸å¯é &lt;/strong&gt;ï¼šä¸ä¿è¯æ•°æ®åŒ…é¡ºåºå’Œå¯è¾¾æ€§&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ•°æ®æŠ¥&lt;/strong&gt;ï¼šæ¯ä¸ªæ•°æ®åŒ…æœ‰æ˜ç¡®è¾¹ç•Œ&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä½å»¶è¿Ÿ&lt;/strong&gt;ï¼šæ²¡æœ‰è¿æ¥å»ºç«‹å’Œç¡®è®¤å¼€é”€&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é€‚ç”¨åœºæ™¯&lt;/strong&gt;ï¼šå®æ—¶éŸ³è§†é¢‘ã€åœ¨çº¿æ¸¸æˆã€DNS æŸ¥è¯¢ç­‰å¯¹å»¶è¿Ÿæ•æ„Ÿçš„åº”ç”¨&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;rust-ä¸­çš„-tcp-ç¼–ç¨‹&#34;&gt;Rust ä¸­çš„ TCP ç¼–ç¨‹
&lt;/h3&gt;&lt;h4 id=&#34;æœåŠ¡ç«¯&#34;&gt;æœåŠ¡ç«¯
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;use&lt;/span&gt; tokio::net::{TcpListener, TcpStream};
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;async&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;server&lt;/span&gt;(addr: &lt;span style=&#34;color:#66d9ef&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;str&lt;/span&gt;) -&amp;gt; Result&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;(), Box&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;dyn&lt;/span&gt; std::error::Error&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; listener &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; TcpListener::bind(addr).&lt;span style=&#34;color:#66d9ef&#34;&gt;await&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;?&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;println!&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Server listening on &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;{}&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;, addr);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;loop&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; (&lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; stream, addr) &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; listener.accept().&lt;span style=&#34;color:#66d9ef&#34;&gt;await&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;?&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;println!&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Client connected from: &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;{}&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;, addr);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// ä¸ºæ¯ä¸ªè¿æ¥åˆ›å»ºæ–°ä»»åŠ¡
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        tokio::spawn(&lt;span style=&#34;color:#66d9ef&#34;&gt;async&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;move&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// å¤„ç†è¿æ¥
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            handle_connection(stream).&lt;span style=&#34;color:#66d9ef&#34;&gt;await&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        });
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;å®¢æˆ·ç«¯&#34;&gt;å®¢æˆ·ç«¯
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;use&lt;/span&gt; tokio::net::TcpStream;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;async&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;client&lt;/span&gt;(addr: &lt;span style=&#34;color:#66d9ef&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;str&lt;/span&gt;) -&amp;gt; Result&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;(), Box&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;dyn&lt;/span&gt; std::error::Error&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; stream &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; TcpStream::connect(addr).&lt;span style=&#34;color:#66d9ef&#34;&gt;await&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;?&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;println!&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Connected to server at &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;{}&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;, addr);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// å‘é€å’Œæ¥æ”¶æ•°æ®...
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    Ok(())
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;rust-ä¸­çš„-udp-ç¼–ç¨‹&#34;&gt;Rust ä¸­çš„ UDP ç¼–ç¨‹
&lt;/h3&gt;&lt;h4 id=&#34;æœåŠ¡ç«¯-1&#34;&gt;æœåŠ¡ç«¯
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;use&lt;/span&gt; tokio::net::UdpSocket;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;async&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;server&lt;/span&gt;(addr: &lt;span style=&#34;color:#66d9ef&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;str&lt;/span&gt;) -&amp;gt; Result&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;(), Box&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;dyn&lt;/span&gt; std::error::Error&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; socket &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; UdpSocket::bind(addr).&lt;span style=&#34;color:#66d9ef&#34;&gt;await&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;?&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;println!&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;UDP server listening on &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;{}&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;, addr);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; buf &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;vec!&lt;/span&gt;[&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;u8&lt;/span&gt;; &lt;span style=&#34;color:#ae81ff&#34;&gt;1024&lt;/span&gt;];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;loop&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; (len, addr) &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; socket.recv_from(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; buf).&lt;span style=&#34;color:#66d9ef&#34;&gt;await&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;?&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;println!&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Received &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;{}&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt; bytes from &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;{}&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;, len, addr);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// å¤„ç†æ•°æ®å¹¶å›å¤
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        socket.send_to(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;buf[&lt;span style=&#34;color:#f92672&#34;&gt;..&lt;/span&gt;len], &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;addr).&lt;span style=&#34;color:#66d9ef&#34;&gt;await&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;?&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;å®¢æˆ·ç«¯-1&#34;&gt;å®¢æˆ·ç«¯
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;use&lt;/span&gt; tokio::net::UdpSocket;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;use&lt;/span&gt; std::net::SocketAddr;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;async&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;client&lt;/span&gt;(server_addr: &lt;span style=&#34;color:#66d9ef&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;str&lt;/span&gt;) -&amp;gt; Result&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;(), Box&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;dyn&lt;/span&gt; std::error::Error&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// ç»‘å®šåˆ°ä»»æ„å¯ç”¨ç«¯å£
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; bind_addr &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; server_addr.contains(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;:&amp;#39;&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;[::]:0&amp;#34;&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;// IPv6
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    } &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;0.0.0.0:0&amp;#34;&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;// IPv4
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    };
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; socket &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; UdpSocket::bind(bind_addr).&lt;span style=&#34;color:#66d9ef&#34;&gt;await&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;?&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; server_addr: &lt;span style=&#34;color:#a6e22e&#34;&gt;SocketAddr&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; server_addr.parse()&lt;span style=&#34;color:#f92672&#34;&gt;?&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// å¯é€‰ï¼šè¿æ¥åˆ°æœåŠ¡å™¨åœ°å€ï¼Œä¹‹åå¯ä»¥ä½¿ç”¨ send/recv è€Œé send_to/recv_from
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    socket.connect(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;server_addr).&lt;span style=&#34;color:#66d9ef&#34;&gt;await&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;?&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// å‘é€æ•°æ®
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    socket.send(&lt;span style=&#34;color:#e6db74&#34;&gt;b&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Hello, UDP!&amp;#34;&lt;/span&gt;).&lt;span style=&#34;color:#66d9ef&#34;&gt;await&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;?&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// æ¥æ”¶å“åº”
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; buf &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; [&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;u8&lt;/span&gt;; &lt;span style=&#34;color:#ae81ff&#34;&gt;1024&lt;/span&gt;];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; len &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; socket.recv(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; buf).&lt;span style=&#34;color:#66d9ef&#34;&gt;await&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;?&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;println!&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Received: &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;{}&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;, String::from_utf8_lossy(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;buf[&lt;span style=&#34;color:#f92672&#34;&gt;..&lt;/span&gt;len]));
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    Ok(())
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;å…³é”®åŒºåˆ«æ€»ç»“&#34;&gt;å…³é”®åŒºåˆ«æ€»ç»“
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;è¿æ¥å¤„ç†&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;TCP éœ€è¦æ˜¾å¼æ¥å—è¿æ¥ (&lt;code&gt;accept&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;UDP ç›´æ¥å‘é€/æ¥æ”¶æ•°æ®æŠ¥&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ•°æ®è¾¹ç•Œ&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;TCP æ˜¯æµå¼åè®®ï¼Œéœ€è¦åº”ç”¨å±‚å¤„ç†æ¶ˆæ¯è¾¹ç•Œ&lt;/li&gt;
&lt;li&gt;UDP ä¿æŒæ¶ˆæ¯è¾¹ç•Œï¼Œæ¯ä¸ª &lt;code&gt;recv_from&lt;/code&gt; å¯¹åº”ä¸€ä¸ªå®Œæ•´çš„æ¶ˆæ¯&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å¯é æ€§&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;TCP ä¿è¯å¯é ä¼ è¾“&lt;/li&gt;
&lt;li&gt;UDP ä¸ä¿è¯ï¼Œéœ€è¦åº”ç”¨å±‚å¤„ç†ä¸¢åŒ…å’Œä¹±åº&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ€§èƒ½&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;TCP æœ‰è¿æ¥å»ºç«‹å’Œç¡®è®¤å¼€é”€&lt;/li&gt;
&lt;li&gt;UDP å»¶è¿Ÿæ›´ä½ï¼Œé€‚åˆå®æ—¶åº”ç”¨&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;ç«¯å£å’Œè¿æ¥&#34;&gt;ç«¯å£å’Œè¿æ¥
&lt;/h4&gt;&lt;h5 id=&#34;1-ç›‘å¬ç«¯å£&#34;&gt;1. ç›‘å¬ç«¯å£
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;ä¸€ä¸ªç«¯å£åªèƒ½è¢«ä¸€ä¸ªè¿›ç¨‹ç›‘å¬&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;2-è¿æ¥ä¸ç«¯å£çš„å…³ç³»&#34;&gt;2. è¿æ¥ä¸ç«¯å£çš„å…³ç³»
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;ä¸€ä¸ªç«¯å£å¯ä»¥æ‰¿è½½å¤šä¸ªè¿æ¥&lt;/li&gt;
&lt;li&gt;æ¯ä¸ªè¿æ¥ç”±å››å…ƒç»„å”¯ä¸€æ ‡è¯†
&lt;ul&gt;
&lt;li&gt;æºIP&lt;/li&gt;
&lt;li&gt;æºç«¯å£&lt;/li&gt;
&lt;li&gt;ç›®æ ‡IP&lt;/li&gt;
&lt;li&gt;ç›®æ ‡ç«¯å£&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;å¥—æ¥å­—ä¸è¿æ¥&#34;&gt;å¥—æ¥å­—ä¸è¿æ¥
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;æ¯ä¸ªTcpè¿æ¥å¯¹åº”ä¸€ä¸ªå”¯ä¸€çš„å¥—æ¥å­—&lt;/li&gt;
&lt;li&gt;ç›‘å¬å¥—æ¥å­—è´Ÿè´£æ¥å—æ–°è¿æ¥&lt;/li&gt;
&lt;li&gt;å·²è¿æ¥å¥—æ¥å­—å¤„ç†å…·ä½“çš„ä¼ è¾“&lt;/li&gt;
&lt;li&gt;Tcpçš„â€œæœ‰è¿æ¥â€æœ¬è´¨æ˜¯æŒ‡&lt;strong&gt;é€šä¿¡åŒæ–¹ç»´æŠ¤å…±åŒçš„çŠ¶æ€ä¿¡æ¯&lt;/strong&gt;ï¼Œè€ŒUdpçš„â€œæ— è¿æ¥â€æ˜¯æŒ‡&lt;strong&gt;æ¯ä¸ªæ•°æ®åŒ…éƒ½æ˜¯ç‹¬ç«‹å¤„ç†çš„&lt;/strong&gt;ï¼Œä¸ä¾èµ–ä¹‹å‰çš„é€šä¿¡çŠ¶æ€ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;é€‰æ‹©å»ºè®®&#34;&gt;é€‰æ‹©å»ºè®®
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;é€‰æ‹© TCP å½“ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;éœ€è¦å¯é çš„æ•°æ®ä¼ è¾“&lt;/li&gt;
&lt;li&gt;æ•°æ®ä¼ è¾“çš„å®Œæ•´æ€§æ¯”å®æ—¶æ€§æ›´é‡è¦&lt;/li&gt;
&lt;li&gt;ä¼ è¾“å¤§é‡æ•°æ®&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é€‰æ‹© UDP å½“ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä½å»¶è¿Ÿæ¯”å¯é æ€§æ›´é‡è¦&lt;/li&gt;
&lt;li&gt;å¯ä»¥å®¹å¿å°‘é‡æ•°æ®ä¸¢å¤±&lt;/li&gt;
&lt;li&gt;éœ€è¦å¹¿æ’­æˆ–å¤šæ’­åŠŸèƒ½&lt;/li&gt;
&lt;li&gt;ä¼ è¾“å°æ•°æ®åŒ…ä¸”é¢‘ç¹&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿™ä¸¤ç§åè®®å„æœ‰ä¼˜åŠ¿ï¼Œé€‰æ‹©å“ªç§å–å†³äºæ‚¨çš„å…·ä½“åº”ç”¨éœ€æ±‚ã€‚&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Pinå’ŒUnpin</title>
        <link>http://localhost:1313/rust/tokio/pin%E5%92%8Cunpin/</link>
        <pubDate>Thu, 04 Sep 2025 15:03:11 +0800</pubDate>
        
        <guid>http://localhost:1313/rust/tokio/pin%E5%92%8Cunpin/</guid>
        <description>&lt;h4 id=&#34;pinå’Œunpinçš„åŸºæœ¬æ¦‚å¿µ&#34;&gt;Pinå’ŒUnpinçš„åŸºæœ¬æ¦‚å¿µ
&lt;/h4&gt;&lt;h5 id=&#34;pinçš„ä½œç”¨&#34;&gt;Pinçš„ä½œç”¨
&lt;/h5&gt;&lt;p&gt;&lt;code&gt;Pin&amp;lt;P&amp;gt;&lt;/code&gt;æ˜¯ä¸€ä¸ªåŒ…è£…å™¨ï¼Œç”¨äºå›ºå®š(pin)å†…å­˜ä¸­çš„å€¼ï¼Œé˜²æ­¢å®ƒè¢«ç§»åŠ¨ã€‚è¿™å¯¹äºè‡ªå¼•ç”¨ç»“æ„ä½“å’Œå¼‚æ­¥ç¼–ç¨‹ä¸­çš„Futureç‰¹åˆ«é‡è¦ã€‚&lt;/p&gt;
&lt;h5 id=&#34;unpinçš„ç‰¹è´¨&#34;&gt;Unpinçš„ç‰¹è´¨
&lt;/h5&gt;&lt;p&gt;&lt;code&gt;Unpin&lt;/code&gt;æ˜¯ä¸€ä¸ªè‡ªåŠ¨æ´¾ç”Ÿçš„æ ‡è®°traitï¼Œè¡¨ç¤ºç±»å‹å¯ä»¥å®‰å…¨åœ°ç§»å‡º&lt;code&gt;Pin&lt;/code&gt;ã€‚å¤§å¤šæ•°ç±»å‹éƒ½è‡ªåŠ¨å®ç°äº†&lt;code&gt;Unpin&lt;/code&gt;ã€‚å®ç°äº†&lt;code&gt;Unpin&lt;/code&gt;çš„ç±»å‹å¯ä»¥å®‰å…¨åœ°ä»&lt;code&gt;Pin&lt;/code&gt;ä¸­ç§»å‡ºã€‚&lt;/p&gt;
&lt;h4 id=&#34;asyncawaitä¸ºä½•éœ€è¦pin&#34;&gt;async/awaitä¸ºä½•éœ€è¦Pin
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;async&lt;/code&gt;å—å¯èƒ½åŒ…å«è‡ªå¼•ç”¨ï¼Œ&lt;code&gt;async&lt;/code&gt;è½¬å˜ä¸º&lt;code&gt;Future&lt;/code&gt;ç»“æ„ä½“,å®ƒæ˜¯ä¸€ä¸ªçŠ¶æ€æœº&lt;/li&gt;
&lt;li&gt;å½“&lt;code&gt;.await&lt;/code&gt;æš‚åœæ‰§è¡Œæ—¶ï¼Œå±€éƒ¨å˜é‡ä¼šä¿å­˜åœ¨ç”Ÿæˆçš„Futureä¸­&lt;/li&gt;
&lt;li&gt;å¦‚æœè¿™äº›å˜é‡ç›¸äº’å¼•ç”¨ï¼Œç§»åŠ¨Futureä¼šå¯¼è‡´æ‚¬å‚æŒ‡é’ˆ&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;ç”Ÿå‘½å‘¨æœŸç®¡ç†å±‚æ¬¡&#34;&gt;ç”Ÿå‘½å‘¨æœŸç®¡ç†å±‚æ¬¡
&lt;/h4&gt;&lt;h5 id=&#34;1-å˜é‡çº§åˆ«&#34;&gt;1. å˜é‡çº§åˆ«
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;å±€éƒ¨å˜é‡è¢«ç§»åŠ¨åˆ°FutureçŠ¶æ€æœºä¸­&lt;/li&gt;
&lt;li&gt;ç”Ÿå‘½å‘¨æœŸä¸Futureå®ä¾‹ç»‘å®š&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;2-futureçº§åˆ«&#34;&gt;2. Futureçº§åˆ«
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;ç”±æ‰§è¡Œå™¨æ‹¥æœ‰å’Œç®¡ç†&lt;/li&gt;
&lt;li&gt;æ‰§è¡Œå™¨å†³å®šä½•æ—¶pollï¼Œä½•æ—¶drop&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;3-æ‰§è¡Œå™¨çº§åˆ«&#34;&gt;3. æ‰§è¡Œå™¨çº§åˆ«
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;ç®¡ç†æ‰€æœ‰Futureçš„ç”Ÿå‘½å‘¨æœŸ&lt;/li&gt;
&lt;li&gt;è´Ÿè´£è°ƒåº¦å’Œç®¡ç†&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;4-æ ˆå¸§ä¸çŠ¶æ€æœº&#34;&gt;4. æ ˆå¸§ä¸çŠ¶æ€æœº
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;åŒæ­¥ï¼šå˜é‡ç”Ÿå‘½å‘¨æœŸç”±æ ˆå¸§ç®¡ç†&lt;/li&gt;
&lt;li&gt;å¼‚æ­¥ï¼šå˜é‡ç”Ÿå‘½å‘¨æœŸç”±çŠ¶æ€æœºç®¡ç†&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;ä»»åŠ¡é˜Ÿåˆ—ä¸future&#34;&gt;ä»»åŠ¡é˜Ÿåˆ—ä¸Future
&lt;/h4&gt;&lt;h5 id=&#34;ä¸€æ¬¡æ€§ç§»åŠ¨&#34;&gt;ä¸€æ¬¡æ€§ç§»åŠ¨
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;Futureè¢«ç§»åŠ¨åˆ°æ‰§è¡Œå™¨åï¼Œç”±Pinä¿è¯ä¸ä¼šå†æ¬¡ç§»åŠ¨&lt;/li&gt;
&lt;li&gt;æ‰§è¡Œå™¨å†…éƒ¨ä½¿ç”¨æŒ‡é’ˆæ¥å¼•ç”¨Future&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;ä»»åŠ¡é˜Ÿåˆ—çš„å®ç°&#34;&gt;ä»»åŠ¡é˜Ÿåˆ—çš„å®ç°
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// ä¼ªä»£ç ï¼šä»»åŠ¡é˜Ÿåˆ—ä¸­çš„ Future
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Task&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    future: &lt;span style=&#34;color:#a6e22e&#34;&gt;Pin&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Box&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;dyn&lt;/span&gt; Future&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Output &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; ()&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; Send&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// ...
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// ä»»åŠ¡é˜Ÿåˆ—å­˜å‚¨çš„æ˜¯ Box&amp;lt;Task&amp;gt;ï¼Œè€Œä¸æ˜¯ç›´æ¥å­˜å‚¨ Future
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; task_queue: Vec&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Box&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Task&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;..&lt;/span&gt;.;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;å·¥ä½œçªƒå–è°ƒåº¦&#34;&gt;å·¥ä½œçªƒå–è°ƒåº¦
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;å½“ä»»åŠ¡åœ¨çº¿ç¨‹é—´è½¬ç§»æ—¶ï¼Œè½¬ç§»çš„æ˜¯&lt;code&gt;Box&amp;lt;Task&amp;gt;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Box&lt;/code&gt;çš„ç§»åŠ¨ä¸ä¼šå½±å“å†…éƒ¨Futureçš„å†…å­˜åœ°å€&lt;/li&gt;
&lt;li&gt;Pin ä¿è¯çš„æ˜¯ &lt;code&gt;Box&lt;/code&gt; å†…éƒ¨çš„ Future ä¸ä¼šè¢«ç§»å‡º&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>ä¸ºä½•æŠ½è±¡</title>
        <link>http://localhost:1313/rust/%E4%B8%BA%E4%BD%95%E6%8A%BD%E8%B1%A1/</link>
        <pubDate>Wed, 03 Sep 2025 22:56:23 +0800</pubDate>
        
        <guid>http://localhost:1313/rust/%E4%B8%BA%E4%BD%95%E6%8A%BD%E8%B1%A1/</guid>
        <description>&lt;h4 id=&#34;æŠ½è±¡çš„æ ¸å¿ƒç›®çš„&#34;&gt;æŠ½è±¡çš„æ ¸å¿ƒç›®çš„
&lt;/h4&gt;&lt;p&gt;æŠ½è±¡çš„ä¸»è¦ç›®çš„æ˜¯&lt;strong&gt;ç®¡ç†å˜åŒ–&lt;/strong&gt;ï¼Œå…·ä½“æ¥è¯´ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;è¯†åˆ«å˜åŒ–ç‚¹&lt;/strong&gt;ï¼šç¡®å®šå“ªäº›éƒ¨åˆ†å¯èƒ½ä¼šå˜åŒ–&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;éš”ç¦»å˜åŒ–&lt;/strong&gt;ï¼šå°†å˜åŒ–é™åˆ¶åœ¨å±€éƒ¨&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç»Ÿä¸€æ¥å£&lt;/strong&gt;ï¼šä¸ºä¸åŒçš„å®ç°æä¾›ä¸€è‡´çš„äº¤äº’æ–¹å¼&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;æŠ½è±¡çš„æ ¸å¿ƒä»·å€¼&#34;&gt;æŠ½è±¡çš„æ ¸å¿ƒä»·å€¼
&lt;/h4&gt;&lt;p&gt;åœ¨å˜åŒ–ä¸­å¯»æ±‚å¹³è¡¡ç¨³å®š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ç¨³å®šå±‚&lt;/strong&gt;ï¼šæŠ½è±¡å®šä¹‰â€œåšä»€ä¹ˆâ€ï¼ˆæ¥å£/å¥‘çº¦ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å˜åŒ–å±‚&lt;/strong&gt;ï¼šå®ç°å¤„ç†â€œæ€ä¹ˆåšâ€ï¼ˆå…·ä½“ç»†èŠ‚ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;solidåŸåˆ™&#34;&gt;SOLIDåŸåˆ™
&lt;/h4&gt;&lt;h5 id=&#34;1-å•ä¸€èŒè´£åŸåˆ™&#34;&gt;1. å•ä¸€èŒè´£åŸåˆ™
&lt;/h5&gt;&lt;p&gt;ä¸€ä¸ªç±»åº”è¯¥åªæœ‰ä¸€ä¸ªå¼•èµ·å®ƒå˜åŒ–çš„åŸå› &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¯ä¸ªç±»åº”è¯¥åªè´Ÿè´£ä¸€é¡¹èŒè´£&lt;/li&gt;
&lt;li&gt;å°†ä¸åŒçš„åŠŸèƒ½åˆ†ç¦»åˆ°ä¸åŒçš„ç±»ä¸­&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;2-å¼€é—­åŸåˆ™&#34;&gt;2. å¼€é—­åŸåˆ™
&lt;/h5&gt;&lt;p&gt;è½¯ä»¶å®ä½“ï¼ˆç±»ã€æ¨¡å—ã€å‡½æ•°ç­‰ï¼‰åº”è¯¥å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é€šè¿‡æ·»åŠ æ–°ä»£ç å¼€æ‰©å±•åŠŸèƒ½ï¼Œè€Œä¸æ˜¯ä¿®æ”¹ç°æœ‰ä»£ç &lt;/li&gt;
&lt;li&gt;ä½¿ç”¨æŠ½è±¡æ¥å®šä¹‰å¥‘çº¦&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;3-é‡Œæ°æ›¿æ¢åŸåˆ™&#34;&gt;3. é‡Œæ°æ›¿æ¢åŸåˆ™
&lt;/h5&gt;&lt;p&gt;å­ç±»å‹å¿…é¡»èƒ½å¤Ÿæ›¿æ¢å…¶çˆ¶ç±»å‹è€Œä¸å½±å“ç¨‹åºçš„æ­£ç¡®æ€§ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å­ç±»åº”è¯¥æ‰©å±•çˆ¶ç±»çš„è¡Œä¸ºï¼Œè€Œä¸æ˜¯æ”¹å˜å®ƒ&lt;/li&gt;
&lt;li&gt;å­ç±»ä¸åº”è¯¥åŠ å¼ºå‰ç½®æ¡ä»¶æˆ–å‰Šå¼±åç½®æ¡ä»¶&lt;/li&gt;
&lt;li&gt;å­ç±»ä¸åº”è¯¥æŠ›å‡ºçˆ¶ç±»ä¸ä¼šæŠ›å‡ºçš„å¼‚å¸¸&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;4-æ¥å£éš”ç¦»åŸåˆ™&#34;&gt;4. æ¥å£éš”ç¦»åŸåˆ™
&lt;/h5&gt;&lt;p&gt;å®¢æˆ·ç«¯ä¸åº”è¯¥è¢«è¿«ä¾èµ–ä»–ä»¬ä¸ä½¿ç”¨çš„æ¥å£&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å°†å¤§æ¥å£æ‹†åˆ†ä¸ºæ›´å°ã€æ›´å…·ä½“çš„æ¥å£&lt;/li&gt;
&lt;li&gt;ç±»ä¸åº”è¯¥å®ç°ä»–ä»¬ä¸éœ€è¦çš„æ–¹æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;5-ä¾èµ–å€’ç½®&#34;&gt;5. ä¾èµ–å€’ç½®
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;é«˜å±‚æ¨¡å—&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â†’&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;ä¾èµ–&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â†’&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;æŠ½è±¡æ¥å£&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â†&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;å®ç°&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â†&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;ä½å±‚æ¨¡å—&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
        </item>
        <item>
        <title>Tokioæ•´ä½“ç»“æ„</title>
        <link>http://localhost:1313/rust/tokio/tokio%E6%95%B4%E4%BD%93%E7%BB%93%E6%9E%84/</link>
        <pubDate>Wed, 03 Sep 2025 12:28:49 +0800</pubDate>
        
        <guid>http://localhost:1313/rust/tokio/tokio%E6%95%B4%E4%BD%93%E7%BB%93%E6%9E%84/</guid>
        <description>&lt;h3 id=&#34;tokioæ¶æ„è®¾è®¡&#34;&gt;Tokioæ¶æ„è®¾è®¡
&lt;/h3&gt;&lt;p&gt;Tokioæ˜¯ä¸€ä¸ªåŸºäºRustçš„ä¸€æ­¥è¿è¡Œæ—¶ï¼Œå…¶è®¾è®¡éå¸¸ç²¾å¦™ã€‚&lt;/p&gt;
&lt;h4 id=&#34;1-æ ¸å¿ƒç»„ä»¶&#34;&gt;1. æ ¸å¿ƒç»„ä»¶
&lt;/h4&gt;&lt;h5 id=&#34;11-reactorååº”å™¨&#34;&gt;1.1 Reactorï¼ˆååº”å™¨ï¼‰
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;I/Oå¤šè·¯å¤ç”¨&lt;/strong&gt;ï¼šåŸºäºæ“ä½œç³»ç»Ÿæä¾›çš„epoll/kqueue/IOCPç­‰æœºåˆ¶&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;äº‹ä»¶å¾ªç¯&lt;/strong&gt;ï¼š è´Ÿè´£ç›‘å¬å’Œåˆ†å‘I/Oäº‹ä»¶&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;éé˜»å¡I/O&lt;/strong&gt;ï¼šæ‰€æœ‰I/Oæ“ä½œéƒ½æ˜¯éé˜»å¡çš„&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;12-scheduler&#34;&gt;1.2 Scheduler
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å·¥ä½œçªƒå–&lt;/strong&gt;ï¼šä½¿ç”¨å·¥ä½œçªƒå–ç®—æ³•åœ¨å¤šçº¿ç¨‹é—´åˆ†é…ä»»åŠ¡&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¤šçº¿ç¨‹æ‰§è¡Œå™¨&lt;/strong&gt;ï¼š é»˜è®¤ä½¿ç”¨å¤šçº¿ç¨‹æ‰§è¡Œå™¨æé«˜å¹¶å‘æ€§èƒ½&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä»»åŠ¡è°ƒåº¦&lt;/strong&gt;ï¼š è´Ÿè´£ä»»åŠ¡çš„è°ƒåº¦å’Œæ‰§è¡Œ&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;13-å¼‚æ­¥ä»»åŠ¡&#34;&gt;1.3 å¼‚æ­¥ä»»åŠ¡
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;FutureæŠ½è±¡&lt;/strong&gt;ï¼šåŸºäºRustçš„Future trait&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é›¶æˆæœ¬æŠ½è±¡&lt;/strong&gt;ï¼šåˆ©ç”¨Rustçš„æ‰€æœ‰æƒç³»ç»Ÿå®ç°é›¶æˆæœ¬æŠ½è±¡&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä»»åŠ¡çªƒå–&lt;/strong&gt;ï¼š ä»»åŠ¡å¯ä»¥åœ¨ä¸åŒçº¿ç¨‹é—´è¿ç§»ä»¥å¹³è¡¡è´Ÿè½½&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;2-è®¾è®¡å“²å­¦&#34;&gt;2. è®¾è®¡å“²å­¦
&lt;/h4&gt;&lt;h5 id=&#34;21-é›¶æˆæœ¬æŠ½è±¡&#34;&gt;2.1 é›¶æˆæœ¬æŠ½è±¡
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨Rustçš„é›¶æˆæœ¬æŠ½è±¡åŸåˆ™&lt;/li&gt;
&lt;li&gt;è¿è¡Œæ—¶æ£€æŸ¥è½¬å˜ä¸ºç¼–è¯‘æ—¶æ£€æŸ¥&lt;/li&gt;
&lt;li&gt;æœ€å°åŒ–è¿è¡Œæ—¶å¼€é”€&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;22-æ¨¡å—åŒ–è®¾è®¡&#34;&gt;2.2 æ¨¡å—åŒ–è®¾è®¡
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;æ ¸å¿ƒç»„ä»¶è§£è€¦&lt;/li&gt;
&lt;li&gt;å¯æŒ‰éœ€é€‰æ‹©åŠŸèƒ½&lt;/li&gt;
&lt;li&gt;å¯æ‰©å±•æ€§å¼º&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;23-æ€§èƒ½ä¼˜å…ˆ&#34;&gt;2.3 æ€§èƒ½ä¼˜å…ˆ
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;æ— é”æ•°æ®ç»“æ„&lt;/li&gt;
&lt;li&gt;æœ€å°åŒ–å†…å­˜åˆ†é…&lt;/li&gt;
&lt;li&gt;æ‰¹å¤„ç†ç³»ç»Ÿè°ƒç”¨&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;3-å…³é”®å®ç°ç»†èŠ‚&#34;&gt;3. å…³é”®å®ç°ç»†èŠ‚
&lt;/h4&gt;&lt;h5 id=&#34;31-ä»»åŠ¡è°ƒåº¦&#34;&gt;3.1 ä»»åŠ¡è°ƒåº¦
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// ç®€åŒ–çš„ä»»åŠ¡ç»“æ„
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Task&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// ä»»åŠ¡çŠ¶æ€
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    state: &lt;span style=&#34;color:#a6e22e&#34;&gt;AtomicUsize&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// ä»»åŠ¡æ‰§è¡Œä½“
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    future: &lt;span style=&#34;color:#a6e22e&#34;&gt;Mutex&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Pin&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Box&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;dyn&lt;/span&gt; Future&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Output &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; ()&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &amp;#39;static&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// ä»»åŠ¡é˜Ÿåˆ—ç›¸å…³
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    next: &lt;span style=&#34;color:#a6e22e&#34;&gt;UnsafeCell&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;*&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt; Task&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;32-ioé©±åŠ¨&#34;&gt;3.2 I/Oé©±åŠ¨
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨mioåº“æä¾›è·¨å¹³å°I/Oå¤šè·¯å¤ç”¨&lt;/li&gt;
&lt;li&gt;åŸºäºreadinessæ¨¡å‹&lt;/li&gt;
&lt;li&gt;é›¶æ‹·è´æ”¯æŒ&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;4-é«˜çº§ç‰¹æ€§&#34;&gt;4. é«˜çº§ç‰¹æ€§
&lt;/h4&gt;&lt;h5 id=&#34;41-å¼‚æ­¥ç­‰å¾…&#34;&gt;4.1 å¼‚æ­¥ç­‰å¾…
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// å¼‚æ­¥å‡½æ•°ç¤ºä¾‹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;async&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;process&lt;/span&gt;(socket: &lt;span style=&#34;color:#a6e22e&#34;&gt;TcpStream&lt;/span&gt;) -&amp;gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;io&lt;/span&gt;::Result&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;()&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; buf &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; [&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;; &lt;span style=&#34;color:#ae81ff&#34;&gt;1024&lt;/span&gt;];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// å¼‚æ­¥è¯»å–
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; n &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; socket.read(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; buf).&lt;span style=&#34;color:#66d9ef&#34;&gt;await&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;?&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// å¤„ç†æ•°æ®...
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    Ok(())
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;42-å®šæ—¶å™¨&#34;&gt;4.2 å®šæ—¶å™¨
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;åˆ†å±‚æ—¶é—´è½®å®ç°&lt;/li&gt;
&lt;li&gt;é«˜ç²¾åº¦å®šæ—¶å™¨&lt;/li&gt;
&lt;li&gt;ä½å¼€é”€&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;5-æ€§èƒ½ä¼˜åŒ–&#34;&gt;5. æ€§èƒ½ä¼˜åŒ–
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;é›¶æˆæœ¬æŠ½è±¡&lt;/strong&gt;ï¼šåˆ©ç”¨Rustçš„æ‰€æœ‰æƒç³»ç»Ÿ&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ— é”ç¼–ç¨‹&lt;/strong&gt;ï¼š å‡å°‘é”äº‰ç”¨&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ‰¹å¤„ç†&lt;/strong&gt;ï¼šåˆå¹¶ç³»ç»Ÿè°ƒç”¨&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å†…å­˜æ± &lt;/strong&gt;ï¼šå‡å°‘å†…å­˜åˆ†é…&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;6-ç”Ÿæ€ç³»ç»Ÿ&#34;&gt;6. ç”Ÿæ€ç³»ç»Ÿ
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;tokio-util&lt;/strong&gt;ï¼šå®ç”¨å·¥å…·&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;tokio-stream&lt;/strong&gt;ï¼šæµå¤„ç†&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;tokio-tungstenite&lt;/strong&gt;: WebSocket&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;tonic&lt;/strong&gt;: gRPCå®ç°&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;7è®¾è®¡å–èˆ&#34;&gt;7.è®¾è®¡å–èˆ
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;å¤æ‚æ€§&lt;/strong&gt;ï¼šä¸ºäº†æ€§èƒ½æ¥æ”¶æ›´é«˜çš„å®ç°å¤æ‚åº¦&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å­¦ä¹ æ›²çº¿&lt;/strong&gt;ï¼š éœ€è¦ç†è§£Rustå¼‚æ­¥ç¼–ç¨‹æ¨¡å‹&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è°ƒè¯•éš¾åº¦&lt;/strong&gt;ï¼š å¼‚æ­¥è°ƒè¯•ç›¸å¯¹å›°éš¾&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;8æœ€ä½³å®è·µ&#34;&gt;8.æœ€ä½³å®è·µ
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;é¿å…åœ¨å¼‚æ­¥ä»£ç ä¸­æ‰§è¡Œé˜»å¡æ“ä½œ&lt;/li&gt;
&lt;li&gt;åˆç†ä½¿ç”¨&lt;code&gt;spawn_blocking&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;æ³¨æ„ä»»åŠ¡å–æ¶ˆå’Œæ¸…ç†&lt;/li&gt;
&lt;li&gt;åˆç†è®¾ç½®å·¥ä½œçº¿ç¨‹&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Tokio çš„è®¾è®¡ä½“ç°äº† Rust è¯­è¨€çš„æ ¸å¿ƒç†å¿µï¼šé›¶æˆæœ¬æŠ½è±¡ã€å†…å­˜å®‰å…¨å’Œå¹¶å‘å®‰å…¨ã€‚å®ƒçš„æ¶æ„è®¾è®¡ä½¿å…¶æˆä¸ºæ„å»ºé«˜æ€§èƒ½ã€å¯é ç½‘ç»œåº”ç”¨çš„ç†æƒ³é€‰æ‹©ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;å¼‚æ­¥æ¦‚å¿µ&#34;&gt;å¼‚æ­¥æ¦‚å¿µ
&lt;/h4&gt;&lt;h5 id=&#34;future-traitåŸºç¡€&#34;&gt;Future TraitåŸºç¡€
&lt;/h5&gt;&lt;p&gt;&lt;code&gt;Future&lt;/code&gt;æ˜¯Rustå¼‚æ­¥ç¼–ç¨‹çš„æ ¸å¿ƒtraitï¼Œå®šä¹‰åœ¨æ ‡å‡†åº“&lt;code&gt;std::future&lt;/code&gt;ä¸­ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;trait&lt;/span&gt; Future {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;type&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Output&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;poll&lt;/span&gt;(self: &lt;span style=&#34;color:#a6e22e&#34;&gt;Pin&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; Self&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;, cx: &lt;span style=&#34;color:#66d9ef&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;mut&lt;/span&gt; Context&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&amp;#39;_&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;) -&amp;gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Poll&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Self::Output&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h6 id=&#34;å…³é”®ç‚¹&#34;&gt;å…³é”®ç‚¹
&lt;/h6&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Output&lt;/code&gt;ï¼šFutureå®Œæˆæ—¶äº§ç”Ÿçš„å€¼ç±»å‹&lt;/li&gt;
&lt;li&gt;&lt;code&gt;poll&lt;/code&gt;ï¼šæ£€æŸ¥Futureæ˜¯å¦å®Œæˆ
&lt;ul&gt;
&lt;li&gt;è¿”å›&lt;code&gt;Poll::Ready(Output)&lt;/code&gt;ï¼šå®Œæˆå¹¶è¿”å›ç»“æœ&lt;/li&gt;
&lt;li&gt;è¿”å›&lt;code&gt;Poll::Pending&lt;/code&gt;ï¼šæœªå®Œæˆï¼Œç¨åéœ€è¦å†æ¬¡è½®è¯¢&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;asyncawaitè¯­æ³•ç³–&#34;&gt;Async/Awaitè¯­æ³•ç³–
&lt;/h5&gt;&lt;p&gt;&lt;code&gt;async/await&lt;/code&gt;æ˜¯Rustæä¾›çš„è¯­æ³•ç³–ï¼Œè®©å¼‚æ­¥ä»£ç çœ‹èµ·æ¥åƒåŒæ­¥ä»£ç ï¼š&lt;/p&gt;
&lt;h6 id=&#34;1-åŸºæœ¬ç”¨æ³•&#34;&gt;1. åŸºæœ¬ç”¨æ³•
&lt;/h6&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;async&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;fetch_data&lt;/span&gt;() -&amp;gt; Result&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;String, io::Error&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;//å¼‚æ­¥æ“ä½œ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; data &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; read_from_network().&lt;span style=&#34;color:#66d9ef&#34;&gt;await&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;?&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  Ok(data)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h6 id=&#34;2-å±•å¼€å½¢å¼&#34;&gt;2. å±•å¼€å½¢å¼
&lt;/h6&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;FetchDataFuture&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    state: &lt;span style=&#34;color:#a6e22e&#34;&gt;State&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;enum&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;State&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    Start,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    AwaitingRead(ReadFuture),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    Done,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;impl&lt;/span&gt; Future &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; FetchDataFuture {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;type&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Output&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Result&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;String, io::Error&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;poll&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; self: &lt;span style=&#34;color:#a6e22e&#34;&gt;Pin&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; Self&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;, cx: &lt;span style=&#34;color:#66d9ef&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;mut&lt;/span&gt; Context&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&amp;#39;_&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;) -&amp;gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Poll&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Self::Output&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;loop&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;match&lt;/span&gt; self.state {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                State::Start &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; read_fut &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; read_from_network();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    self.state &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; State::AwaitingRead(read_fut);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                State::AwaitingRead(&lt;span style=&#34;color:#66d9ef&#34;&gt;ref&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; fut) &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#66d9ef&#34;&gt;match&lt;/span&gt; Pin::new(fut).poll(cx) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                        Poll::Ready(Ok(data)) &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                            &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; Poll::Ready(Ok(data));
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                        Poll::Ready(Err(e)) &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                            &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; Poll::Ready(Err(e));
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                        Poll::Pending &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                            &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; Poll::Pending;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                State::Done &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;panic!&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;poll called after completion&amp;#34;&lt;/span&gt;),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;å…³é”®æ¦‚å¿µ&#34;&gt;å…³é”®æ¦‚å¿µ
&lt;/h4&gt;&lt;h6 id=&#34;1-é›¶æˆæœ¬æŠ½è±¡&#34;&gt;1. é›¶æˆæœ¬æŠ½è±¡
&lt;/h6&gt;&lt;ul&gt;
&lt;li&gt;å¼‚æ­¥ä»£ç åœ¨ç¼–è¯‘æ—¶è½¬æ¢ä¸ºçŠ¶æ€æœº&lt;/li&gt;
&lt;li&gt;æ²¡æœ‰è¿è¡Œæ—¶å¼€é”€ï¼Œä¸æ‰‹å†™çš„å›è°ƒä»£ç æ€§èƒ½ç›¸å½“&lt;/li&gt;
&lt;/ul&gt;
&lt;h6 id=&#34;2-æ‰§è¡Œå™¨executor&#34;&gt;2. æ‰§è¡Œå™¨(Executor)
&lt;/h6&gt;&lt;ul&gt;
&lt;li&gt;è´Ÿè´£è°ƒåº¦å’Œæ‰§è¡ŒFuture&lt;/li&gt;
&lt;li&gt;Tokioæä¾›äº†é«˜æ€§èƒ½çš„æ‰§è¡Œå™¨å®ç°&lt;/li&gt;
&lt;/ul&gt;
&lt;h6 id=&#34;3-wakeræœºåˆ¶&#34;&gt;3. Wakeræœºåˆ¶
&lt;/h6&gt;&lt;ul&gt;
&lt;li&gt;å½“Futureè¿”å›&lt;code&gt;Poll::Pending&lt;/code&gt;æ—¶ï¼Œä¼šæ³¨å†Œä¸€ä¸ªWaker&lt;/li&gt;
&lt;li&gt;å½“Futureå¯ä»¥ç»§ç»­æ‰§è¡Œæ—¶ï¼Œé€šè¿‡Wakeré€šçŸ¥æ‰§è¡Œå™¨&lt;/li&gt;
&lt;/ul&gt;
&lt;h6 id=&#34;4-taskä¸future&#34;&gt;4. Taskä¸Future
&lt;/h6&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Task&lt;/code&gt;æ˜¯æ‰§è¡Œå•å…ƒï¼Œæ˜¯Tokioè°ƒåº¦çš„åŸºæœ¬å•ä½ï¼Œè´Ÿè´£æ‰§è¡Œä¸€ä¸ªé¡¶å±‚çš„Futureåˆ°å®Œæˆ&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Future&lt;/code&gt;æ˜¯è®¡ç®—å•å…ƒï¼Œä»£è¡¨ä¸€ä¸ªå¼‚æ­¥è®¡ç®—ï¼Œä¸€ä¸ªTaskå¯ä»¥åŒ…å«å¤šä¸ªåµŒå¥—çš„Futureï¼Œè¿™äº›åµŒå¥—çš„Futureå…±äº«åŒä¸€ä¸ªTaskçš„æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>Androidäº‹ä»¶åˆ†å‘æœºåˆ¶è¯¦è§£</title>
        <link>http://localhost:1313/android-develop/android%E4%BA%8B%E4%BB%B6%E5%88%86%E5%8F%91%E6%9C%BA%E5%88%B6%E8%AF%A6%E8%A7%A3/</link>
        <pubDate>Tue, 02 Sep 2025 21:41:39 +0800</pubDate>
        
        <guid>http://localhost:1313/android-develop/android%E4%BA%8B%E4%BB%B6%E5%88%86%E5%8F%91%E6%9C%BA%E5%88%B6%E8%AF%A6%E8%A7%A3/</guid>
        <description>&lt;h4 id=&#34;1-äº‹ä»¶åˆ†å‘çš„åŸºæœ¬æµç¨‹&#34;&gt;1. äº‹ä»¶åˆ†å‘çš„åŸºæœ¬æµç¨‹
&lt;/h4&gt;&lt;h5 id=&#34;11-äº‹ä»¶ä¼ é€’é¡ºåº&#34;&gt;1.1 äº‹ä»¶ä¼ é€’é¡ºåº
&lt;/h5&gt;&lt;p&gt;äº‹ä»¶ä»Activityå¼€å§‹ï¼ŒæŒ‰ç…§ä¸€ä¸‹é¡ºåºä¼ é€’ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Activity -&amp;gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Window&lt;/span&gt; -&amp;gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;DecorView&lt;/span&gt; -&amp;gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;ViewGroup&lt;/span&gt; -&amp;gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;View&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;12-æ ¸å¿ƒæ–¹æ³•&#34;&gt;1.2 æ ¸å¿ƒæ–¹æ³•
&lt;/h5&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;dispatchTouchEvent&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;è´Ÿè´£äº‹ä»¶çš„åˆ†å‘&lt;/li&gt;
&lt;li&gt;è¿”å›trueè¡¨ç¤ºäº‹ä»¶è¢«æ¶ˆè´¹ï¼Œfalseè¡¨ç¤ºæœªæ¶ˆè´¹&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;onInterceptTouchEvent&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;åªæœ‰ViewGroupæ‰æœ‰çš„æ–¹æ³•&lt;/li&gt;
&lt;li&gt;ç”¨äºæ‹¦æˆªäº‹ä»¶ï¼Œè¿”å›trueè¡¨ç¤ºæ‹¦æˆªäº‹ä»¶&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;onTouchEvent&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;å¤„ç†ç‚¹å‡»äº‹ä»¶&lt;/li&gt;
&lt;li&gt;è¿”å›trueè¡¨ç¤ºäº‹ä»¶è¢«æ¶ˆè´¹&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;2-æºç åˆ†æ&#34;&gt;2. æºç åˆ†æ
&lt;/h4&gt;&lt;h5 id=&#34;21-activityçš„dispatchtouchevent&#34;&gt;2.1 Activityçš„dispatchTouchEvent
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;boolean&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;dispatchTouchEvent&lt;/span&gt;(MotionEvent ev) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (ev.&lt;span style=&#34;color:#a6e22e&#34;&gt;getAction&lt;/span&gt;() &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; MotionEvent.&lt;span style=&#34;color:#a6e22e&#34;&gt;ACTION_DOWN&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        onUserInteraction(); &lt;span style=&#34;color:#75715e&#34;&gt;// ç©ºæ–¹æ³•ï¼Œå¯ä»¥é‡å†™&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (getWindow().&lt;span style=&#34;color:#a6e22e&#34;&gt;superDispatchTouchEvent&lt;/span&gt;(ev)) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;; &lt;span style=&#34;color:#75715e&#34;&gt;// äº‹ä»¶è¢«æ¶ˆè´¹&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; onTouchEvent(ev); &lt;span style=&#34;color:#75715e&#34;&gt;// å¦‚æœæ‰€æœ‰Viewéƒ½æ²¡æœ‰å¤„ç†ï¼Œåˆ™è°ƒç”¨Activityçš„onTouchEvent&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;22-viewgroupçš„dispatchtouchevent&#34;&gt;2.2 ViewGroupçš„dispatchTouchEvent
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;boolean&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;dispatchTouchEvent&lt;/span&gt;(MotionEvent ev) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// 1. æ£€æŸ¥æ˜¯å¦æ‹¦æˆª&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;final&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;boolean&lt;/span&gt; intercepted;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (actionMasked &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; MotionEvent.&lt;span style=&#34;color:#a6e22e&#34;&gt;ACTION_DOWN&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;||&lt;/span&gt; mFirstTouchTarget &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;final&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;boolean&lt;/span&gt; disallowIntercept &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; (mGroupFlags &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt; FLAG_DISALLOW_INTERCEPT) &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt; 0;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#f92672&#34;&gt;!&lt;/span&gt;disallowIntercept) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            intercepted &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; onInterceptTouchEvent(ev);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            ev.&lt;span style=&#34;color:#a6e22e&#34;&gt;setAction&lt;/span&gt;(action); &lt;span style=&#34;color:#75715e&#34;&gt;// æ¢å¤actionï¼Œé˜²æ­¢è¢«ä¿®æ”¹&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        } &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            intercepted &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    } &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// æ²¡æœ‰ç›®æ ‡å¤„ç†è¯¥äº‹ä»¶ï¼Œä¹Ÿä¸æ‹¦æˆª&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        intercepted &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// 2. å¦‚æœä¸æ‹¦æˆªï¼Œåˆ™å¯»æ‰¾å¯ä»¥å¤„ç†äº‹ä»¶çš„å­View&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#f92672&#34;&gt;!&lt;/span&gt;canceled &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;!&lt;/span&gt;intercepted) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// éå†å­Viewï¼Œå¯»æ‰¾å¯ä»¥å¤„ç†äº‹ä»¶çš„View&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; (&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; i &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; childrenCount &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt; 1; i &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;=&lt;/span&gt; 0; i&lt;span style=&#34;color:#f92672&#34;&gt;--&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;final&lt;/span&gt; View child &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; children&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;i&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (child.&lt;span style=&#34;color:#a6e22e&#34;&gt;dispatchTouchEvent&lt;/span&gt;(ev)) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#75715e&#34;&gt;// æ‰¾åˆ°å¯ä»¥å¤„ç†äº‹ä»¶çš„å­View&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                mFirstTouchTarget &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; addTouchTarget(child, idBitsToAssign);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#66d9ef&#34;&gt;break&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// 3. åˆ†å‘äº‹ä»¶&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (mFirstTouchTarget &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// æ²¡æœ‰å­Viewå¤„ç†äº‹ä»¶ï¼Œè°ƒç”¨çˆ¶ç±»çš„dispatchTouchEvent&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        handled &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;super&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;dispatchTouchEvent&lt;/span&gt;(ev);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    } &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// å°†äº‹ä»¶åˆ†å‘ç»™ç›®æ ‡View&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        TouchTarget target &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; mFirstTouchTarget;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;while&lt;/span&gt; (target &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;final&lt;/span&gt; View child &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; target.&lt;span style=&#34;color:#a6e22e&#34;&gt;child&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (child.&lt;span style=&#34;color:#a6e22e&#34;&gt;dispatchTouchEvent&lt;/span&gt;(ev)) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                handled &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            target &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; target.&lt;span style=&#34;color:#a6e22e&#34;&gt;next&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; handled;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h6 id=&#34;å®é™…æ‰§è¡Œæµç¨‹&#34;&gt;å®é™…æ‰§è¡Œæµç¨‹
&lt;/h6&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;DOWNäº‹ä»¶&lt;/strong&gt;:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;mFirstTouchTarget == null&lt;/code&gt;ï¼Œè¿›å…¥å¯»æ‰¾ç›®æ ‡Viewçš„å¾ªç¯&lt;/li&gt;
&lt;li&gt;è°ƒç”¨&lt;code&gt;child.dispatchTouchEvent(ev)&lt;/code&gt;ï¼ˆç¬¬ä¸€æ¬¡ï¼‰&lt;/li&gt;
&lt;li&gt;å¦‚æœæŸä¸ªå­Viewè¿”å›trueï¼Œè®¾ç½®&lt;code&gt;mFirstTouchTarget&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;MOVE/UPäº‹ä»¶&lt;/strong&gt;:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;mFirstTouchTarget != null&lt;/code&gt;ï¼Œç›´æ¥è¿›å…¥åˆ†å‘æµç¨‹&lt;/li&gt;
&lt;li&gt;è°ƒç”¨&lt;code&gt;target.child.dispatchTouchEvent(ev)&lt;/code&gt;ï¼ˆç¬¬äºŒæ¬¡ï¼‰&lt;/li&gt;
&lt;li&gt;ä¸ä¼šå†æ¬¡è¿›å…¥å¯»æ‰¾ç›®æ ‡Viewçš„å¾ªç¯&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;TouchTarget&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;TouchTargetæ˜¯é“¾è¡¨ç»“æ„ä¸»è¦ç›®çš„æ˜¯ä¸ºäº†æ”¯æŒå¤šç‚¹è§¦æ§&lt;/li&gt;
&lt;li&gt;ä» &lt;code&gt;mFirstTouchTarget&lt;/code&gt; å¼€å§‹éå†é“¾è¡¨&lt;/li&gt;
&lt;li&gt;æ£€æŸ¥æ¯ä¸ª &lt;code&gt;TouchTarget&lt;/code&gt; çš„ &lt;code&gt;pointerIdBits&lt;/code&gt; æ˜¯å¦ä¸å½“å‰äº‹ä»¶çš„ &lt;code&gt;desiredPointerIdBits&lt;/code&gt; åŒ¹é…&lt;/li&gt;
&lt;li&gt;å¦‚æœæ‰¾åˆ°åŒ¹é…çš„ &lt;code&gt;TouchTarget&lt;/code&gt;ï¼Œåˆ™å°†äº‹ä»¶åˆ†å‘ç»™å¯¹åº”çš„å­View&lt;/li&gt;
&lt;li&gt;å¦‚æœæ²¡æœ‰æ‰¾åˆ°åŒ¹é…çš„ &lt;code&gt;TouchTarget&lt;/code&gt;ï¼Œåˆ™è¿”å›false&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h6 id=&#34;ä¸ºä»€ä¹ˆè¿™æ ·è®¾è®¡&#34;&gt;ä¸ºä»€ä¹ˆè¿™æ ·è®¾è®¡
&lt;/h6&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;æ€§èƒ½ä¼˜åŒ–&lt;/strong&gt;ï¼šé¿å…æ¯æ¬¡äº‹ä»¶éƒ½éå†æ‰€æœ‰å­View&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;äº‹ä»¶ä¸€è‡´æ€§&lt;/strong&gt;ï¼šç¡®ä¿åŒä¸€äº‹ä»¶åºåˆ—ç”±åŒä¸€Viewå¤„ç†&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ­£ç¡®æ€§&lt;/strong&gt;ï¼šé˜²æ­¢äº‹ä»¶åºåˆ—è¢«æ‹†åˆ†åˆ°ä¸åŒViewå¤„ç†&lt;/li&gt;
&lt;/ol&gt;
&lt;h5 id=&#34;23-viewçš„dispatchtouchevent&#34;&gt;2.3 Viewçš„dispatchTouchEvent
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;boolean&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;dispatchTouchEvent&lt;/span&gt;(MotionEvent event) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// 1. é¦–å…ˆæ£€æŸ¥OnTouchListener&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ListenerInfo li &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; mListenerInfo;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (li &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; li.&lt;span style=&#34;color:#a6e22e&#34;&gt;mOnTouchListener&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; (mViewFlags &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt; ENABLED_MASK) &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; ENABLED 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; li.&lt;span style=&#34;color:#a6e22e&#34;&gt;mOnTouchListener&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;onTouch&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;this&lt;/span&gt;, event)) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// 2. ç„¶åè°ƒç”¨onTouchEvent&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (onTouchEvent(event)) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;3-äº‹ä»¶åˆ†å‘çš„å…³é”®ç‚¹&#34;&gt;3. äº‹ä»¶åˆ†å‘çš„å…³é”®ç‚¹
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;äº‹ä»¶åºåˆ—&lt;/strong&gt;ï¼šä»ACTION_DOWNå¼€å§‹ï¼Œåˆ°ACTION_UPæˆ–ACTION_CANCELç»“æŸçš„ä¸€äº›åˆ—äº‹ä»¶&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;äº‹ä»¶æ‹¦æˆª&lt;/strong&gt;ï¼šViewGroupå¯ä»¥é€šè¿‡onIterceptTouchEventæ‹¦æˆªäº‹ä»¶&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;äº‹ä»¶æ¶ˆè´¹&lt;/strong&gt;ï¼šViewå¯ä»¥é€šè¿‡onTouchEventæˆ–OnTouchListeneræ¶ˆè´¹äº‹ä»¶&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;äº‹ä»¶ä¼ é€’&lt;/strong&gt;ï¼šé»˜è®¤æƒ…å†µä¸‹ï¼Œäº‹ä»¶ä¼šä»ä¸Šåˆ°ä¸‹ä¼ é€’ï¼Œç›´åˆ°è¢«æ¶ˆè´¹&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;4-å¸¸è§é¢è¯•é¢˜&#34;&gt;4. å¸¸è§é¢è¯•é¢˜
&lt;/h4&gt;&lt;h5 id=&#34;41-äº‹ä»¶åˆ†å‘çš„æµç¨‹æ˜¯æ€æ ·çš„&#34;&gt;4.1 äº‹ä»¶åˆ†å‘çš„æµç¨‹æ˜¯æ€æ ·çš„
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;ä»Activityçš„dispatchTouchEventå¼€å§‹&lt;/li&gt;
&lt;li&gt;ç»è¿‡Windowã€DecorViewã€ViewGroup&lt;/li&gt;
&lt;li&gt;æœ€ç»ˆåˆ°è¾¾å…·ä½“çš„View&lt;/li&gt;
&lt;li&gt;å¦‚æœæ²¡æœ‰ä»»ä½•Viewæ¶ˆè´¹äº‹ä»¶ï¼Œäº‹ä»¶ä¼šå›ä¼ åˆ°Activityçš„onTouchEvent&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;42-ontouchå’Œontoucheventçš„åŒºåˆ«&#34;&gt;4.2 onTouchå’ŒonTouchEventçš„åŒºåˆ«
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;onTouchæ˜¯View.OnTouchListeneræ¥å£ä¸­çš„æ–¹æ³•&lt;/li&gt;
&lt;li&gt;onTouchEventæ˜¯Viewçš„æ–¹æ³•&lt;/li&gt;
&lt;li&gt;onTouchçš„ä¼˜å…ˆçº§é«˜äºonTouchEvent&lt;/li&gt;
&lt;li&gt;å¦‚æœonTouchè¿”å›trueï¼Œåˆ™onTouchä¸ä¼šè¢«è°ƒç”¨&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;43-å¦‚ä½•è§£å†³æ»‘åŠ¨å†²çª&#34;&gt;4.3 å¦‚ä½•è§£å†³æ»‘åŠ¨å†²çª
&lt;/h5&gt;&lt;ol&gt;
&lt;li&gt;å¤–éƒ¨æ‹¦æˆªæ³•ï¼šé‡å†™çˆ¶å®¹å™¨çš„onInterceptTouchEventæ–¹æ³•&lt;/li&gt;
&lt;li&gt;å†…éƒ¨æ‹¦æˆªæ³•ï¼š é‡å†™å­å…ƒç´ çš„dispatchTouchEventæ–¹æ³•ï¼Œç»“åˆrequestDisallowInterceptTouchEventæ–¹æ³•&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;5-å®é™…åº”ç”¨ç¤ºä¾‹&#34;&gt;5. å®é™…åº”ç”¨ç¤ºä¾‹
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// è‡ªå®šä¹‰ViewGroupï¼Œå¤„ç†å·¦å³æ»‘åŠ¨å†²çª&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;CustomViewPager&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;extends&lt;/span&gt; ViewGroup {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;float&lt;/span&gt; mLastX;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;float&lt;/span&gt; mLastY;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;@Override&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;boolean&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;onInterceptTouchEvent&lt;/span&gt;(MotionEvent ev) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;boolean&lt;/span&gt; intercepted &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;float&lt;/span&gt; x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; ev.&lt;span style=&#34;color:#a6e22e&#34;&gt;getX&lt;/span&gt;();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;float&lt;/span&gt; y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; ev.&lt;span style=&#34;color:#a6e22e&#34;&gt;getY&lt;/span&gt;();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;switch&lt;/span&gt; (ev.&lt;span style=&#34;color:#a6e22e&#34;&gt;getAction&lt;/span&gt;()) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;case&lt;/span&gt; MotionEvent.&lt;span style=&#34;color:#a6e22e&#34;&gt;ACTION_DOWN&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                mLastX &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; x;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                mLastY &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; y;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                intercepted &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#66d9ef&#34;&gt;break&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;case&lt;/span&gt; MotionEvent.&lt;span style=&#34;color:#a6e22e&#34;&gt;ACTION_MOVE&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#66d9ef&#34;&gt;float&lt;/span&gt; deltaX &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Math.&lt;span style=&#34;color:#a6e22e&#34;&gt;abs&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt; mLastX);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#66d9ef&#34;&gt;float&lt;/span&gt; deltaY &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Math.&lt;span style=&#34;color:#a6e22e&#34;&gt;abs&lt;/span&gt;(y &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt; mLastY);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#75715e&#34;&gt;// æ¨ªå‘æ»‘åŠ¨è·ç¦»å¤§äºçºµå‘æ»‘åŠ¨è·ç¦»æ—¶æ‹¦æˆªäº‹ä»¶&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (deltaX &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; deltaY) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    intercepted &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                } &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    intercepted &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#66d9ef&#34;&gt;break&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;case&lt;/span&gt; MotionEvent.&lt;span style=&#34;color:#a6e22e&#34;&gt;ACTION_UP&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                intercepted &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#66d9ef&#34;&gt;break&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        mLastX &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; x;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        mLastY &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; y;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; intercepted;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
        </item>
        <item>
        <title>Reqwestæ¨¡å—æ¶æ„è§£æ</title>
        <link>http://localhost:1313/rust/reqwest/reqwest%E6%A8%A1%E5%9D%97%E6%9E%B6%E6%9E%84%E8%A7%A3%E6%9E%90/</link>
        <pubDate>Tue, 02 Sep 2025 16:42:46 +0800</pubDate>
        
        <guid>http://localhost:1313/rust/reqwest/reqwest%E6%A8%A1%E5%9D%97%E6%9E%B6%E6%9E%84%E8%A7%A3%E6%9E%90/</guid>
        <description>&lt;p&gt;ä»é¡¶å±‚ç»“æ„æ¥ç†è§£reqwestçš„æ¨¡å—ç»„ç»‡ï¼š&lt;/p&gt;
&lt;h4 id=&#34;æ ¸å¿ƒæ¨¡å—&#34;&gt;æ ¸å¿ƒæ¨¡å—
&lt;/h4&gt;&lt;h5 id=&#34;1-async_impl&#34;&gt;1. async_impl/
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;å¼‚æ­¥HTTPå®¢æˆ·ç«¯å®ç°&lt;/li&gt;
&lt;li&gt;åŒ…å«&lt;code&gt;Client&lt;/code&gt;ã€&lt;code&gt;Reqwest&lt;/code&gt;ã€&lt;code&gt;Response&lt;/code&gt;ç­‰æ ¸å¿ƒç±»å‹&lt;/li&gt;
&lt;li&gt;åŸºäº&lt;code&gt;hyper&lt;/code&gt;åº“å®ç°&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;2-blocking&#34;&gt;2. blocking/
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;åŒæ­¥HTTPå®¢æˆ·ç«¯&lt;/li&gt;
&lt;li&gt;å†…éƒ¨ä½¿ç”¨&lt;code&gt;std::thread&lt;/code&gt;å°è£…å¼‚æ­¥è°ƒç”¨&lt;/li&gt;
&lt;li&gt;æä¾›é˜»å¡å¼API&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;3-dns&#34;&gt;3. dns/
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;DNSè§£æåŠŸèƒ½&lt;/li&gt;
&lt;li&gt;æ”¯æŒç³»ç»ŸDNSå’Œè‡ªå®šä¹‰è§£æå™¨&lt;/li&gt;
&lt;li&gt;åŒ…å«&lt;code&gt;GaiResolver&lt;/code&gt;ç­‰å®ç°&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;4-proxy&#34;&gt;4. proxy/
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;ä»£ç†æ”¯æŒ&lt;/li&gt;
&lt;li&gt;å¤„ç†HTTP/HTTPS/SOCKSä»£ç†&lt;/li&gt;
&lt;li&gt;ä»£ç†è‡ªåŠ¨å‘ç°å’Œè®¤è¯&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;5-tls&#34;&gt;5. tls
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;å®‰å…¨ä¼ è¾“å±‚å®ç°&lt;/li&gt;
&lt;li&gt;æ”¯æŒnative-tlså’Œrustls&lt;/li&gt;
&lt;li&gt;è¯ä¹¦å’Œèº«ä»½ç®¡ç†&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;6-redirect&#34;&gt;6. redirect/
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;é‡å®šå‘å¤„ç†&lt;/li&gt;
&lt;li&gt;æ”¯æŒè‡ªå®šä¹‰é‡å®šå‘ç­–ç•¥&lt;/li&gt;
&lt;li&gt;å¤„ç†3xxçŠ¶æ€ç &lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;7-wasm&#34;&gt;7. wasm/
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;WebAssemblyå¹³å°ç‰¹å®šå®ç°&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨æµè§ˆå™¨Fetch API&lt;/li&gt;
&lt;li&gt;é’ˆå¯¹Webç¯å¢ƒä¼˜åŒ–&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;è¾…åŠ©æ¨¡å—&#34;&gt;è¾…åŠ©æ¨¡å—
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;cookie/&lt;/strong&gt; - Cookieç®¡ç†&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;multipart/&lt;/strong&gt; - å¤šéƒ¨åˆ†è¡¨å•æ•°æ®å¤„ç†&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;retry/&lt;/strong&gt; - è¯·æ±‚é‡è¯•æœºåˆ¶&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;util/&lt;/strong&gt; - å·¥å…·å‡½æ•°å’Œè¾…åŠ©ç±»å‹&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;ç‰¹æ€§å¼€å…³&#34;&gt;ç‰¹æ€§å¼€å…³
&lt;/h4&gt;&lt;p&gt;é€šè¿‡Cargo featuresæ§åˆ¶åŠŸèƒ½ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;default-tls&lt;/code&gt; - é»˜è®¤TLSå®ç°&lt;/li&gt;
&lt;li&gt;&lt;code&gt;native-tls&lt;/code&gt; - ä½¿ç”¨ç³»ç»ŸåŸç”ŸTLS&lt;/li&gt;
&lt;li&gt;&lt;code&gt;rustls&lt;/code&gt; - ä½¿ç”¨rustlsçº¯Rustå®ç°&lt;/li&gt;
&lt;li&gt;&lt;code&gt;blocking&lt;/code&gt; -  å¯ç”¨åŒæ­¥API&lt;/li&gt;
&lt;li&gt;&lt;code&gt;cookies&lt;/code&gt; - Cookieæ”¯æŒ&lt;/li&gt;
&lt;li&gt;&lt;code&gt;json&lt;/code&gt; -  JSONåºåˆ—åŒ–æ”¯æŒ&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//lib.rs
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#[cfg(feature = &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;blocking&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;)]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;mod&lt;/span&gt; blocking;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#[cfg(feature = &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;cookies&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;)]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;mod&lt;/span&gt; cookie;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åœ¨ &lt;code&gt;Cargo.toml&lt;/code&gt; ä¸­é€šè¿‡ features æ§åˆ¶å“ªäº›å®ç°è¢«ç¼–è¯‘ã€‚&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Iterator</title>
        <link>http://localhost:1313/rust/std/iterator/</link>
        <pubDate>Tue, 02 Sep 2025 10:12:13 +0800</pubDate>
        
        <guid>http://localhost:1313/rust/std/iterator/</guid>
        <description>&lt;p&gt;æ ‡å‡†åº“çš„&lt;code&gt;Iterator&lt;/code&gt;æºç å­¦ä¹ ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å¸¸è§å˜é‡å‘½å&lt;/strong&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;acc&lt;/code&gt;ï¼šæ˜¯â€œaccumulatorâ€ï¼ˆç´¯åŠ å™¨ï¼‰çš„ç¼©å†™ï¼Œåœ¨å‡½æ•°å¼ç¼–ç¨‹ä¸­ç”¨äºè¡¨ç¤ºç´¯ç§¯è®¡ç®—è¿‡ç¨‹ä¸­çš„ä¸­é—´ç»“æœã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;fold&lt;/code&gt;ï¼šæ˜¯ä¸€ä¸ªé«˜é˜¶å‡½æ•°ï¼Œç”¨äºå°†é›†åˆä¸­çš„æ‰€æœ‰å…ƒç´ é€šè¿‡ä¸€ä¸ªæ“ä½œâ€œæŠ˜å â€æˆå•ä¸ªå€¼ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;1-åŸºç¡€ç»“æ„&#34;&gt;1. åŸºç¡€ç»“æ„
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//è¿™æ˜¯ Iterator trait çš„å®šä¹‰
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;trait&lt;/span&gt; Iterator {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;type&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Item&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;//å¿…éœ€æ–¹æ³•ï¼šè·å–ä¸‹ä¸€ä¸ªå…ƒç´ 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;next&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; self) -&amp;gt; Option&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Self::Item&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;//æä¾›é»˜è®¤å®ç°æ–¹æ³•
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;//è¿™é‡Œæœ‰å¾ˆå¤šå®ç”¨æ–¹æ³•ï¼Œæˆ‘ä»¬é‡ç‚¹çœ‹å‡ ä¸ªå…³é”®çš„
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;2-æ ¸å¿ƒæ–¹æ³•&#34;&gt;2. æ ¸å¿ƒæ–¹æ³•
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;next&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; self) -&amp;gt; Option&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Self::Item&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;è¿™æ˜¯è¿­ä»£å™¨æœ€åŸºç¡€çš„æ–¹æ³•&lt;/li&gt;
&lt;li&gt;æ¯æ¬¡è°ƒç”¨è¿”å›&lt;code&gt;Some(item)&lt;/code&gt;æˆ–&lt;code&gt;None&lt;/code&gt;ï¼ˆè¡¨ç¤ºè¿­ä»£ç»“æŸï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;3-å¸¸ç”¨æ–¹æ³•å®ç°&#34;&gt;3. å¸¸ç”¨æ–¹æ³•å®ç°
&lt;/h4&gt;&lt;p&gt;è®©æˆ‘ä»¬çœ‹çœ‹&lt;code&gt;map&lt;/code&gt;çš„å®ç°ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;map&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;B, F&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;(self, f: &lt;span style=&#34;color:#a6e22e&#34;&gt;F&lt;/span&gt;) -&amp;gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Map&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Self, F&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;where&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    Self: Sized,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    F: FnMut(Self::Item) -&amp;gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;B&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    Map::new(self, f)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// Map ç»“æ„ä½“
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Map&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;I, F&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    iter: &lt;span style=&#34;color:#a6e22e&#34;&gt;I&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    f: &lt;span style=&#34;color:#a6e22e&#34;&gt;F&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;impl&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;B, I: Iterator, F&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; Iterator &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; Map&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;I, F&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;where&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    F: FnMut(I::Item) -&amp;gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;B&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;type&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Item&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; B;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;next&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; self) -&amp;gt; Option&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;B&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      	&lt;span style=&#34;color:#75715e&#34;&gt;//ç”±Optionçš„æ–¹æ³•å®Œæˆmapæ“ä½œ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        self.iter.next().map(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; self.f)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;4-å…¶ä»–é‡è¦æ–¹æ³•&#34;&gt;4. å…¶ä»–é‡è¦æ–¹æ³•
&lt;/h4&gt;&lt;p&gt;&lt;code&gt;collect&lt;/code&gt;æ–¹æ³•&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;collect&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;B: &lt;span style=&#34;color:#a6e22e&#34;&gt;FromIterator&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Self::Item&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt;(self) -&amp;gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;B&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;where&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    Self: Sized,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    FromIterator::from_iter(self)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;filter&lt;/code&gt;æ–¹æ³•&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;filter&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;P&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;(self, predicate: &lt;span style=&#34;color:#a6e22e&#34;&gt;P&lt;/span&gt;) -&amp;gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Filter&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Self, P&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;where&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    Self: Sized,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    P: FnMut(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;Self::Item) -&amp;gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    Filter::new(self, predicate)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;5-é«˜çº§ç‰¹æ€§-try_fold&#34;&gt;5. é«˜çº§ç‰¹æ€§ï¼š &lt;code&gt;try_fold&lt;/code&gt;
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;try_fold&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;B, F, R&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; self, init: &lt;span style=&#34;color:#a6e22e&#34;&gt;B&lt;/span&gt;, &lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; f: &lt;span style=&#34;color:#a6e22e&#34;&gt;F&lt;/span&gt;) -&amp;gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;R&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;where&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    Self: Sized,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    F: FnMut(B, Self::Item) -&amp;gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;R&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    R: &lt;span style=&#34;color:#a6e22e&#34;&gt;Try&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Output &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; B&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; accum &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; init;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;while&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; Some(x) &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; self.next() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        accum &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; f(accum, x)&lt;span style=&#34;color:#f92672&#34;&gt;?&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    Try::from_ok(accum)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;6-å®é™…ä½¿ç”¨ç¤ºä¾‹&#34;&gt;6. å®é™…ä½¿ç”¨ç¤ºä¾‹
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// è‡ªå®šä¹‰è¿­ä»£å™¨ç¤ºä¾‹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Counter&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    count: &lt;span style=&#34;color:#66d9ef&#34;&gt;usize&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    max: &lt;span style=&#34;color:#66d9ef&#34;&gt;usize&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;impl&lt;/span&gt; Iterator &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; Counter {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;type&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Item&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;usize&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;next&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; self) -&amp;gt; Option&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Self::Item&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; self.count &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt; self.max {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; result &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Some(self.count);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            self.count &lt;span style=&#34;color:#f92672&#34;&gt;+=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            result
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        } &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            None
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// ä½¿ç”¨è‡ªå®šä¹‰è¿­ä»£å™¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; sum: &lt;span style=&#34;color:#66d9ef&#34;&gt;usize&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Counter { count: &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;, max: &lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    .map(&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt;x&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; x &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    .filter(&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt;x&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; x &lt;span style=&#34;color:#f92672&#34;&gt;%&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    .sum();
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;7-è¿­ä»£å™¨ç»„åˆå™¨&#34;&gt;7. è¿­ä»£å™¨ç»„åˆå™¨
&lt;/h4&gt;&lt;p&gt;æ ‡å‡†åº“ä¸­è¿˜æœ‰è®¸å¤šæœ‰ç”¨çš„è¿­ä»£å™¨é€‚é…å™¨ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;take&lt;/code&gt;/&lt;code&gt;take_while&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;skip&lt;/code&gt;/&lt;code&gt;skip_while&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;zip&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;chain&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;enumerate&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;peekable&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;fuse&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;8-æ€§èƒ½è€ƒè™‘&#34;&gt;8. æ€§èƒ½è€ƒè™‘
&lt;/h4&gt;&lt;p&gt;Rustè¿­ä»£å™¨çš„é›¶æˆæœ¬æŠ½è±¡ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é€šå¸¸ä¼šè¢«ä¼˜åŒ–æˆä¸æ‰‹å†™å¾ªç¯ç›¸åŒçš„æœºå™¨ç &lt;/li&gt;
&lt;li&gt;å†…è”ä¼˜åŒ–ä½¿å¾—æ–¹æ³•è°ƒç”¨å¼€é”€è¢«æ¶ˆé™¤&lt;/li&gt;
&lt;li&gt;è¿­ä»£å™¨é“¾ä¼šè¢«ä¼˜åŒ–å½¢æˆå•ä¸ªå¾ªç¯&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;9-ç»“æ„&#34;&gt;9. ç»“æ„
&lt;/h4&gt;&lt;p&gt;è¿­ä»£å™¨å¤§éƒ¨åˆ†éœ€è¦æ¶ˆè€—selfçš„æ–¹æ³•ï¼Œéƒ½æ˜¯æ–°å»ºäº†ä¸€ä¸ªæ–°è¿­ä»£å™¨ï¼Œå¦‚&lt;code&gt;map&lt;/code&gt;ä¹‹äº&lt;code&gt;Map&lt;/code&gt;ï¼Œ&lt;code&gt;filter&lt;/code&gt;ä¹‹äº&lt;code&gt;Filter&lt;/code&gt;ã€‚è¿™ç§è®¾è®¡æ¨¡å¼ç§°ä¸ºâ€œè¿­ä»£å™¨é€‚é…å™¨æ¨¡å¼â€ï¼Œå®ƒæœ‰å‡ ä¸ªå…³é”®ä¼˜åŠ¿ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;æƒ°æ€§æ±‚å€¼&lt;/strong&gt;ï¼šæ„å»ºæ–°è¿­ä»£å™¨ä¸ä¼šç«‹å³æ‰§è¡Œè®¡ç®—ï¼Œç›´åˆ°è°ƒç”¨æ¶ˆè´¹æ–¹æ³•ï¼ˆå¦‚&lt;code&gt;collect&lt;/code&gt;æˆ–&lt;code&gt;for&lt;/code&gt;å¾ªç¯ï¼‰æ‰ä¼šçœŸæ­£å¤„ç†æ•°æ®ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç»„åˆæ€§&lt;/strong&gt;ï¼šæ¯ä¸ªé€‚é…å™¨åªå…³æ³¨å•ä¸€èŒè´£ï¼Œå¯ä»¥é€šè¿‡é“¾å¼è°ƒç”¨ä»»æ„ç»„åˆ&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å†…å­˜é«˜æ•ˆ&lt;/strong&gt;ï¼šä¸éœ€è¦ä¸ºä¸­é—´ç»“æœåˆ†é…é¢å¤–å†…å­˜ï¼Œæ•°æ®æµæ˜¯ç®¡é“å¼çš„ã€‚&lt;/li&gt;
&lt;/ol&gt;
</description>
        </item>
        <item>
        <title>Std_todolist</title>
        <link>http://localhost:1313/rust/std/std_todolist/</link>
        <pubDate>Tue, 02 Sep 2025 08:29:31 +0800</pubDate>
        
        <guid>http://localhost:1313/rust/std/std_todolist/</guid>
        <description>&lt;h1 id=&#34;rust-æ ‡å‡†åº“å­¦ä¹ æ¸…å•&#34;&gt;Rust æ ‡å‡†åº“å­¦ä¹ æ¸…å•
&lt;/h1&gt;&lt;h2 id=&#34;1-æ ¸å¿ƒåŸºç¡€&#34;&gt;1. æ ¸å¿ƒåŸºç¡€
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; &lt;code&gt;core::option&lt;/code&gt; - &lt;code&gt;Option&amp;lt;T&amp;gt;&lt;/code&gt; ç±»å‹&lt;/li&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; &lt;code&gt;core::result&lt;/code&gt; - &lt;code&gt;Result&amp;lt;T, E&amp;gt;&lt;/code&gt; ç±»å‹&lt;/li&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; &lt;code&gt;core::iter&lt;/code&gt; - è¿­ä»£å™¨&lt;/li&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; &lt;code&gt;core::marker&lt;/code&gt; - æ ‡è®° trait&lt;/li&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; &lt;code&gt;core::mem&lt;/code&gt; - å†…å­˜æ“ä½œ&lt;/li&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; &lt;code&gt;core::ops&lt;/code&gt; - æ“ä½œç¬¦é‡è½½&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;2-é›†åˆç±»å‹&#34;&gt;2. é›†åˆç±»å‹
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; &lt;code&gt;alloc::vec::Vec&lt;/code&gt; - åŠ¨æ€æ•°ç»„&lt;/li&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; &lt;code&gt;alloc::collections&lt;/code&gt; - é›†åˆç±»å‹
&lt;ul&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; &lt;code&gt;VecDeque&lt;/code&gt; - åŒç«¯é˜Ÿåˆ—&lt;/li&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; &lt;code&gt;LinkedList&lt;/code&gt; - åŒå‘é“¾è¡¨&lt;/li&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; &lt;code&gt;HashMap&lt;/code&gt;/&lt;code&gt;HashSet&lt;/code&gt; - å“ˆå¸Œè¡¨/é›†åˆ&lt;/li&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; &lt;code&gt;BTreeMap&lt;/code&gt;/&lt;code&gt;BTreeSet&lt;/code&gt; - Bæ ‘æ˜ å°„/é›†åˆ&lt;/li&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; &lt;code&gt;BinaryHeap&lt;/code&gt; - äºŒå‰å †&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;3-å­—ç¬¦ä¸²å¤„ç†&#34;&gt;3. å­—ç¬¦ä¸²å¤„ç†
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; &lt;code&gt;std::string::String&lt;/code&gt; - å¯å¢é•¿å­—ç¬¦ä¸²&lt;/li&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; &lt;code&gt;std::str&lt;/code&gt; - å­—ç¬¦ä¸²åˆ‡ç‰‡&lt;/li&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; &lt;a class=&#34;link&#34; href=&#34;cci:1://file:///Users/zed/ripgrep/crates/ignore/src/walk.rs:255:4-264:5&#34; &gt;std::fmt&lt;/a&gt; - æ ¼å¼åŒ–è¾“å‡º&lt;/li&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; &lt;a class=&#34;link&#34; href=&#34;cci:1://file:///Users/zed/ripgrep/crates/ignore/src/walk.rs:35:4-38:5&#34; &gt;std::path&lt;/a&gt; - è·¯å¾„å¤„ç†&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;4-å¹¶å‘ç¼–ç¨‹&#34;&gt;4. å¹¶å‘ç¼–ç¨‹
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; &lt;code&gt;std::thread&lt;/code&gt; - çº¿ç¨‹&lt;/li&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; &lt;code&gt;std::sync&lt;/code&gt; - åŒæ­¥åŸè¯­
&lt;ul&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; &lt;code&gt;Mutex&lt;/code&gt;/&lt;code&gt;RwLock&lt;/code&gt; - äº’æ–¥é”/è¯»å†™é”&lt;/li&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; &lt;code&gt;Arc&lt;/code&gt;/&lt;code&gt;Rc&lt;/code&gt; - åŸå­/å¼•ç”¨è®¡æ•°&lt;/li&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; &lt;code&gt;mpsc&lt;/code&gt; - å¤šç”Ÿäº§è€…å•æ¶ˆè´¹è€…é€šé“&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; &lt;code&gt;std::sync::atomic&lt;/code&gt; - åŸå­æ“ä½œ&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;5-å¼‚æ­¥ç¼–ç¨‹&#34;&gt;5. å¼‚æ­¥ç¼–ç¨‹
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; &lt;code&gt;std::future::Future&lt;/code&gt; - Future trait&lt;/li&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; &lt;code&gt;std::task&lt;/code&gt; - å¼‚æ­¥ä»»åŠ¡&lt;/li&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; &lt;code&gt;std::pin&lt;/code&gt; - å›ºå®šå†…å­˜&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;6-æ–‡ä»¶å’Œio&#34;&gt;6. æ–‡ä»¶å’ŒI/O
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; &lt;code&gt;std::fs&lt;/code&gt; - æ–‡ä»¶ç³»ç»Ÿæ“ä½œ&lt;/li&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; &lt;code&gt;std::io&lt;/code&gt; - è¾“å…¥/è¾“å‡º
&lt;ul&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; &lt;code&gt;Read&lt;/code&gt;/&lt;code&gt;Write&lt;/code&gt; traits&lt;/li&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; &lt;code&gt;BufReader&lt;/code&gt;/&lt;code&gt;BufWriter&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; &lt;code&gt;Stdout&lt;/code&gt;/&lt;code&gt;Stdin&lt;/code&gt;/&lt;code&gt;Stderr&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;7-é”™è¯¯å¤„ç†&#34;&gt;7. é”™è¯¯å¤„ç†
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; &lt;code&gt;std::error::Error&lt;/code&gt; - é”™è¯¯ trait&lt;/li&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; &lt;code&gt;std::panic&lt;/code&gt; - ææ…Œå¤„ç†&lt;/li&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; &lt;code&gt;std::result&lt;/code&gt; - é”™è¯¯å¤„ç†æƒ¯ç”¨æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;8-æ—¶é—´å’Œæ—¥æœŸ&#34;&gt;8. æ—¶é—´å’Œæ—¥æœŸ
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; &lt;code&gt;std::time&lt;/code&gt; - æ—¶é—´å¤„ç†&lt;/li&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; &lt;code&gt;std::time::Duration&lt;/code&gt; - æŒç»­æ—¶é—´&lt;/li&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; &lt;code&gt;std::time::Instant&lt;/code&gt; - æ—¶é—´ç‚¹&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;9-ç±»å‹è½¬æ¢&#34;&gt;9. ç±»å‹è½¬æ¢
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; &lt;code&gt;std::convert&lt;/code&gt; - ç±»å‹è½¬æ¢
&lt;ul&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; &lt;code&gt;From&lt;/code&gt;/&lt;code&gt;Into&lt;/code&gt; traits&lt;/li&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; &lt;code&gt;TryFrom&lt;/code&gt;/&lt;code&gt;TryInto&lt;/code&gt; traits&lt;/li&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; &lt;code&gt;AsRef&lt;/code&gt;/&lt;code&gt;AsMut&lt;/code&gt; traits&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;10-å®ç³»ç»Ÿ&#34;&gt;10. å®ç³»ç»Ÿ
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; &lt;code&gt;std::macros&lt;/code&gt; - æ ‡å‡†å®&lt;/li&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; &lt;a class=&#34;link&#34; href=&#34;cci:1://file:///Users/zed/ripgrep/crates/ignore/src/walk.rs:255:4-264:5&#34; &gt;std::fmt&lt;/a&gt; - æ ¼å¼åŒ–å®&lt;/li&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; &lt;code&gt;std::assert&lt;/code&gt; - æ–­è¨€å®&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;å­¦ä¹ å»ºè®®&#34;&gt;å­¦ä¹ å»ºè®®
&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;æŒ‰é¡ºåºå­¦ä¹ &lt;/strong&gt;ï¼šä»æ ¸å¿ƒåŸºç¡€å¼€å§‹ï¼Œé€æ­¥æ·±å…¥&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åŠ¨æ‰‹å®è·µ&lt;/strong&gt;ï¼šä¸ºæ¯ä¸ªæ¨¡å—ç¼–å†™ç¤ºä¾‹ä»£ç &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é˜…è¯»æºç &lt;/strong&gt;ï¼šç†è§£æ ‡å‡†åº“çš„å®ç°&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å‚è€ƒæ–‡æ¡£&lt;/strong&gt;ï¼šå–„ç”¨ &lt;a class=&#34;link&#34; href=&#34;https://docs.rs&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;docs.rs&lt;/a&gt; å’Œ Rust å®˜æ–¹æ–‡æ¡£&lt;/li&gt;
&lt;/ol&gt;
</description>
        </item>
        <item>
        <title>RustçŸ¥è¯†é—®ç­”</title>
        <link>http://localhost:1313/rust/rust%E7%9F%A5%E8%AF%86%E9%97%AE%E7%AD%94/</link>
        <pubDate>Mon, 01 Sep 2025 17:16:28 +0800</pubDate>
        
        <guid>http://localhost:1313/rust/rust%E7%9F%A5%E8%AF%86%E9%97%AE%E7%AD%94/</guid>
        <description>&lt;h5 id=&#34;ä¸ºä»€ä¹ˆfnonceåªèƒ½è°ƒç”¨ä¸€æ¬¡&#34;&gt;ä¸ºä»€ä¹ˆFnOnceåªèƒ½è°ƒç”¨ä¸€æ¬¡
&lt;/h5&gt;&lt;h6 id=&#34;æºç åˆ†æ&#34;&gt;æºç åˆ†æ
&lt;/h6&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;trait&lt;/span&gt; FnOnce&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Args&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;type&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Output&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;extern&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;rust-call&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;call_once&lt;/span&gt;(self, args: &lt;span style=&#34;color:#a6e22e&#34;&gt;Args&lt;/span&gt;) -&amp;gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Self&lt;/span&gt;::Output;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol&gt;
&lt;li&gt;&lt;code&gt;self&lt;/code&gt;çš„å«ä¹‰
&lt;ul&gt;
&lt;li&gt;æ¥æ”¶å®ç°äº†&lt;code&gt;FnOnce&lt;/code&gt;çš„å…·ä½“ç±»å‹çš„å€¼&lt;/li&gt;
&lt;li&gt;è¿™ä¸ªå€¼ä¼šè¢«ç§»åŠ¨(move)è¿›æ–¹æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h6 id=&#34;å…·ä½“ä¾‹å­&#34;&gt;å…·ä½“ä¾‹å­
&lt;/h6&gt;&lt;p&gt;å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªé—­åŒ…:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; s &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; String::from(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;hello&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; f &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;||&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;println!&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;{}&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;, s);  &lt;span style=&#34;color:#75715e&#34;&gt;// è·å– s çš„æ‰€æœ‰æƒ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    s.len()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;};
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å½“è¿™ä¸ªé—­åŒ…å®ç°&lt;code&gt;FnOnce&lt;/code&gt;æ—¶&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// ç¼–è¯‘å™¨ç”Ÿæˆçš„ä»£ç ç±»ä¼¼è¿™æ ·ï¼š
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Closure&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    s: String,  &lt;span style=&#34;color:#75715e&#34;&gt;// æ•è·çš„ç¯å¢ƒå˜é‡
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;impl&lt;/span&gt; FnOnce&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;()&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; Closure {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;type&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Output&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;usize&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;call_once&lt;/span&gt;(self, _args: ()) -&amp;gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;usize&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;println!&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;{}&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;, self.s);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        self.s.len()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h6 id=&#34;è°ƒç”¨ç¤ºä¾‹&#34;&gt;è°ƒç”¨ç¤ºä¾‹
&lt;/h6&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; result &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; f();  &lt;span style=&#34;color:#75715e&#34;&gt;// ç­‰ä»·äº FnOnce::call_once(f, ())
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// è¿™é‡Œä¸èƒ½å†è°ƒç”¨ f()ï¼Œå› ä¸º f å·²ç»è¢«ç§»åŠ¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æœ€ç»ˆfæ‰€æœ‰æƒè¢«è½¬ç§»è¿›&lt;code&gt;call_once&lt;/code&gt;ï¼Œå¹¶éšç€call_onceçš„ç»“æŸè€Œ&lt;code&gt;drop&lt;/code&gt;äº†ï¼Œfè¢«é‡Šæ”¾äº†ï¼Œå†…éƒ¨æ•è·çš„æ‰€æœ‰æƒè‡ªç„¶ä¹Ÿè¢«é‡Šæ”¾ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;FnOnce&lt;/code&gt;ã€&lt;code&gt;FnMut&lt;/code&gt;ã€&lt;code&gt;Fn&lt;/code&gt;è¿™äº›æ˜¯æ ¹æ®å¦‚ä½•æ•è·ç¯å¢ƒè€ŒåŒºåˆ†çš„ï¼Œå¹¶ä¸å½±å“å‡½æ•°ç­¾åï¼Œ&lt;code&gt;FnMut&lt;/code&gt;ä¹Ÿå¯ä»¥æ¥æ”¶&lt;strong&gt;æ‰€æœ‰æƒå‚æ•°&lt;/strong&gt;&lt;/p&gt;
&lt;h5 id=&#34;ä»€ä¹ˆæ˜¯é›¶æˆæœ¬æŠ½è±¡&#34;&gt;ä»€ä¹ˆæ˜¯é›¶æˆæœ¬æŠ½è±¡
&lt;/h5&gt;&lt;p&gt;é›¶æˆæœ¬æŠ½è±¡çš„æ ¸å¿ƒå°±æ˜¯ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;ç¼–è¯‘æœŸå®Œæˆå·¥ä½œ&lt;/strong&gt;ï¼šç±»å‹æ£€æŸ¥ã€æ³›å‹å•æ€åŒ–ã€å†…è”ä¼˜åŒ–ç­‰åœ¨ç¼–è¯‘æ—¶å®Œæˆ&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é›¶è¿è¡Œæ—¶å¼€é”€&lt;/strong&gt;ï¼šä¸å¼•å…¥é¢å¤–çš„è¿è¡Œæ—¶æ£€æŸ¥æˆ–é—´æ¥è°ƒç”¨&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ— é¢å¤–å†…å­˜åˆ†é…&lt;/strong&gt;ï¼šé¿å…ä¸å¿…è¦çš„å †åˆ†é…ï¼Œå°½å¯èƒ½ä½¿ç”¨æ ˆå†…å­˜&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é€æ˜ä¼˜åŒ–&lt;/strong&gt;ï¼šé«˜çº§æŠ½è±¡åœ¨ç¼–è¯‘åç”Ÿæˆçš„æœºå™¨ç ä¸æ‰‹å†™åº•å±‚ä»£ç ç›¸å½“&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è¿™æ­£æ˜¯ Rust èƒ½åœ¨æä¾›é«˜çº§è¯­è¨€ç‰¹æ€§çš„åŒæ—¶ï¼Œä»èƒ½ä¿æŒä¸ C/C++ ç›¸åª²ç¾çš„æ€§èƒ½çš„å…³é”®æ‰€åœ¨ã€‚&lt;/p&gt;
</description>
        </item>
        <item>
        <title>æ–‡ä»¶ç³»ç»Ÿ</title>
        <link>http://localhost:1313/rust/%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/</link>
        <pubDate>Mon, 01 Sep 2025 17:12:26 +0800</pubDate>
        
        <guid>http://localhost:1313/rust/%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/</guid>
        <description>&lt;h4 id=&#34;æ–‡ä»¶ç³»ç»Ÿ&#34;&gt;æ–‡ä»¶ç³»ç»Ÿ
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;metadata&lt;/code&gt;:æœ¬è´¨ä¸Šå°±æ˜¯æè¿°æ–‡ä»¶ä¿¡æ¯çš„æ•°æ®&lt;/li&gt;
&lt;li&gt;ç¯å¢ƒå˜é‡å’Œé…ç½®æ–‡ä»¶
&lt;ul&gt;
&lt;li&gt;é…ç½®æ–‡ä»¶ï¼šå­˜å‚¨&lt;strong&gt;é»˜è®¤é…ç½®&lt;/strong&gt;æˆ–&lt;strong&gt;é™æ€é…ç½®&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;ç¯å¢ƒå˜é‡ï¼šæä¾›&lt;strong&gt;åŠ¨æ€è¦†ç›–&lt;/strong&gt;æˆ–&lt;strong&gt;ç¯å¢ƒç‰¹å®šé…ç½®&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æŒ‚è½½ï¼ˆMountï¼‰&lt;/strong&gt;ï¼š å°†&lt;strong&gt;å­˜å‚¨è®¾å¤‡&lt;/strong&gt;æˆ–&lt;strong&gt;æ–‡ä»¶ç³»ç»Ÿ&lt;/strong&gt;è¿æ¥åˆ°æ“ä½œç³»ç»Ÿç›®å½•æ ‘ä¸­ç‰¹å®šä½ç½®çš„è¿‡ç¨‹ã€‚è¿™ä¸ªè¿æ¥ç‚¹ç§°ä¸º&lt;strong&gt;æŒ‚è½½ç‚¹ï¼ˆMount Pointï¼‰&lt;/strong&gt;ã€‚ç±»æ¯”é—¨å’Œä»“åº“çš„å…³ç³»ã€‚&lt;/li&gt;
&lt;li&gt;æ–‡ä»¶è®¾å¤‡å·&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>æ¶æ„è®¾è®¡</title>
        <link>http://localhost:1313/rust/%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/</link>
        <pubDate>Mon, 01 Sep 2025 17:05:55 +0800</pubDate>
        
        <guid>http://localhost:1313/rust/%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/</guid>
        <description>&lt;h4 id=&#34;å¦‚ä½•åšå¥½èŒè´£åˆ†ç¦»&#34;&gt;å¦‚ä½•åšå¥½èŒè´£åˆ†ç¦»
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;ä»â€œæ€ä¹ˆå®ç°â€åˆ°â€œæ€ä¹ˆç»„åˆâ€
&lt;ul&gt;
&lt;li&gt;ä¸€ä½“å¼æ€ç»´ï¼šå†™ä¸€ä¸ªå‡½æ•°å®Œæˆæ‰€æœ‰åŠŸèƒ½&lt;/li&gt;
&lt;li&gt;åˆ†ç¦»å¼æ€ç»´ï¼šè¦è®¾è®¡å‡ ä¸ªç»„ä»¶ï¼Œç„¶åç»„åˆå®ƒä»¬å®ç°åŠŸèƒ½&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ä»â€œåŠŸèƒ½ä¼˜å…ˆâ€åˆ°â€œæµ‹è¯•ä¼˜å…ˆâ€
&lt;ul&gt;
&lt;li&gt;ä¸€ä½“å¼æ€ç»´ï¼šå…ˆå®ç°åŠŸèƒ½ï¼Œå†è€ƒè™‘æµ‹è¯•&lt;/li&gt;
&lt;li&gt;åˆ†ç¦»å¼æ€ç»´ï¼šå…ˆè€ƒè™‘æ€ä¹ˆæµ‹è¯•ï¼Œå€’æ¨å‡ºèŒè´£åˆ†ç¦»&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ripgrep&lt;/code&gt;çš„åˆ†ç¦»å¼æ¶æ„
&lt;ul&gt;
&lt;li&gt;cliå‚æ•° â†’ &lt;code&gt;LowArgs&lt;/code&gt; â†’ &lt;code&gt;HiArgs&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;æœç´¢ç›®æ ‡ï¼šåˆ†ä¸ºæ–‡ä»¶å‘ç°å’Œç›®æ ‡æœç´¢&lt;/li&gt;
&lt;li&gt;æ–‡ä»¶éå†å†æ¬¡åˆ†ç¦»ï¼šWalkDirï¼ˆè´Ÿè´£ç›®å½•æ ‘å½¢ç»“æ„è½¬ä¸ºçº¿æ€§çš„Iterï¼‰â†’ WalkEventDirï¼ˆè´Ÿè´£å‘é€äº‹ä»¶ï¼‰â†’ Walkï¼ˆæ·»åŠ å¿½ç•¥è§„åˆ™ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
</description>
        </item>
        <item>
        <title>è¯­æ³•é€ŸæŸ¥</title>
        <link>http://localhost:1313/rust/%E8%AF%AD%E6%B3%95%E9%80%9F%E6%9F%A5/</link>
        <pubDate>Mon, 01 Sep 2025 16:22:39 +0800</pubDate>
        
        <guid>http://localhost:1313/rust/%E8%AF%AD%E6%B3%95%E9%80%9F%E6%9F%A5/</guid>
        <description>&lt;h4 id=&#34;é›†åˆæˆ–è¿­ä»£å™¨&#34;&gt;é›†åˆæˆ–è¿­ä»£å™¨
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;drain()&lt;/code&gt;æ–¹æ³•ï¼šæ ¸å¿ƒåŠŸèƒ½æ˜¯ç§»é™¤é›†åˆä¸­æŒ‡å®šèŒƒå›´çš„å…ƒç´ ï¼ŒåŒæ—¶ä¿æŒé›†åˆçš„è¿ç»­æ€§ï¼Œæ˜¯ä¸€ç§æ¯”**å¤šæ¬¡è°ƒç”¨remove()**æ›´é«˜æ•ˆçš„æ‰¹é‡å¤„ç†æ–¹å¼&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;æ‰€æœ‰æƒ&#34;&gt;æ‰€æœ‰æƒ
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ‰€æœ‰æƒ&lt;/strong&gt;å’Œ&lt;strong&gt;å¯å˜æ€§&lt;/strong&gt;æ˜¯ç‹¬ç«‹çš„&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ‰€æœ‰æƒå®Œæ•´æ€§&lt;/strong&gt;ä¿æŠ¤é’ˆå¯¹é›†åˆ
&lt;ul&gt;
&lt;li&gt;é›†åˆéœ€è¦ä¿è¯æ‰€æœ‰å…ƒç´ ä½ç½®æœ‰æ•ˆ&lt;/li&gt;
&lt;li&gt;é›†åˆåœ¨å†…å­˜ä¸­æ˜¯è¿ç»­çš„&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ç»“æ„ä½“å…è®¸&lt;strong&gt;å­—æ®µè¢«è½¬ç§»èµ°æ‰€æœ‰æƒ&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;ç»“æ„ä½“å­—æ®µå…·æœ‰ç‹¬ç«‹æ€§ï¼Œå¸ƒå±€åœ¨ç¼–è¯‘æ—¶å¯çŸ¥&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ‰€æœ‰è€…ç¦»å¼€ä½œç”¨åŸŸï¼Œå€¼å°†è¢«ä¸¢å¼ƒ&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;å˜é‡å’Œç±»å‹&#34;&gt;å˜é‡å’Œç±»å‹
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;ref&lt;/code&gt;å’Œ&lt;code&gt;&amp;amp;&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&amp;amp;ç”¨äºåˆ›å»ºå¼•ç”¨&lt;/li&gt;
&lt;li&gt;&amp;amp;ç”¨äºæ¨¡å¼åŒ¹é…æ—¶ï¼Œè¡Œä½¿çš„æ˜¯è§£æ„æ“ä½œï¼ˆä¸€èˆ¬ä½œç”¨æ˜¯éšå¼è§£å¼•ç”¨ï¼‰&lt;/li&gt;
&lt;li&gt;refç”¨äºæ¨¡å¼åŒ¹é…ï¼Œè·å–å¼•ç”¨è€Œä¸æ˜¯è·å–æ‰€æœ‰æƒ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;&#39;a : &#39;b&lt;/code&gt;è¡¨ç¤º &lt;code&gt;&#39;a&lt;/code&gt;  &amp;gt;= &lt;code&gt;&#39;b&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;T: &#39;static&lt;/code&gt;:è¡¨ç¤ºç±»å‹&lt;strong&gt;Tå†…éƒ¨å­—æ®µ&lt;/strong&gt;è¦ä¹ˆæ²¡æœ‰å¼•ç”¨ï¼Œè¦ä¹ˆå¼•ç”¨éƒ½æ˜¯&lt;code&gt;&#39;static&lt;/code&gt;çš„&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;trait My Trait: &#39;static&lt;/code&gt;æˆ–&lt;code&gt;Box&amp;lt;dyn MyTrait + &#39;static&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å®ç°ç±»å‹&lt;/strong&gt;å¿…é¡»æ»¡è¶³ï¼š&lt;code&gt;Self: &#39;static&lt;/code&gt;æˆ–è€…æ²¡æœ‰å¼•ç”¨&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;(PathBuf, Path)&lt;/code&gt;ã€&lt;code&gt;(String, str)&lt;/code&gt;å’Œ&lt;code&gt;(BytesMut/Vec&amp;lt;u8&amp;gt;, &amp;amp;[u8]&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Pathï¼Œstréƒ½æ˜¯DSTç±»å‹&lt;/li&gt;
&lt;li&gt;PathBufå’ŒStringéƒ½æ˜¯æ‹¥æœ‰æ‰€æœ‰æƒçš„&lt;/li&gt;
&lt;li&gt;æ–‡ä»¶è·¯å¾„é•¿åº¦å’Œå­—ç¬¦ä¸²é•¿åº¦åœ¨ç¼–è¯‘æ—¶æœªçŸ¥&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;&amp;amp;buf&lt;/code&gt;å’Œ&lt;code&gt;&amp;amp;buf[..]&lt;/code&gt;çš„åŒºåˆ«&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;&amp;amp;buf&lt;/code&gt;è·å–æ•´ä¸ªæ•°ç»„çš„å¼•ç”¨ï¼Œç±»å‹æ˜¯&lt;code&gt;&amp;amp;[u8; N]&lt;/code&gt;æˆ–&lt;code&gt;&amp;amp;Vec&amp;lt;u8&amp;gt;&lt;/code&gt;ï¼ˆå›ºå®šå¤§å°æ•°ç»„ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;code&gt;&amp;amp;buf[..]&lt;/code&gt;è·å–æ•°ç»„çš„åˆ‡ç‰‡å¼•ç”¨ï¼Œç±»å‹æ˜¯&lt;code&gt;&amp;amp;[u8]&lt;/code&gt;ï¼ˆåŠ¨æ€å¤§å°åˆ‡ç‰‡ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ ¼å¼åŒ–è¾“å‡ºè¯­æ³•&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{[&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;å‚æ•°ç´¢å¼•&lt;/span&gt;]:[&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;å¡«å……å­—ç¬¦&lt;/span&gt;][&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;å¯¹é½æ–¹å¼&lt;/span&gt;][&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;å®½åº¦&lt;/span&gt;][.&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;ç²¾åº¦&lt;/span&gt;][&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;ç±»å‹&lt;/span&gt;]}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;fmt::Formatter&lt;/code&gt;æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„æ ¼å¼åŒ–ç¼“å†²åŒºï¼Œå¯ä»¥è¾“å‡ºåˆ°å­—ç¬¦ä¸²ã€stdoutã€æ–‡ä»¶ç­‰&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;ç»“æ„ä½“&#34;&gt;ç»“æ„ä½“
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;Rustä¸å…è®¸å°†structä¸­æŸä¸ªå­—æ®µæ ‡è®°ä¸ºå¯å˜&lt;/li&gt;
&lt;li&gt;Rustä¸­æºæ–‡ä»¶ï¼ˆ&lt;code&gt;.rs&lt;/code&gt;ï¼‰éšæ€§çš„è§†ä¸ºä¸€ä¸ªæ¨¡å—ï¼ŒåŒºåˆ«äº&lt;code&gt;mod&lt;/code&gt;çš„æ˜¾å¼å£°æ˜&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;é—­åŒ…&#34;&gt;é—­åŒ…
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;æ ¹æ®é—­åŒ…æ•è·ç¯å¢ƒæ–¹å¼å¯åˆ†ä¸ºä¸‰ç§ï¼Œæ³¨æ„åŒºåˆ†é—­åŒ… &lt;strong&gt;æ•è·çš„ç¯å¢ƒå˜é‡&lt;/strong&gt;å’Œ&lt;strong&gt;é—­åŒ…çš„å‚æ•°&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;FnOnce&lt;/code&gt;è·å–æ‰€æœ‰æƒ&lt;/li&gt;
&lt;li&gt;&lt;code&gt;FnMut&lt;/code&gt;è·å–å¯å˜å¼•ç”¨&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Fn&lt;/code&gt;è·å–ä¸å¯å˜å¼•ç”¨&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;å¹¶å‘ç¼–ç¨‹&#34;&gt;å¹¶å‘ç¼–ç¨‹
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;å¹¶å‘ç¼–ç¨‹ä¸»è¦æœ‰ä¸¤ç§æ ¸å¿ƒèŒƒå¼ï¼š&lt;strong&gt;å…±äº«çŠ¶æ€å¹¶å‘&lt;/strong&gt;å’Œ&lt;strong&gt;æ¶ˆæ¯ä¼ é€’å¹¶å‘&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;std::thread::scope&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;ç›¸å½“äº&lt;code&gt;thread::spwan&lt;/code&gt; + &lt;code&gt;thread::join&lt;/code&gt;ï¼Œä½†æ˜¯å®ƒä»¬åªèƒ½å€Ÿç”¨&lt;code&gt;&#39;static&lt;/code&gt;æˆ–è€…&lt;code&gt;move&lt;/code&gt;å˜é‡&lt;/li&gt;
&lt;li&gt;&lt;code&gt;scope&lt;/code&gt;æ²¡æœ‰ä»¥ä¸Šé™åˆ¶ï¼Œæœ‰ç¼–è¯‘å™¨çš„æ”¯æŒ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Mutex&lt;/code&gt;å’Œ&lt;code&gt;MutexGuard&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Mutex&lt;/code&gt;æ˜¯äº’æ–¥é”æœ¬èº«&lt;/li&gt;
&lt;li&gt;&lt;code&gt;MutexGuard&lt;/code&gt;æŒ‡è®¿é—®å—äº’æ–¥é”ä¿æŠ¤æ•°æ®çš„â€œè®¸å¯è¯â€æˆ–â€œé’¥åŒ™â€&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;park()/unpark&lt;/code&gt;å’Œ&lt;code&gt;sleep()&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;park()/unpark()&lt;/code&gt;ç²¾å‡†çš„æ§åˆ¶çº¿ç¨‹çš„ç¡çœ ï¼ˆparkï¼‰ä¸å”¤é†’ï¼ˆunparkï¼‰&lt;/li&gt;
&lt;li&gt;&lt;code&gt;sleep()&lt;/code&gt;åŸºäºæ—¶é—´è‡ªåŠ¨å”¤é†’ï¼Œæ— æ³•æå‰å”¤é†’&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>Option</title>
        <link>http://localhost:1313/rust/std/option/</link>
        <pubDate>Mon, 01 Sep 2025 10:59:09 +0800</pubDate>
        
        <guid>http://localhost:1313/rust/std/option/</guid>
        <description>&lt;p&gt;æ ‡å‡†åº“&lt;code&gt;Option&lt;/code&gt;æºç å­¦ä¹ &lt;/p&gt;
&lt;h4 id=&#34;åŸºç¡€ç»“æ„&#34;&gt;åŸºç¡€ç»“æ„
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#[derive(Copy, PartialEq, PartialOrd, Eq, Ord, Debug, Hash)]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#[rustc_diagnostic_item = &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Option&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#[stable(feature = &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;rust1&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;, since = &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;1.0.0&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;)]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;enum&lt;/span&gt; Option&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;T&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;/// No value
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;#[lang = &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;None&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;#[stable(feature = &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;rust1&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;, since = &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;1.0.0&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;)]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    None,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;/// Some value `T`
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;#[lang = &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Some&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;#[stable(feature = &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;rust1&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;, since = &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;1.0.0&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;)]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    Some(&lt;span style=&#34;color:#75715e&#34;&gt;#[stable(feature = &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;rust1&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;, since = &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;1.0.0&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;)]&lt;/span&gt; T),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;å­¦ä¹ ç‚¹&#34;&gt;å­¦ä¹ ç‚¹
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;#[lang = &amp;quot;...&amp;quot;]&lt;/code&gt;å±æ€§è¡¨ç¤ºè¿™æ˜¯è¯­è¨€é¡¹&lt;/li&gt;
&lt;li&gt;æ³›å‹å‚æ•°Tæ”¯æŒä»»ä½•ç±»å‹&lt;/li&gt;
&lt;li&gt;è‡ªåŠ¨æ´¾ç”Ÿå¤šä¸ªtrait(&lt;code&gt;Copy&lt;/code&gt;ï¼Œ&lt;code&gt;PartialEq&lt;/code&gt;ç­‰)&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;2-æ ¸å¿ƒæ–¹æ³•mapå’Œmap_or&#34;&gt;2. æ ¸å¿ƒæ–¹æ³•:&lt;code&gt;map&lt;/code&gt;å’Œ&lt;code&gt;map_or&lt;/code&gt;
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#[inline]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#[stable(feature = &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;rust1&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;, since = &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;1.0.0&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;)]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;map&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;U, F: FnOnce(T) -&amp;gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;U&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;(self, f: &lt;span style=&#34;color:#a6e22e&#34;&gt;F&lt;/span&gt;) -&amp;gt; Option&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;U&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;match&lt;/span&gt; self {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        Some(x) &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; Some(f(x)),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        None &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; None,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#[inline]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#[stable(feature = &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;rust1&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;, since = &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;1.0.0&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;)]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;map_or&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;U, F: FnOnce(T) -&amp;gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;U&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;(self, default: &lt;span style=&#34;color:#a6e22e&#34;&gt;U&lt;/span&gt;, f: &lt;span style=&#34;color:#a6e22e&#34;&gt;F&lt;/span&gt;) -&amp;gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;U&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;match&lt;/span&gt; self {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        Some(t) &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; f(t),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        None &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; default,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;å­¦ä¹ ç‚¹-1&#34;&gt;å­¦ä¹ ç‚¹
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;mapä¿ç•™Some/Noneç»“æ„&lt;/li&gt;
&lt;li&gt;map_oræä¾›é»˜è®¤å€¼&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨FnOnceå› ä¸ºé—­åŒ…æœ€å¤šè¢«è°ƒç”¨ä¸€æ¬¡&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;3è§£å¼•ç”¨å®ç°&#34;&gt;3.è§£å¼•ç”¨å®ç°
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#[stable(feature = &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;rust1&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;, since = &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;1.0.0&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;)]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;impl&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;T: &lt;span style=&#34;color:#a6e22e&#34;&gt;Deref&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; Deref &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; Option&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;T&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;type&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Target&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Option&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;T::Target&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;deref&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;self) -&amp;gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;Self&lt;/span&gt;::Target {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;match&lt;/span&gt; self {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            Some(t) &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; Some(t.deref()),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            None &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;None,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;å­¦ä¹ ç‚¹-2&#34;&gt;å­¦ä¹ ç‚¹
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;ä¸º&lt;code&gt;Option&amp;lt;Box&amp;lt;T&amp;gt;&amp;gt;&lt;/code&gt;ç­‰ç±»å‹æä¾›è‡ªåŠ¨è§£å¼•ç”¨&lt;/li&gt;
&lt;li&gt;å®ç°&lt;code&gt;Deref&lt;/code&gt;è€Œä¸æ˜¯ç›´æ¥å®ç°æ–¹æ³•ï¼Œä¿æŒä¸€è‡´æ€§&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;4-and_thenå’Œor_else&#34;&gt;4. &lt;code&gt;and_then&lt;/code&gt;å’Œ&lt;code&gt;or_else&lt;/code&gt;
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#[inline]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#[stable(feature = &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;rust1&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;, since = &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;1.0.0&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;)]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;and_then&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;U, F: FnOnce(T) -&amp;gt; Option&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;U&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt;(self, f: &lt;span style=&#34;color:#a6e22e&#34;&gt;F&lt;/span&gt;) -&amp;gt; Option&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;U&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;match&lt;/span&gt; self {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        Some(x) &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; f(x),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        None &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; None,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#[inline]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#[stable(feature = &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;rust1&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;, since = &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;1.0.0&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;)]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;or_else&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;F: FnOnce() -&amp;gt; Option&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;T&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt;(self, f: &lt;span style=&#34;color:#a6e22e&#34;&gt;F&lt;/span&gt;) -&amp;gt; Option&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;T&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;match&lt;/span&gt; self {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        Some(x) &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; Some(x),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        None &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; f(),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;å­¦ä¹ ç‚¹-3&#34;&gt;å­¦ä¹ ç‚¹
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;and_then&lt;/code&gt;ç”¨äºé“¾å¼æ“ä½œ&lt;/li&gt;
&lt;li&gt;&lt;code&gt;or_else&lt;/code&gt;æä¾›å›é€€é€»è¾‘&lt;/li&gt;
&lt;li&gt;é—­åŒ…&lt;code&gt;F&lt;/code&gt;åªåœ¨éœ€è¦æ—¶è°ƒç”¨&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;5-transposeæ–¹æ³•&#34;&gt;5. &lt;code&gt;transpose&lt;/code&gt;æ–¹æ³•
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#[inline]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#[stable(feature = &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;transpose_result&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;, since = &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;1.33.0&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;)]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;transpose&lt;/span&gt;(self) -&amp;gt; Result&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Option&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;T, E&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;match&lt;/span&gt; self {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        Some(Ok(ok)) &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; Ok(Some(ok)),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        Some(Err(err)) &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; Err(err),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        None &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; Ok(None),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;å­¦ä¹ ç‚¹-4&#34;&gt;å­¦ä¹ ç‚¹
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;åœ¨&lt;code&gt;Option&lt;/code&gt;å’Œ&lt;code&gt;Result&lt;/code&gt;ä¹‹é—´è½¬æ¢&lt;/li&gt;
&lt;li&gt;ä¿æŒé”™è¯¯ä¼ æ’­è¯­ä¹‰&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;6-zipå’Œzip_with&#34;&gt;6. &lt;code&gt;zip&lt;/code&gt;å’Œ&lt;code&gt;zip_with&lt;/code&gt;
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#[stable(feature = &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;option_zip_option&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;, since = &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;1.46.0&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;)]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;zip&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;U&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;(self, other: Option&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;U&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;) -&amp;gt; Option&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;(T, U)&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;match&lt;/span&gt; (self, other) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        (Some(a), Some(b)) &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; Some((a, b)),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        _ &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; None,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#[unstable(feature = &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;option_zip&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;, issue = &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;70086&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;)]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;zip_with&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;U, F: FnOnce(T) -&amp;gt; Option&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;U&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt;(self, f: &lt;span style=&#34;color:#a6e22e&#34;&gt;F&lt;/span&gt;) -&amp;gt; Option&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;U&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;match&lt;/span&gt; self {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        Some(x) &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; f(x),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        None &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; None,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;å­¦ä¹ ç‚¹-5&#34;&gt;å­¦ä¹ ç‚¹
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;zip&lt;/code&gt;ç»„åˆä¸¤ä¸ª&lt;code&gt;Option&lt;/code&gt;å€¼&lt;/li&gt;
&lt;li&gt;&lt;code&gt;zip_with&lt;/code&gt;æä¾›æ›´çµæ´»çš„è½¬æ¢&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨å…ƒç»„æ¨¡å¼åŒ¹é…å¤„ç†ç»„åˆé€»è¾‘&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;7-æ€§èƒ½ä¼˜åŒ–optiont&#34;&gt;7. æ€§èƒ½ä¼˜åŒ–ï¼š&lt;code&gt;Option&amp;lt;&amp;amp;T&amp;gt;&lt;/code&gt;
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// ç¼–è¯‘å™¨å¯¹ Option&amp;lt;&amp;amp;T&amp;gt; æœ‰ç‰¹æ®Šä¼˜åŒ–
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// size_of::&amp;lt;Option&amp;lt;&amp;amp;T&amp;gt;&amp;gt;() == size_of::&amp;lt;&amp;amp;T&amp;gt;()
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#[stable(feature = &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;rust1&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;, since = &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;1.0.0&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;)]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;impl&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;T&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; Option&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;amp;&lt;/span&gt;T&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;#[inline]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;copied&lt;/span&gt;(self) -&amp;gt; Option&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;T&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;where&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        T: Copy,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        self.map(&lt;span style=&#34;color:#f92672&#34;&gt;|&amp;amp;&lt;/span&gt;t&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; t)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;#[inline]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;cloned&lt;/span&gt;(self) -&amp;gt; Option&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;T&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;where&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        T: Clone,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        self.map(&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt;t&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; t.clone())
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;å­¦ä¹ ç‚¹-6&#34;&gt;å­¦ä¹ ç‚¹
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;é›¶æˆæœ¬æŠ½è±¡&lt;/li&gt;
&lt;li&gt;ä¸ºå¼•ç”¨ç±»å‹æä¾›ç‰¹åŒ–å®ç°&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Copy&lt;/code&gt;å’Œ&lt;code&gt;Clone&lt;/code&gt;çš„åŒºåˆ«å¤„ç†&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>Result</title>
        <link>http://localhost:1313/rust/std/result/</link>
        <pubDate>Mon, 01 Sep 2025 10:21:06 +0800</pubDate>
        
        <guid>http://localhost:1313/rust/std/result/</guid>
        <description>&lt;p&gt;æ ‡å‡†åº“çš„&lt;code&gt;Result&lt;/code&gt;æºç å­¦ä¹ ã€‚&lt;/p&gt;
&lt;h4 id=&#34;1-åŸºç¡€ç»“æ„&#34;&gt;1. åŸºç¡€ç»“æ„
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#[must_use = &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;this `Result` may be an `Err` variant, which should be handled&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;enum&lt;/span&gt; Result&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;T, E&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;/// Contains the success value
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;#[lang = &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Ok&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;#[stable(feature = &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;rust1&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;, since = &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;1.0.0&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;)]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    Ok(&lt;span style=&#34;color:#75715e&#34;&gt;#[stable(feature = &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;rust1&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;, since = &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;1.0.0&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;)]&lt;/span&gt; T),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;/// Contains the error value
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;#[lang = &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Err&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;#[stable(feature = &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;rust1&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;, since = &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;1.0.0&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;)]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    Err(&lt;span style=&#34;color:#75715e&#34;&gt;#[stable(feature = &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;rust1&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;, since = &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;1.0.0&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;)]&lt;/span&gt; E),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;å­¦ä¹ ç‚¹&#34;&gt;å­¦ä¹ ç‚¹
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;#[must_use]&lt;/code&gt;å±æ€§ç¡®ä¿å¼€å‘è€…å¿…é¡»å¤„ç†å¯èƒ½çš„é”™è¯¯&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨æ³›å‹&lt;code&gt;T&lt;/code&gt;å’Œ&lt;code&gt;E&lt;/code&gt;æ”¯æŒä»»ä½•ç±»å‹&lt;/li&gt;
&lt;li&gt;&lt;code&gt;#[lang]&lt;/code&gt;å±æ€§è¡¨ç¤ºè¿™æ˜¯è¯­è¨€é¡¹(lang item)&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;2-åŸºç¡€æ–¹æ³•is_okå’Œis_err&#34;&gt;2. åŸºç¡€æ–¹æ³•ï¼š&lt;code&gt;is_ok&lt;/code&gt;å’Œ&lt;code&gt;is_err&lt;/code&gt;
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#[inline]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#[stable(feature = &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;rust1&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;, since = &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;1.0.0&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;)]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;is_ok&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;self) -&amp;gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;matches!&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;self, Ok(_))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;å­¦ä¹ ç‚¹-1&#34;&gt;å­¦ä¹ ç‚¹
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;#[inline]&lt;/code&gt;æç¤ºç¼–è¯‘å™¨å†…è”ä¼˜åŒ–&lt;/li&gt;
&lt;li&gt;&lt;code&gt;const fn&lt;/code&gt; è¡¨ç¤ºç¼–è¯‘æœŸå¯æ±‚å€¼&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨&lt;code&gt;matches!&lt;/code&gt;å®è¿›è¡Œæ¨¡å¼åŒ¹é…&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;3-æ‰€æœ‰æƒç®¡ç†as_ref&#34;&gt;3. æ‰€æœ‰æƒç®¡ç†ï¼š&lt;code&gt;as_ref&lt;/code&gt;
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#[inline]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#[stable(feature = &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;rust1&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;, since = &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;1.0.0&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;)]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;as_ref&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;self) -&amp;gt; Result&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;amp;&lt;/span&gt;T, &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;E&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;match&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;self {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    Ok(&lt;span style=&#34;color:#66d9ef&#34;&gt;ref&lt;/span&gt; x) &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; Ok(x),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    Err(&lt;span style=&#34;color:#66d9ef&#34;&gt;ref&lt;/span&gt; x) &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; Err(x),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;å­¦ä¹ ç‚¹-2&#34;&gt;å­¦ä¹ ç‚¹
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;è¿”å›å¼•ç”¨é¿å…æ‰€æœ‰æƒè½¬ç§»&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨&lt;code&gt;ref&lt;/code&gt;æ¨¡å¼åŒ¹é…è·å–å¼•ç”¨&lt;/li&gt;
&lt;li&gt;ä¿æŒåŸå§‹&lt;code&gt;Result&lt;/code&gt;ä¸å˜&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;4-ç»„åˆå­map&#34;&gt;4. ç»„åˆå­ï¼š&lt;code&gt;map&lt;/code&gt;
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#[inline]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#[stable(feature = &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;rust1&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;, since = &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;1.0.0&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;)]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;map&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;U, F: FnOnce(T) -&amp;gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;U&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;(self, op: &lt;span style=&#34;color:#a6e22e&#34;&gt;F&lt;/span&gt;) -&amp;gt; Result&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;U, E&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;match&lt;/span&gt; self {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    Ok(t) &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; Ok(op(t)),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    Err(e) &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; Err(e),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;å­¦ä¹ ç‚¹-3&#34;&gt;å­¦ä¹ ç‚¹
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;é«˜é˜¶å‡½æ•°çš„ä½¿ç”¨&lt;/li&gt;
&lt;li&gt;&lt;code&gt;FnOnce&lt;/code&gt; trait boundå…è®¸æ¶ˆè´¹å€¼çš„é—­åŒ…&lt;/li&gt;
&lt;li&gt;æ¨¡å¼åŒ¹é…è§£æ„&lt;code&gt;self&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;5-é“¾å¼è°ƒç”¨and_then&#34;&gt;5. é“¾å¼è°ƒç”¨ï¼š&lt;code&gt;and_then&lt;/code&gt;
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#[inline]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#[stable(feature = &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;rust1&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;, since = &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;1.0.0&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;)]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;and_then&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;U, F: FnOnce(T) -&amp;gt; Result&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;U, E&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt;(self, op: &lt;span style=&#34;color:#a6e22e&#34;&gt;F&lt;/span&gt;) -&amp;gt; Result&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;U, E&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;match&lt;/span&gt; self {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        Ok(t) &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; op(t),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        Err(e) &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; Err(e),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;å­¦ä¹ ç‚¹-4&#34;&gt;å­¦ä¹ ç‚¹
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;é”™è¯¯ä¼ æ’­æ¨¡å¼&lt;/li&gt;
&lt;li&gt;é—­åŒ…ä½œä¸ºå‚æ•°&lt;/li&gt;
&lt;li&gt;ç»„åˆæ“ä½œçš„ä¼˜é›…æ–¹å¼&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;6-æ“ä½œç¬¦&#34;&gt;6. &lt;code&gt;?&lt;/code&gt;æ“ä½œç¬¦
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#[unstable(feature = &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;try_trait_v2&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;, issue = &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;84277&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;)]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#[rustc_const_unstable(feature = &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;const_convert&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;, issue = &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;88674&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;)]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;impl&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;T, E&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; ops::Try &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; Result&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;T, E&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;type&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Output&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; T;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;type&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Residual&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Result&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;!&lt;/span&gt;, E&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;#[inline]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;from_output&lt;/span&gt;(output: &lt;span style=&#34;color:#a6e22e&#34;&gt;Self&lt;/span&gt;::Output) -&amp;gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Self&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        Ok(output)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;#[inline]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;branch&lt;/span&gt;(self) -&amp;gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;ControlFlow&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Self::Residual, Self::Output&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;match&lt;/span&gt; self {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            Ok(v) &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; ControlFlow::Continue(v),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            Err(e) &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; ControlFlow::Break(Err(e)),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;å­¦ä¹ ç‚¹-5&#34;&gt;å­¦ä¹ ç‚¹
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;æ“ä½œç¬¦é‡è½½&lt;/li&gt;
&lt;li&gt;æ§åˆ¶æµæŠ½è±¡&lt;/li&gt;
&lt;li&gt;ç¼–è¯‘å™¨é­”æ³•èƒŒåçš„å®ç°&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;7-è¿­ä»£å™¨é›†æˆ&#34;&gt;7. è¿­ä»£å™¨é›†æˆ
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#[stable(feature = &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;rust1&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;, since = &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;1.0.0&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;)]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;impl&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;T, E&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; IntoIterator &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; Result&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;T, E&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;type&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Item&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; T;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;type&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;IntoIter&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; IntoIter&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;T&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;#[inline]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;into_iter&lt;/span&gt;(self) -&amp;gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;IntoIter&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;T&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        IntoIter { inner: &lt;span style=&#34;color:#a6e22e&#34;&gt;self&lt;/span&gt;.ok() }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;å­¦ä¹ ç‚¹-6&#34;&gt;å­¦ä¹ ç‚¹
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;è¿­ä»£å™¨æ¨¡å¼&lt;/li&gt;
&lt;li&gt;ç±»å‹è½¬æ¢&lt;/li&gt;
&lt;li&gt;é›¶æˆæœ¬æŠ½è±¡&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>ripgrepçš„å®Œæ•´æ¶æ„</title>
        <link>http://localhost:1313/rust/ripgrep/ripgrep%E7%9A%84%E5%AE%8C%E6%95%B4%E6%9E%B6%E6%9E%84/</link>
        <pubDate>Wed, 27 Aug 2025 10:28:07 +0800</pubDate>
        
        <guid>http://localhost:1313/rust/ripgrep/ripgrep%E7%9A%84%E5%AE%8C%E6%95%B4%E6%9E%B6%E6%9E%84/</guid>
        <description>&lt;h3 id=&#34;å®Œæ•´çš„æ•°æ®æµ&#34;&gt;å®Œæ•´çš„æ•°æ®æµ
&lt;/h3&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;å‘½ä»¤è¡Œå‚æ•°&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â†“&lt;/span&gt; (parse.rs, defs.rs)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;ç»“æ„åŒ–é…ç½®&lt;/span&gt; (HiArgs)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â†“&lt;/span&gt; (hiargs.rs)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;æ‰§è¡Œç»„ä»¶æ„å»º&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â”œâ”€â”€&lt;/span&gt; WalkBuilder (&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;æ–‡ä»¶å‘ç°&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â”œâ”€â”€&lt;/span&gt; SearchWorker (&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;å†…å®¹æœç´¢&lt;/span&gt;) 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â””â”€â”€&lt;/span&gt; Printer (&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;ç»“æœè¾“å‡º&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â†“&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;å¹¶è¡Œæ‰§è¡Œ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â†“&lt;/span&gt; (WalkParallel &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;å·¥ä½œçªƒå–é˜Ÿåˆ—&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;æ–‡ä»¶å‘ç°æµ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â†“&lt;/span&gt; (ignore &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;è§„åˆ™è¿‡æ»¤&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Haystack &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;æµ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â†“&lt;/span&gt; (Searcher &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;ç­–ç•¥é€‰æ‹©&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;æœç´¢ç»“æœ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â†“&lt;/span&gt; (Printer &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;æ ¼å¼åŒ–&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;ç”¨æˆ·è¾“å‡º&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;æ–‡ä»¶å‘ç°ä¸æ–‡ä»¶æœç´¢&#34;&gt;æ–‡ä»¶å‘ç°ä¸æ–‡ä»¶æœç´¢
&lt;/h3&gt;&lt;h5 id=&#34;å•çº¿ç¨‹æ¨¡å¼&#34;&gt;å•çº¿ç¨‹æ¨¡å¼ï¼š
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// æ–‡ä»¶å‘ç°é˜¶æ®µ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; unsorted &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; args.walk_builder()&lt;span style=&#34;color:#f92672&#34;&gt;?&lt;/span&gt;.build()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    .filter_map(&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt;result&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; haystack_builder.build_from_result(result));
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; haystacks &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; args.sort(unsorted);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// æœç´¢é˜¶æ®µ  
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; haystack &lt;span style=&#34;color:#66d9ef&#34;&gt;in&lt;/span&gt; haystacks {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; search_result &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; searcher.search(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;haystack);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;å¹¶è¡Œæ¨¡å¼&#34;&gt;å¹¶è¡Œæ¨¡å¼
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;args.walk_builder()&lt;span style=&#34;color:#f92672&#34;&gt;?&lt;/span&gt;.build_parallel().run(&lt;span style=&#34;color:#f92672&#34;&gt;||&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    Box::new(&lt;span style=&#34;color:#66d9ef&#34;&gt;move&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt;result&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; haystack &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; haystack_builder.build_from_result(result);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; search_result &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; searcher.search(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;haystack);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    })
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;});
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;ç¼“å†²æœºåˆ¶åˆ†æ&#34;&gt;ç¼“å†²æœºåˆ¶åˆ†æ
&lt;/h4&gt;&lt;h5 id=&#34;å•çº¿ç¨‹æ¨¡å¼-1&#34;&gt;å•çº¿ç¨‹æ¨¡å¼
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;å®Œæ•´ç¼“å†²ï¼šæ‰€æœ‰æ–‡ä»¶å…ˆå‘ç°å®Œæ¯•ï¼Œå­˜å‚¨åœ¨haystacksé›†åˆä¸­&lt;/li&gt;
&lt;li&gt;æ’åºæ”¯æŒï¼šæ”¯æŒ &amp;ndash;sorté€‰é¡¹ï¼Œå› ä¸ºæœ‰å®Œæ•´çš„æ–‡ä»¶åˆ—è¡¨&lt;/li&gt;
&lt;li&gt;å†…å­˜ä½¿ç”¨ï¼šæ–‡ä»¶è·¯å¾„å…¨éƒ¨åœ¨å†…å­˜ä¸­&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;å¹¶è¡Œæ¨¡å¼-1&#34;&gt;å¹¶è¡Œæ¨¡å¼
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;æµå¼å¤„ç†ï¼š æ–‡ä»¶å‘ç°å’Œæœç´¢åŒæ—¶è¿›è¡Œ&lt;/li&gt;
&lt;li&gt;æ— ç¼“å†²ï¼š æ²¡å‘ç°ä¸€ä¸ªæ–‡ä»¶ç«‹å³æœç´¢ï¼Œä¸ç­‰å¾…å…¶ä»–æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;å·¥ä½œçªƒå–ï¼š å¤šä¸ªçº¿ç¨‹&lt;strong&gt;å¹¶è¡Œå‘ç°&lt;/strong&gt;å’Œ&lt;strong&gt;æœç´¢æ–‡ä»¶&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;æœç´¢å†…éƒ¨çš„ç¼“å†²æœºåˆ¶&#34;&gt;æœç´¢å†…éƒ¨çš„ç¼“å†²æœºåˆ¶
&lt;/h4&gt;&lt;p&gt;åœ¨&lt;code&gt;Searcher&lt;/code&gt;å†…éƒ¨æœ‰å¤šç§ç¼“å†²ç­–ç•¥ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Searcher&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  line_buffer: &lt;span style=&#34;color:#a6e22e&#34;&gt;RefCell&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;LineBuffer&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  multi_line_buffer: &lt;span style=&#34;color:#a6e22e&#34;&gt;RefCell&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Vec&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;u8&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  decode_buffer: &lt;span style=&#34;color:#a6e22e&#34;&gt;RefCell&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;u8&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;ä¸‰ç§æœç´¢ç­–ç•¥&#34;&gt;ä¸‰ç§æœç´¢ç­–ç•¥
&lt;/h5&gt;&lt;ol&gt;
&lt;li&gt;å†…å­˜æ˜ å°„ï¼šé›¶æ‹·è´ï¼Œç›´æ¥è®¿é—®æ–‡ä»¶å†…å®¹&lt;/li&gt;
&lt;li&gt;æµå¼è¯»å–ï¼šå›ºå®šå¤§å°ç¼“å†²åŒºï¼Œé€è¡Œå¤„ç†&lt;/li&gt;
&lt;li&gt;å…¨æ–‡ç¼“å†²ï¼šå¤šè¡Œæœç´¢æ—¶ï¼Œæ•´ä¸ªæ–‡ä»¶åŠ è½½åˆ°å†…å­˜&lt;/li&gt;
&lt;/ol&gt;
&lt;h5 id=&#34;å…³é”®è®¾è®¡å†³ç­–&#34;&gt;å…³é”®è®¾è®¡å†³ç­–
&lt;/h5&gt;&lt;h6 id=&#34;ä¸ºä»€ä¹ˆè¿™æ ·è®¾è®¡&#34;&gt;ä¸ºä»€ä¹ˆè¿™æ ·è®¾è®¡
&lt;/h6&gt;&lt;ol&gt;
&lt;li&gt;æ€§èƒ½ä¼˜åŒ–ï¼šå¹¶è¡Œæ¨¡å¼é¿å…äº†æ–‡ä»¶åˆ—è¡¨çš„å†…å­˜å¼€é”€&lt;/li&gt;
&lt;li&gt;å†…å­˜æ§åˆ¶ï¼šæµå¼å¤„ç†æ”¯æŒä»»æ„å¤§å°çš„æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;ç”¨æˆ·ä½“éªŒï¼šç»“æœå¯ä»¥ç«‹å³è¾“å‡ºï¼Œä¸éœ€è¦ç­‰å¾…æ‰€æœ‰æ–‡ä»¶æ‰«æå®Œæˆ&lt;/li&gt;
&lt;/ol&gt;
&lt;h6 id=&#34;ç¼“å†²åŒºå¤§å°æ§åˆ¶&#34;&gt;ç¼“å†²åŒºå¤§å°æ§åˆ¶
&lt;/h6&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// LineBuffer é»˜è®¤é…ç½®
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;capacity: &lt;span style=&#34;color:#ae81ff&#34;&gt;64&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; (&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;),  &lt;span style=&#34;color:#75715e&#34;&gt;//64kb è¡Œç¼“å†²
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;æ€»ç»“&#34;&gt;æ€»ç»“
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;ä¸æ˜¯ä¸€å‘ç°ä¸€æœç´¢ï¼šripgrepæœ‰ä¸¤ç§æ¨¡å¼
&lt;ul&gt;
&lt;li&gt;å•çº¿ç¨‹ï¼š å…ˆå‘ç°æ‰€æœ‰æ–‡ä»¶ â†’ ç¼“å†²æ’åº  â†’ é€ä¸ªæœç´¢&lt;/li&gt;
&lt;li&gt;å¹¶è¡Œï¼š å‘ç°å’Œæœç´¢åŒæ—¶è¿›è¡Œï¼Œæ— æ–‡ä»¶çº§ç¼“å†²&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ç¼“å†²åŒºå­˜åœ¨äºå¤šä¸ªå±‚æ¬¡ï¼š
&lt;ul&gt;
&lt;li&gt;æ–‡ä»¶åˆ—è¡¨çº§ï¼šå•çº¿ç¨‹æ¨¡å¼æœ‰å®Œæ•´ç¼“å†²&lt;/li&gt;
&lt;li&gt;æ–‡ä»¶å†…å®¹çº§ï¼šæ¯ä¸ªæ–‡ä»¶å†…éƒ¨æœ‰è¡Œç¼“å†²ï¼ˆ64KBï¼‰&lt;/li&gt;
&lt;li&gt;è¾“å‡ºçº§ï¼šå¹¶è¡Œæ¨¡å¼æœ‰è¾“å‡ºç¼“å†²åŒº&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h5 id=&#34;æ ¸å¿ƒæ¶æ„å¯¹æ¯”&#34;&gt;æ ¸å¿ƒæ¶æ„å¯¹æ¯”
&lt;/h5&gt;&lt;h6 id=&#34;å•çº¿ç¨‹æ¨¡å¼æœ‰ç¼“å†²&#34;&gt;å•çº¿ç¨‹æ¨¡å¼ï¼ˆæœ‰ç¼“å†²ï¼‰
&lt;/h6&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;æ–‡ä»¶å‘ç°&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â†’&lt;/span&gt; [&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;æ–‡ä»¶åˆ—è¡¨ç¼“å†²&lt;/span&gt;] &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â†’&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;æ’åº&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â†’&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;é€ä¸ªæœç´¢&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â†’&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;è¾“å‡º&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;æ”¯æŒ &lt;code&gt;--sort&lt;/code&gt; é€‰é¡¹&lt;/li&gt;
&lt;li&gt;å†…å­˜ä½¿ç”¨ï¼šO(æ–‡ä»¶æ•°é‡)&lt;/li&gt;
&lt;/ul&gt;
&lt;h6 id=&#34;å¹¶è¡Œæ¨¡å¼æµå¼å¤„ç†&#34;&gt;å¹¶è¡Œæ¨¡å¼ï¼ˆæµå¼å¤„ç†ï¼‰
&lt;/h6&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;æ–‡ä»¶å‘ç°&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;âŸ·&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;æœç´¢&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â†’&lt;/span&gt; [&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;è¾“å‡ºç¼“å†²&lt;/span&gt;] &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â†’&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;è¾“å‡º&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;å®æ—¶å¤„ç†ï¼Œä½å†…å­˜å ç”¨&lt;/li&gt;
&lt;li&gt;å·¥ä½œçªƒå–é˜Ÿåˆ—åè°ƒå¤šçº¿ç¨‹&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;æ€§èƒ½å½±å“&#34;&gt;æ€§èƒ½å½±å“
&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;ä¼˜åŠ¿&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å¹¶è¡Œæ¨¡å¼&lt;/strong&gt;ï¼šå†…å­˜æ•ˆç‡é«˜ï¼Œç»“æœè¾“å‡ºå¿«&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å•çº¿ç¨‹æ¨¡å¼&lt;/strong&gt;ï¼šæ”¯æŒæ’åºï¼Œé€‚åˆå°è§„æ¨¡æœç´¢&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;æƒè¡¡&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¹¶è¡Œæ¨¡å¼ç‰ºç‰²äº†æ’åºèƒ½åŠ›æ¢å–æ€§èƒ½&lt;/li&gt;
&lt;li&gt;å•çº¿ç¨‹æ¨¡å¼éœ€è¦æ›´å¤šå†…å­˜ä½†è¾“å‡ºæœ‰åº&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>Walkæ•´ä½“æ¶æ„</title>
        <link>http://localhost:1313/rust/ripgrep/walk%E6%95%B4%E4%BD%93%E6%9E%B6%E6%9E%84/</link>
        <pubDate>Wed, 27 Aug 2025 09:07:07 +0800</pubDate>
        
        <guid>http://localhost:1313/rust/ripgrep/walk%E6%95%B4%E4%BD%93%E6%9E%B6%E6%9E%84/</guid>
        <description>&lt;h3 id=&#34;walkæ•´ä½“æ¶æ„è®¾è®¡è¯¦è§£&#34;&gt;Walkæ•´ä½“æ¶æ„è®¾è®¡è¯¦è§£
&lt;/h3&gt;&lt;p&gt;è®©æˆ‘ä»¬ä»æœ€æ ¸å¿ƒçš„è®¾è®¡ç†å¿µå¼€å§‹ï¼Œç³»ç»Ÿåœ°è§£é‡Šwalkçš„æ•´ä½“å·¥ä½œæœºåˆ¶ã€‚&lt;/p&gt;
&lt;h5 id=&#34;1-æ ¸å¿ƒæ¶æ„ä¸‰å±‚è®¾è®¡æ¨¡å¼&#34;&gt;1. æ ¸å¿ƒæ¶æ„ï¼šä¸‰å±‚è®¾è®¡æ¨¡å¼
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// ç¬¬ä¸€å±‚ï¼šæ„å»ºå™¨ - é…ç½®æ”¶é›†
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;WalkBuilder::new(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;/path/to/search&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    .max_depth(Some(&lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    .follow_links(&lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    .threads(&lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// ç¬¬äºŒå±‚ï¼šæ‰§è¡Œå™¨ - ä¸¤ç§æ¨¡å¼
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    .build()          &lt;span style=&#34;color:#75715e&#34;&gt;// â†’ Walk (å•çº¿ç¨‹è¿­ä»£å™¨)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    .build_parallel() &lt;span style=&#34;color:#75715e&#34;&gt;// â†’ WalkParallel (å¹¶è¡Œæ‰§è¡Œå™¨)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// ç¬¬ä¸‰å±‚ï¼šæ•°æ®æŠ½è±¡ - ç»Ÿä¸€è¡¨ç¤º
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// â†’ Iterator&amp;lt;Item = Result&amp;lt;DirEntry, Error&amp;gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;2-äº‹ä»¶é©±åŠ¨çš„éå†æ¨¡å‹&#34;&gt;2. äº‹ä»¶é©±åŠ¨çš„éå†æ¨¡å‹
&lt;/h5&gt;&lt;p&gt;Walkçš„æ ¸å¿ƒåˆ›æ–°æ˜¯æŠŠç›®å½•éå†æŠ½è±¡ä¸º&lt;strong&gt;äº‹ä»¶æµ&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;enum&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;WalkEvent&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  Dir(walkdir::DirEntry),			&lt;span style=&#34;color:#75715e&#34;&gt;//	è¿›å…¥ç›®å½•
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;  File(walkdir::DirEntry),		&lt;span style=&#34;color:#75715e&#34;&gt;//	å‘ç°æ–‡ä»¶
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;  Exit												&lt;span style=&#34;color:#75715e&#34;&gt;//	é€€å‡ºç›®å½•
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;å·¥ä½œæµç¨‹&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;root&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â”œâ”€â”€&lt;/span&gt; file1.txt          &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â†’&lt;/span&gt; WalkEvent::File(file1.txt)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â”œâ”€â”€&lt;/span&gt; dir1&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;              &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â†’&lt;/span&gt; WalkEvent::Dir(dir1)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â”‚&lt;/span&gt;   &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â”œâ”€â”€&lt;/span&gt; file2.txt      &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â†’&lt;/span&gt; WalkEvent::File(file2.txt)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â”‚&lt;/span&gt;   &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â””â”€â”€&lt;/span&gt; subdir&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;        &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â†’&lt;/span&gt; WalkEvent::Dir(subdir)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â”‚&lt;/span&gt;       &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â””â”€â”€&lt;/span&gt; file3.txt  &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â†’&lt;/span&gt; WalkEvent::File(file3.txt)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â”‚&lt;/span&gt;                      &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â†’&lt;/span&gt; WalkEvent::Exit (subdir)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â”‚&lt;/span&gt;                      &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â†’&lt;/span&gt; WalkEvent::Exit (dir1)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â””â”€â”€&lt;/span&gt; file4.txt          &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â†’&lt;/span&gt; WalkEvent::File(file4.txt)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;3-walk-vs-walkparallelçš„è®¾è®¡å·®å¼‚&#34;&gt;3. Walk vs WalkParallelçš„è®¾è®¡å·®å¼‚
&lt;/h5&gt;&lt;p&gt;&lt;strong&gt;Walk&lt;/strong&gt; - æ ‡å‡†è¿­ä»£å™¨æ¨¡å¼&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;impl&lt;/span&gt; Iterator &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; Walk {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;next&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; self) -&amp;gt; Option&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Result&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;DirEntry, Error&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;loop&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// 1. ä» WalkEventIter è·å–ä¸‹ä¸€ä¸ªäº‹ä»¶
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; ev &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; self.it.as_mut().and_then(&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt;it&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; it.next());
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;match&lt;/span&gt; ev {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                Ok(WalkEvent::Dir(ent)) &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#75715e&#34;&gt;// 2. æ£€æŸ¥æ˜¯å¦åº”è¯¥è·³è¿‡
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;                    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; self.skip_entry(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;ent)&lt;span style=&#34;color:#f92672&#34;&gt;?&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                        self.it.skip_current_dir();  &lt;span style=&#34;color:#75715e&#34;&gt;// å‰ªæ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;                        &lt;span style=&#34;color:#66d9ef&#34;&gt;continue&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#75715e&#34;&gt;// 3. æ›´æ–° ignore è§„åˆ™ä¸Šä¸‹æ–‡
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;                    &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; (ig_new, err) &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; self.ig.add_child(ent.path());
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    self.ig &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; ig_new;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; Some(Ok(ent));
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                Ok(WalkEvent::File(ent)) &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;!&lt;/span&gt;self.skip_entry(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;ent)&lt;span style=&#34;color:#f92672&#34;&gt;?&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; Some(Ok(ent));
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                Ok(WalkEvent::Exit) &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#75715e&#34;&gt;// 4. æ¢å¤çˆ¶ç›®å½•çš„ ignore ä¸Šä¸‹æ–‡
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;                    self.ig &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; self.ig.parent().unwrap();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;WalkParallel&lt;/strong&gt; - å·¥ä½œçªƒå–æ¨¡å¼&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;impl&lt;/span&gt; WalkParallel {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;run&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;F&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;(self, mkf: &lt;span style=&#34;color:#a6e22e&#34;&gt;F&lt;/span&gt;) &lt;span style=&#34;color:#66d9ef&#34;&gt;where&lt;/span&gt; F: FnMut() -&amp;gt; Box&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;dyn&lt;/span&gt; FnMut(Result&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;DirEntry, Error&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;) -&amp;gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;WalkState&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; Send&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// 1. åˆ›å»ºå·¥ä½œçªƒå–é˜Ÿåˆ—
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; stacks &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Stack::new_for_each_thread(threads, stack);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// 2. å¯åŠ¨å¤šä¸ªå·¥ä½œçº¿ç¨‹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        std::thread::scope(&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt;s&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; handles: Vec&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;_&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; stacks.into_iter().map(&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt;stack&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                Worker {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    visitor: &lt;span style=&#34;color:#a6e22e&#34;&gt;mkf&lt;/span&gt;(),           &lt;span style=&#34;color:#75715e&#34;&gt;// ç”¨æˆ·å›è°ƒ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;                    stack,                    &lt;span style=&#34;color:#75715e&#34;&gt;// å·¥ä½œé˜Ÿåˆ—
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;                    quit_now,                 &lt;span style=&#34;color:#75715e&#34;&gt;// å…¨å±€é€€å‡ºæ ‡å¿—
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;                    active_workers,           &lt;span style=&#34;color:#75715e&#34;&gt;// æ´»è·ƒå·¥ä½œè€…è®¡æ•°
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;                    &lt;span style=&#34;color:#75715e&#34;&gt;// ... å…¶ä»–é…ç½®
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;                }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }).map(&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt;worker&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; s.spawn(&lt;span style=&#34;color:#66d9ef&#34;&gt;move&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;||&lt;/span&gt; worker.run())).collect();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// 3. ç­‰å¾…æ‰€æœ‰çº¿ç¨‹å®Œæˆ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; handle &lt;span style=&#34;color:#66d9ef&#34;&gt;in&lt;/span&gt; handles { handle.join().unwrap(); }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        });
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;4-å…³é”®è®¾è®¡æ¨¡å¼&#34;&gt;4. å…³é”®è®¾è®¡æ¨¡å¼
&lt;/h5&gt;&lt;p&gt;&lt;strong&gt;çŠ¶æ€ç®¡ç†&lt;/strong&gt;ï¼šIgnoreè§„åˆ™çš„å±‚æ¬¡åŒ–&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Walk&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ig_root: &lt;span style=&#34;color:#a6e22e&#34;&gt;Ignore&lt;/span&gt;,     &lt;span style=&#34;color:#75715e&#34;&gt;// æ ¹ç›®å½•è§„åˆ™
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    ig: &lt;span style=&#34;color:#a6e22e&#34;&gt;Ignore&lt;/span&gt;,          &lt;span style=&#34;color:#75715e&#34;&gt;// å½“å‰ç›®å½•è§„åˆ™ (éšéå†åŠ¨æ€å˜åŒ–)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// ...
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// è¿›å…¥å­ç›®å½•æ—¶
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; (ig_new, err) &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; self.ig.add_child(child_path);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;self.ig &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; ig_new;  &lt;span style=&#34;color:#75715e&#34;&gt;// ç»§æ‰¿çˆ¶ç›®å½•è§„åˆ™ + å­ç›®å½•è§„åˆ™
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// é€€å‡ºç›®å½•æ—¶  
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;self.ig &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; self.ig.parent().unwrap();  &lt;span style=&#34;color:#75715e&#34;&gt;// æ¢å¤çˆ¶ç›®å½•è§„åˆ™
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;æ—©æœŸè¿‡æ»¤ä¼˜åŒ–&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;skip_entry&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;self, ent: &lt;span style=&#34;color:#66d9ef&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;DirEntry&lt;/span&gt;) -&amp;gt; Result&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt;, Error&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// ä¼˜å…ˆçº§é¡ºåº (ä»å¿«åˆ°æ…¢)ï¼š
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; ent.depth() &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; { &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; Ok(&lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;); }           &lt;span style=&#34;color:#75715e&#34;&gt;// 1. æ ¹ç›®å½•æ£€æŸ¥
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; should_skip_entry(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;self.ig, ent) { &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; Ok(&lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;); }  &lt;span style=&#34;color:#75715e&#34;&gt;// 2. ignore è§„åˆ™
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; path_equals(ent, stdout) { &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; Ok(&lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;); }    &lt;span style=&#34;color:#75715e&#34;&gt;// 3. stdout æ£€æŸ¥  
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; skip_filesize(&lt;span style=&#34;color:#f92672&#34;&gt;..&lt;/span&gt;.) { &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; Ok(&lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;); }          &lt;span style=&#34;color:#75715e&#34;&gt;// 4. æ–‡ä»¶å¤§å°æ£€æŸ¥
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;!&lt;/span&gt;filter(ent) { &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; Ok(&lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;); }                &lt;span style=&#34;color:#75715e&#34;&gt;// 5. è‡ªå®šä¹‰è¿‡æ»¤å™¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    Ok(&lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;å·¥ä½œçªƒå–é˜Ÿåˆ—çš„æ™ºèƒ½ç»ˆæ­¢&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;get_work&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; self) -&amp;gt; Option&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Work&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;loop&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;match&lt;/span&gt; self.recv() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            Some(Message::Work(work)) &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; Some(work),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            Some(Message::Quit) &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; None,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            None &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#75715e&#34;&gt;// å…³é”®ï¼šåŸå­æ€§æ£€æŸ¥æ‰€æœ‰å·¥ä½œè€…æ˜¯å¦éƒ½ç©ºé—²
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;                &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; self.deactivate_worker() &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#75715e&#34;&gt;// æ‰€æœ‰å·¥ä½œè€…éƒ½ç©ºé—² = æ²¡æœ‰æ›´å¤šå·¥ä½œ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;                    self.send_quit();  &lt;span style=&#34;color:#75715e&#34;&gt;// å¹¿æ’­é€€å‡ºä¿¡å·
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;                    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; None;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#75715e&#34;&gt;// ç­‰å¾…æ–°å·¥ä½œæˆ–ä»å…¶ä»–é˜Ÿåˆ—çªƒå–
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;                self.wait_for_work();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;5-æ•´ä½“å·¥ä½œæµç¨‹æ€»ç»“&#34;&gt;5. æ•´ä½“å·¥ä½œæµç¨‹æ€»ç»“
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;ç”¨æˆ·è°ƒç”¨&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â†“&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;WalkBuilder &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;æ”¶é›†é…ç½®&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â†“&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;é€‰æ‹©æ‰§è¡Œæ¨¡å¼ï¼š&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â”œâ”€â”€&lt;/span&gt; Walk: &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;å•çº¿ç¨‹è¿­ä»£å™¨&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â”‚&lt;/span&gt;   &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â””â”€â”€&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;åŸºäº&lt;/span&gt; WalkDir &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;äº‹ä»¶è½¬æ¢&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; ignore &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;è¿‡æ»¤&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â””â”€â”€&lt;/span&gt; WalkParallel: &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;å¹¶è¡Œæ‰§è¡Œå™¨&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â””â”€â”€&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;å·¥ä½œçªƒå–é˜Ÿåˆ—&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;å¤šçº¿ç¨‹åä½œ&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;æ™ºèƒ½ç»ˆæ­¢&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â†“&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;äº§ç”Ÿ&lt;/span&gt; DirEntry &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;æµ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â†“&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;ç”¨æˆ·å¤„ç†ç»“æœ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;æ ¸å¿ƒä¼˜åŠ¿&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç»Ÿä¸€æŠ½è±¡ï¼šæ— è®ºå•çº¿ç¨‹è¿˜æ˜¯å¹¶è¡Œï¼Œç”¨æˆ·çœ‹åˆ°çš„éƒ½æ˜¯&lt;code&gt;DirEntry&lt;/code&gt;æµ&lt;/li&gt;
&lt;li&gt;æ™ºèƒ½è¿‡æ»¤ï¼šå¤šå±‚æ¬¡ã€æ—©æœŸè¿‡æ»¤ï¼Œé¿å…ä¸å¿…è¦çš„æ–‡ä»¶ç³»ç»Ÿæ“ä½œ&lt;/li&gt;
&lt;li&gt;åŠ¨æ€é€‚åº”ï¼š ignoreè§„åˆ™è·Ÿéšç›®å½•å±‚æ¬¡åŠ¨æ€è°ƒæ•´&lt;/li&gt;
&lt;li&gt;é«˜æ•ˆå¹¶è¡Œï¼š å·¥ä½œçªƒå– + æ™ºèƒ½ç»ˆæ­¢ï¼Œæœ€å¤§åŒ–CPUåˆ©ç”¨ç‡&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;walkbuilderæ„å»ºæ¨¡å¼è¯¦è§£&#34;&gt;WalkBuilderæ„å»ºæ¨¡å¼è¯¦è§£
&lt;/h4&gt;&lt;h5 id=&#34;æ ¸å¿ƒç»“æ„è®¾è®¡&#34;&gt;æ ¸å¿ƒç»“æ„è®¾è®¡
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;WalkBuilder&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    paths: Vec&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;PathBuf&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;,              &lt;span style=&#34;color:#75715e&#34;&gt;// å¤šè·¯å¾„æ”¯æŒ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    ig_builder: &lt;span style=&#34;color:#a6e22e&#34;&gt;IgnoreBuilder&lt;/span&gt;,        &lt;span style=&#34;color:#75715e&#34;&gt;// ignore è§„åˆ™æ„å»ºå™¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    max_depth: Option&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;usize&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;,         &lt;span style=&#34;color:#75715e&#34;&gt;// é€’å½’æ·±åº¦é™åˆ¶
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    max_filesize: Option&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;u64&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;,        &lt;span style=&#34;color:#75715e&#34;&gt;// æ–‡ä»¶å¤§å°é™åˆ¶
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    follow_links: &lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt;,               &lt;span style=&#34;color:#75715e&#34;&gt;// ç¬¦å·é“¾æ¥è·Ÿéš
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    same_file_system: &lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt;,           &lt;span style=&#34;color:#75715e&#34;&gt;// æ–‡ä»¶ç³»ç»Ÿè¾¹ç•Œ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    sorter: Option&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Sorter&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;,           &lt;span style=&#34;color:#75715e&#34;&gt;// æ’åºç­–ç•¥
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    threads: &lt;span style=&#34;color:#66d9ef&#34;&gt;usize&lt;/span&gt;,                   &lt;span style=&#34;color:#75715e&#34;&gt;// çº¿ç¨‹æ•°é…ç½®
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    skip: Option&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Arc&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Handle&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt;,        &lt;span style=&#34;color:#75715e&#34;&gt;// stdout è·³è¿‡
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    filter: Option&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Filter&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;,           &lt;span style=&#34;color:#75715e&#34;&gt;// è‡ªå®šä¹‰è¿‡æ»¤å™¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;æµç•…æ¥å£æ¨¡å¼çš„ä¼˜é›…å®ç°&#34;&gt;æµç•…æ¥å£æ¨¡å¼çš„ä¼˜é›…å®ç°
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// å…¸å‹çš„é“¾å¼è°ƒç”¨æ¨¡å¼
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; walker &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; WalkBuilder::new(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;/path/to/search&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    .max_depth(Some(&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    .follow_links(&lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    .threads(&lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    .standard_filters(&lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    .hidden(&lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    .git_ignore(&lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    .build_parallel();
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;å…³é”®è®¾è®¡æ¨¡å¼&#34;&gt;å…³é”®è®¾è®¡æ¨¡å¼
&lt;/h5&gt;&lt;h6 id=&#34;1-å§”æ‰˜æ¨¡å¼&#34;&gt;1. å§”æ‰˜æ¨¡å¼
&lt;/h6&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;impl&lt;/span&gt; WalkBuilder {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// WalkBuilder å°† ignore ç›¸å…³é…ç½®å§”æ‰˜ç»™ IgnoreBuilder
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;  	&lt;span style=&#34;color:#75715e&#34;&gt;// WalkDiræ˜¯åŸºç¡€çš„æ–‡ä»¶ç³»ç»ŸBuilder
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;hidden&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; self, yes: &lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt;) -&amp;gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;mut&lt;/span&gt; WalkBuilder {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        self.ig_builder.hidden(yes);  &lt;span style=&#34;color:#75715e&#34;&gt;// å§”æ‰˜ç»™å†…éƒ¨æ„å»ºå™¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        self
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;git_ignore&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; self, yes: &lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt;) -&amp;gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;mut&lt;/span&gt; WalkBuilder {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        self.ig_builder.git_ignore(yes);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        self
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h6 id=&#34;2-åˆ†ç»„é…ç½®æ¨¡å¼&#34;&gt;2. åˆ†ç»„é…ç½®æ¨¡å¼
&lt;/h6&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;standard_filters&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; self, yes: &lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt;) -&amp;gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;mut&lt;/span&gt; WalkBuilder {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// ä¸€æ¬¡æ€§é…ç½®å¤šä¸ªç›¸å…³é€‰é¡¹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    self.hidden(yes)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        .parents(yes)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        .ignore(yes)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        .git_ignore(yes)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        .git_global(yes)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        .git_exclude(yes)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h6 id=&#34;3--ç­–ç•¥æ¨¡å¼çš„æ’åºè®¾è®¡&#34;&gt;3.  ç­–ç•¥æ¨¡å¼çš„æ’åºè®¾è®¡
&lt;/h6&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;enum&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Sorter&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ByName(Arc&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;dyn&lt;/span&gt; Fn(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;OsStr, &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;OsStr) -&amp;gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Ordering&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; Send &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; Sync &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &amp;#39;static&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ByPath(Arc&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;dyn&lt;/span&gt; Fn(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;Path, &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;Path) -&amp;gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Ordering&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; Send &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; Sync &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &amp;#39;static&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;impl&lt;/span&gt; WalkBuilder {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;sort_by_file_name&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;F&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; self, cmp: &lt;span style=&#34;color:#a6e22e&#34;&gt;F&lt;/span&gt;) -&amp;gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;mut&lt;/span&gt; WalkBuilder
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;where&lt;/span&gt; F: Fn(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;OsStr, &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;OsStr) -&amp;gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Ordering&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; Send &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; Sync &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &amp;#39;static
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        self.sorter &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Some(Sorter::ByName(Arc::new(cmp)));
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        self
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;æ„å»ºè¿‡ç¨‹çš„ä¸¤ä¸ªå…³é”®è½¬æ¢&#34;&gt;æ„å»ºè¿‡ç¨‹çš„ä¸¤ä¸ªå…³é”®è½¬æ¢
&lt;/h5&gt;&lt;h6 id=&#34;build---å•çº¿ç¨‹è¿­ä»£å™¨æ„å»º&#34;&gt;build() - å•çº¿ç¨‹è¿­ä»£å™¨æ„å»º
&lt;/h6&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;build&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;self) -&amp;gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Walk&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// 1. ä¸ºæ¯ä¸ªè·¯å¾„åˆ›å»º WalkDir è¿­ä»£å™¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; its &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; self.paths.iter().map(&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt;p&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; wd &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; WalkDir::new(p);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        wd &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; wd.follow_links(self.follow_links &lt;span style=&#34;color:#f92672&#34;&gt;||&lt;/span&gt; p.is_file());
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        wd &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; wd.same_file_system(self.same_file_system);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// 2. åº”ç”¨æ’åºç­–ç•¥
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; Some(&lt;span style=&#34;color:#66d9ef&#34;&gt;ref&lt;/span&gt; sorter) &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; self.sorter {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;match&lt;/span&gt; sorter {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                Sorter::ByName(cmp) &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; wd &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; wd.sort_by(&lt;span style=&#34;color:#66d9ef&#34;&gt;move&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt;a, b&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; cmp(a.file_name(), b.file_name())),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                Sorter::ByPath(cmp) &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; wd &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; wd.sort_by(&lt;span style=&#34;color:#66d9ef&#34;&gt;move&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt;a, b&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; cmp(a.path(), b.path())),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        (p.to_path_buf(), Some(WalkEventIter::from(wd)))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }).collect();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// 3. æ„å»º ignore è§„åˆ™æ ¹èŠ‚ç‚¹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; ig_root &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; self.ig_builder.build();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    Walk { its, ig_root, &lt;span style=&#34;color:#75715e&#34;&gt;/* ... */&lt;/span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h6 id=&#34;build_parallel---å¹¶è¡Œæ‰§è¡Œå™¨æ„å»º&#34;&gt;build_parallel() - å¹¶è¡Œæ‰§è¡Œå™¨æ„å»º
&lt;/h6&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;build_parallel&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;self) -&amp;gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;WalkParallel&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    WalkParallel {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        paths: &lt;span style=&#34;color:#a6e22e&#34;&gt;self&lt;/span&gt;.paths.clone().into_iter(),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        ig_root: &lt;span style=&#34;color:#a6e22e&#34;&gt;self&lt;/span&gt;.ig_builder.build(),  &lt;span style=&#34;color:#75715e&#34;&gt;// å…±äº« ignore è§„åˆ™
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        max_depth: &lt;span style=&#34;color:#a6e22e&#34;&gt;self&lt;/span&gt;.max_depth,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        threads: &lt;span style=&#34;color:#a6e22e&#34;&gt;self&lt;/span&gt;.threads,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// ç›´æ¥ä¼ é€’é…ç½®ï¼Œæ— éœ€è½¬æ¢ä¸ºè¿­ä»£å™¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;walkbuilder-æ„å»ºæ¨¡å¼çš„æ™ºèƒ½é…ç½®ç®¡ç†&#34;&gt;WalkBuilder æ„å»ºæ¨¡å¼çš„æ™ºèƒ½é…ç½®ç®¡ç†
&lt;/h4&gt;&lt;h6 id=&#34;æ™ºèƒ½é»˜è®¤å€¼å¤„ç†&#34;&gt;æ™ºèƒ½é»˜è®¤å€¼å¤„ç†
&lt;/h6&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;impl&lt;/span&gt; WalkParallel {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;threads&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;self) -&amp;gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;usize&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; self.threads &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;// æ™ºèƒ½é»˜è®¤å€¼ï¼šæœ€å°‘2ä¸ªçº¿ç¨‹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        } &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            self.threads
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h6 id=&#34;é…ç½®éªŒè¯å’Œä¼˜åŒ–&#34;&gt;é…ç½®éªŒè¯å’Œä¼˜åŒ–
&lt;/h6&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;visit&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; self, builder: &lt;span style=&#34;color:#66d9ef&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;mut&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;dyn&lt;/span&gt; ParallelVisitorBuilder&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&amp;#39;_&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; threads &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; self.threads();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; stack &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;vec!&lt;/span&gt;[];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// 1. é¢„å¤„ç†æ ¹è·¯å¾„ï¼ŒåŒºåˆ†æ–‡ä»¶å’Œç›®å½•
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; path &lt;span style=&#34;color:#66d9ef&#34;&gt;in&lt;/span&gt; paths {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; (dent, root_device) &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; path &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; Path::new(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;-&amp;#34;&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            (DirEntry::new_stdin(), None)  &lt;span style=&#34;color:#75715e&#34;&gt;// ç‰¹æ®Šå¤„ç† stdin
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        } &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// è®¾å¤‡å·æ£€æŸ¥ï¼ˆsame_file_system æ”¯æŒï¼‰
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; root_device &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;!&lt;/span&gt;self.same_file_system {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                None
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            } &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#66d9ef&#34;&gt;match&lt;/span&gt; device_num(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;path) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    Ok(root_device) &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; Some(root_device),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    Err(err) &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                        &lt;span style=&#34;color:#75715e&#34;&gt;// é”™è¯¯å¤„ç†ï¼šå•ä¸ªè·¯å¾„å¤±è´¥ä¸å½±å“å…¶ä»–è·¯å¾„
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;                        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; visitor.visit(Err(err)).is_quit() { &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt;; }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                        &lt;span style=&#34;color:#66d9ef&#34;&gt;continue&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            };
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// åˆ›å»ºåˆå§‹ DirEntry
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;match&lt;/span&gt; DirEntryRaw::from_path(&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;, path, &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                Ok(dent) &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; (DirEntry::new_raw(dent, None), root_device),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                Err(err) &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; visitor.visit(Err(err)).is_quit() { &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt;; }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#66d9ef&#34;&gt;continue&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        };
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// 2. ç”Ÿæˆåˆå§‹å·¥ä½œé¡¹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        stack.push(Message::Work(Work {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            dent,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            ignore: &lt;span style=&#34;color:#a6e22e&#34;&gt;self&lt;/span&gt;.ig_root.clone(),  &lt;span style=&#34;color:#75715e&#34;&gt;// å…±äº«æ ¹ ignore è§„åˆ™
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            root_device,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }));
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// 3. æ—©æœŸé€€å‡ºä¼˜åŒ–
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; stack.is_empty() { &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt;; }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// 4. å¯åŠ¨å·¥ä½œçº¿ç¨‹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; stacks &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Stack::new_for_each_thread(threads, stack);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// ...
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;å…³é”®è®¾è®¡æ¨¡å¼æ€»ç»“&#34;&gt;å…³é”®è®¾è®¡æ¨¡å¼æ€»ç»“
&lt;/h4&gt;&lt;h5 id=&#34;1-åˆ†å±‚å§”æ‰˜æ¨¡å¼&#34;&gt;1. åˆ†å±‚å§”æ‰˜æ¨¡å¼
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;WalkBuilder (&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;å¤–å±‚é…ç½®&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â†“&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;å§”æ‰˜&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;IgnoreBuilder (ignore &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;è§„åˆ™é…ç½®&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â†“&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;æ„å»º&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Ignore (&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;è¿è¡Œæ—¶è§„åˆ™åŒ¹é…å™¨&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;2-é…ç½®æ”¶é›†ä¸å»¶è¿Ÿæ„å»º&#34;&gt;2. é…ç½®æ”¶é›†ä¸å»¶è¿Ÿæ„å»º
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;æ”¶é›†é˜¶æ®µï¼š WalkBuilderæ”¶é›†æ‰€æœ‰é…ç½®é€‰é¡¹&lt;/li&gt;
&lt;li&gt;éªŒè¯é˜¶æ®µï¼šbuild()æ—¶è¿›è¡Œé…ç½®éªŒè¯å’Œè½¬æ¢&lt;/li&gt;
&lt;li&gt;æ‰§è¡Œé˜¶æ®µï¼šWalk/WalkParallelä½¿ç”¨æœ€ç»ˆé…ç½®æ‰§è¡Œéå†&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;3-å¤šæ€æ‰§è¡Œç­–ç•¥&#34;&gt;3. å¤šæ€æ‰§è¡Œç­–ç•¥
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;impl&lt;/span&gt; WalkBuilder {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;build&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;self) -&amp;gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Walk&lt;/span&gt; { &lt;span style=&#34;color:#75715e&#34;&gt;/* å•çº¿ç¨‹ç­–ç•¥ */&lt;/span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;build_parallel&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;self) -&amp;gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;WalkParallel&lt;/span&gt; { &lt;span style=&#34;color:#75715e&#34;&gt;/* å¹¶è¡Œç­–ç•¥ */&lt;/span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;4-é”™è¯¯æ¢å¤ä¸éƒ¨åˆ†æˆåŠŸ&#34;&gt;4. é”™è¯¯æ¢å¤ä¸éƒ¨åˆ†æˆåŠŸ
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;å•ä¸ªè·¯å¾„å¤±è´¥ä¸å½±å“å…¶ä»–è·¯å¾„çš„å¤„ç†&lt;/li&gt;
&lt;li&gt;ignoreæ–‡ä»¶è§£æé”™è¯¯ä¸é˜»æ­¢éå†ç»§ç»­&lt;/li&gt;
&lt;li&gt;æä¾›è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯ä½†ä¿æŒç³»ç»Ÿå¥å£®æ€§&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;walkçš„æ–‡ä»¶å‘ç°ä¸éå†&#34;&gt;Walkçš„æ–‡ä»¶å‘ç°ä¸éå†
&lt;/h4&gt;&lt;p&gt;&lt;code&gt;Walk&lt;/code&gt;å®ç°äº†&lt;code&gt;Iterator&lt;/code&gt;traitï¼Œå…¶æ ¸å¿ƒæ˜¯&lt;code&gt;next()&lt;/code&gt;æ–¹æ³•ï¼Œè´Ÿè´£æ–‡ä»¶å‘ç°å’Œéå†ã€‚&lt;code&gt;Walk&lt;/code&gt;åŒ…è£…äº†&lt;code&gt;WalkEventIter&lt;/code&gt;ï¼Œè€Œ&lt;code&gt;WalkEventIter&lt;/code&gt;åŒ…è£…äº†&lt;code&gt;WalkDir&lt;/code&gt;ã€‚&lt;code&gt;WalkDir&lt;/code&gt;æä¾›åŸºç¡€çš„æ–‡ä»¶ç³»ç»Ÿéå†åŠŸèƒ½ï¼Œæ–‡ä»¶ç³»ç»Ÿçš„æ ‘å½¢ç»“æ„è½¬åŒ–ä¸ºäº†çº¿å½¢çš„Iterï¼›&lt;code&gt;WalkEventDir&lt;/code&gt;åˆ™æ˜¯å°†&lt;code&gt;WalkDir&lt;/code&gt;è½¬æ¢ä¸º&lt;code&gt;WalkEvent&lt;/code&gt;æµï¼›&lt;code&gt;Walk&lt;/code&gt;è´Ÿè´£æ·»åŠ ignoreè§„åˆ™å’Œè¿‡æ»¤é€»è¾‘ã€‚&lt;/p&gt;
&lt;h5 id=&#34;1-æ ¸å¿ƒæ•°æ®ç»“æ„&#34;&gt;1. æ ¸å¿ƒæ•°æ®ç»“æ„
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Walk&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  its: &lt;span style=&#34;color:#a6e22e&#34;&gt;std&lt;/span&gt;::vec::IntoIter&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;(PathBuf, Option&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;WalkEventIter&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;)&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;,	&lt;span style=&#34;color:#75715e&#34;&gt;//åˆå§‹è·¯å¾„è¿­ä»£å™¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;  it: Option&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;WalkEventIter&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;,															&lt;span style=&#34;color:#75715e&#34;&gt;//å½“å‰ç›®å½•è¿­ä»£å™¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;  ig_root: &lt;span style=&#34;color:#a6e22e&#34;&gt;Ignore&lt;/span&gt;,																				&lt;span style=&#34;color:#75715e&#34;&gt;//æ ¹ç›®å½•çš„å¿½ç•¥è§„åˆ™
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;  ig: &lt;span style=&#34;color:#a6e22e&#34;&gt;Ignore&lt;/span&gt;,																							&lt;span style=&#34;color:#75715e&#34;&gt;//å½“å‰ç›®å½•çš„å¿½ç•¥è§„åˆ™
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;//...å…¶ä»–å­—æ®µ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;2åˆå§‹åŒ–é˜¶æ®µ&#34;&gt;2.åˆå§‹åŒ–é˜¶æ®µ
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;å¦‚æœå½“å‰è¿­ä»£å™¨itä¸ºNoneï¼Œä»itsè·å–ä¸‹ä¸€ä¸ªè·¯å¾„&lt;/li&gt;
&lt;li&gt;å¦‚æœitsä¹Ÿè€—å°½ï¼Œè¿”å›Noneè¡¨ç¤ºéå†ç»“æŸ&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;3ä¸»å¾ªç¯ç»“æ„&#34;&gt;3.ä¸»å¾ªç¯ç»“æ„
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;next&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; self) -&amp;gt; Option&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Result&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;DirEntry, Error&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;loop&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// 1. è·å–ä¸‹ä¸€ä¸ªäº‹ä»¶
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// 2. å¤„ç†äº‹ä»¶
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// 3. è¿”å›ç¬¦åˆæ¡ä»¶çš„æ–‡ä»¶/ç›®å½•
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;  }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;4-äº‹ä»¶è·å–é€»è¾‘&#34;&gt;4. äº‹ä»¶è·å–é€»è¾‘
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; ev &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;match&lt;/span&gt; self.it.as_mut().and_then(&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt;it&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; it.next()) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    Some(ev) &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; ev,  &lt;span style=&#34;color:#75715e&#34;&gt;// æœ‰äº‹ä»¶åˆ™å¤„ç†
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    None &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; {        &lt;span style=&#34;color:#75715e&#34;&gt;// å½“å‰è¿­ä»£å™¨è€—å°½
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;match&lt;/span&gt; self.its.next() {  &lt;span style=&#34;color:#75715e&#34;&gt;// è·å–ä¸‹ä¸€ä¸ªè·¯å¾„
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            None &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; None, &lt;span style=&#34;color:#75715e&#34;&gt;// æ‰€æœ‰è·¯å¾„å¤„ç†å®Œæˆ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            Some((_, None)) &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; Some(Ok(DirEntry::new_stdin())), &lt;span style=&#34;color:#75715e&#34;&gt;// æ ‡å‡†è¾“å…¥
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            Some((path, Some(it))) &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; {  &lt;span style=&#34;color:#75715e&#34;&gt;// æ–°è·¯å¾„
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;                self.it &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Some(it);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; path.is_dir() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#75715e&#34;&gt;// æ›´æ–°å¿½ç•¥è§„åˆ™
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;                    &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; (ig, err) &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; self.ig_root.add_parents(path);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    self.ig &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; ig;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; Some(err) &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; err {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; Some(Err(err));
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                } &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    self.ig &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; self.ig_root.clone(); &lt;span style=&#34;color:#75715e&#34;&gt;// é‡ç½®ä¸ºæ ¹è§„åˆ™
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;                }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#66d9ef&#34;&gt;continue&lt;/span&gt;;  &lt;span style=&#34;color:#75715e&#34;&gt;// ç»§ç»­å¤„ç†æ–°è·¯å¾„
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;};
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;5äº‹ä»¶å¤„ç†&#34;&gt;5.äº‹ä»¶å¤„ç†
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;match&lt;/span&gt; ev {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// å¤„ç†é”™è¯¯
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    Err(err) &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; Some(Err(Error::from_walkdir(err))),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// é€€å‡ºç›®å½•
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    Ok(WalkEvent::Exit) &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        self.ig &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; self.ig.parent().unwrap(); &lt;span style=&#34;color:#75715e&#34;&gt;// æ¢å¤çˆ¶ç›®å½•çš„å¿½ç•¥è§„åˆ™
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// å¤„ç†ç›®å½•
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    Ok(WalkEvent::Dir(ent)) &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; de &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; DirEntry::new_entry(ent, self.ig.clone());
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;!&lt;/span&gt;de.is_dir().unwrap_or(&lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;) {  &lt;span style=&#34;color:#75715e&#34;&gt;// å¯èƒ½æ˜¯ç¬¦å·é“¾æ¥
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; Some(Ok(de));
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; Some(err) &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; de.into_error() {  &lt;span style=&#34;color:#75715e&#34;&gt;// æ£€æŸ¥é”™è¯¯
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; Some(Err(err));
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// åº”ç”¨å¿½ç•¥è§„åˆ™
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;match&lt;/span&gt; self.ig.add_child(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;de.path) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            Ok(Some((child_ig, err_opt))) &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                self.ig &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; child_ig;  &lt;span style=&#34;color:#75715e&#34;&gt;// æ›´æ–°ä¸ºå­ç›®å½•çš„å¿½ç•¥è§„åˆ™
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;                &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; Some(err) &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; err_opt {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; Some(Err(err));
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            Ok(None) &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; {}  &lt;span style=&#34;color:#75715e&#34;&gt;// æ— å˜åŒ–
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            Err(err) &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; Some(Err(err)),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// å¤„ç†æ–‡ä»¶
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    Ok(WalkEvent::File(ent)) &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; de &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; DirEntry::new_entry(ent, self.ig.clone());
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; self.skip_entry(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;de).unwrap_or(&lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;continue&lt;/span&gt;;  &lt;span style=&#34;color:#75715e&#34;&gt;// è·³è¿‡è¯¥æ–‡ä»¶
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; Some(Ok(de));  &lt;span style=&#34;color:#75715e&#34;&gt;// è¿”å›æ–‡ä»¶
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;walkeventiterçš„äº‹ä»¶ç”Ÿæˆ&#34;&gt;WalkEventIterçš„äº‹ä»¶ç”Ÿæˆ
&lt;/h4&gt;&lt;h5 id=&#34;1-æ ¸å¿ƒç»“æ„&#34;&gt;1. æ ¸å¿ƒç»“æ„
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;WalkEventIter&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  depth: &lt;span style=&#34;color:#66d9ef&#34;&gt;usize&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  it: &lt;span style=&#34;color:#a6e22e&#34;&gt;walkdir&lt;/span&gt;::IntoIter,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  next: Option&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Result&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;walkdir::DirEntry, walkdir::Error&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;2-åˆå§‹é˜¶æ®µ&#34;&gt;2. åˆå§‹é˜¶æ®µ
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;WalkEventIter {depth: &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;, it: &lt;span style=&#34;color:#a6e22e&#34;&gt;it&lt;/span&gt;.IntoIter, next: None }
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;3-äº‹ä»¶ç”Ÿæˆ&#34;&gt;3. äº‹ä»¶ç”Ÿæˆ
&lt;/h5&gt;&lt;p&gt;ä»&lt;code&gt;it&lt;/code&gt;è·å–&lt;code&gt;DirEntry&lt;/code&gt;ï¼Œ&lt;code&gt;depth&lt;/code&gt;è¡¨ç¤ºå½“å‰æ–‡ä»¶éå†æ·±åº¦ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Exitäº‹ä»¶ç”Ÿæˆï¼šå½“æ£€æµ‹åˆ°æ·±åº¦å‡å°‘æ—¶ï¼ˆdent_depth &amp;lt; self.depthï¼‰ï¼Œè¡¨ç¤ºæ­£åœ¨ä»å­ç›®å½•è¿”å›&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;nextå­—æ®µ&lt;/strong&gt;ï¼šä»…åœ¨ç”ŸæˆExitäº‹ä»¶æ—¶&lt;strong&gt;ä¿å­˜å½“å‰æ¡ç›®&lt;/strong&gt;ï¼Œç¡®ä¿ä¸‹æ¬¡å¤„ç†æ—¶èƒ½æ­£ç¡®å¤„ç†ï¼Œ
&lt;ul&gt;
&lt;li&gt;å› ä¸ºé€€å‡ºç›®å½•æ—¶ï¼Œæˆ‘ä»¬ç”Ÿæˆäº†Exitäº‹ä»¶ï¼Œ&lt;strong&gt;å½“å‰æ¡ç›®è¢«å»¶è¿Ÿå¤„ç†äº†&lt;/strong&gt;ï¼Œæ‰€ä»¥è¦ä¸´æ—¶ä¿å­˜&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;depthç®¡ç†ï¼š
&lt;ul&gt;
&lt;li&gt;è¿›å…¥å­ç›®å½•æ—¶ &lt;code&gt;self.depth += 1&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;é€€å‡ºå­ç›®å½•æ—¶ &lt;code&gt;self.depth -= 1&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;é‡åˆ°æ–°æ¡ç›®æ—¶æ›´æ–° &lt;code&gt;self.depth = dent.depth()&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;walkparallel&#34;&gt;WalkParallel
&lt;/h3&gt;&lt;h5 id=&#34;1æ ¸å¿ƒæ„æˆ&#34;&gt;1.æ ¸å¿ƒæ„æˆ
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;WalkParallel&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    paths: &lt;span style=&#34;color:#a6e22e&#34;&gt;std&lt;/span&gt;::vec::IntoIter&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;PathBuf&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;,  &lt;span style=&#34;color:#75715e&#34;&gt;// è¦éå†çš„è·¯å¾„
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    ig_root: &lt;span style=&#34;color:#a6e22e&#34;&gt;Ignore&lt;/span&gt;,                    &lt;span style=&#34;color:#75715e&#34;&gt;// æ ¹ç›®å½•çš„å¿½ç•¥è§„åˆ™
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    max_filesize: Option&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;u64&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;,          &lt;span style=&#34;color:#75715e&#34;&gt;// æ–‡ä»¶å¤§å°é™åˆ¶
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    max_depth: Option&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;usize&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;,           &lt;span style=&#34;color:#75715e&#34;&gt;// æœ€å¤§æ·±åº¦
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    follow_links: &lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt;,                 &lt;span style=&#34;color:#75715e&#34;&gt;// æ˜¯å¦è·Ÿè¸ªç¬¦å·é“¾æ¥
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    same_file_system: &lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt;,             &lt;span style=&#34;color:#75715e&#34;&gt;// æ˜¯å¦é™åˆ¶åœ¨åŒä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    threads: &lt;span style=&#34;color:#66d9ef&#34;&gt;usize&lt;/span&gt;,                     &lt;span style=&#34;color:#75715e&#34;&gt;// çº¿ç¨‹æ•°
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    skip: Option&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Arc&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Handle&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt;,          &lt;span style=&#34;color:#75715e&#34;&gt;// è·³è¿‡è§„åˆ™
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    filter: Option&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Filter&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;,             &lt;span style=&#34;color:#75715e&#34;&gt;// è‡ªå®šä¹‰è¿‡æ»¤å™¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Worker&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;&amp;#39;s&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    visitor: Box&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;dyn&lt;/span&gt; ParallelVisitor&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;,  &lt;span style=&#34;color:#75715e&#34;&gt;// å¤„ç†æ–‡ä»¶/ç›®å½•çš„å›è°ƒ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    stack: &lt;span style=&#34;color:#a6e22e&#34;&gt;Stack&lt;/span&gt;,                      &lt;span style=&#34;color:#75715e&#34;&gt;// ä»»åŠ¡æ ˆ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    quit_now: &lt;span style=&#34;color:#a6e22e&#34;&gt;Arc&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;AtomicBool&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;,         &lt;span style=&#34;color:#75715e&#34;&gt;// æå‰ç»ˆæ­¢æ ‡å¿—
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    active_workers: &lt;span style=&#34;color:#a6e22e&#34;&gt;Arc&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;AtomicUsize&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;,  &lt;span style=&#34;color:#75715e&#34;&gt;// æ´»è·ƒå·¥ä½œçº¿ç¨‹è®¡æ•°
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// ... å…¶ä»–çŠ¶æ€
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;2-æ„å»ºåˆå§‹åŒ–&#34;&gt;2. æ„å»ºåˆå§‹åŒ–
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// 1. åˆ›å»ºå¹¶è¡Œéå†å™¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; walker &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; WalkBuilder::new(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;/path&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    .threads(&lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;)  &lt;span style=&#34;color:#75715e&#34;&gt;// è®¾ç½®çº¿ç¨‹æ•°
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    .build_parallel();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// 2. è¿è¡Œéå†
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;walker.run(&lt;span style=&#34;color:#f92672&#34;&gt;||&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// æ¯ä¸ªçº¿ç¨‹çš„åˆå§‹åŒ–ä»£ç 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    Box::new(&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt;result&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// å¤„ç†æ¯ä¸ªæ–‡ä»¶/ç›®å½•
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;match&lt;/span&gt; result {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            Ok(entry) &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;println!&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Found: &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;{}&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;, entry.path().display()),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            Err(err) &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;eprintln!&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Error: &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;{}&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;, err),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        WalkState::Continue  &lt;span style=&#34;color:#75715e&#34;&gt;// æ§åˆ¶éå†æµç¨‹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    })
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;});
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;3-å…³é”®ç»„ä»¶&#34;&gt;3. å…³é”®ç»„ä»¶
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ParallelVisitor&lt;/strong&gt;ï¼šå®šä¹‰å¦‚ä½•å¤„ç†éå†ç»“æœ&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;trait&lt;/span&gt; ParallelVisitor: Send {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;visit&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; self, entry: Result&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;DirEntry, Error&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;) -&amp;gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;WalkState&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Work&lt;/strong&gt;ä»»åŠ¡å•å…ƒï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Work&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  dent: &lt;span style=&#34;color:#a6e22e&#34;&gt;DirEntry&lt;/span&gt;, 	&lt;span style=&#34;color:#75715e&#34;&gt;//ç›®å½•é¡¹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;  ignore: &lt;span style=&#34;color:#a6e22e&#34;&gt;Ignore&lt;/span&gt;,		&lt;span style=&#34;color:#75715e&#34;&gt;//å¿½ç•¥è§„åˆ™
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;  root_device: &lt;span style=&#34;color:#66d9ef&#34;&gt;u64&lt;/span&gt;,	&lt;span style=&#34;color:#75715e&#34;&gt;//è®¾å¤‡å·ï¼ˆç”¨äºè·¨æ–‡ä»¶ç³»ç»Ÿæ£€æŸ¥ï¼‰
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;4-æ‰§è¡Œæµç¨‹&#34;&gt;4. æ‰§è¡Œæµç¨‹
&lt;/h5&gt;&lt;ol&gt;
&lt;li&gt;åˆ›å»ºå·¥ä½œçº¿ç¨‹æ± &lt;/li&gt;
&lt;li&gt;å°†åˆå§‹è·¯å¾„åŠ å…¥å·¥ä½œé˜Ÿåˆ—&lt;/li&gt;
&lt;li&gt;æ¯ä¸ªå·¥ä½œçº¿ç¨‹ï¼š
&lt;ul&gt;
&lt;li&gt;ä»é˜Ÿåˆ—è·å–ä»»åŠ¡&lt;/li&gt;
&lt;li&gt;å¤„ç†ç›®å½•é¡¹&lt;/li&gt;
&lt;li&gt;å‘ç°å­ç›®å½•ç”Ÿæˆæ–°ä»»åŠ¡&lt;/li&gt;
&lt;li&gt;å¤„ç†ignoreè§„åˆ™&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;æµç¨‹è¯¦è§£&#34;&gt;æµç¨‹è¯¦è§£
&lt;/h4&gt;&lt;h5 id=&#34;1-åˆå§‹åŒ–é˜¶æ®µ&#34;&gt;1. åˆå§‹åŒ–é˜¶æ®µ
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; walker &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; WalkBuilder::new(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;/path&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    .threads(&lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;)  &lt;span style=&#34;color:#75715e&#34;&gt;// 4ä¸ªå·¥ä½œçº¿ç¨‹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    .build_parallel();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;walker.run(&lt;span style=&#34;color:#f92672&#34;&gt;||&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// æ¯ä¸ªçº¿ç¨‹åˆå§‹åŒ–æ—¶æ‰§è¡Œ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    Box::new(&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt;result&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// å¤„ç†æ¯ä¸ªæ–‡ä»¶/ç›®å½•
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;println!&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;{:?}&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;, result&lt;span style=&#34;color:#f92672&#34;&gt;?&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        WalkState::Continue
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    })
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;});
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;2-æ ¸å¿ƒæ–¹æ³•&#34;&gt;2. æ ¸å¿ƒæ–¹æ³•
&lt;/h5&gt;&lt;h6 id=&#34;21-visitæ–¹æ³•&#34;&gt;2.1 &lt;code&gt;visit&lt;/code&gt;æ–¹æ³•
&lt;/h6&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;visit&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; self, builder: &lt;span style=&#34;color:#66d9ef&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;mut&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;dyn&lt;/span&gt; ParallelVisitorBuilder&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&amp;#39;_&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// 1. åˆå§‹åŒ–å·¥ä½œé˜Ÿåˆ—
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; threads &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; self.threads();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; stack &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;vec!&lt;/span&gt;[];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// 2. å¤„ç†åˆå§‹è·¯å¾„
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; visitor &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; builder.build();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// ... å¤„ç†åˆå§‹è·¯å¾„å¹¶å¡«å…… stack ...
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// 3. åˆ›å»ºå·¥ä½œçº¿ç¨‹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; quit_now &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Arc::new(AtomicBool::new(&lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;));
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; active_workers &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Arc::new(AtomicUsize::new(threads));
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; stacks &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Stack::new_for_each_thread(threads, stack);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// 4. å¯åŠ¨å·¥ä½œçº¿ç¨‹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    std::thread::scope(&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt;s&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; handles: Vec&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;_&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; stacks
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            .into_iter()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            .map(&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt;stack&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; Worker { &lt;span style=&#34;color:#75715e&#34;&gt;/* ... */&lt;/span&gt; })
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            .map(&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt;worker&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; s.spawn(&lt;span style=&#34;color:#f92672&#34;&gt;||&lt;/span&gt; worker.run()))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            .collect();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// 5. ç­‰å¾…æ‰€æœ‰å·¥ä½œçº¿ç¨‹å®Œæˆ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; handle &lt;span style=&#34;color:#66d9ef&#34;&gt;in&lt;/span&gt; handles {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            handle.join().unwrap();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    });
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h6 id=&#34;22-workerrunæ–¹æ³•&#34;&gt;2.2 &lt;code&gt;Worker::run&lt;/code&gt;æ–¹æ³•
&lt;/h6&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;run&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; self) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;while&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; Some(work) &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; self.get_work() {	&lt;span style=&#34;color:#75715e&#34;&gt;//è·å–å·¥ä½œé¡¹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; WalkState::Quit &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; self.run_one(work) {		&lt;span style=&#34;color:#75715e&#34;&gt;//å¤„ç†å·¥ä½œé¡¹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;      self.quit_now()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h6 id=&#34;23-workerrun_oneæ–¹æ³•&#34;&gt;2.3 &lt;code&gt;Worker::run_one&lt;/code&gt;æ–¹æ³•
&lt;/h6&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;run_one&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; self, work: &lt;span style=&#34;color:#a6e22e&#34;&gt;Work&lt;/span&gt;) -&amp;gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;WalkState&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// å¦‚æœæ˜¯æ–‡ä»¶æˆ–ç¬¦å·é“¾æ¥ï¼Œç›´æ¥å¤„ç†
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; work.is_symlink() &lt;span style=&#34;color:#f92672&#34;&gt;||&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;!&lt;/span&gt;work.is_dir() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; self.visitor.visit(Ok(work.dent));
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// è¯»å–ç›®å½•å†…å®¹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; readdir &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;match&lt;/span&gt; work.read_dir() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        Ok(readdir) &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; readdir,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        Err(err) &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; self.visitor.visit(Err(err)),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    };
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// å¤„ç†ç›®å½•ä¸­çš„æ¯ä¸ªæ¡ç›®
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; result &lt;span style=&#34;color:#66d9ef&#34;&gt;in&lt;/span&gt; readdir {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; state &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; self.generate_work(&lt;span style=&#34;color:#75715e&#34;&gt;/* ... */&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; state.is_quit() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; state;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    WalkState::Continue
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h6 id=&#34;24-workerget_workæ–¹æ³•&#34;&gt;2.4 &lt;code&gt;Worker::get_work&lt;/code&gt;æ–¹æ³•
&lt;/h6&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;get_work&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; self) -&amp;gt; Option&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Work&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// 1. å…ˆå°è¯•ä»è‡ªå·±çš„é˜Ÿåˆ—è·å–å·¥ä½œ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; Some(work) &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; self.stack.pop() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; Some(work);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// 2. å°è¯•ä»å…¶ä»–çº¿ç¨‹çªƒå–å·¥ä½œ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; Some(work) &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; self.stack.steal() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; Some(work);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// 3. å¦‚æœéƒ½å¤±è´¥ï¼Œç­‰å¾…å·¥ä½œæˆ–é€€å‡º
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    self.stack.recv()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;3-å·¥ä½œæµç¨‹&#34;&gt;3. å·¥ä½œæµç¨‹
&lt;/h5&gt;&lt;h6 id=&#34;1-åˆå§‹åŒ–é˜¶æ®µ-1&#34;&gt;1. åˆå§‹åŒ–é˜¶æ®µ
&lt;/h6&gt;&lt;ul&gt;
&lt;li&gt;åˆ›å»ºæŒ‡å®šæ•°é‡çš„å·¥ä½œçº¿ç¨‹&lt;/li&gt;
&lt;li&gt;å°†åˆå§‹å·¥ä½œé¡¹åˆ†é…åˆ°å·¥ä½œé˜Ÿåˆ—&lt;/li&gt;
&lt;/ul&gt;
&lt;h6 id=&#34;2-å·¥ä½œé˜¶æ®µ&#34;&gt;2. å·¥ä½œé˜¶æ®µ
&lt;/h6&gt;&lt;ul&gt;
&lt;li&gt;æ¯ä¸ªå·¥ä½œçº¿ç¨‹ä»è‡ªå·±çš„é˜Ÿåˆ—è·å–å·¥ä½œ&lt;/li&gt;
&lt;li&gt;å¤„ç†æ–‡ä»¶æˆ–éå†ç›®å½•&lt;/li&gt;
&lt;li&gt;å°†æ–°å‘ç°çš„å·¥ä½œæ”¾å…¥é˜Ÿåˆ—&lt;/li&gt;
&lt;/ul&gt;
&lt;h6 id=&#34;3-å·¥ä½œçªƒå–&#34;&gt;3. å·¥ä½œçªƒå–
&lt;/h6&gt;&lt;ul&gt;
&lt;li&gt;å½“çº¿ç¨‹è‡ªå·±çš„é˜Ÿåˆ—ä¸ºç©ºæ—¶ï¼Œå°è¯•ä»å…¶ä»–çº¿ç¨‹çªƒå–å·¥ä½œ&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨åŸå­æ“ä½œä¿è¯çº¿ç¨‹å®‰å…¨&lt;/li&gt;
&lt;/ul&gt;
&lt;h6 id=&#34;4-ç»ˆæ­¢æ¡ä»¶&#34;&gt;4. ç»ˆæ­¢æ¡ä»¶
&lt;/h6&gt;&lt;ul&gt;
&lt;li&gt;æ‰€æœ‰å·¥ä½œé˜Ÿåˆ—ä¸ºç©ºæ—¶&lt;/li&gt;
&lt;li&gt;æ‰€æœ‰å·¥ä½œçº¿ç¨‹éƒ½å¤„äºç©ºé—²çŠ¶æ€&lt;/li&gt;
&lt;li&gt;æ”¶åˆ°é€€å‡ºä¿¡å·&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;4-å…³é”®è®¾è®¡ç‚¹&#34;&gt;4. å…³é”®è®¾è®¡ç‚¹
&lt;/h5&gt;&lt;ol&gt;
&lt;li&gt;å·¥ä½œçªƒå–ï¼šä½¿ç”¨å·¥ä½œçªƒå–ç®—æ³•å®ç°è´Ÿè½½å‡è¡¡&lt;/li&gt;
&lt;li&gt;æ— é”è®¾è®¡ï¼šä½¿ç”¨&lt;code&gt;channel&lt;/code&gt;è¿›è¡Œçº¿ç¨‹é—´é€šä¿¡&lt;/li&gt;
&lt;li&gt;ä¼˜é›…é€€å‡ºï¼šä½¿ç”¨åŸå­å¸ƒå°”å€¼æ§åˆ¶å·¥ä½œçº¿ç¨‹é€€å‡º&lt;/li&gt;
&lt;li&gt;èµ„æºç®¡ç†ï¼šä½¿ç”¨&lt;code&gt;RAII&lt;/code&gt;ç¡®ä¿èµ„æºæ­£ç¡®é‡Šæ”¾&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;æ€»ç»“&#34;&gt;æ€»ç»“
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;æ–‡ä»¶å‘ç°è·å¾—æ–‡ä»¶çš„ç»å¯¹è·¯å¾„ï¼Œä¹‹åä½¿ç”¨ç»å¯¹è·¯å¾„ä¾¿å¯è¯»å–æ–‡ä»¶å†…å®¹&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¤šçº¿ç¨‹æ¨¡å¼ä½¿ç”¨å¹¿åº¦ä¼˜å…ˆéå†ï¼Œå•çº¿ç¨‹ä½¿ç”¨äº†æ·±åº¦ä¼˜å…ˆéå†&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Workeræ˜¯ä»»åŠ¡è°ƒåº¦ï¼ŒWorkæ˜¯ä»»åŠ¡å®šä¹‰ï¼ŒVisitoræ˜¯ä»»åŠ¡å¤„ç†&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;ignoreçš„ç»“æ„&#34;&gt;Ignoreçš„ç»“æ„
&lt;/h3&gt;&lt;p&gt;ç»“æ„ä½“&lt;code&gt;Ignore&lt;/code&gt;è´Ÿè´£ç®¡ç†å¿½ç•¥è§„åˆ™ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;/// Ignore is a matcher useful for recursively walking one or more directories.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#[derive(Clone, Debug)]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;crate&lt;/span&gt;) &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Ignore&lt;/span&gt;(Arc&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;IgnoreInner&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#[derive(Clone, Debug)]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;IgnoreInner&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;/// A map of all existing directories that have already been
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;/// compiled into matchers.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;///
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;/// Note that this is never used during matching, only when adding new
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;/// parent directory matchers. This avoids needing to rebuild glob sets for
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;/// parent directories if many paths are being searched.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&lt;/span&gt;    compiled: &lt;span style=&#34;color:#a6e22e&#34;&gt;Arc&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;RwLock&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;HashMap&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;OsString, Weak&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;IgnoreInner&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;/// The path to the directory that this matcher was built from.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&lt;/span&gt;    dir: &lt;span style=&#34;color:#a6e22e&#34;&gt;PathBuf&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;/// An override matcher (default is empty).
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&lt;/span&gt;    overrides: &lt;span style=&#34;color:#a6e22e&#34;&gt;Arc&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Override&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;/// A file type matcher.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&lt;/span&gt;    types: &lt;span style=&#34;color:#a6e22e&#34;&gt;Arc&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Types&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;/// The parent directory to match next.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&lt;/span&gt;    parent: &lt;span style=&#34;color:#a6e22e&#34;&gt;Ignore&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;/// Whether this matcher should be compiled case insensitively.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&lt;/span&gt;    case_insensitive: &lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;/// Whether to match hidden files.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&lt;/span&gt;    hidden: &lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;/// Whether to read .ignore files.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&lt;/span&gt;    ignore: &lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;/// Whether to respect any ignore files in parent directories.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&lt;/span&gt;    parents: &lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;/// Whether to read git&amp;#39;s global gitignore file.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&lt;/span&gt;    git_global: &lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;/// Whether to read .gitignore files.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&lt;/span&gt;    git_ignore: &lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;/// Whether to read .git/info/exclude files.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&lt;/span&gt;    git_exclude: &lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;/// Whether to ignore files case insensitively
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&lt;/span&gt;    ignore_case_insensitive: &lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;/// Whether a git repository must be present in order to apply any
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;/// git-related ignore rules.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&lt;/span&gt;    require_git: &lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;å…³é”®ç»„ä»¶è§£æ&#34;&gt;å…³é”®ç»„ä»¶è§£æ
&lt;/h5&gt;&lt;ol&gt;
&lt;li&gt;Ignoreç»“æ„ä½“
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨&lt;code&gt;Arc&lt;/code&gt;è¿›è¡Œå¼•ç”¨è®¡æ•°ï¼Œå…è®¸å¤šçº¿ç¨‹å…±äº«&lt;/li&gt;
&lt;li&gt;å®é™…å®ç°åœ¨&lt;code&gt;IgnoreInner&lt;/code&gt;ä¸­&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;IgnoreInner&lt;/code&gt;å­—æ®µ
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;compiled&lt;/code&gt;ï¼šç¼“å­˜å·²ç¼–è¯‘çš„ç›®å½•åŒ¹é…å™¨ï¼Œé¿å…é‡å¤æ„å»º&lt;/li&gt;
&lt;li&gt;&lt;code&gt;dir&lt;/code&gt;:å½“å‰åŒ¹é…å™¨å¯¹åº”çš„ç›®å½•è·¯å¾„&lt;/li&gt;
&lt;li&gt;&lt;code&gt;overrides&lt;/code&gt;ï¼šè¦†ç›–è§„åˆ™ï¼Œä¼˜å…ˆçº§æœ€é«˜&lt;/li&gt;
&lt;li&gt;&lt;code&gt;types&lt;/code&gt;ï¼šæ–‡ä»¶ç±»å‹åŒ¹é…å™¨&lt;/li&gt;
&lt;li&gt;&lt;code&gt;parent&lt;/code&gt;: çˆ¶ç›®å½•çš„åŒ¹é…å™¨ï¼Œå½¢æˆé“¾å¼ç»“æ„&lt;/li&gt;
&lt;li&gt;å„ç§æ ‡å¿—ä½ï¼šæ§åˆ¶å¿½ç•¥è§„åˆ™çš„è¡Œä¸º(å¦‚æ˜¯å¦å¿½ç•¥éšè—æ–‡ä»¶ã€æ˜¯å¦è¯»å–.gitignoreç­‰)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å¿½ç•¥è§„åˆ™çš„ä¼˜å…ˆçº§
&lt;ul&gt;
&lt;li&gt;ä»é«˜åˆ°ä½
&lt;ol&gt;
&lt;li&gt;æ˜¾å¼è¦†ç›–è§„åˆ™(&lt;code&gt;overrides&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;å½“å‰ç›®å½•çš„.gitignore&lt;/li&gt;
&lt;li&gt;çˆ¶ç›®å½•çš„.gitignore&lt;/li&gt;
&lt;li&gt;å…¨å±€gitignore&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
</description>
        </item>
        <item>
        <title>Walkå­¦ä¹ </title>
        <link>http://localhost:1313/rust/ripgrep/walk%E5%AD%A6%E4%B9%A0/</link>
        <pubDate>Tue, 26 Aug 2025 15:01:45 +0800</pubDate>
        
        <guid>http://localhost:1313/rust/ripgrep/walk%E5%AD%A6%E4%B9%A0/</guid>
        <description>&lt;h3 id=&#34;æ ¸å¿ƒæ¶æ„åˆ†æ&#34;&gt;æ ¸å¿ƒæ¶æ„åˆ†æ
&lt;/h3&gt;&lt;h4 id=&#34;æ ¸å¿ƒåŠŸèƒ½&#34;&gt;æ ¸å¿ƒåŠŸèƒ½
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;å¹¶å‘éå†(&lt;code&gt;crossbeam_deque&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;é¿å…é‡å¤å¤„ç†(&lt;code&gt;same_file&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;åŸºç¡€éå†èƒ½åŠ›(&lt;code&gt;walkdir&lt;/code&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;direntryçš„è®¾è®¡&#34;&gt;DirEntryçš„è®¾è®¡
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#[derive(Debug, Clone)]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;DirEntry&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  dent: &lt;span style=&#34;color:#a6e22e&#34;&gt;DirEntryInner&lt;/span&gt;,		&lt;span style=&#34;color:#75715e&#34;&gt;//å®é™…çš„ç›®å½•æ¡ç›®
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;  err: Option&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Error&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;,			&lt;span style=&#34;color:#75715e&#34;&gt;//é™„åŠ çš„é”™è¯¯ä¿¡æ¯
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;è®¾è®¡äº®ç‚¹&#34;&gt;è®¾è®¡äº®ç‚¹ï¼š
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;é”™è¯¯ä¸é˜»å¡ - å³ä½¿æœ‰é”™è¯¯ä¹Ÿä¿ç•™æ¡ç›®ï¼Œåªæ˜¯é™„åŠ é”™è¯¯ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;å†…éƒ¨æŠ½è±¡ - &lt;code&gt;DirEntryInner&lt;/code&gt;éšè—å…·ä½“å®ç°ç»†èŠ‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;direntryinnerçš„è®¾è®¡&#34;&gt;DirEntryInnerçš„è®¾è®¡
&lt;/h4&gt;&lt;p&gt;ä»ä»£ç å¯ä»¥çœ‹åˆ°ä¸€ä¸ªç²¾å·§çš„å¤šæ€è®¾è®¡ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;enum&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;DirEntryInner&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  Stdin,												&lt;span style=&#34;color:#75715e&#34;&gt;//æ ‡å‡†è¾“å…¥çš„ç‰¹æ®Šå¤„ç†
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;  WalkDir(walkdir::DirEntry),		&lt;span style=&#34;color:#75715e&#34;&gt;//æ¥è‡ªwalkdir crateçš„æ¡ç›®
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;  Raw(DirEntryRaw),							&lt;span style=&#34;color:#75715e&#34;&gt;//è‡ªå®šä¹‰çš„åŸå§‹æ¡ç›®
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;ç»Ÿä¸€æ¥å£æ¨¡å¼&#34;&gt;ç»Ÿä¸€æ¥å£æ¨¡å¼
&lt;/h5&gt;&lt;p&gt;æ¯ä¸ªæ–¹æ³•éƒ½é€šè¿‡æ¨¡å¼åŒ¹é…æä¾›ç»Ÿä¸€æ¥å£ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;path&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;self) -&amp;gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;Path&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;match&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;self {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    Stdin &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; Path::new(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;lt;stdin&amp;gt;&amp;#34;&lt;/span&gt;),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    Walkdir(&lt;span style=&#34;color:#66d9ef&#34;&gt;ref&lt;/span&gt; x) &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; x.path(),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    Raw(&lt;span style=&#34;color:#66d9ef&#34;&gt;ref&lt;/span&gt; x) &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; x.path(),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™ç§è®¾è®¡çš„ä»·å€¼ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;ç±»å‹å®‰å…¨&lt;/strong&gt; - ç¼–è¯‘æ—¶ä¿å­˜æ‰€æœ‰å˜ä½“éƒ½è¢«å¤„ç†&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ€§èƒ½ä¼˜åŒ–&lt;/strong&gt; - é›¶æˆæœ¬æŠ½è±¡ï¼Œè¿è¡Œæ—¶æ— è™šå‡½æ•°è°ƒç”¨å¼€é”€&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ‰©å±•æ€§&lt;/strong&gt; - å¯ä»¥è½»æ¾æ·»åŠ æ–°çš„æ¡ç›®ç±»å‹&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;direntryraw&#34;&gt;DirEntryRaw
&lt;/h4&gt;&lt;p&gt;æ ¹æ®ä»£ç ï¼Œå¯ä»¥çœ‹åˆ°ä¸€ä¸ªé‡è¦çš„è·¨å¹³å°ä¼˜åŒ–ç­–ç•¥ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;DirEntryRaw&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  path: &lt;span style=&#34;color:#a6e22e&#34;&gt;PathBuf&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  ty: &lt;span style=&#34;color:#a6e22e&#34;&gt;fileType&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  follow_link: &lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  depth: &lt;span style=&#34;color:#66d9ef&#34;&gt;usize&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;//å¹³å°ç‰¹åŒ–å­—æ®µ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;#[cfg(unix)]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  ino: &lt;span style=&#34;color:#66d9ef&#34;&gt;u64&lt;/span&gt;,       &lt;span style=&#34;color:#75715e&#34;&gt;//Unix: å­˜å‚¨inodeå·
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;#[cfg(windows)]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  metadata: &lt;span style=&#34;color:#a6e22e&#34;&gt;fs&lt;/span&gt;::Metadata,		&lt;span style=&#34;color:#75715e&#34;&gt;//Windows:å­˜å‚¨å®Œæ•´å…ƒæ•°æ®
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;å¹³å°ä¼˜åŒ–çš„è®¾è®¡æ€è·¯&#34;&gt;å¹³å°ä¼˜åŒ–çš„è®¾è®¡æ€è·¯
&lt;/h5&gt;&lt;p&gt;&lt;strong&gt;Unixç³»ç»Ÿ&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åªå­˜å‚¨&lt;code&gt;inode&lt;/code&gt;å·ï¼Œå› ä¸ºUnixæ–‡ä»¶ç³»ç»Ÿæ“ä½œç›¸å¯¹ä¾¿å®œ&lt;/li&gt;
&lt;li&gt;éœ€è¦æ—¶å†é€šè¿‡ç³»ç»Ÿè°ƒç”¨è·å–å®Œæ•´å…ƒæ•°æ®&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Windowsç³»ç»Ÿ&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é¢„å…ˆå­˜å‚¨å®Œæ•´çš„&lt;code&gt;metadata&lt;/code&gt;ï¼Œå› ä¸ºWindowsæ–‡ä»¶ç³»ç»Ÿè°ƒç”¨å¼€é”€æ¯”è¾ƒå¤§&lt;/li&gt;
&lt;li&gt;åœ¨ç›®å½•è¯»å–æ—¶å°±è·å–å…ƒæ•°æ®ï¼Œé¿å…åç»­é‡å¤è°ƒç”¨&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;ç¬¦å·é“¾æ¥å¤„ç†é€»è¾‘&#34;&gt;ç¬¦å·é“¾æ¥å¤„ç†é€»è¾‘
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;path_is_symlink&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;self) -&amp;gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  self.ty.is_symlink() &lt;span style=&#34;color:#f92672&#34;&gt;||&lt;/span&gt; self.follow_link
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™é‡Œæœ‰ä¸¤ç§æƒ…å†µè®¤ä¸ºæ˜¯ç¬¦å·é“¾æ¥ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;çœŸæ­£çš„ç¬¦å·é“¾æ¥(&lt;code&gt;self.ty.is_symlink()&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;è·Ÿéšé“¾æ¥çš„æ¡ç›®(&lt;code&gt;self.follow_link&lt;/code&gt;)&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;walkparallelçš„å¹¶å‘éå†æœºåˆ¶&#34;&gt;WalkParallelçš„å¹¶å‘éå†æœºåˆ¶
&lt;/h4&gt;&lt;p&gt;ä»ä»£ç å¯ä»¥çœ‹åˆ°&lt;code&gt;WalkParallel&lt;/code&gt;çš„æ ¸å¿ƒè®¾è®¡ï¼š&lt;/p&gt;
&lt;h5 id=&#34;å›è°ƒæ¨¡å¼è€Œéè¿­ä»£å™¨&#34;&gt;å›è°ƒæ¨¡å¼è€Œéè¿­ä»£å™¨
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;run&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;&amp;#39;s&lt;/span&gt;, F&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;(self, mkf: &lt;span style=&#34;color:#a6e22e&#34;&gt;F&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;where&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	F: FnMut() -&amp;gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;FnVisitor&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;&amp;#39;s&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;,  &lt;span style=&#34;color:#75715e&#34;&gt;//ä¸ºæ¯ä¸ªçº¿ç¨‹åˆ›å»ºä¸€ä¸ªè®¿é—®å™¨ {
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	self.visit(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; FnBuilder {builder: &lt;span style=&#34;color:#a6e22e&#34;&gt;mkf&lt;/span&gt;})
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;è®¾è®¡åŸå› &lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¹¶è¡Œè¿­ä»£å™¨éš¾ä»¥å®ç°&lt;code&gt;Iterator&lt;/code&gt;trait&lt;/li&gt;
&lt;li&gt;å›è°ƒæ¨¡å¼æ›´é€‚åˆå·¥ä½œçªƒå–ç®—æ³•&lt;/li&gt;
&lt;li&gt;æ¯ä¸ªçº¿ç¨‹æœ‰ç‹¬ç«‹çš„è®¿é—®å™¨ï¼Œé¿å…åŒæ­¥å¼€é”€&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;çº¿ç¨‹æ± å’Œå·¥ä½œåˆ†å‘&#34;&gt;çº¿ç¨‹æ± å’Œå·¥ä½œåˆ†å‘
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;visit&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; self, builder: &lt;span style=&#34;color:#66d9ef&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;mut&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;dyn&lt;/span&gt; ParallelVisitorBuilder&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&amp;#39;_&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; threads &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; self.threads();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; stack &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;vec!&lt;/span&gt;[];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;//ä¸ºæ¯ä¸ªæ ¹è·¯å¾„åˆ›å»ºåˆå§‹å·¥ä½œé¡¹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; path &lt;span style=&#34;color:#66d9ef&#34;&gt;in&lt;/span&gt; paths {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; (dent, root_device) &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; path &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; Path::new(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;-&amp;#34;&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      (DirEntry::new_stdin(), None)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    } &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#75715e&#34;&gt;//å¤„ç†æ–‡ä»¶ç³»ç»Ÿè¾¹ç•Œæ£€æŸ¥
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;      &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; root_device &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;!&lt;/span&gt;self.same_file_system {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        None
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      } &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;match&lt;/span&gt; device_num(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;path)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      };
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;æ–‡ä»¶ç³»ç»Ÿè¾¹ç•Œå¤„ç†&#34;&gt;æ–‡ä»¶ç³»ç»Ÿè¾¹ç•Œå¤„ç†
&lt;/h5&gt;&lt;p&gt;æ³¨æ„&lt;code&gt;same_file_system&lt;/code&gt;çš„å¤„ç†ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è·å–æ ¹è·¯å¾„çš„è®¾å¤‡å·(&lt;code&gt;device_num&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;éå†æ—¶æ£€æŸ¥æ˜¯å¦è·¨è¶Šæ–‡ä»¶ç³»ç»Ÿè¾¹ç•Œ&lt;/li&gt;
&lt;li&gt;è¿™æ˜¯Unixç³»ç»Ÿä¸­çš„é‡è¦ä¼˜åŒ–&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;å·¥ä½œçªƒå–å¹¶å‘æœºåˆ¶&#34;&gt;å·¥ä½œçªƒå–å¹¶å‘æœºåˆ¶
&lt;/h4&gt;&lt;p&gt;ä»ä»£ç å¯ä»¥çœ‹åˆ°ä¸€ä¸ªç²¾å·§çš„å¹¶å‘éå†å®ç°ï¼š&lt;/p&gt;
&lt;h5 id=&#34;å·¥ä½œçªƒå–é˜Ÿåˆ—çš„è®¾è®¡&#34;&gt;å·¥ä½œçªƒå–é˜Ÿåˆ—çš„è®¾è®¡
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// ä¸ºæ¯ä¸ªçº¿ç¨‹åˆ›å»ºä¸€ä¸ª LIFO é˜Ÿåˆ—
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; deques: Vec&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Deque&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Message&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    std::iter::repeat_with(Deque::new_lifo).take(threads).collect();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// åˆ›å»ºçªƒå–å™¨ï¼Œè®©æ‰€æœ‰çº¿ç¨‹éƒ½èƒ½ä»å…¶ä»–é˜Ÿåˆ—çªƒå–å·¥ä½œ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; stealers &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Arc::&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;[Stealer&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Message&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;]&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;::from(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    deques.iter().map(Deque::stealer).collect::&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Vec&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;_&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt;(),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;LIFOé˜Ÿåˆ—çš„é€‰æ‹©ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ·±åº¦ä¼˜å…ˆéå†ï¼Œå‡å°‘å†…å­˜å ç”¨&lt;/li&gt;
&lt;li&gt;ä¿æŒgitignoreåŒ¹é…å™¨æ•°é‡è¾ƒä½&lt;/li&gt;
&lt;li&gt;å¯¹äºå®½ç›®å½•æ ‘çš„æ€§èƒ½ä¼˜åŒ–&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;stackçš„çªƒå–ç­–ç•¥&#34;&gt;Stackçš„çªƒå–ç­–ç•¥
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;steal&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;self) -&amp;gt; Option&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Message&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// å…¬å¹³æ€§ï¼šä» index + 1 å¼€å§‹çªƒå–ï¼Œç„¶åç¯ç»•
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; (left, right) &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; self.stealers.split_at(self.index);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; right &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;right[&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;..&lt;/span&gt;];  &lt;span style=&#34;color:#75715e&#34;&gt;// ä¸ä»è‡ªå·±çªƒå–
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    right.iter().chain(left.iter())
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        .map(&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt;s&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; s.steal_batch_and_pop(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;self.deque))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        .find_map(&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt;s&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; s.success())
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;çªƒå–ç®—æ³•ç‰¹ç‚¹ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å…¬å¹³æ€§&lt;/strong&gt; - è½®è¯¢å…¶ä»–çº¿ç¨‹çš„é˜Ÿåˆ—&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ‰¹é‡çªƒå–&lt;/strong&gt; - &lt;code&gt;steal_batch_and_pop&lt;/code&gt;ä¸€æ¬¡çªƒå–å¤šä¸ªä»»åŠ¡&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é¿å…è‡ªçªƒå–&lt;/strong&gt; - è·³è¿‡è‡ªå·±çš„é˜Ÿåˆ—&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;workerçš„èŒè´£åˆ†ç¦»&#34;&gt;Workerçš„èŒè´£åˆ†ç¦»
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Worker&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;&amp;#39;s&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  visitor: Box&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;dyn&lt;/span&gt; ParallelVisitor &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;&amp;#39;s&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;,  &lt;span style=&#34;color:#75715e&#34;&gt;//ç”¨æˆ·å›è°ƒ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;  stack: &lt;span style=&#34;color:#a6e22e&#34;&gt;Stack&lt;/span&gt;,														&lt;span style=&#34;color:#75715e&#34;&gt;//å·¥ä½œé˜Ÿåˆ—
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;  quit_now: &lt;span style=&#34;color:#a6e22e&#34;&gt;Arc&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;AtomicBool&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;,								&lt;span style=&#34;color:#75715e&#34;&gt;//å…¨å±€é€€å‡ºä¿¡å·
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;  active_workers: &lt;span style=&#34;color:#a6e22e&#34;&gt;Arc&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;AtomicUsize&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;,					&lt;span style=&#34;color:#75715e&#34;&gt;//æ´»è·ƒå·¥ä½œçº¿ç¨‹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;//...éå†é…ç½®
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;è®¾è®¡äº®ç‚¹&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ç”Ÿäº§è€… + æ¶ˆè´¹è€…&lt;/strong&gt; - æ—¢å¤„ç†å·¥ä½œåˆäº§ç”Ÿæ–°å·¥ä½œ&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ·±åº¦ä¼˜å…ˆ&lt;/strong&gt; - ä½¿ç”¨æ ˆè€Œéé˜Ÿåˆ—ï¼Œä¼˜åŒ–å†…å­˜ä½¿ç”¨&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åä½œå¼é€€å‡º&lt;/strong&gt; - é€šè¿‡åŸå­å˜é‡åè°ƒçº¿ç¨‹é€€å‡º&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;workerå¹¶å‘æ‰§è¡Œæœºåˆ¶&#34;&gt;Workerå¹¶å‘æ‰§è¡Œæœºåˆ¶
&lt;/h5&gt;&lt;p&gt;&lt;strong&gt;æ ¸å¿ƒå·¥ä½œæµç¨‹&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;Worker::run()&lt;/code&gt; - ä¸»å¾ªç¯ï¼ŒæŒç»­è·å–å’Œå¤„ç†å·¥ä½œ&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Worker::run_one()&lt;/code&gt; - å¤„ç†å•ä¸ªå·¥ä½œé¡¹ï¼ŒåŒ…æ‹¬ç›®å½•éå†å’Œæ–‡ä»¶è®¿é—®&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Worker::generate_work()&lt;/code&gt; - ä¸ºå­ç›®å½•ç”Ÿæˆæ–°çš„å·¥ä½œé¡¹&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;å·¥ä½œçªƒå–é˜Ÿåˆ—æœºåˆ¶&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;get_work&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; self) -&amp;gt; Option&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Work&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; value &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; self.recv();  &lt;span style=&#34;color:#75715e&#34;&gt;// ä»æœ¬åœ°é˜Ÿåˆ—è·å–
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;loop&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; self.is_quit_now() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            value &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Some(Message::Quit)  &lt;span style=&#34;color:#75715e&#34;&gt;// ä¼˜å…ˆå¤„ç†é€€å‡ºä¿¡å·
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;match&lt;/span&gt; value {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            Some(Message::Work(work)) &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; Some(work),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            Some(Message::Quit) &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                self.send_quit();  &lt;span style=&#34;color:#75715e&#34;&gt;// ä¼ æ’­é€€å‡ºä¿¡å·
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;                &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; None;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            None &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#75715e&#34;&gt;// å…³é”®ï¼šå·¥ä½œè€…å»æ¿€æ´»æœºåˆ¶
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;                &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; self.deactivate_worker() &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#75715e&#34;&gt;// æ‰€æœ‰å·¥ä½œè€…éƒ½ç©ºé—² = æ²¡æœ‰æ›´å¤šå·¥ä½œ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;                    self.send_quit();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; None;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#75715e&#34;&gt;// ç­‰å¾…æ–°å·¥ä½œæˆ–çªƒå–å…¶ä»–é˜Ÿåˆ—çš„å·¥ä½œ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;                &lt;span style=&#34;color:#66d9ef&#34;&gt;loop&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; Some(v) &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; self.recv() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                        self.activate_worker();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                        value &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Some(v);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                        &lt;span style=&#34;color:#66d9ef&#34;&gt;break&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    std::thread::sleep(Duration::from_millis(&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;));
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;æ™ºèƒ½ç»ˆæ­¢æ£€æµ‹&#34;&gt;æ™ºèƒ½ç»ˆæ­¢æ£€æµ‹
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;åŸå­è®¡æ•°å™¨&lt;/strong&gt;&lt;code&gt;active_workers&lt;/code&gt;è·Ÿè¸ªæ´»è·ƒå·¥ä½œè€…æ•°é‡&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;éæ¿€æ´»æœºåˆ¶&lt;/strong&gt;ï¼šå½“å·¥ä½œè€…é˜Ÿåˆ—ä¸ºç©ºæ—¶ï¼ŒåŸå­æ€§åœ°å‡å°‘æ´»è·ƒè®¡æ•°&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å…¨å±€ç»ˆæ­¢æ£€æµ‹&lt;/strong&gt;ï¼šå½“æ‰€æœ‰å·¥ä½œè€…éƒ½éæ¿€æ´»æ—¶ï¼Œè¯´æ˜æ²¡æœ‰æ›´å¤šçš„å·¥ä½œ&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é€€å‡ºä¿¡å·ä¼ æ’­&lt;/strong&gt;ï¼šä½¿ç”¨å¤šç±³è¯ºæ•ˆåº”å”¤é†’æ‰€æœ‰ä¼‘çœ çº¿ç¨‹&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;è¿‡æ»¤å’Œå¤„ç†é€»è¾‘&#34;&gt;è¿‡æ»¤å’Œå¤„ç†é€»è¾‘
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;generate_work&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; self, ig: &lt;span style=&#34;color:#66d9ef&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;Ignore&lt;/span&gt;, depth: &lt;span style=&#34;color:#66d9ef&#34;&gt;usize&lt;/span&gt;, root_device: Option&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;u64&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;, result: Result&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;fs::DirEntry, io::Error&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;) -&amp;gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;WalkState&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// 1. é”™è¯¯å¤„ç†
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; fs_dent &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;match&lt;/span&gt; result { &lt;span style=&#34;color:#f92672&#34;&gt;..&lt;/span&gt;. };
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// 2. ç¬¦å·é“¾æ¥å¤„ç†
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; self.follow_links &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; is_symlink {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// æ£€æŸ¥å¾ªç¯å¼•ç”¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; Err(err) &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; check_symlink_loop(ig, dent.path(), depth) { &lt;span style=&#34;color:#f92672&#34;&gt;..&lt;/span&gt;. }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// 3. å¤šå±‚è¿‡æ»¤
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; should_skip_entry(ig, &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;dent) { &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; WalkState::Continue; }  &lt;span style=&#34;color:#75715e&#34;&gt;// ignore è§„åˆ™
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; is_stdout { &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; WalkState::Continue; }                     &lt;span style=&#34;color:#75715e&#34;&gt;// stdout æ£€æŸ¥
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; should_skip_filesize { &lt;span style=&#34;color:#f92672&#34;&gt;..&lt;/span&gt;. }                                  &lt;span style=&#34;color:#75715e&#34;&gt;// æ–‡ä»¶å¤§å°è¿‡æ»¤
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; should_skip_filtered { &lt;span style=&#34;color:#f92672&#34;&gt;..&lt;/span&gt;. }                                  &lt;span style=&#34;color:#75715e&#34;&gt;// è‡ªå®šä¹‰è¿‡æ»¤å™¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// 4. ç”Ÿæˆæ–°å·¥ä½œé¡¹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    self.send(Work { dent, ignore: &lt;span style=&#34;color:#a6e22e&#34;&gt;ig&lt;/span&gt;.clone(), root_device });
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;å…³é”®è®¾è®¡æ¨¡å¼&#34;&gt;å…³é”®è®¾è®¡æ¨¡å¼
&lt;/h5&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;ç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å¼&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;æ¯ä¸ªWorkeræ—¢æ˜¯ç”Ÿäº§è€…åˆæ˜¯æ¶ˆè´¹è€…&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨LIFOé˜Ÿåˆ—ä¿æŒæ·±åº¦ä¼˜å…ˆéå†çš„å±€éƒ¨æ€§&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¼˜é›…ç»ˆæ­¢æ¨¡å¼&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;ä¼˜å…ˆçº§æ¶ˆæ¯ï¼šé€€å‡ºä¿¡å·ä¼˜å…ˆäºå·¥ä½œæ¶ˆæ¯&lt;/li&gt;
&lt;li&gt;ä¼ æ’­æœºåˆ¶ï¼šä¸€ä¸ªçº¿ç¨‹é€€å‡ºä¼šè§¦å‘æ‰€æœ‰çº¿ç¨‹é€€å‡º&lt;/li&gt;
&lt;li&gt;åŸå­çŠ¶æ€ç®¡ç†ï¼š ä½¿ç”¨&lt;code&gt;AtomicBool&lt;/code&gt;å’Œ&lt;code&gt;AtomicUsize&lt;/code&gt;è¿›è¡Œçº¿ç¨‹å®‰å…¨çš„çŠ¶æ€åè°ƒ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é”™è¯¯æ¢å¤ç­–ç•¥&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;å•ä¸ªæ–‡ä»¶/ç›®å½•é”™è¯¯ä¸ä¼šç»ˆæ­¢æ•´ä¸ªéå†&lt;/li&gt;
&lt;li&gt;é”™è¯¯é€šè¿‡visitorå›è°ƒä¼ é€’ç»™ä¸Šå±‚å¤„ç†&lt;/li&gt;
&lt;li&gt;ç¬¦å·é“¾æ¥å¾ªç¯æ£€æµ‹é˜²æ­¢æ— é™é€’å½’&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è¿™ä¸ªå®ç°å±•ç¤ºäº† Rust åœ¨ç³»ç»Ÿç¼–ç¨‹ä¸­çš„å¼ºå¤§èƒ½åŠ›ï¼š&lt;strong&gt;é›¶æˆæœ¬æŠ½è±¡&lt;/strong&gt;ã€&lt;strong&gt;å†…å­˜å®‰å…¨çš„å¹¶å‘&lt;/strong&gt;ã€&lt;strong&gt;ä¼˜é›…çš„é”™è¯¯å¤„ç†&lt;/strong&gt;ã€‚ç‰¹åˆ«æ˜¯å·¥ä½œçªƒå–é˜Ÿåˆ—å’Œæ™ºèƒ½ç»ˆæ­¢æ£€æµ‹çš„ç»“åˆï¼Œå®ç°äº†é«˜æ•ˆä¸”æ­£ç¡®çš„å¹¶è¡Œç›®å½•éå†ã€‚&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Haystack</title>
        <link>http://localhost:1313/rust/ripgrep/haystack/</link>
        <pubDate>Tue, 26 Aug 2025 09:21:41 +0800</pubDate>
        
        <guid>http://localhost:1313/rust/ripgrep/haystack/</guid>
        <description>&lt;p&gt;&lt;code&gt;haystack.rs&lt;/code&gt;æ˜¯è¿æ¥æ–‡ä»¶å‘ç°å’Œæœç´¢æ‰§è¡Œçš„æ ¸å¿ƒæŠ½è±¡ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//åœ¨main.rsä¸­
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; haystack_builder &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; args.haystack_builder();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; haystack &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; haystack_builder.build_from_result(result);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;searcher.search(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;haystack);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;Haystack&lt;/code&gt;æ˜¯å¯¹&lt;code&gt;ignore::DirEntry&lt;/code&gt;çš„åŒ…è£…ï¼Œæ·»åŠ äº†åº”ç”¨å±‚é€»è¾‘,å¯¹&lt;code&gt;DirEntry&lt;/code&gt;å¢åŠ äº†å‡ ç§åˆ¤æ–­ï¼Œè€Œ&lt;code&gt;HaystackBuilder&lt;/code&gt;åˆ™æ˜¯æ ¹æ®&lt;code&gt;DirEntry&lt;/code&gt;çš„ç±»å‹è¿”å›ä¸åŒçš„ç»“æœã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;crate&lt;/span&gt;) &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Haystack&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  dent: &lt;span style=&#34;color:#a6e22e&#34;&gt;ignore&lt;/span&gt;::DirEntry,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  strip_dot_prefix: &lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;impl&lt;/span&gt; Haystack {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;crate&lt;/span&gt;) &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;is_stdin&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;self) -&amp;gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;crate&lt;/span&gt;) &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;is_dir&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;self) -&amp;gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;crate&lt;/span&gt;) &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;is_explicit&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;self) -&amp;gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;crate&lt;/span&gt;) &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;is_file&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;self) -&amp;gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;Haystack&lt;/code&gt;ä¸­çš„æ–¹æ³•æŒ‡æ˜äº†æ–‡ä»¶ç±»å‹çš„å±‚æ¬¡å…³ç³»ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ™®é€šæ–‡ä»¶(&lt;code&gt;is_file() == true&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;ç›®å½•(&lt;code&gt;is_dir() == true&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;ç¬¦å·é“¾æ¥ (æ—¢ä¸æ˜¯æ–‡ä»¶ä¹Ÿä¸æ˜¯ç›®å½•)&lt;/li&gt;
&lt;li&gt;ç‰¹æ®Šæ–‡ä»¶(è®¾å¤‡ã€ç®¡é“ã€socket)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;HaystackBuilder&lt;/code&gt;æ ¹æ®å‡ ä¸ª&lt;code&gt;is_*&lt;/code&gt;æ–¹æ³•è¿”å›&lt;code&gt;Option&amp;lt;Haystack&amp;gt;&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;h4 id=&#34;haystackå¯¹direntryåŒ…è£…&#34;&gt;Haystackå¯¹DirEntryåŒ…è£…
&lt;/h4&gt;&lt;p&gt;&lt;code&gt;Haystack&lt;/code&gt;åŒ…è£…äº†&lt;code&gt;DirEntry&lt;/code&gt;,è€Œä¸æ˜¯åœ¨&lt;code&gt;DirEntry&lt;/code&gt;ä¸­æ‰©å±•ï¼Œä½“ç°äº†å‡ ä¸ªé‡è¦çš„è®¾è®¡åŸåˆ™ï¼š&lt;/p&gt;
&lt;h5 id=&#34;1-å…³æ³¨ç‚¹åˆ†ç¦»&#34;&gt;1. å…³æ³¨ç‚¹åˆ†ç¦»
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// ignore::DirEntry - é€šç”¨æ–‡ä»¶ç³»ç»ŸæŠ½è±¡
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// èŒè´£ï¼šæ–‡ä»¶éå†ã€åŸºç¡€å…ƒæ•°æ®ã€å¿½ç•¥è§„åˆ™
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// Haystack - ripgrep ç‰¹å®šçš„æœç´¢æŠ½è±¡  
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// èŒè´£ï¼šæœç´¢é€»è¾‘ã€ç”¨æˆ·æ„å›¾ç†è§£ã€åº”ç”¨å±‚ç­–ç•¥
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;2-ä¸åŒçš„è¯­ä¹‰å±‚æ¬¡&#34;&gt;2. ä¸åŒçš„è¯­ä¹‰å±‚æ¬¡
&lt;/h5&gt;&lt;p&gt;&lt;code&gt;DirEntry&lt;/code&gt;çš„è§†è§’ï¼šæ–‡ä»¶ç³»ç»Ÿæ¡ç›®&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;is_file()&lt;/code&gt;â†’&amp;ldquo;è¿™æ˜¯ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿå—ï¼Ÿ&amp;rdquo;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;is_dir()&lt;/code&gt;â†’&amp;ldquo;è¿™æ˜¯ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿç›®å½•å—ï¼Ÿ&amp;rdquo;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;Haystack&lt;/code&gt;çš„è§†è§’ï¼šæœç´¢ç›®æ ‡&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;is_explicit()&lt;/code&gt; â†’&amp;ldquo;ç”¨æˆ·æ˜ç¡®è¦æ±‚æœç´¢è¿™ä¸ªå—ï¼Ÿ&amp;rdquo;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;is_dir()&lt;/code&gt;â†’ &amp;ldquo;ä»æœç´¢è§’åº¦çœ‹ï¼Œè¿™åº”è¯¥è¢«å½“ä½œç›®å½•å¤„ç†å—ï¼Ÿ&amp;rdquo;&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;3-ç¬¦å·é“¾æ¥å¤„ç†çš„å·®å¼‚&#34;&gt;3. ç¬¦å·é“¾æ¥å¤„ç†çš„å·®å¼‚
&lt;/h5&gt;&lt;p&gt;æ³¨æ„&lt;code&gt;Haystack::is_dir()&lt;/code&gt;çš„ç‰¹æ®Šé€»è¾‘ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;is_dir&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;self) -&amp;gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; ft &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;match&lt;/span&gt; self.dent.file_type() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        None &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        Some(ft) &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; ft,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    };
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; ft.is_dir() { &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;; }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// å…³é”®å·®å¼‚ï¼šé¢å¤–çš„ç¬¦å·é“¾æ¥è§£æ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    self.dent.path_is_symlink() &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; self.dent.path().is_dir()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™ä¸ªé€»è¾‘æ˜¯ripgrepç‰¹æœ‰çš„ï¼Œä¸åº”è¯¥æ±¡æŸ“é€šç”¨çš„&lt;code&gt;DirEntry&lt;/code&gt;&lt;/p&gt;
&lt;h5 id=&#34;4-åº”ç”¨ç‰¹å®šçš„æ¦‚å¿µ&#34;&gt;4. åº”ç”¨ç‰¹å®šçš„æ¦‚å¿µ
&lt;/h5&gt;&lt;p&gt;&lt;code&gt;Haystack&lt;/code&gt;å¼•å…¥äº†ripgrepç‰¹æœ‰çš„æ¦‚å¿µï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;is_explicit()&lt;/code&gt; - åŸºäº&lt;code&gt;depth == 0&lt;/code&gt;åˆ¤æ–­ç”¨æˆ·æ„å›¾&lt;/li&gt;
&lt;li&gt;&lt;code&gt;strip_dot_prefix&lt;/code&gt; - UIä¼˜åŒ–åŠŸèƒ½&lt;/li&gt;
&lt;li&gt;æœç´¢ä¼˜å…ˆçº§ç­–ç•¥ - æ˜¾å¼ &amp;gt; æ–‡ä»¶ &amp;gt; å…¶ä»–&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;5-ä¾èµ–æ–¹å‘æ§åˆ¶&#34;&gt;5. ä¾èµ–æ–¹å‘æ§åˆ¶
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;ignore &lt;span style=&#34;color:#66d9ef&#34;&gt;crate&lt;/span&gt; (&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;é€šç”¨&lt;/span&gt;) &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â†&lt;/span&gt; ripgrep core (&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;ç‰¹å®š&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¦‚æœæŠŠ ripgrep é€»è¾‘æ”¾å…¥ DirEntryï¼Œä¼šè®©é€šç”¨åº“ä¾èµ–ç‰¹å®šåº”ç”¨ï¼Œè¿åäº†ä¾èµ–å€’ç½®åŸåˆ™ã€‚&lt;/p&gt;
&lt;h5 id=&#34;6-æ¶æ„ä¼˜åŠ¿&#34;&gt;6. æ¶æ„ä¼˜åŠ¿
&lt;/h5&gt;&lt;ol&gt;
&lt;li&gt;å¯æµ‹è¯•æ€§ - &lt;code&gt;Haystack&lt;/code&gt;çš„é€»è¾‘å¯ä»¥ç‹¬ç«‹æµ‹è¯•&lt;/li&gt;
&lt;li&gt;å¯æ‰©å±•æ€§ - å¯ä»¥æ·»åŠ æ›´å¤šripgrepç‰¹å®šçš„æ–¹æ³•&lt;/li&gt;
&lt;li&gt;å¤ç”¨æ€§ - &lt;code&gt;ignore&lt;/code&gt;crate å¯ä»¥è¢«å…¶ä»–å·¥å…·ä½¿ç”¨&lt;/li&gt;
&lt;li&gt;æ¸…æ™°æ€§ - æ¯ä¸ªç±»å‹çš„èŒè´£è¾¹ç•Œæ˜ç¡®&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è¿™æ˜¯&lt;strong&gt;é€‚é…å™¨æ¨¡å¼&lt;/strong&gt;çš„ç»å…¸åº”ç”¨ï¼Œä½“ç°äº†ä¼˜ç§€çš„è½¯ä»¶æ¶æ„è®¾è®¡ã€‚&lt;/p&gt;
&lt;h5 id=&#34;7-æŠ½è±¡å±‚æ¬¡çš„è§†è§’&#34;&gt;7. æŠ½è±¡å±‚æ¬¡çš„è§†è§’
&lt;/h5&gt;&lt;p&gt;ä»&lt;code&gt;Haystack&lt;/code&gt;çš„è®¾è®¡å¯ä»¥å­¦åˆ°ä¼˜ç§€æ¶æ„è®¾è®¡çš„æ ¸å¿ƒæ€æƒ³ï¼š&lt;strong&gt;æŠ½è±¡å±‚æ¬¡çš„è§†è§’åˆ†ç¦»&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;DirEntry&lt;/code&gt;æ˜¯æ–‡ä»¶ç³»ç»Ÿçš„æŠ½è±¡ï¼Œå°±åº”è¯¥ä»æ–‡ä»¶ç³»ç»Ÿè§†è§’å»æ·»åŠ ä¸€äº›æ–¹æ³•ï¼›&lt;code&gt;Haystack&lt;/code&gt;æ˜¯æœç´¢ç›®æ ‡çš„æŠ½è±¡ï¼Œå°±åº”è¯¥ä»æœç´¢è§’åº¦å»æ·»åŠ æ–¹æ³•ã€‚&lt;/p&gt;
</description>
        </item>
        <item>
        <title>HiArgså’ŒlowArgs</title>
        <link>http://localhost:1313/rust/ripgrep/hiargs%E5%92%8Clowargs/</link>
        <pubDate>Sun, 24 Aug 2025 20:57:16 +0800</pubDate>
        
        <guid>http://localhost:1313/rust/ripgrep/hiargs%E5%92%8Clowargs/</guid>
        <description>&lt;h3 id=&#34;æ ¸å¿ƒè®¾è®¡æ¨¡å¼&#34;&gt;æ ¸å¿ƒè®¾è®¡æ¨¡å¼
&lt;/h3&gt;&lt;h4 id=&#34;1-ä¸¤å±‚å‚æ•°ç»“æ„&#34;&gt;1. ä¸¤å±‚å‚æ•°ç»“æ„
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;LowArgs (&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;åŸå§‹å‚æ•°&lt;/span&gt;) &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â†’&lt;/span&gt; HiArgs (&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;å¤„ç†åçš„é…ç½®&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;è®¾è®¡ç†å¿µ&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;LowArgs&lt;/strong&gt;ï¼šæ¥è¿‘CLIåŸå§‹è¾“å…¥ï¼Œæœ€å°éªŒè¯&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;HiArgs&lt;/strong&gt;ï¼šä¸šåŠ¡å°±ç»ªçš„é…ç½®ï¼ŒåŒ…å«å¤æ‚å¯¹è±¡å’Œè®¡ç®—ç»“æœ&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æœ€å°éªŒè¯&lt;/strong&gt;ï¼šæœ€å°éªŒè¯çš„æ ¸å¿ƒæ˜¯&lt;strong&gt;å°†ä¸å—ä¿¡ä»»æ•°æ®å¿«é€Ÿè½¬å˜ä¸ºå¯ä¿¡æ•°æ®&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;2-å­—æ®µç»„ç»‡ç­–ç•¥&#34;&gt;2. å­—æ®µç»„ç»‡ç­–ç•¥
&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;ç®€å•é…ç½®å­—æ®µ&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;byte_offset: &lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;column: &lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;heading: &lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;quiet: &lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// ... ç›´æ¥ä»LowArgs å¤åˆ¶æˆ–ç®€å•è®¡ç®—
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;å¤æ‚æ„å»ºå¯¹è±¡&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;globs: &lt;span style=&#34;color:#a6e22e&#34;&gt;ignore&lt;/span&gt;::overrides::Override,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;pre_globs: &lt;span style=&#34;color:#a6e22e&#34;&gt;ignore&lt;/span&gt;::overrides::Overrode,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;types: &lt;span style=&#34;color:#a6e22e&#34;&gt;ignore&lt;/span&gt;::types::Types,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;patterns: &lt;span style=&#34;color:#a6e22e&#34;&gt;Patterns&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;paths: &lt;span style=&#34;color:#a6e22e&#34;&gt;Paths&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;ç¯å¢ƒæ„ŸçŸ¥å­—æ®µ&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;is_terminal_stdout: &lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt;,                   &lt;span style=&#34;color:#75715e&#34;&gt;// æ£€æµ‹è¾“å‡ºç»ˆç«¯
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;mmap_choice: &lt;span style=&#34;color:#a6e22e&#34;&gt;grep&lt;/span&gt;::searcher::MmapChoice,    &lt;span style=&#34;color:#75715e&#34;&gt;// å†…å­˜æ˜ å°„ç­–ç•¥
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;hyperlink_config: &lt;span style=&#34;color:#a6e22e&#34;&gt;grep&lt;/span&gt;::printer::HyperLinkConfig, &lt;span style=&#34;color:#75715e&#34;&gt;// è¶…é“¾æ¥é…ç½®
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;å…³é”®è®¾è®¡åŸåˆ™&#34;&gt;å…³é”®è®¾è®¡åŸåˆ™
&lt;/h3&gt;&lt;h4 id=&#34;1-å»¶è¿Ÿæ„å»ºæ¨¡å¼&#34;&gt;1. å»¶è¿Ÿæ„å»ºæ¨¡å¼
&lt;/h4&gt;&lt;p&gt;å¤æ‚å¯¹è±¡åœ¨ &lt;code&gt;from_low_args&lt;/code&gt; ä¸­ç»Ÿä¸€æ„å»ºï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; globs &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; globs(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;state, &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;low)&lt;span style=&#34;color:#f92672&#34;&gt;?&lt;/span&gt;;           &lt;span style=&#34;color:#75715e&#34;&gt;// éœ€è¦æ‰€æœ‰ glob æ¨¡å¼
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; types &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; types(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;low)&lt;span style=&#34;color:#f92672&#34;&gt;?&lt;/span&gt;;                   &lt;span style=&#34;color:#75715e&#34;&gt;// éœ€è¦æ‰€æœ‰ç±»å‹è§„åˆ™
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; patterns &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Patterns::from_low_args(&lt;span style=&#34;color:#f92672&#34;&gt;..&lt;/span&gt;.)&lt;span style=&#34;color:#f92672&#34;&gt;?&lt;/span&gt;; &lt;span style=&#34;color:#75715e&#34;&gt;// éœ€è¦æ‰€æœ‰æ¨¡å¼
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;2-çŠ¶æ€ä¾èµ–ç®¡ç†&#34;&gt;2. çŠ¶æ€ä¾èµ–ç®¡ç†
&lt;/h4&gt;&lt;p&gt;é€šè¿‡ &lt;code&gt;State&lt;/code&gt; ç»“æ„ä½“ç®¡ç†ç¯å¢ƒçŠ¶æ€&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; state &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; State::new()&lt;span style=&#34;color:#f92672&#34;&gt;?&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// state åŒ…å«ï¼šç»ˆç«¯æ£€æµ‹ã€stdin_cosumedã€å·¥ä½œç›®å½•ç­‰
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;3-é…ç½®è®¡ç®—æ¨¡å¼&#34;&gt;3. é…ç½®è®¡ç®—æ¨¡å¼
&lt;/h4&gt;&lt;p&gt;æ ¹æ®ç¯å¢ƒå’Œæ ‡å¿—åŠ¨æ€è®¡ç®—æœ€ç»ˆé…ç½®ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; color &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;match&lt;/span&gt; low.color {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  ColorChoice::Auto &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;!&lt;/span&gt;state.is_terminal_stdout &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; ColorChoice::Never,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  _ &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; low.color,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;};
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; heading &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;match&lt;/span&gt; low.heading {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  None &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;!&lt;/span&gt;low.vimgrep &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; state.is_terminal_stdout,  &lt;span style=&#34;color:#75715e&#34;&gt;// æ™ºèƒ½é»˜è®¤å€¼
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;  Some(value) &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; value &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;!&lt;/span&gt;low.vimgrep,              &lt;span style=&#34;color:#75715e&#34;&gt;// è€ƒè™‘æ ‡å¿—å†²çª
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;};
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;é€šè¿‡ &lt;code&gt;HiArgs&lt;/code&gt; å’Œ &lt;code&gt;LowArgs&lt;/code&gt; è¿™ç§åˆ†å±‚è®¾è®¡ï¼Œå°†â€œè§£æâ€å’Œâ€œé…ç½®â€èŒè´£åˆ†ç¦»ï¼Œä½¿å¾—ä»£ç æ›´åŠ æ¨¡å—åŒ–ï¼Œæ¯å±‚éƒ½æœ‰æ˜ç¡®çš„èŒè´£è¾¹ç•Œã€‚&lt;/p&gt;
&lt;h3 id=&#34;æ ¸å¿ƒæ„å»ºæ–¹æ³•&#34;&gt;æ ¸å¿ƒæ„å»ºæ–¹æ³•
&lt;/h3&gt;&lt;h4 id=&#34;matcher-æ–¹æ³•çš„è®¾è®¡æ¨¡å¼&#34;&gt;matcher() æ–¹æ³•çš„è®¾è®¡æ¨¡å¼
&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;ç­–ç•¥æ¨¡å¼&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;pub&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;crate&lt;/span&gt;) &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;matcher&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;self) -&amp;gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;anyhow&lt;/span&gt;::Result&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;PatternMatcher&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;match&lt;/span&gt; self.engine {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        EngineChoice::Default &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;match&lt;/span&gt; self.matcher_rust() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            Ok(m) &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; Ok(m),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            Err(err) &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; anyhow::&lt;span style=&#34;color:#a6e22e&#34;&gt;bail!&lt;/span&gt;(suggest_other_engine(err.to_string())),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        },
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        EngineChoice::&lt;span style=&#34;color:#66d9ef&#34;&gt;PCRE2&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; Ok(self.matcher_pcre2()&lt;span style=&#34;color:#f92672&#34;&gt;?&lt;/span&gt;),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        EngineChoice::Auto &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// å°è¯• Rust å¼•æ“ï¼Œå¤±è´¥åˆ™å°è¯• PCRE2
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; rust_err &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;match&lt;/span&gt; self.matcher_rust() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                Ok(m) &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; Ok(m),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                Err(err) &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; err,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            };
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; pcre_err &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;match&lt;/span&gt; self.matcher_pcre2() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                Ok(m) &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; Ok(m),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                Err(err) &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; err,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            };
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// ä¸¤ä¸ªéƒ½å¤±è´¥ï¼Œæä¾›è¯¦ç»†é”™è¯¯ä¿¡æ¯
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            anyhow::&lt;span style=&#34;color:#a6e22e&#34;&gt;bail!&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;regex could not be compiled with either engine...&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;è®¾è®¡æ€è·¯&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ ¹æ®ç”¨æˆ·é€‰æ‹©çš„å¼•æ“ç±»å‹ï¼ŒåŠ¨æ€é€‰æ‹©ä¸åŒçš„åŒ¹é…å™¨å®ç°&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Auto&lt;/code&gt; æ¨¡å¼ä½“ç°äº†ä¼˜é›…çš„é™çº§ç­–ç•¥ï¼šå…ˆå°è¯•é»˜è®¤å¼•æ“ï¼Œå¤±è´¥åˆ™å°è¯• PCRE2&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;å»ºé€ è€…æ¨¡å¼&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;matcher_rust&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;self) -&amp;gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;anyhow&lt;/span&gt;::Result&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;PatternMatcher&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; builder &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; grep::regex::RegexMatcherBuilder::new();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    builder
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        .multi_line(&lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        .unicode(&lt;span style=&#34;color:#f92672&#34;&gt;!&lt;/span&gt;self.no_unicode)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        .octal(&lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        .fixed_strings(self.fixed_strings);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// æ ¹æ®é…ç½®é€æ­¥æ„å»º
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;match&lt;/span&gt; self.case {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        CaseMode::Sensitive &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; builder.case_insensitive(&lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        CaseMode::Insensitive &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; builder.case_insensitive(&lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        CaseMode::Smart &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; builder.case_smart(&lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    };
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// æœ€ç»ˆæ„å»º
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; m &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; builder.build_many(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;self.patterns.patterns)&lt;span style=&#34;color:#f92672&#34;&gt;?&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    Ok(PatternMatcher::RustRegex(m))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;è®¾è®¡æ€è·¯&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨å»ºé€ è€…æ¨¡å¼é€æ­¥é…ç½®å¤æ‚å¯¹è±¡&lt;/li&gt;
&lt;li&gt;é“¾å¼è°ƒç”¨æä¾›æµç•…çš„ API&lt;/li&gt;
&lt;li&gt;æœ€åè°ƒç”¨ &lt;code&gt;build_many()&lt;/code&gt; å®Œæˆæ„å»º&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;æ¡ä»¶ç¼–è¯‘å’Œç‰¹æ€§é—¨æ§&#34;&gt;æ¡ä»¶ç¼–è¯‘å’Œç‰¹æ€§é—¨æ§
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;matcher_pcre2&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;self) -&amp;gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;anyhow&lt;/span&gt;::Result&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;PatternMatcher&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;#[cfg(feature = &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;pcre2&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;)]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// PCRE2 å®ç°
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; builder &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; grep::pcre2::RegexMatcherBuilder::new();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// ... é…ç½®ä»£ç 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        Ok(PatternMatcher::&lt;span style=&#34;color:#66d9ef&#34;&gt;PCRE2&lt;/span&gt;(m))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;#[cfg(not(feature = &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;pcre2&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;))]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        Err(anyhow::&lt;span style=&#34;color:#a6e22e&#34;&gt;anyhow!&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;PCRE2 is not available in this build&amp;#34;&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;è®¾è®¡æ€è·¯&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ä½¿ç”¨ Rust çš„æ¡ä»¶ç¼–è¯‘ç‰¹æ€§&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç‰¹æ€§å®šä¹‰ï¼ˆ&lt;code&gt;Cargo.toml&lt;/code&gt;ï¼‰&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-toml&#34; data-lang=&#34;toml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;[&lt;span style=&#34;color:#a6e22e&#34;&gt;features&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;pcre2&lt;/span&gt; = [&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;grep/pcre2&amp;#34;&lt;/span&gt;]  &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;//&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;å®šä¹‰&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;pcre2&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;ç‰¹æ€§ï¼Œä¾èµ–äº&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;grep&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;crate&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;çš„&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;pcre2&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;ç‰¹æ€§&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åœ¨ç¼–è¯‘æ—¶å†³å®šæ˜¯å¦åŒ…å« PCRE2 æ”¯æŒ&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;å…¶ä»–æ–¹æ³•&#34;&gt;å…¶ä»–æ–¹æ³•
&lt;/h3&gt;&lt;p&gt;&lt;code&gt;searcher()&lt;/code&gt;ã€&lt;code&gt;printer()&lt;/code&gt; ç­‰å…¶ä»–æ„é€ æ–¹æ³•åŸºæœ¬é‡‡ç”¨å»ºé€ è€…æ¨¡å¼ã€‚&lt;code&gt;search_worker()&lt;/code&gt; æ–¹æ³•å•ç‹¬è¯´æ˜ï¼š&lt;/p&gt;
&lt;h4 id=&#34;ç»„ä»¶ç»„åˆæ¨¡å¼&#34;&gt;ç»„ä»¶ç»„åˆæ¨¡å¼
&lt;/h4&gt;&lt;p&gt;&lt;code&gt;search_worker&lt;/code&gt; ä½“ç°ç»å…¸çš„ &lt;strong&gt;ç»„åˆæ¨¡å¼&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;SearchWorker
â”œâ”€â”€ PatternMatcher (æ¨¡å¼åŒ¹é…)
â”œâ”€â”€ Searcher (æ–‡ä»¶æœç´¢)
â””â”€â”€ Printer (ç»“æœè¾“å‡º)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æ¯ä¸ªç»„ä»¶èŒè´£ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;PatternMatcher&lt;/code&gt;ï¼šåˆ¤æ–­æ–‡æœ¬æ˜¯å¦åŒ¹é…æ¨¡å¼&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Searcher&lt;/code&gt;ï¼šè¯»å–æ–‡ä»¶å†…å®¹ï¼ŒæŒ‰è¡Œå¤„ç†&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Printer&lt;/code&gt;ï¼šæ ¼å¼åŒ–å¹¶è¾“å‡ºåŒ¹é…ç»“æœ&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;è®¾è®¡ä¼˜åŠ¿&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;èŒè´£åˆ†ç¦»ï¼šæ¯ä¸ªç»„ä»¶ä¸“æ³¨äºè‡ªå·±çš„åŠŸèƒ½&lt;/li&gt;
&lt;li&gt;å¯æµ‹è¯•æ€§ï¼šå¯ä»¥ç‹¬ç«‹æµ‹è¯•æ¯ä¸ªç»„ä»¶&lt;/li&gt;
&lt;li&gt;å¯æ‰©å±•æ€§ï¼šå¯ä»¥æ›¿æ¢ä»»ä½•ç»„ä»¶çš„å®ç°&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;walk_builder&#34;&gt;walk_builder()
&lt;/h4&gt;&lt;h5 id=&#34;èŒè´£åˆ†å±‚&#34;&gt;èŒè´£åˆ†å±‚
&lt;/h5&gt;&lt;p&gt;åŒ…å«å››ä¸ªæ ¸å¿ƒèŒè´£ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;è·¯å¾„ç®¡ç†&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; builder &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; ignore::WalkBuilder::new(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;self.paths.paths[&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;]);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; path &lt;span style=&#34;color:#66d9ef&#34;&gt;in&lt;/span&gt; self.paths.paths.iter().skip(&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  builder.add(path)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;åˆå§‹åŒ–ï¼šä½¿ç”¨ç¬¬ä¸€ä¸ªè·¯å¾„ä½œä¸ºæ ¹è·¯å¾„&lt;/li&gt;
&lt;li&gt;æ‰©å±•ï¼šæ·»åŠ æ‰€æœ‰é¢å¤–çš„æœç´¢è·¯å¾„&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;&lt;strong&gt;å¿½ç•¥æ–‡ä»¶ç³»ç»Ÿé…ç½®&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// ç”¨æˆ·è‡ªå®šä¹‰å¿½ç•¥æ–‡ä»¶
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;!&lt;/span&gt;self.no_ignore_files {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; path &lt;span style=&#34;color:#66d9ef&#34;&gt;in&lt;/span&gt; self.ignore_file.iter() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; Some(err) &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; builder.add_ignore(path) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;ignore_message!&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;{err}&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// Git é›†æˆå¿½ç•¥è§„åˆ™
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;.git_global(&lt;span style=&#34;color:#f92672&#34;&gt;!&lt;/span&gt;self.no_ignore_vcs &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;!&lt;/span&gt;self.no_ignore_global)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;.git_ignore(&lt;span style=&#34;color:#f92672&#34;&gt;!&lt;/span&gt;self.no_ignore_vcs)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;.git_exclude(&lt;span style=&#34;color:#f92672&#34;&gt;!&lt;/span&gt;self.no_ignore_vcs &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;!&lt;/span&gt;self.no_ignore_exclude)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// é€šç”¨å¿½ç•¥æ–‡ä»¶
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;.ignore(&lt;span style=&#34;color:#f92672&#34;&gt;!&lt;/span&gt;self.no_ignore_dot)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;.parents(&lt;span style=&#34;color:#f92672&#34;&gt;!&lt;/span&gt;self.no_ignore_parent)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// ripgrep ä¸“ç”¨å¿½ç•¥æ–‡ä»¶
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;!&lt;/span&gt;self.no_ignore_dot {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    builder.add_custom_ignore_filename(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;.rgignore&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;&lt;strong&gt;éå†è¡Œä¸ºé…ç½®&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;builder
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    .max_depth(self.max_depth)           &lt;span style=&#34;color:#75715e&#34;&gt;// æœ€å¤§é€’å½’æ·±åº¦
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    .follow_links(self.follow)           &lt;span style=&#34;color:#75715e&#34;&gt;// æ˜¯å¦è·Ÿéšç¬¦å·é“¾æ¥
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    .max_filesize(self.max_filesize)     &lt;span style=&#34;color:#75715e&#34;&gt;// æœ€å¤§æ–‡ä»¶å¤§å°
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    .threads(self.threads)               &lt;span style=&#34;color:#75715e&#34;&gt;// çº¿ç¨‹æ•°
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    .same_file_system(self.one_file_system) &lt;span style=&#34;color:#75715e&#34;&gt;// æ˜¯å¦é™åˆ¶åœ¨åŒä¸€æ–‡ä»¶ç³»ç»Ÿ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    .skip_stdout(&lt;span style=&#34;color:#a6e22e&#34;&gt;matches!&lt;/span&gt;(self.mode, Mode::Search(_))) &lt;span style=&#34;color:#75715e&#34;&gt;// è·³è¿‡æ ‡å‡†è¾“å‡º
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    .hidden(&lt;span style=&#34;color:#f92672&#34;&gt;!&lt;/span&gt;self.hidden)                &lt;span style=&#34;color:#75715e&#34;&gt;// æ˜¯å¦åŒ…å«éšè—æ–‡ä»¶
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    .require_git(&lt;span style=&#34;color:#f92672&#34;&gt;!&lt;/span&gt;self.no_require_git)   &lt;span style=&#34;color:#75715e&#34;&gt;// æ˜¯å¦è¦æ±‚ Git ä»“åº“
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    .ignore_case_insensitive(self.ignore_file_case_insensitive); &lt;span style=&#34;color:#75715e&#34;&gt;// å¿½ç•¥æ–‡ä»¶å¤§å°å†™
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;&lt;strong&gt;é«˜çº§åŠŸèƒ½é…ç½®&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// æ–‡ä»¶ç±»å‹è¿‡æ»¤
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;.overrides(self.globs.clone())
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;.types(self.types.clone())
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// æ’åºä¼˜åŒ–
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; Some(&lt;span style=&#34;color:#66d9ef&#34;&gt;ref&lt;/span&gt; sort) &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; self.sort {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;assert_eq!&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, self.threads, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;sorting implies single threaded&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;!&lt;/span&gt;sort.reverse &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;matches!&lt;/span&gt;(sort.kind, SortModeKind::Path) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        builder.sort_by_file_name(&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt;a, b&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; a.cmp(b));
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;walk_builder&lt;/code&gt; æ˜¯ç³»ç»Ÿé›†æˆç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;åº•å±‚&lt;/strong&gt;ï¼šæ–‡ä»¶ç³»ç»Ÿéå†ï¼ˆ&lt;code&gt;ignore::WalkBuilder&lt;/code&gt;ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¸­å±‚&lt;/strong&gt;ï¼šå¿½ç•¥è§„åˆ™å¤„ç†ï¼ˆGitã€è‡ªå®šä¹‰ã€ç±»å‹è¿‡æ»¤ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¸Šå±‚&lt;/strong&gt;ï¼šç”¨æˆ·é…ç½®æ˜ å°„ï¼ˆå‘½ä»¤è¡Œå‚æ•°åˆ°è¡Œä¸ºï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;current_dir&#34;&gt;current_dir()
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;current_dir&lt;/span&gt;() -&amp;gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;anyhow&lt;/span&gt;::Result&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;PathBuf&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; err &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;match&lt;/span&gt; std::env::current_dir() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        Err(err) &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; err,                    &lt;span style=&#34;color:#75715e&#34;&gt;// ä¿å­˜é”™è¯¯ï¼Œç»§ç»­å°è¯•å›é€€æ–¹æ¡ˆ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        Ok(cwd) &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; Ok(cwd),          &lt;span style=&#34;color:#75715e&#34;&gt;// æˆåŠŸåˆ™ç›´æ¥è¿”å›
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    };
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; Some(cwd) &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; std::env::var_os(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;PWD&amp;#34;&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;!&lt;/span&gt;cwd.is_empty() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; Ok(PathBuf::from(cwd));
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    anyhow::&lt;span style=&#34;color:#a6e22e&#34;&gt;bail!&lt;/span&gt;(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;failed to get current working directory: {err}&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;\n\&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;         did your CWD get deleted?&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ­¤æ–¹æ³•è·å–å½“å‰å·¥ä½œç›®å½•æ—¶çš„å¼‚å¸¸å¤„ç†ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ç›®å½•è¢«åˆ é™¤&lt;/strong&gt; - è¿›ç¨‹æ‰€åœ¨ç›®å½•å¯èƒ½è¢«å…¶ä»–è¿›ç¨‹åˆ é™¤&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æƒé™é—®é¢˜&lt;/strong&gt; - æ— è¯»å–å½“å‰ç›®å½•æƒé™&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç¬¦å·é“¾æ¥é—®é¢˜&lt;/strong&gt; - å½“å‰ç›®å½•æ˜¯æŸåçš„ç¬¦å·é“¾æ¥&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸ºä½•éœ€è¦å¤æ‚å¤„ç†ï¼Ÿ&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;éœ€è¦ cwd å°†ç›¸å¯¹è·¯å¾„è½¬ç»å¯¹è·¯å¾„ï¼ˆå¦‚ &lt;code&gt;rg &amp;quot;pattern&amp;quot; ../other_projects/&lt;/code&gt;ï¼‰&lt;/li&gt;
&lt;li&gt;é€šè¿‡ &lt;code&gt;PWD&lt;/code&gt; ç¯å¢ƒå˜é‡å›é€€ä¿è¯å¥å£®æ€§&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;code&gt;hiargs.rs&lt;/code&gt; ä¸­å…¶ä»–æ–¹æ³•å‡åŸºäº &lt;code&gt;LowArgs&lt;/code&gt; å®Œå–„ &lt;code&gt;HiArgs&lt;/code&gt;ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// æ ¸å¿ƒæ•°æ®ç»“æ„
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; patterns &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Patterns::from_low_args(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; state, &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; low)&lt;span style=&#34;color:#f92672&#34;&gt;?&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; paths &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Paths::from_low_args(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; state, &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;patterns, &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; low)&lt;span style=&#34;color:#f92672&#34;&gt;?&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; binary &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; BinaryDetection::from_low_args(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;state, &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;low);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// è¾…åŠ©åŠŸèƒ½é…ç½®
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; colors &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; take_color_specs(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; state, &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; low);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; hyperlink_config &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; take_hyperlink_config(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; state, &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; low)&lt;span style=&#34;color:#f92672&#34;&gt;?&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; stats &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; stats(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;low);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; types &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; types(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;low)&lt;span style=&#34;color:#f92672&#34;&gt;?&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; globs &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; globs(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;state, &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;low)&lt;span style=&#34;color:#f92672&#34;&gt;?&lt;/span&gt;;           &lt;span style=&#34;color:#75715e&#34;&gt;// æ–‡ä»¶åŒ¹é…è§„åˆ™
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; pre_globs &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; preprocessor_globs(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;state, &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;low)&lt;span style=&#34;color:#f92672&#34;&gt;?&lt;/span&gt;;  &lt;span style=&#34;color:#75715e&#34;&gt;// é¢„å¤„ç†å™¨è§„åˆ™
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;æ ¸å¿ƒç»“æ„ä½“&#34;&gt;æ ¸å¿ƒç»“æ„ä½“
&lt;/h3&gt;&lt;h4 id=&#34;patterns&#34;&gt;Patterns
&lt;/h4&gt;&lt;p&gt;è¡¨ç¤ºè¦åŒ¹é…çš„å†…å®¹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Patterns&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  patterns: Vec&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;String&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ¨¡å¼æ¥æºçš„ç»Ÿä¸€å¤„ç†ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;from_low_args&lt;/span&gt;(state: &lt;span style=&#34;color:#66d9ef&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;mut&lt;/span&gt; State, low: &lt;span style=&#34;color:#66d9ef&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;mut&lt;/span&gt; LowArgs)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    -&amp;gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;anyhow&lt;/span&gt;::Result&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Patterns&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸‰ç§æ¨¡å¼æ¥æºï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;positionalï¼š&lt;code&gt;rg &amp;quot;pattern&amp;quot; file.txt&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-e/--regexp&lt;/code&gt;: &lt;code&gt;rg -e &amp;quot;pattern1&amp;quot; -e &amp;quot;pattern2&amp;quot;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-f/--file&lt;/code&gt;: &lt;code&gt;rg -f patterns.txt&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;code&gt;-e/--regexp&lt;/code&gt; å¯¹åº” &lt;code&gt;Pattern&lt;/code&gt; flag çš„ update é€»è¾‘ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;update&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;self, v: &lt;span style=&#34;color:#a6e22e&#34;&gt;FlagValue&lt;/span&gt;, args: &lt;span style=&#34;color:#66d9ef&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;mut&lt;/span&gt; LowArgs) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; regexp &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; convert::string(v.unwrap_value());
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  args.patterns.push(PatternSource::Regexp(regexp));
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  Ok(())
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;-f/--file&lt;/code&gt; å¯¹åº” &lt;code&gt;File&lt;/code&gt; flag çš„ update é€»è¾‘ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;update&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;self, v: &lt;span style=&#34;color:#a6e22e&#34;&gt;FlagValue&lt;/span&gt;, args: &lt;span style=&#34;color:#66d9ef&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;mut&lt;/span&gt; LowArgs) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; path &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; PathBuf::from(v.unwrap_value());
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  args.patterns.push(PatternSource::File(path));
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  Ok(())
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;Patterns::from_low_args&lt;/code&gt; ä»ä¸‰ç§æ¥æºæ„é€ å»é‡(åˆ©ç”¨&lt;code&gt;HashSet&lt;/code&gt;)çš„ &lt;code&gt;Patterns::patterns: Vec&amp;lt;String&amp;gt;&lt;/code&gt; ã€‚&lt;code&gt;-f file.txt, --file=file.txt&lt;/code&gt;ä¸­&lt;code&gt;file.txt(patternæ–‡ä»¶)&lt;/code&gt;å­˜æ”¾ç€éœ€è¦åŒ¹é…çš„&lt;code&gt;patterns&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;h4 id=&#34;paths---è·¯å¾„ç®¡ç†ç³»ç»Ÿ&#34;&gt;Paths - è·¯å¾„ç®¡ç†ç³»ç»Ÿ
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Paths&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  paths: Vec&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;PathBuf&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;,         &lt;span style=&#34;color:#75715e&#34;&gt;// å®é™…è·¯å¾„åˆ—è¡¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;  has_implicit_path: &lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt;,     &lt;span style=&#34;color:#75715e&#34;&gt;// æ˜¯å¦æœ‰éšå¼è·¯å¾„
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;  is_one_file: &lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt;,           &lt;span style=&#34;color:#75715e&#34;&gt;// æ˜¯å¦åªæœç´¢å•ä¸ªæ–‡ä»¶
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¦ä¹ˆä»&lt;code&gt;positional&lt;/code&gt;ä¸­è¯»å–æ–‡ä»¶è·¯å¾„ï¼Œè¦ä¹ˆå°±æ˜¯æ™ºèƒ½è·¯å¾„æ¨æ–­ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;from_low_args&lt;/span&gt;(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    state: &lt;span style=&#34;color:#66d9ef&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;mut&lt;/span&gt; State,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    _: &lt;span style=&#34;color:#66d9ef&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;Patterns&lt;/span&gt;,  &lt;span style=&#34;color:#75715e&#34;&gt;// è™½ç„¶ä¸ä½¿ç”¨ï¼Œä½†å¼ºåˆ¶è¦æ±‚å­˜åœ¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    low: &lt;span style=&#34;color:#66d9ef&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;mut&lt;/span&gt; LowArgs,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;) -&amp;gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;anyhow&lt;/span&gt;::Result&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Paths&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 	&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; paths &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Vec::with_capacity(low.positional.len());
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; osarg &lt;span style=&#34;color:#66d9ef&#34;&gt;in&lt;/span&gt; low.positional.drain(&lt;span style=&#34;color:#f92672&#34;&gt;..&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  	&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; path &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; PathBuf::from(osarg);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; state.stdin_consumed &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; path &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; Path::new(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;-&amp;#34;&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	anyhow::&lt;span style=&#34;color:#a6e22e&#34;&gt;bail!&lt;/span&gt;(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;         &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;error: attempted to read patterns from stdin &lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;\&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;          while also searching stdin&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      );
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   	paths.push(path);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 	}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;..&lt;/span&gt;.
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; use_cwd &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;!&lt;/span&gt;is_readable_stdin
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;||&lt;/span&gt; state.stdin_consumed
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;||&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;!&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;matches!&lt;/span&gt;(low.mode, Mode::Search(_));
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; (path, is_one_file) &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; use_cwd {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    (PathBuf::from(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;./&amp;#34;&lt;/span&gt;), &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;)  &lt;span style=&#34;color:#75715e&#34;&gt;// æœç´¢å½“å‰ç›®å½•
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	} &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    (PathBuf::from(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;-&amp;#34;&lt;/span&gt;), &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;)    &lt;span style=&#34;color:#75715e&#34;&gt;// æœç´¢ stdin
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	};
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;Paths::from_low_args()&lt;/code&gt;å‡½æ•°ä½¿ç”¨äº†ä¸€ä¸ªéå¸¸å·§å¦™çš„&lt;strong&gt;ç¼–è¯‘æ—¶ä¾èµ–çº¦æŸ&lt;/strong&gt;è®¾è®¡ï¼Œè¿™ä¸ªè®¾è®¡ç¡®ä¿äº†&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è°ƒç”¨ç€å¿…é¡»å…ˆæ„é€ &lt;code&gt;Patterns&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ç¼–è¯‘å™¨ä¼šæ£€æŸ¥è¿™ä¸ªçº¦æŸ&lt;/li&gt;
&lt;li&gt;æ— æ³•æ„å¤–åœ°é¢ å€’è°ƒç”¨é¡ºåº&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è®¾è®¡&lt;strong&gt;ç¼–è¯‘æ—¶ä¾èµ–çº¦æŸ&lt;/strong&gt;çš„åŸå› æ˜¯&lt;code&gt;Patterns&lt;/code&gt;å’Œ&lt;code&gt;Paths&lt;/code&gt;éƒ½ä½¿ç”¨äº†&lt;code&gt;positional&lt;/code&gt;,æ­¤æ•°æ®æ¶ˆè´¹é¡ºåºä¸å¯é¢ å€’ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// Patterns::from_low_args ä¸­ï¼š
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; low.patterns.is_empty() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; ospat &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; low.positional.remove(&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;);  &lt;span style=&#34;color:#75715e&#34;&gt;// æ¶ˆè´¹ç¬¬ä¸€ä¸ªä½ç½®å‚æ•°
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; Ok(Patterns { patterns: &lt;span style=&#34;color:#a6e22e&#34;&gt;vec&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;!&lt;/span&gt;[pat] });
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// Paths::from_low_args ä¸­ï¼š
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; osarg &lt;span style=&#34;color:#66d9ef&#34;&gt;in&lt;/span&gt; low.positional.drain(&lt;span style=&#34;color:#f92672&#34;&gt;..&lt;/span&gt;) {  &lt;span style=&#34;color:#75715e&#34;&gt;// å¤„ç†å‰©ä½™çš„ä½ç½®å‚æ•°
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    paths.push(PathBuf::from(osarg));
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;ç¼–è¯‘æ—¶ä¾èµ–çº¦æŸè®¾è®¡ä¼˜åŠ¿&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;ç¼–è¯‘æ—¶å®‰å…¨&lt;/strong&gt; - ç±»å‹ç³»ç»Ÿé˜²æ­¢é”™è¯¯è°ƒç”¨é¡ºåº&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è‡ªæ–‡æ¡£åŒ–&lt;/strong&gt; - å‡½æ•°ç­¾åæ¸…æ¥šè¡¨è¾¾ä¾èµ–å…³ç³»&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é›¶è¿è¡Œæ—¶æˆæœ¬&lt;/strong&gt; - çº¦æŸåœ¨ç¼–è¯‘æ—¶æ£€æŸ¥ï¼Œè¿è¡Œæ—¶æ— å¼€é”€&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;API æ¸…æ™°æ€§&lt;/strong&gt; - å¼ºåˆ¶è°ƒç”¨è€…ç†è§£æ­£ç¡®çš„ä½¿ç”¨æ–¹å¼&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å•æ–‡ä»¶ä¼˜åŒ–æ£€æµ‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; is_one_file &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; paths.len() &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; (paths[&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; Path::new(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;-&amp;#34;&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;||&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;!&lt;/span&gt;paths[&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;].is_dir());
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨ &lt;code&gt;!is_dir()&lt;/code&gt; è€Œé &lt;code&gt;is_file()&lt;/code&gt; æ›´å‡†ç¡®&lt;/li&gt;
&lt;li&gt;stdin (&lt;code&gt;-&lt;/code&gt;) è¢«è§†ä¸ºå•æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;å•æ–‡ä»¶æœç´¢å¯ç”¨ç‰¹å®šä¼˜åŒ–&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;binarydetection---äºŒè¿›åˆ¶æ–‡ä»¶æ£€æµ‹ç³»ç»Ÿ&#34;&gt;BinaryDetection - äºŒè¿›åˆ¶æ–‡ä»¶æ£€æµ‹ç³»ç»Ÿ
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;BinaryDetection&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    explicit: &lt;span style=&#34;color:#a6e22e&#34;&gt;grep&lt;/span&gt;::searcher::BinaryDetection &lt;span style=&#34;color:#75715e&#34;&gt;// æ˜¾å¼æŒ‡å®šæ–‡ä»¶çš„æ£€æµ‹ç­–ç•¥
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    implicit: &lt;span style=&#34;color:#a6e22e&#34;&gt;grep&lt;/span&gt;::searcher::BinaryDetection &lt;span style=&#34;color:#75715e&#34;&gt;// éšå¼å‘ç°æ–‡ä»¶çš„æ£€æµ‹ç­–ç•¥
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;æ˜¾å¼ vs éšå¼æ–‡ä»¶å¤„ç†&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; explicit &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; none {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    grep::searcher::BinaryDetection::none()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;} &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    grep::searcher::BinaryDetection::convert(&lt;span style=&#34;color:#e6db74&#34;&gt;b&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;\x00&amp;#39;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;};
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; implicit &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; none {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    grep::searcher::BinaryDetection::none()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;} &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; convert {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    grep::searcher::BinaryDetection::convert(&lt;span style=&#34;color:#e6db74&#34;&gt;b&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;\x00&amp;#39;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;} &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    grep::searcher::BinaryDetection::quit(&lt;span style=&#34;color:#e6db74&#34;&gt;b&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;\x00&amp;#39;&lt;/span&gt;)  &lt;span style=&#34;color:#75715e&#34;&gt;// å…³é”®å·®å¼‚
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;};
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ˜¾å¼æ–‡ä»¶&lt;/strong&gt;ï¼šç”¨æˆ·æ˜ç¡®æŒ‡å®šï¼Œå¿…é¡»æœç´¢ï¼Œä¸èƒ½â€œé€€å‡ºâ€&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;éšå¼æ–‡ä»¶&lt;/strong&gt;ï¼šç›®å½•éå†å‘ç°ï¼Œå¯ä»¥è·³è¿‡äºŒè¿›åˆ¶æ–‡ä»¶&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;ä¸‰ç§æ£€æµ‹æ¨¡å¼&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;none&lt;/code&gt;ï¼šç¦ç”¨äºŒè¿›åˆ¶æ£€æµ‹ï¼Œå½“ä½œæ–‡æœ¬å¤„ç† (&lt;code&gt;--text&lt;/code&gt; æˆ– &lt;code&gt;--null-data&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;convert(b&#39;\x00&#39;)&lt;/code&gt;ï¼šå°† null å­—èŠ‚è½¬æ¢ä¸ºæ¢è¡Œç¬¦ç»§ç»­æœç´¢ (&lt;code&gt;--binary&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;quit(b&#39;\x00&#39;)&lt;/code&gt;ï¼šé‡åˆ° null å­—èŠ‚ç«‹å³åœæ­¢æœç´¢è¯¥æ–‡ä»¶&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;é»˜è®¤ç­–ç•¥ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ˜¾å¼æ–‡ä»¶ï¼š&lt;code&gt;convert(b&#39;\x00&#39;)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;éšå¼æ–‡ä»¶ï¼š&lt;code&gt;quit(b&#39;\x00&#39;)&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;state---è§£æçŠ¶æ€ç®¡ç†&#34;&gt;State - è§£æçŠ¶æ€ç®¡ç†
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;State&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    is_terminal_stdout: &lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt;,  &lt;span style=&#34;color:#75715e&#34;&gt;// stdout æ˜¯å¦è¿æ¥åˆ°ç»ˆç«¯
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    stdin_consumed: &lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt;,      &lt;span style=&#34;color:#75715e&#34;&gt;// stdin æ˜¯å¦å·²è¢«æ¶ˆè´¹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    cwd: &lt;span style=&#34;color:#a6e22e&#34;&gt;PathBuf&lt;/span&gt;,              &lt;span style=&#34;color:#75715e&#34;&gt;// å½“å‰å·¥ä½œç›®å½•
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;is_terminal_stdout&lt;/code&gt;ï¼šå½±å“é¢œè‰²è¾“å‡ºã€ç¼“å†²ç­–ç•¥ç­‰ï¼ˆéœ€è·¨å¹³å°å¤„ç†ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;code&gt;stdin_consumed&lt;/code&gt;ï¼šé˜²æ­¢åŒæ—¶ä» stdin è¯»å–æ¨¡å¼å’Œå†…å®¹&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;ç»“æ„ä½“è®¾è®¡çš„æ ¸å¿ƒæ€æƒ³&#34;&gt;ç»“æ„ä½“è®¾è®¡çš„æ ¸å¿ƒæ€æƒ³
&lt;/h3&gt;&lt;h4 id=&#34;1-èŒè´£åˆ†ç¦»&#34;&gt;1. èŒè´£åˆ†ç¦»
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Patterns&lt;/code&gt;ï¼šæ¨¡å¼æ”¶é›†å’Œå»é‡&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Paths&lt;/code&gt;ï¼šè·¯å¾„ç®¡ç†å’Œæ¨æ–­&lt;/li&gt;
&lt;li&gt;&lt;code&gt;BinaryDetection&lt;/code&gt;ï¼šäºŒè¿›åˆ¶æ–‡ä»¶å¤„ç†ç­–ç•¥&lt;/li&gt;
&lt;li&gt;&lt;code&gt;State&lt;/code&gt;ï¼šè§£æçŠ¶æ€è·Ÿè¸ª&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>Flagsç›¸å…³</title>
        <link>http://localhost:1313/rust/ripgrep/flags%E7%9B%B8%E5%85%B3/</link>
        <pubDate>Sat, 23 Aug 2025 12:06:35 +0800</pubDate>
        
        <guid>http://localhost:1313/rust/ripgrep/flags%E7%9B%B8%E5%85%B3/</guid>
        <description>&lt;p&gt;&lt;code&gt;flag&lt;/code&gt;æ˜¯å‘½ä»¤è¡Œä¸­çš„ä¸€ä¸ªé€‰é¡¹æˆ–å¼€å…³(ä»¥&lt;code&gt;-&lt;/code&gt;æˆ–&lt;code&gt;--&lt;/code&gt;å¼€å¤´)ï¼Œç”¨æ¥æ”¹å˜ç¨‹åºçš„è¡Œä¸ºæˆ–ä¼ å…¥å‚æ•°ã€‚&lt;/p&gt;
&lt;h4 id=&#34;ç›¸å…³å®šä¹‰&#34;&gt;ç›¸å…³å®šä¹‰
&lt;/h4&gt;&lt;p&gt;&lt;code&gt;FlagValue&lt;/code&gt;å¯¹flagè¿›è¡Œäº†åˆ†ç±»ï¼š&lt;code&gt;Switch&lt;/code&gt;&amp;mdash;-æ”¹å˜ç¨‹åºè¡Œä¸ºå’Œ&lt;code&gt;Value&lt;/code&gt;&amp;mdash;&amp;ndash;ä¼ å…¥å‚æ•°ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;enum&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;FlagValue&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  Switch(&lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt;),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  Value(OsString),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;Flag&lt;/code&gt; traitæŠ½è±¡å¹¶å®šä¹‰äº†â€œä¸€ä¸ªé€»è¾‘ä¸Šçš„å‘½ä»¤è¡Œé€‰é¡¹/å¼€å…³çš„å…ƒä¿¡æ¯ä¸è¡Œä¸ºï¼ˆåç§°ã€åˆ«åã€æ˜¯å¦ä¸ºå¼€å…³ã€å¸®åŠ©æ–‡æœ¬ã€ç±»åˆ«ç­‰ï¼‰â€ä»¥åŠåœ¨è§£æåå¦‚ä½•æŠŠè¯¥é€‰é¡¹çš„å€¼åº”ç”¨åˆ°ä½çº§å‚æ•°ç»“æ„&lt;code&gt;LowArgs&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;trait&lt;/span&gt; Flag {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;is_switch&lt;/span&gt;() -&amp;gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name_&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;(); &lt;span style=&#34;color:#75715e&#34;&gt;// åå­—ä¸åˆ«å/å¦å®šå
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;doc_&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;();  &lt;span style=&#34;color:#75715e&#34;&gt;//å¸®åŠ©æ–‡æœ¬æ–‡æ¡£ã€å˜é‡åã€å¯é€‰å€¼åˆ—è¡¨ã€ç±»åˆ«ç­‰ï¼ˆç”¨äºç”Ÿæˆ-h/man/completionï¼‰
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;completion_type&lt;/span&gt;(); &lt;span style=&#34;color:#75715e&#34;&gt;// ç”¨äºshellè‡ªåŠ¨è¡¥å…¨çš„å‚æ•°ç±»å‹åˆ†ç±»
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;update&lt;/span&gt;(); &lt;span style=&#34;color:#75715e&#34;&gt;//æŠŠè§£æå¾—åˆ°çš„FlagValueåº”ç”¨åˆ°LowArgs(åªåšéªŒè¯/èµ‹å€¼ï¼Œä¸æ‰§è¡Œæ˜‚è´µæ“ä½œ)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä½¿ç”¨æµç¨‹(ä¼ªä»£ç )&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; token &lt;span style=&#34;color:#66d9ef&#34;&gt;in&lt;/span&gt; argv {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; (flag_impl, value) &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; match_token_to_flag(token, &lt;span style=&#34;color:#66d9ef&#34;&gt;FLAGS&lt;/span&gt;)&lt;span style=&#34;color:#f92672&#34;&gt;?&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  flag_impl.update(value, &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;mutual low_args)&lt;span style=&#34;color:#f92672&#34;&gt;?&lt;/span&gt;; &lt;span style=&#34;color:#75715e&#34;&gt;//æ¯ä¸ªFlagæŠŠè‡ªå·±çš„è¯­ä¹‰å†™å…¥low_args
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è®¾è®¡åŸåˆ™ï¼šFlagçš„updateä¸åšå‰¯ä½œç”¨æ€§â€œåŠ¨ä½œâ€ï¼ˆå¦‚è¿è¡Œå¤–éƒ¨å‘½ä»¤ï¼‰ï¼›åªè´Ÿè´£éªŒè¯å¹¶æŠŠé…ç½®è®°å½•åˆ°LowArgsï¼Œåç»­åœ¨HiArgsé˜¶æ®µæ‰§è¡Œæ„é€ /åˆå§‹åŒ–å·¥ä½œã€‚&lt;/p&gt;
&lt;h4 id=&#34;è§£ææµç¨‹&#34;&gt;è§£ææµç¨‹
&lt;/h4&gt;&lt;p&gt;æ€»ä½“çš„è§£ææµç¨‹æ˜¯&lt;code&gt;cliä¸­çš„token&lt;/code&gt; &amp;mdash;&amp;ndash;&amp;gt; &lt;code&gt;lowArgs&lt;/code&gt; &amp;mdash;&amp;mdash;&amp;gt; &lt;code&gt;hiArgs&lt;/code&gt;&lt;/p&gt;
&lt;h5 id=&#34;parse_low&#34;&gt;parse_low
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;åŠŸèƒ½ï¼šå°†&lt;code&gt;token&lt;/code&gt;è§£æä¸º&lt;code&gt;LowArgs&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;è¯´æ˜ï¼š&lt;code&gt;parse_low&lt;/code&gt;æ‰§è¡Œäº†ä¸¤æ¬¡parseï¼Œå…¶ç›®çš„æ˜¯ä¿è¯æ­£ç¡®çš„ä¼˜å…ˆçº§å’Œå‰¯ä½œç”¨æ§åˆ¶
&lt;ul&gt;
&lt;li&gt;ç¬¬ä¸€æ¬¡å¿«é€Ÿè§£æ(åªç”¨å‘½ä»¤è¡Œ)ç”¨äºï¼š
&lt;ul&gt;
&lt;li&gt;ç«‹å³è®¾ç½®æ—¥å¿—/æ¶ˆæ¯ç›¸å…³çš„å…¨å±€çŠ¶æ€(set_log_levels)ï¼Œè¿™æ ·åœ¨éšåè¯»å–å¹¶è§£æé…ç½®æ–‡ä»¶æ—¶æŒ‰ç…§CLIæŒ‡å®šçš„æ—¥å¿—çº§åˆ«è¾“å‡ºï¼ˆä¾‹å¦‚&amp;ndash;traceï¼‰&lt;/li&gt;
&lt;li&gt;æ£€æµ‹ç‰¹æ®Šæ¨¡å¼ï¼ˆhelp/versionï¼‰ï¼Œå¦‚æœæ˜¯specialå°±ç«‹åˆ»çŸ­è·¯è¿”å›ï¼Œä¸å»è¯»é…ç½®æ–‡ä»¶æˆ–åšæ›´å¤šçš„å·¥ä½œ&lt;/li&gt;
&lt;li&gt;æ£€æµ‹&lt;code&gt;--no-config&lt;/code&gt;æ ‡å¿—ï¼Œè‹¥å­˜åœ¨åˆ™ç›´æ¥ä½¿ç”¨ç¬¬ä¸€æ¬¡çš„ç»“æœå¹¶è¿”å›ï¼ˆä¸è¯»é…ç½®æ–‡ä»¶ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ç¬¬äºŒæ¬¡å®Œæ•´è§£æï¼šæ²¡æœ‰çŸ­è·¯è¿”å›ä¸”å…è®¸è¯»é…ç½®æ–‡ä»¶ï¼Œæ‰å»è¯»å–é…ç½®æ–‡ä»¶è·å¾—config_argsï¼Œå¹¶æŠŠå®ƒä»¬ä¸åŸå§‹CLIå‚æ•°åˆå¹¶ï¼ˆconfig_argsåœ¨å‰ï¼ŒCLIå‚æ•°åœ¨åï¼Œä¿è¯CLIè¦†ç›–é…ç½®æ–‡ä»¶çš„è®¾ç½®ï¼‰ï¼Œç„¶åç¬¬äºŒæ¬¡å®Œæ•´çš„parseå‡ºæœ€ç»ˆçš„LowArgsã€‚å¦å¤–ï¼Œç¬¬äºŒæ¬¡ä¼šé‡æ–°æ„é€ ä¸€ä¸ªæ–°çš„LowArgsï¼ˆè€Œä¸æ˜¯åœ¨ç¬¬ä¸€æ¬¡çš„åŸºç¡€ä¸Šæ”¹ï¼‰ï¼Œè¿™æ ·é¿å…ç¬¬ä¸€æ¬¡è§£ææ—¶å¯èƒ½é—ç•™çš„ä¸­é—´çŠ¶æ€å½±å“æœ€ç»ˆç»“æœï¼Œä¿æŒè¯­ä¹‰æ¸…æ™°ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;parse&#34;&gt;parse
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;parse_low&lt;/code&gt;è°ƒç”¨&lt;code&gt;parse&lt;/code&gt;æ‰§è¡Œå…·ä½“çš„è§£æé€»è¾‘&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä½¿ç”¨&lt;code&gt;lexopt&lt;/code&gt;è¿™ä¸ªcrateæŠŠtokenåˆ†ä¸ºäº†&lt;code&gt;Short&lt;/code&gt;,&lt;code&gt;Long&lt;/code&gt;,&lt;code&gt;Value&lt;/code&gt;ï¼›å…¶ä¸­&lt;code&gt;-abc&lt;/code&gt;ä¼šä¾æ¬¡äº§ç”Ÿ&lt;code&gt;Short(&#39;a&#39;)&lt;/code&gt;,&lt;code&gt;Short(&#39;b&#39;)&lt;/code&gt;,&lt;code&gt;Short(&#39;c&#39;)&lt;/code&gt;;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä½œä¸ºé€‰é¡¹å‚æ•°çš„value&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç”± parse åœ¨é‡åˆ° Short/Long åæ ¹æ®è¯¥ Flag çš„ç±»å‹å†³å®šæ˜¯å¦ç”¨ p.value() è¯»å–ï¼ˆæ”¯æŒ &amp;ndash;opt=value æˆ– &amp;ndash;opt valueï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;è¿™ç±»å€¼è¢«å°è£…ä¸º FlagValue::Value å¹¶ä¼ å…¥ç›¸åº”çš„ Flag.update(&amp;hellip;) å»ä¿®æ”¹ LowArgs çš„å­—æ®µã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä½ç½®å‚æ•°(positional)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;lexopt åœ¨é‡åˆ°ä¸ä»¥ &lt;code&gt;-&lt;/code&gt; å¼€å¤´çš„ &lt;code&gt;token&lt;/code&gt; æ—¶è¿”å› &lt;code&gt;Arg::Value&lt;/code&gt;ï¼Œparse ç›´æ¥æŠŠå®ƒ push åˆ° args.positionalã€‚&lt;/li&gt;
&lt;li&gt;è¿™äº›ä½ç½®å‚æ•°åœ¨åç»­ LowArgs -&amp;gt; HiArgs é˜¶æ®µè¢«è¯­ä¹‰åŒ–ï¼ˆç¬¬ä¸€ä¸ªå¯èƒ½æ˜¯ PATTERNï¼Œåé¢æ˜¯ PATHSï¼Œç‰¹æ®Šçš„ &amp;ldquo;-&amp;rdquo; è¡¨ç¤º stdin ç­‰ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Special case: -h/-Vä¸&amp;ndash;help/&amp;ndash;versionçš„çŸ­è·¯å¤„ç†&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åç§°åˆ°Flagçš„æŸ¥æ‰¾ï¼š&lt;/p&gt;
&lt;p&gt;å…ˆç®€å•ä»‹ç»ä¸‹ç›¸å…³çš„ç±»&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;FlagInfo&lt;/code&gt;æ˜¯å¯¹Flagç±»çš„è¡¥å……ï¼ŒFlag traitè¡¨ç¤ºä¸€ä¸ª&amp;quot;é€»è¾‘ä¸Šçš„&amp;quot;é€‰é¡¹ï¼ˆå¸¦é•¿åã€å¯é€‰çŸ­åã€å¦å®šåã€åˆ«åä»¥åŠupdateè¡Œä¸ºï¼›FlagInfoåˆ™æ˜¯å¯¹åŒä¸€ä¸ªé€»è¾‘flagåœ¨è§£æå™¨ä¸­å…·ä½“å‡ºç°å½¢å¼ï¼ˆæŸä¸ªé•¿å/çŸ­å/åˆ«å/å¦å®šåï¼‰çš„ä¸€æ¡è®°å½•ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;FlagMap&lt;/code&gt;å®é™…æ˜¯hashmap&amp;lt;vec[u8], usize&amp;gt;,usizeå¯¹åº”Vec&amp;lt;FlagInfo&amp;gt;çš„indexï¼ŒParserå°±ç»´æŠ¤äº† flagMapå’ŒVec&amp;lt;FlagInfo&amp;gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;FlagLookUp&lt;/code&gt;æ˜¯enumç±»å‹ï¼Œç”¨äºè¡¨ç¤ºæ ¹æ®flag nameæŸ¥æ‰¾çš„flagçš„ç»“æœï¼Œåˆ†ä¸º&lt;code&gt;Match(&amp;amp;&#39;a FlagInfo&#39;)&lt;/code&gt;,&lt;code&gt;UnrecognizedShort(char)&lt;/code&gt;,&lt;code&gt;UnrecognizedLong(String)&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ¥ç€å°±æ˜¯å¯¹lexoptè§£æå‡ºçš„short/longè¿›è¡Œå¤„ç†ï¼Œåˆ†åˆ«è°ƒç”¨&lt;code&gt;find_short&lt;/code&gt;å’Œ&lt;code&gt;find_long&lt;/code&gt;åœ¨FlagMapå’ŒVec&amp;lt;FlagInfo&amp;gt;è¿›è¡ŒæŸ¥æ‰¾ï¼Œå¹¶è¿”å›&lt;code&gt;FlagLookUp&lt;/code&gt;ï¼Œæ‰¾åˆ°å¯¹åº”çš„FlagInfoå°±ä¼šä½¿ç”¨Flag traitä¸­çš„&lt;code&gt;update&lt;/code&gt;å¯¹æ™®é€švalueè¿›è¡Œå¤„ç†&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;ç”¨ä¾‹å­ç†Ÿæ‚‰æµç¨‹&#34;&gt;ç”¨ä¾‹å­ç†Ÿæ‚‰æµç¨‹
&lt;/h4&gt;&lt;p&gt;ä»¥&lt;code&gt;rg --json -F &#39;impl&amp;lt;T&amp;gt; ParseResult&amp;lt;T&amp;gt;&#39;&lt;/code&gt;ä¸ºä¾‹ç†Ÿæ‚‰ä¸‹æµç¨‹&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;lexopt&lt;/code&gt;è¯æ³•åŒ–ï¼šæŠŠ&lt;code&gt;--json&lt;/code&gt;ä½œä¸º&lt;code&gt;lexopt::Arg::Long(&amp;quot;json&amp;quot;)&lt;/code&gt;äº¤ç»™Parserã€‚&lt;/li&gt;
&lt;li&gt;åç§°æŸ¥æ‰¾ï¼š&lt;code&gt;Parser::new()&lt;/code&gt;æ„å»ºä¸€æ¬¡æ€§çš„è§£æè¡¨ï¼›&lt;code&gt;Parser.find_long&lt;/code&gt;åœ¨&lt;code&gt;FlagMap&lt;/code&gt;ä¸­æŸ¥æ‰¾,è¿”å›FlagLookup::Match(&amp;amp;FlagInfo)ã€‚&lt;/li&gt;
&lt;li&gt;æ„é€ FlagValueï¼Œç”±äº&lt;code&gt;--json&lt;/code&gt;åœ¨&lt;code&gt;defs.rs&lt;/code&gt;å®šä¹‰ä¸ºswitch,æ‰€ä»¥æ„é€ ä¸º&lt;code&gt;FlagValue::Switch(true)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;è°ƒç”¨&lt;code&gt;Flag.update&lt;/code&gt;å†™å…¥&lt;code&gt;LowArgs&lt;/code&gt;ï¼Œæœ¬ä¾‹å°±æ˜¯&lt;code&gt;LowArgs.mode&lt;/code&gt;è¢«è®¾ç½®ä¸º&lt;code&gt;Search(JSON)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;LowArgs&lt;/code&gt; -&amp;gt; &lt;code&gt;HiArgs&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h4 id=&#34;parsersä¸­ä¼˜ç§€çš„ç¼–ç¨‹æ€æƒ³&#34;&gt;parse.rsä¸­ä¼˜ç§€çš„ç¼–ç¨‹æ€æƒ³
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ˜ç¡®çš„èŒè´£åˆ†ç¦»&lt;/strong&gt;ï¼šæŠŠâ€œè¯†åˆ«tokenï¼ˆparseï¼‰â€ã€â€œæŠŠflagå€¼å†™å…¥LowArgs(Flag::update)â€å’Œâ€œæŠŠLowArgså‡ä¸ºHiArgsï¼ˆHiArgs::from_low_argsï¼‰â€æ¸…æ™°æ‹†å¼€ï¼Œé™ä½æ¯ä¸ªæ¨¡å—å¤æ‚åº¦ï¼Œä¾¿äºæµ‹è¯•ä¸å¤ç”¨ã€‚&lt;strong&gt;è§£æ â†’ ä¸­é—´ç»“æ„ â†’ è¿è¡Œæ—¶æ„é€ &lt;/strong&gt;çš„åˆ†å±‚è§£æ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ä¸¤é˜¶æ®µè§£æä»¥æ”¯æŒé…ç½®åˆå¹¶ä¸æ—©æœŸçŸ­è·¯&lt;/strong&gt;ï¼šå…ˆå…ˆç”¨ CLI å¿«é€Ÿè®¾ç½®æ—¥å¿—/short-circuitï¼ˆhelp/versionï¼‰ï¼Œå†åœ¨éœ€è¦æ—¶åˆå¹¶ config args å¹¶é‡æ–°è§£æï¼Œæ—¢èƒ½æ—©æœŸåé¦ˆåˆä¿æŒæœ€ç»ˆè¯­ä¹‰ä¸€è‡´&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä½¿ç”¨OnceLockåšæƒ°æ€§å…¨å±€åªè¯»åˆå§‹åŒ–ï¼šç”¨OnceLockåˆå§‹åŒ–ä¸€æ¬¡æ€§ä¸å¯å˜è§£æå™¨ï¼Œæ—¢çº¿ç¨‹å®‰å…¨åˆé¿å…é‡å¤æ„é€ å¼€é”€&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;use&lt;/span&gt; std::sync::OnceLock;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;static&lt;/span&gt; P: &lt;span style=&#34;color:#a6e22e&#34;&gt;OnceLock&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Parser&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; OnceLock::new();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;P.get_or_init(&lt;span style=&#34;color:#f92672&#34;&gt;||&lt;/span&gt; {&lt;span style=&#34;color:#75715e&#34;&gt;/* build parser*/&lt;/span&gt; })
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç”¨trait + å®ç° å®ç°å¯æ‰©å±•æ€§ï¼ˆ&lt;strong&gt;é¢å‘æ¥å£ç¼–ç¨‹&lt;/strong&gt;ï¼‰: &lt;code&gt;Flag&lt;/code&gt; traitå®šä¹‰è¡Œä¸ºï¼Œå…·ä½“flagå®ç°åªæ”¹updateï¼Œè§£æå™¨åªä¾èµ–traitï¼Œä¸è€¦åˆå…·ä½“å®ç°ï¼Œæ–°å¢flagä»…éœ€å®ç°traitå¹¶åŠ å…¥FLAGSï¼›å›´ç»•&lt;code&gt;Flag&lt;/code&gt;traitå®šä¹‰äº†Flagç›¸å…³çš„structã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é¿å…è‡ªå¼•ç”¨ç»“æ„çš„æŠ€å·§ï¼ˆ&lt;strong&gt;ç´¢å¼•æ›¿ä»£å¼•ç”¨&lt;/strong&gt;ï¼‰ï¼šç”¨ HashMap&amp;lt;Vec&lt;u8&gt;, usize&amp;gt; + Vec&lt;FlagInfo&gt;ï¼ˆmap å­˜ç´¢å¼•ï¼‰ç»•å¼€åœ¨åŒä¸€ struct ä¸­å­˜æ”¾è‡ªå¼•ç”¨çš„é—®é¢˜ï¼ŒåŒæ—¶æé«˜æŸ¥æ‰¾åè®¿é—®æ•ˆç‡ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä½çº§è§£æåº“ï¼ˆ&lt;code&gt;lexopt&lt;/code&gt;ï¼‰ç»“åˆè‡ªå®šä¹‰é€»è¾‘ï¼šé‡‡ç”¨ä½å±‚è§£æå™¨ä»¥è·å¾—æœ€å¤§æ§åˆ¶æƒï¼ˆæ”¯æŒ negationã€suggestã€è‡ªå®šä¹‰é”™è¯¯ä¿¡æ¯ç­‰ï¼‰ï¼Œè€Œä¸æ˜¯ç›´æ¥ç”¨é«˜çº§åº“å¼ºè¡Œé€‚é…ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä¸°å¯Œçš„é”™è¯¯ä¸Šä¸‹æ–‡ï¼ˆ&lt;code&gt;anyhow::Context / with_context&lt;/code&gt;ï¼‰ï¼šåœ¨å¯èƒ½å¤±è´¥çš„ç‚¹ç”¨ .with_context(|| format!(&amp;hellip;)) åŒ…è£…é”™è¯¯ï¼Œç»™å‡ºå¯¹ç”¨æˆ·/è°ƒè¯•æ›´å‹å¥½çš„ä¿¡æ¯ï¼ˆâ€œmissing value for flag â€¦â€ï¼‰ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ˜ç¡®åœ°æŠŠâ€œé€‰é¡¹å‚æ•°â€å’Œâ€œä½ç½®å‚æ•°â€åˆ†å¼€æ”¶é›†ä¸å¤„ç†ï¼šåœ¨parseé˜¶æ®µæŠŠpositionalç›´æ¥æ”¶é›†ï¼Œåé¢åŒä¸€è¯­ä¹‰åŒ–(pattern/path)ï¼Œæœ‰åˆ©äºä¿æŒè§£æé€»è¾‘æ•´æ´&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;æ€è€ƒ&#34;&gt;æ€è€ƒ
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;å¦‚ä½•åšåˆ°æ°åˆ°å¥½å¤„çš„åˆ†å±‚ï¼Œæ—¢ä¸è¿‡åº¦ä¹Ÿä¸è®©æŸä¸€å±‚è¿‡äºå†—æ‚ï¼Ÿ&lt;/li&gt;
&lt;li&gt;é¢å‘æ¥å£/traitç¼–ç¨‹æ€è·¯çš„åˆç†åº”ç”¨ã€‚ æŠŠtraitå½“ä½œâ€&lt;strong&gt;å¯æ’æ‹”ç‚¹&lt;/strong&gt;â€è€Œä¸æ˜¯é»˜è®¤æ¨¡ç‰ˆ&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>ripgrepçš„mainå‡½æ•°</title>
        <link>http://localhost:1313/rust/ripgrep/ripgrep%E7%9A%84main%E5%87%BD%E6%95%B0/</link>
        <pubDate>Fri, 22 Aug 2025 22:03:01 +0800</pubDate>
        
        <guid>http://localhost:1313/rust/ripgrep/ripgrep%E7%9A%84main%E5%87%BD%E6%95%B0/</guid>
        <description>&lt;h4 id=&#34;æ¦‚è§ˆ&#34;&gt;æ¦‚è§ˆ
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;main.rs&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;è§’è‰²ï¼šripgrepå¯æ‰§è¡Œç¨‹åºçš„å…¥å£ï¼Œè´Ÿè´£é¡¶å±‚å‚æ•°åˆ†å‘ã€å¹¶å‘ç­–ç•¥é€‰è€…ã€é”™è¯¯ä¸é€€å‡ºç å¤„ç†ã€ä»¥åŠå‡ ç§è¿è¡Œæ¨¡å¼(search/files/types/generate/special)çš„åè°ƒã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;ä¸»è¦èŒè´£&#34;&gt;ä¸»è¦èŒè´£
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;è°ƒç”¨flags::parse()è·å–è§£æç»“æœå¹¶äº¤ç”±run()å¤„ç†&lt;/li&gt;
&lt;li&gt;åœ¨é¡¶å±‚å¤„ç†run()è¿”å›çš„é”™è¯¯ï¼šBrokenPipeè¢«è§†ä¸ºä¼˜é›…é€€å‡ºï¼ˆé€€å‡ºç ä¸º0ï¼‰ï¼Œå…¶ä»–é”™è¯¯æ‰“å°å¹¶è¿”å›2ã€‚&lt;/li&gt;
&lt;li&gt;æ ¹æ®HiArgså’ŒModeå†³å®šå•çº¿ç¨‹æˆ–å¹¶è¡Œæ‰§è¡Œæœç´¢/åˆ—ä¸¾ç­‰é€»è¾‘ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨æœç´¢ç»“æŸåä¾æ®åŒ¹é…æƒ…å†µã€é”™è¯¯æ ‡è®°å’Œquietæ ‡å¿—è®¡ç®—æœ€ç»ˆé€€å‡ºç  (0/1/2)ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;æ§åˆ¶æµä¼ªä»£ç &#34;&gt;æ§åˆ¶æµï¼ˆä¼ªä»£ç ï¼‰
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//é«˜å±‚ä¼ªä»£ç 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;main&lt;/span&gt;() -&amp;gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;ExitCode&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;match&lt;/span&gt; run(flags::parse()) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    Ok(code) &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; code,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    Err(err) &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; err.chain() contains BrokenPipe { &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; ExitCode::from(&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;); }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      eprintln(err);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      ExitCode::from(&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;å…³é”®å‡½æ•°ä¸èŒè´£&#34;&gt;å…³é”®å‡½æ•°ä¸èŒè´£
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;mainï¼šé¡¶å±‚é”™è¯¯æ•è·ä¸BrokenPipeç‰¹æ®Šå¤„ç†&lt;/li&gt;
&lt;li&gt;run(result): è§£åŒ…ParseResultï¼ˆErr/Special/Okï¼‰ï¼Œåˆ†æ´¾åˆ°å…·ä½“æ¨¡å¼ï¼›è®¡ç®—æœ€ç»ˆé€€å‡ºç ã€‚&lt;/li&gt;
&lt;li&gt;search(args, mode)ï¼šå•çº¿ç¨‹æœç´¢ã€‚æ„é€ walk -&amp;gt; haystack -&amp;gt; é¡ºåºè°ƒç”¨searcherï¼Œç»Ÿè®¡å¹¶æ‰“å°statsã€‚&lt;/li&gt;
&lt;li&gt;search_parallel(args, mode)ï¼šå¹¶è¡Œæœç´¢ï¼Œä½¿ç”¨walkçš„å¹¶è¡Œrunnerï¼Œworker closuerè´Ÿè´£å•æ–‡ä»¶æœç´¢ã€ç»Ÿè®¡åˆå¹¶å’Œé€šè¿‡bufwtræ‰“å°ç»“æœã€‚&lt;/li&gt;
&lt;li&gt;files(args)/file_parallel(args)ï¼šåˆ—å‡ºæ–‡ä»¶è·¯å¾„(å•çº¿ç¨‹/å¤šçº¿ç¨‹å®ç°ï¼Œåè€…ä½¿ç”¨æ‰“å°çº¿ç¨‹å’Œmpsc channel)ã€‚&lt;/li&gt;
&lt;li&gt;special(mode)ï¼šè¾“å‡ºhelp/versionç­‰çŸ­è·¯æ¨¡å¼(æœ€å°‘åˆå§‹åŒ–)&lt;/li&gt;
&lt;li&gt;generate(mode)ï¼šç”Ÿæˆmané¡µæˆ–shellè¡¥å…¨å¹¶å†™stdout&lt;/li&gt;
&lt;li&gt;print_stats(&amp;hellip;)ï¼šæ ¹æ®SearchModeè¾“å‡ºæ–‡æœ¬æˆ–JSONç»Ÿè®¡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;é‡è¦æ¦‚å¿µä¸ç±»å‹&#34;&gt;é‡è¦æ¦‚å¿µä¸ç±»å‹
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;HiArgsï¼šé«˜å±‚è¿è¡Œæ—¶é…ç½®ï¼ˆï¼‰&lt;/li&gt;
&lt;li&gt;Mode/SearchModeï¼šå†³å®šæ˜¯ Search/Files/Types/Generate/Special ä»¥åŠ JSON/text è¾“å‡ºç­‰ã€‚&lt;/li&gt;
&lt;li&gt;WalkStateï¼šignore crateçš„éå†æ§åˆ¶(Continue/Quit)&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>Rustä¸­çš„IOæ“ä½œ</title>
        <link>http://localhost:1313/rust/rust%E4%B8%AD%E7%9A%84io%E6%93%8D%E4%BD%9C/</link>
        <pubDate>Fri, 22 Aug 2025 06:01:17 +0800</pubDate>
        
        <guid>http://localhost:1313/rust/rust%E4%B8%AD%E7%9A%84io%E6%93%8D%E4%BD%9C/</guid>
        <description>&lt;p&gt;åœ¨Rustä¸­ï¼ŒI/Oæ“ä½œä¸»è¦é€šè¿‡&lt;code&gt;Read&lt;/code&gt;å’Œ&lt;code&gt;Write&lt;/code&gt;ä¸¤ä¸ªæ ¸å¿ƒtraitå®ç°ï¼Œè€Œ&lt;code&gt;Cursor&lt;/code&gt;ã€&lt;code&gt;BufWriter&lt;/code&gt;å’Œ&lt;code&gt;ReadBuf&lt;/code&gt;æ˜¯å›´ç»•è¿™äº›traitçš„å®ç”¨å·¥å…·ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;1-readå’Œwrite-trait&#34;&gt;1. &lt;code&gt;Read&lt;/code&gt;å’Œ&lt;code&gt;Write&lt;/code&gt; trait
&lt;/h4&gt;&lt;h5 id=&#34;stdioread&#34;&gt;&lt;code&gt;std::io::Read&lt;/code&gt;
&lt;/h5&gt;&lt;p&gt;&lt;strong&gt;ä½œç”¨&lt;/strong&gt;ï¼šä»æ•°æ®æºï¼ˆæ–‡ä»¶ã€ç½‘ç»œç­‰ï¼‰è¯»å–å­—èŠ‚æµã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ ¸å¿ƒæ–¹æ³•&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;read&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; self, buf: &lt;span style=&#34;color:#66d9ef&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;mut&lt;/span&gt; [&lt;span style=&#34;color:#66d9ef&#34;&gt;u8&lt;/span&gt;]) -&amp;gt; Result&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;usize&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;å°è¯•è¯»å–æ•°æ®åˆ°ç¼“å†²åŒº&lt;code&gt;buf&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;è¿”å›å®é™…è¯»å–çš„å­—èŠ‚æ•°(&lt;code&gt;Ok(n)&lt;/code&gt;)ï¼Œæˆ–é”™è¯¯ï¼ˆ&lt;code&gt;Err(e)&lt;/code&gt;ï¼‰&lt;/li&gt;
&lt;li&gt;å½“è¯»å–åˆ°EOFæ—¶è¿”å›&lt;code&gt;Ok(0)&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;å¸¸ç”¨æ–¹æ³•&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;read_to_end(&amp;amp;mut vec)&lt;/code&gt;:è¯»å–æ‰€æœ‰å­—èŠ‚åˆ°&lt;code&gt;Vec&amp;lt;u8&amp;gt;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;read_to_string(&amp;amp;mut string)&lt;/code&gt;:è¯»å–UTF-8å­—èŠ‚åˆ°&lt;code&gt;String&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;read_exact(&amp;amp;mut buf)&lt;/code&gt;:ç²¾ç¡®è¯»å–&lt;code&gt;buf.len()&lt;/code&gt;å­—èŠ‚ï¼Œå¦åˆ™æŠ¥é”™&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;stdiowrite&#34;&gt;&lt;code&gt;std::io::Write&lt;/code&gt;
&lt;/h5&gt;&lt;p&gt;&lt;strong&gt;ä½œç”¨&lt;/strong&gt;ï¼šå°†å­—èŠ‚æµå†™å…¥ç›®æ ‡&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ ¸å¿ƒæ–¹æ³•&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;write&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; self, buf: &lt;span style=&#34;color:#66d9ef&#34;&gt;&amp;amp;&lt;/span&gt;[&lt;span style=&#34;color:#66d9ef&#34;&gt;u8&lt;/span&gt;]) -&amp;gt; Result&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;usize&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;flush&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; self) -&amp;gt; Result&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;()&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;write&lt;/code&gt;å°è¯•å†™å…¥ç¼“å†²åŒº&lt;code&gt;buf&lt;/code&gt;ï¼Œè¿”å›å®é™…å†™å…¥çš„å­—èŠ‚æ•°&lt;/li&gt;
&lt;li&gt;&lt;code&gt;flush&lt;/code&gt;ç¡®ä¿æ‰€æœ‰ç¼“å†²æ•°æ®å†™å…¥ç›®æ ‡ï¼ˆå¦‚ç£ç›˜ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;2-cursort&#34;&gt;2. &lt;code&gt;Cursor&amp;lt;T&amp;gt;&lt;/code&gt;
&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;ä½œç”¨&lt;/strong&gt;ï¼šå°†å†…å­˜ç±»å‹åŒ…è£…æˆå¯&lt;code&gt;éšæœºè®¿é—®&lt;/code&gt;çš„&lt;code&gt;Read&lt;/code&gt;/&lt;code&gt;Write&lt;/code&gt;å¯¹è±¡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç‰¹ç‚¹&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åœ¨å†…å­˜ä¸­æ¨¡æ‹Ÿæ–‡ä»¶æŒ‡é’ˆï¼ˆç»´æŠ¤&lt;code&gt;position&lt;/code&gt;ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;å®ç°Readå’ŒWriteï¼ˆéœ€&lt;code&gt;T: AsMut&amp;lt;[u8]&amp;gt;&lt;/code&gt;)ï¼Œæ”¯æŒ&lt;code&gt;Seek&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;é›¶æˆæœ¬æŠ½è±¡ï¼Œé«˜æ€§èƒ½å†…å­˜æ“ä½œã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;ä½¿ç”¨åœºæ™¯&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä»&lt;code&gt;Vec&amp;lt;u8&amp;gt;&lt;/code&gt;è¯»å–æ•°æ®ï¼Œæˆ–å†™å…¥åˆ°&lt;code&gt;Vec&amp;lt;u8&amp;gt;&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;æµ‹è¯•æ—¶ä»£æ›¿çœŸå®æ–‡ä»¶I/Oã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;3-bufwriterw&#34;&gt;3. &lt;code&gt;BufWriter&amp;lt;W&amp;gt;&lt;/code&gt;
&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;ä½œç”¨&lt;/strong&gt;ï¼šåŒ…è£…ä¸€ä¸ª&lt;code&gt;Write&lt;/code&gt;å¯¹è±¡ï¼Œæä¾›&lt;strong&gt;å†™å…¥ç¼“å†²&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä¼˜ç‚¹&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å‡å°‘ç³»ç»Ÿè°ƒç”¨ï¼ˆå¦‚ç£ç›˜ã€ç½‘ç»œå†™å…¥ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;æ‰¹é‡å†™å…¥æé«˜æ€§èƒ½ï¼ˆé»˜è®¤ç¼“å†²åŒºå¤§å°&lt;strong&gt;8KB&lt;/strong&gt;ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;è¡Œä¸º&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å…ˆå†™å…¥å†…å­˜ç¼“å†²åŒºï¼Œæ»¡æ—¶è‡ªåŠ¨åˆ·æ–°åˆ°å†…éƒ¨&lt;code&gt;W&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;æ‰‹åŠ¨è°ƒç”¨&lt;code&gt;flush()&lt;/code&gt;æˆ–&lt;code&gt;Drop&lt;/code&gt;æ—¶å¼ºåˆ¶åˆ·æ–°ç¼“å†²åŒºã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;4-bufreaderr&#34;&gt;4. &lt;code&gt;BufReader&amp;lt;R&amp;gt;&lt;/code&gt;
&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;ä½œç”¨&lt;/strong&gt;ï¼šåŒ…è£…&lt;code&gt;Read&lt;/code&gt;å¯¹è±¡ï¼Œæä¾›&lt;strong&gt;è¯»å–ç¼“å†²&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä¼˜ç‚¹&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å‡å°‘é¢‘ç¹ç³»ç»Ÿè°ƒç”¨ï¼ˆå¦‚è¯»å–æ–‡ä»¶æ—¶å¤šæ¬¡å°æ•°æ®è¯»å–ï¼‰&lt;/li&gt;
&lt;li&gt;æ”¯æŒæŒ‰è¡Œè¯»å–ï¼ˆ&lt;code&gt;read_line&lt;/code&gt;å’Œ&lt;code&gt;lines&lt;/code&gt;ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;å®Œæ•´çŸ¥è¯†å›¾è°±&#34;&gt;å®Œæ•´çŸ¥è¯†å›¾è°±
&lt;/h4&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;I/O æ ¸å¿ƒ Trait
â”‚
â”œâ”€â”€ Read (å­—èŠ‚æº)
â”‚   â”œâ”€â”€ å®ç°ç±»å‹ï¼šFile, TcpStream, Vec&amp;lt;u8&amp;gt;, etc.
â”‚   â”œâ”€â”€ å·¥å…·ï¼šBufReader (ç¼“å†²è¯»å–), Take (é™åˆ¶è¯»å–é•¿åº¦)
â”‚   â””â”€â”€ æ‰©å±•ï¼šBufRead (æä¾› read_line, lines ç­‰æ–¹æ³•)
â”‚
â”œâ”€â”€ Write (å­—èŠ‚ç›®æ ‡)
â”‚   â”œâ”€â”€ å®ç°ç±»å‹ï¼šFile, TcpStream, Vec&amp;lt;u8&amp;gt;, etc.
â”‚   â””â”€â”€ å·¥å…·ï¼šBufWriter (ç¼“å†²å†™å…¥), LineWriter (è¡Œç¼“å†²)
â”‚
â”œâ”€â”€ Seek (éšæœºè®¿é—®)
â”‚   â””â”€â”€ å®ç°ç±»å‹ï¼šFile, Cursor&amp;lt;T&amp;gt;
â”‚
â””â”€â”€ å†…å­˜é€‚é…å™¨
    â””â”€â”€ Cursor&amp;lt;T&amp;gt; (å†…å­˜æ¨¡æ‹Ÿ I/O)
        â”œâ”€â”€ æ”¯æŒï¼šRead/Write/Seek
        â””â”€â”€ é€‚ç”¨ï¼šVec&amp;lt;u8&amp;gt;, &amp;amp;[u8], String, &amp;amp;str
&lt;/code&gt;&lt;/pre&gt;&lt;hr&gt;
&lt;h5 id=&#34;å…³é”®åŸåˆ™&#34;&gt;å…³é”®åŸåˆ™
&lt;/h5&gt;&lt;p&gt;&lt;strong&gt;1. ç¼“å†²ä½¿ç”¨&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;BufReader/BufWriteræ€»æ˜¯æ¨èç”¨äºæ–‡ä»¶/ç½‘ç»œ I/Oã€‚&lt;/li&gt;
&lt;li&gt;Cursorç”¨äºå†…å­˜æ•°æ®ï¼ˆå¦‚è§£æäºŒè¿›åˆ¶æ ¼å¼ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;2. é”™è¯¯å¤„ç†&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ‰€æœ‰I/Oæ“ä½œè¿”å›&lt;code&gt;Result&lt;/code&gt;ï¼Œå¿…é¡»å¤„ç†&lt;code&gt;Err&lt;/code&gt;æƒ…å†µã€‚&lt;/li&gt;
&lt;li&gt;ç‰¹åˆ«æ³¨æ„&lt;code&gt;flush()&lt;/code&gt;çš„é”™è¯¯ï¼ˆå¦‚ç£ç›˜æ»¡ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;3. æ€§èƒ½&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å°æ•°æ®å†™å…¥ç”¨&lt;code&gt;BufWriter&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;é¿å…é¢‘ç¹å°æ•°æ®è¯»å–ï¼ˆç¼“å†²æˆ–æ‰¹é‡åŒ–ï¼‰&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>å¤§ç«¯åºå’Œå°ç«¯åº</title>
        <link>http://localhost:1313/rust/%E5%A4%A7%E7%AB%AF%E5%BA%8F%E5%92%8C%E5%B0%8F%E7%AB%AF%E5%BA%8F/</link>
        <pubDate>Fri, 22 Aug 2025 03:33:16 +0800</pubDate>
        
        <guid>http://localhost:1313/rust/%E5%A4%A7%E7%AB%AF%E5%BA%8F%E5%92%8C%E5%B0%8F%E7%AB%AF%E5%BA%8F/</guid>
        <description>&lt;p&gt;å¤§ç«¯åºå’Œå°ç«¯åºæ˜¯ä¸¤ç§ä¸åŒçš„&lt;strong&gt;å­—èŠ‚å­˜å‚¨é¡ºåº&lt;/strong&gt;ï¼Œç”¨äºæè¿°å¤šå­—èŠ‚æ•°æ®ï¼ˆå¦‚æ•´æ•°ã€æµ®ç‚¹æ•°ï¼‰åœ¨è®¡ç®—æœºå†…å­˜ä¸­çš„å­˜å‚¨æ–¹å¼ã€‚å®ƒä»¬çš„åŒºåˆ«åœ¨äºå­—èŠ‚çš„æ’åˆ—é¡ºåºï¼š&lt;/p&gt;
&lt;h4 id=&#34;å¤§ç«¯åº&#34;&gt;å¤§ç«¯åº
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;é«˜ä½å­—èŠ‚å­˜å‚¨åœ¨ä½åœ°å€&lt;/strong&gt;ï¼Œä½ä½å­—èŠ‚å­˜å‚¨åœ¨é«˜åœ°å€&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;å°ç«¯åº&#34;&gt;å°ç«¯åº
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ä½ä½å­—èŠ‚å­˜å‚¨åœ¨ä½åœ°å€&lt;/strong&gt;ï¼Œé«˜ä½å­—èŠ‚å­˜å‚¨åœ¨é«˜åœ°å€&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å°ç«¯åºæ›´ç¬¦åˆè®¡ç®—æœºçš„å¤„ç†é€»è¾‘&lt;/p&gt;
</description>
        </item>
        <item>
        <title>éœ€è¦å¤šç†Ÿæ‚‰çš„rustè¯­æ³•</title>
        <link>http://localhost:1313/rust/%E9%9C%80%E8%A6%81%E5%A4%9A%E7%86%9F%E6%82%89%E7%9A%84rust%E8%AF%AD%E6%B3%95/</link>
        <pubDate>Tue, 19 Aug 2025 15:02:39 +0800</pubDate>
        
        <guid>http://localhost:1313/rust/%E9%9C%80%E8%A6%81%E5%A4%9A%E7%86%9F%E6%82%89%E7%9A%84rust%E8%AF%AD%E6%B3%95/</guid>
        <description>&lt;h4 id=&#34;ç»‘å®šè¿ç®—ç¬¦&#34;&gt;@(ç»‘å®šè¿ç®—ç¬¦)
&lt;/h4&gt;&lt;p&gt;åœ¨Rustä¸­ï¼Œ&lt;code&gt;@&lt;/code&gt;è¢«ç§°ä¸ºç»‘å®šè¿ç®—ç¬¦ï¼Œç”¨äºåœ¨æ¨¡å¼åŒ¹é…çš„å€¼ç»‘å®šåˆ°ä¸€ä¸ªå˜é‡ï¼ŒåŒæ—¶å…è®¸è¿›ä¸€æ­¥è§£æ„å†…éƒ¨ç»“æ„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å…·ä½“è§£æ&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;match&lt;/span&gt; self.reader.read(buf) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  Ok(len) &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    self.size &lt;span style=&#34;color:#f92672&#34;&gt;-=&lt;/span&gt; len;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    Ok(len)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  err &lt;span style=&#34;color:#f92672&#34;&gt;@&lt;/span&gt; Err(_) &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; err
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;Ok(len)&lt;/code&gt;åˆ†æ”¯&lt;/strong&gt;ï¼šåŒ¹é…æˆåŠŸçš„&lt;code&gt;Ok&lt;/code&gt;å˜ä½“ï¼Œæå–å†…éƒ¨çš„&lt;code&gt;len&lt;/code&gt;å€¼ï¼Œç„¶åæ›´æ–°&lt;code&gt;self.size&lt;/code&gt;å¹¶è¿”å›&lt;code&gt;Ok(len)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;**&lt;code&gt;err @ Err(_)&lt;/code&gt;**åˆ†æ”¯ï¼š
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Err(_)&lt;/code&gt;åŒ¹é…ä»»æ„&lt;code&gt;Err&lt;/code&gt;å˜ä½“(ä¸å…³å¿ƒå†…éƒ¨é”™è¯¯çš„å…·ä½“å€¼)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;@&lt;/code&gt;å°†æ•´ä¸ªErrçš„å€¼(å¦‚&lt;code&gt;Err(&amp;quot;io_error&amp;quot;)&lt;/code&gt;)ç»‘å®šåˆ°å˜é‡&lt;code&gt;err&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;åˆ†æ”¯è¿”å›&lt;code&gt;err&lt;/code&gt;ï¼Œå³åŸå§‹çš„&lt;code&gt;Err&lt;/code&gt;å€¼&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;è§£æ„é»˜è®¤ä¼šå‘ç”Ÿæ‰€æœ‰æƒè½¬ç§»ï¼Œ&lt;code&gt;let Data(inner) = &amp;amp;data;&lt;/code&gt;ç­‰ä»·äº&lt;code&gt;let Data(ref inner) = &amp;amp;data;&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;asref&#34;&gt;AsRef
&lt;/h4&gt;&lt;p&gt;&lt;code&gt;AsRef&lt;/code&gt; traitçš„æ ¸å¿ƒä½œç”¨æ˜¯å…è®¸ä¸€ä¸ªç±»å‹ä»¥&lt;strong&gt;é›¶å¼€é”€&lt;/strong&gt;çš„æ–¹å¼å°†è‡ªå·±æˆ–å¼•ç”¨è½¬æ¢æˆ&lt;strong&gt;å¦ä¸€ç§ç±»å‹çš„å¼•ç”¨&lt;/strong&gt;ã€‚&lt;code&gt;AsMut&lt;/code&gt;æ˜¯&lt;code&gt;AsRef&lt;/code&gt;çš„å¯å˜ç‰ˆæœ¬&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1. æ ¸å¿ƒæœºåˆ¶&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;AsRef&amp;lt;T&amp;gt;&lt;/code&gt;å®šä¹‰äº†ä¸€ä¸ªæ–¹æ³•ï¼š&lt;code&gt;fn as_ref(&amp;amp;self) -&amp;gt; &amp;amp;T&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å®ƒæ¥å—&lt;code&gt;&amp;amp;self&lt;/code&gt;ï¼Œè¿”å›ç›®æ ‡ç±»å‹&lt;code&gt;&amp;amp;T&lt;/code&gt;çš„å¼•ç”¨&lt;/li&gt;
&lt;li&gt;æœ¬è´¨ä¸Šï¼šå°†&lt;code&gt;&amp;amp;Self&lt;/code&gt;è½¬æ¢ä¸º&lt;code&gt;&amp;amp;T&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;2. è½¬æ¢ç±»å‹&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å…è®¸çš„æ˜¯&lt;code&gt;Self&lt;/code&gt;åˆ°&lt;code&gt;T&lt;/code&gt;çš„å¼•ç”¨è½¬æ¢ã€‚&lt;/li&gt;
&lt;li&gt;ä¾‹å¦‚ï¼š
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;String&lt;/code&gt;å®ç°&lt;code&gt;AsRef&amp;lt;str&amp;gt;&lt;/code&gt;: &lt;code&gt;&amp;amp;String -&amp;gt; &amp;amp;str&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Vec&amp;lt;T&amp;gt;&lt;/code&gt; å®ç°&lt;code&gt;AsRef&amp;lt;[T]&amp;gt;&lt;/code&gt;: &lt;code&gt;&amp;amp;Vec&amp;lt;T&amp;gt; -&amp;gt;&amp;amp;[T]&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;PathBuf&lt;/code&gt;å®ç°&lt;code&gt;AsRef&amp;lt;Path&amp;gt;&lt;/code&gt;: &lt;code&gt;&amp;amp;PathBuf -&amp;gt; &amp;amp;Path&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;**3. è®¾è®¡ç›®çš„ **&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ³›å‹çµæ´»æ€§ï¼šè®©å‡½æ•°æ¥å—å¤šç§ç±»å‹å‚æ•°&lt;/li&gt;
&lt;li&gt;é›¶å¼€é”€æŠ½è±¡ï¼šè½¬æ¢è¿‡ç¨‹æ— é¢å¤–å †åˆ†é…æˆ–å¤åˆ¶&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;é›¶å¼€é”€&#34;&gt;é›¶å¼€é”€
&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;ä»€ä¹ˆæ˜¯é›¶å¼€é”€&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ ˆæ“ä½œå’Œå¾®å°çš„å¯„å­˜å™¨å¤åˆ¶æ˜¯å…è®¸çš„&lt;/li&gt;
&lt;li&gt;æ²¡æœ‰&lt;strong&gt;å †å†…å­˜åˆ†é…&lt;/strong&gt;ï¼šç»ä¸è°ƒç”¨å†…å­˜åˆ†é…å™¨&lt;/li&gt;
&lt;li&gt;æ²¡æœ‰&lt;strong&gt;æ·±æ‹·è´&lt;/strong&gt;ï¼šä¸å¤åˆ¶åº•å±‚æ•°æ®æœ¬èº«ï¼ˆå³ä½¿æ˜¯æ ˆä¸Šçš„è§£æ„ä¹Ÿéœ€è¦åˆç†åŒºåˆ†ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;åˆ‡ç‰‡å¼•ç”¨&#34;&gt;åˆ‡ç‰‡å¼•ç”¨
&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;åˆ‡ç‰‡å¼•ç”¨æœ¬è´¨å°±æ˜¯å®½æŒ‡é’ˆ&lt;/strong&gt;ï¼Œç”±&lt;strong&gt;æ•°æ®æŒ‡é’ˆ&lt;/strong&gt;å’Œ&lt;strong&gt;é•¿åº¦&lt;/strong&gt;ç»„æˆ&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;condvar&#34;&gt;Condvar
&lt;/h4&gt;&lt;p&gt;åœ¨rustä¸­ï¼Œ&lt;code&gt;Condvar&lt;/code&gt;ï¼ˆæ¡ä»¶å˜é‡ï¼‰æ˜¯ç”¨äºçº¿ç¨‹é—´åŒæ­¥çš„æ ¸å¿ƒå·¥å…·ï¼Œé€šå¸¸ä¸&lt;code&gt;Mutex&lt;/code&gt;ç»“åˆä½¿ç”¨ã€‚å®ƒçš„æ ¸å¿ƒåŠŸèƒ½æ˜¯è®©çº¿ç¨‹åœ¨æŸä¸ªæ¡ä»¶ä¸æ»¡è¶³æ—¶&lt;strong&gt;ä¸»åŠ¨é˜»å¡&lt;/strong&gt;ï¼Œç›´åˆ°å…¶ä»–çº¿ç¨‹ä¿®æ”¹æ¡ä»¶å¹¶é€šçŸ¥å®ƒç»§ç»­æ‰§è¡Œã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä½œç”¨ï¼šè§£å†³çº¿ç¨‹é—´çš„&lt;strong&gt;ç­‰å¾…-é€šçŸ¥&lt;/strong&gt;é—®é¢˜ï¼Œé¿å…busy loopingã€‚&lt;/li&gt;
&lt;li&gt;ä¾èµ–ï¼šå¿…é¡»ä¸&lt;code&gt;Mutex&lt;/code&gt;é…åˆä½¿ç”¨ï¼ˆä¿æŠ¤å…±äº«æ•°æ® + åŒæ­¥æ¡ä»¶ï¼‰&lt;/li&gt;
&lt;li&gt;å…¸å‹åœºæ™¯ï¼šç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å‹ã€ä»»åŠ¡é˜Ÿåˆ—è°ƒåº¦ã€èµ„æºæ± ç®¡ç†ç­‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;use&lt;/span&gt; std::sync::{Arc, Mutex, Condvar};
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;use&lt;/span&gt; std::thread;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;main&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;//åˆ›å»ºå…±äº«æ•°æ®ç»“æ„ï¼š(Mutex&amp;lt;bool&amp;gt;, Condvar)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; pair &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Arc::new(Mutex::new(&lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;), Condvar::new()));
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; pair_clone &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Arc::clone(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;pair);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; consumer &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; thread::spawn(&lt;span style=&#34;color:#66d9ef&#34;&gt;move&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;||&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; (lock, cvar) &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;*&lt;/span&gt;pair_clone;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; condition &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; lock.lock().unwarp();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;//ç­‰æ¡ä»¶æ»¡è¶³
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;while&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;!*&lt;/span&gt;condition {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#75715e&#34;&gt;//é‡Šæ”¾é”å¹¶é˜»å¡ï¼Œè¢«å”¤é†’å(waitè¿”å›å)é‡æ–°è·å–é”
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;      condition &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; cvar.wait(condition).unwarp();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;println!&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;æ¶ˆè´¹è€…ï¼šæ¡ä»¶å·²æ»¡è¶³ï¼ç»§ç»­æ‰§è¡Œ&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;//æ¶ˆè´¹è€…çš„å¤„ç†é€»è¾‘
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	});
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	thread::sleep(Duration::from_secs(&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;));&lt;span style=&#34;color:#75715e&#34;&gt;//æ¨¡æ‹Ÿå·¥ä½œè€—æ—¶
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  	&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; (lock, cvar) &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;*&lt;/span&gt;pair;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;mut&lt;/span&gt; condition &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; lock.lock().unwarp();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;println!&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;ç”Ÿäº§è€…ï¼šæ›´æ–°æ¡ä»¶å¹¶é€šçŸ¥æ¶ˆè´¹è€…...&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;condition &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// é€šçŸ¥ä¸€ä¸ªç­‰å¾…çš„æ¶ˆè´¹è€…çº¿ç¨‹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    cvar.notify_one();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	consumer.join().unwrap();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;println!&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;ä¸»çº¿ç¨‹: æ‰€æœ‰çº¿ç¨‹æ‰§è¡Œå®Œæˆ&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h4 id=&#34;pin&#34;&gt;PIN
&lt;/h4&gt;&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;&lt;code&gt;haystack&lt;/code&gt;&lt;strong&gt;å‘½åæºè‡ªè‹±è¯­è°šè¯­&lt;/strong&gt;&amp;ldquo;looking for a needle in a haystack&amp;rdquo;&lt;/strong&gt;(å¤§æµ·æé’ˆ),&lt;code&gt;haystack&lt;/code&gt;è¡¨ç¤ºè¢«æœç´¢çš„&lt;strong&gt;ä¸»ä½“æ•°æ®&lt;/strong&gt;ï¼Œ&lt;code&gt;needle&lt;/code&gt;è¡¨ç¤ºå¾…æŸ¥æ‰¾çš„&lt;strong&gt;ç›®æ ‡å…ƒç´ &lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;rustä¸­æœ‰ä¸¤ç§è§£å¼•ç”¨çš„æ–¹å¼ï¼š&lt;strong&gt;&lt;code&gt;*&lt;/code&gt;&lt;strong&gt;å’Œ&lt;/strong&gt;æ¨¡å¼åŒ¹é…è§£å¼•ç”¨&lt;/strong&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;unicodeasciiå’Œutf-8ç­‰&#34;&gt;Unicodeã€ASCIIå’ŒUTF-8ç­‰
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Unicode&lt;/strong&gt;ä¸ºæ‰€æœ‰å­—ç¬¦åˆ†é…äº†å”¯ä¸€æ ‡è¯†(ç§°ä¸º&lt;strong&gt;ç ç‚¹&lt;/strong&gt;)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;UTF-8&lt;/strong&gt;ç­‰æ˜¯éœ€è¦å°†è¿™äº›ç ç‚¹è½¬æ¢ä¸ºç”¨äºå­˜å‚¨/ä¼ è¾“çš„&lt;strong&gt;å­—èŠ‚åºåˆ—&lt;/strong&gt;,æ ¹æ®&lt;strong&gt;ç ç‚¹å€¼çš„èŒƒå›´åˆ†ç±»&lt;/strong&gt;ï¼Œç¡®å®šå­—èŠ‚åºåˆ—çš„&lt;strong&gt;é•¿åº¦&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ASCII&lt;/strong&gt;æ˜¯Unicodeå’ŒUTF-8çš„&lt;strong&gt;ç‰¹æ®Šå…¼å®¹å­é›†&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;å­—ç¬¦æ•°æ®&#34;&gt;å­—ç¬¦æ•°æ®
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;b&lt;/code&gt;å‰ç¼€æ ‡è¯†çš„æ•°æ®ï¼šè¡¨ç¤º&lt;code&gt;ASCII&lt;/code&gt;å­—ç¬¦é›†çš„å­—èŠ‚æ•°æ®ï¼Œç±»å‹ä¸º&lt;code&gt;u8&lt;/code&gt;æˆ–&lt;code&gt;&amp;amp;[u8]&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;&amp;amp;str&lt;/code&gt;å’Œ&lt;code&gt;&amp;amp;[u8]&lt;/code&gt;ï¼š&lt;code&gt;&amp;amp;str&lt;/code&gt;æ˜¯utf-8ç¼–ç çš„åˆ‡ç‰‡å¼•ç”¨ä¸”ä¸å¯å˜ï¼Œ&lt;code&gt;&amp;amp;[u8]&lt;/code&gt;æ˜¯å¯¹åŸå§‹å­—èŠ‚çš„åˆ‡ç‰‡å¼•ç”¨ï¼Œå¯å˜ç‰ˆæœ¬æ˜¯&lt;code&gt;&amp;amp;mut [u8]&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;ä¸ºä»€ä¹ˆå¯ä»¥æ‰‹åŠ¨è°ƒç”¨dropxè€Œä¸èƒ½è°ƒç”¨xdrop&#34;&gt;ä¸ºä»€ä¹ˆå¯ä»¥æ‰‹åŠ¨è°ƒç”¨drop(x)è€Œä¸èƒ½è°ƒç”¨x.drop()
&lt;/h4&gt;&lt;p&gt;å…³é”®åœ¨äº&lt;strong&gt;æ‰€æœ‰æƒ&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;std::mem::drop&amp;lt;T&amp;gt;(_x: T)&lt;/code&gt;è½¬ç§»äº†æ‰€æœ‰æƒï¼Œ_xç¦»å¼€dropå‡½æ•°ä½œç”¨åŸŸï¼Œ&lt;strong&gt;è‡ªåŠ¨è§¦å‘ææ„é€»è¾‘&lt;/strong&gt;ï¼ˆè°ƒç”¨&lt;code&gt;Drop::drop&lt;/code&gt; traitçš„å®ç°ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;code&gt;drop(&amp;amp;mut self)&lt;/code&gt;æ²¡æœ‰å‘ç”Ÿæ‰€æœ‰æƒçš„è½¬ç§»ï¼Œå¦‚æœå…è®¸æ‰‹åŠ¨è°ƒç”¨&lt;code&gt;x.drop&lt;/code&gt;,ç¼–è¯‘æœŸåœ¨ä½œç”¨åŸŸç»“æŸæ—¶ä»ä¼šå†æ¬¡è°ƒç”¨&lt;code&gt;drop&lt;/code&gt;ï¼ŒåŒé‡é‡Šæ”¾ï¼Œå¯¼è‡´å†…å­˜å®‰å…¨é—®é¢˜ã€‚&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>Ripgrepçš„å‘½ä»¤æ–‡æ¡£</title>
        <link>http://localhost:1313/rust/ripgrep/ripgrep%E7%9A%84%E5%91%BD%E4%BB%A4%E6%96%87%E6%A1%A3/</link>
        <pubDate>Fri, 15 Aug 2025 12:50:54 +0800</pubDate>
        
        <guid>http://localhost:1313/rust/ripgrep/ripgrep%E7%9A%84%E5%91%BD%E4%BB%A4%E6%96%87%E6%A1%A3/</guid>
        <description>&lt;p&gt;ç”¨æ³• ï¼ˆ&lt;code&gt;[]&lt;/code&gt;å†…è¡¨ç¤ºæ˜¯å¯é€‰å‚æ•°):&lt;/p&gt;
&lt;p&gt;&lt;code&gt;rg [OPTIONS] PATTERN [PATH ...]&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;rg [OPTIONS] -e PATTERN ... [PATH ...]&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;rg [OPTIONS] -f PATTERNFILE ... [PATH ...]&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;rg [OPTIONS] --files [PATH ...]&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;rg [OPTIONS] --type-list&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;command | rg [OPTIONS] PATTERN&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;rg [OPTIONS] --help&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;rg [OPTIONS] --version&lt;/code&gt;&lt;/p&gt;
&lt;h4 id=&#34;å‚æ•°è§£é‡Š&#34;&gt;å‚æ•°è§£é‡Š
&lt;/h4&gt;&lt;p&gt;PATTERN: è¦æœç´¢çš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œä»¥&lt;code&gt;-&lt;/code&gt;å¼€å§‹çš„æ­£åˆ™éœ€è¦æ·»åŠ  &lt;code&gt;-e&lt;/code&gt;/&lt;code&gt;--regexp&lt;/code&gt;flagï¼Œå¦‚&lt;code&gt;rg -e -foo&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;PATH&amp;hellip;: éœ€è¦æ£€ç´¢çš„æ–‡ä»¶æˆ–ç›®å½•&lt;/p&gt;
&lt;h4 id=&#34;è¾“å…¥é€‰é¡¹input-options&#34;&gt;è¾“å…¥é€‰é¡¹(input options)
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;--&lt;/code&gt;ï¼šè¡¨ç¤ºåç»­ä»¥&lt;code&gt;-&lt;/code&gt;å¼€å¤´çš„&lt;code&gt;word&lt;/code&gt;éƒ½ä¸å†æ˜¯&lt;code&gt;flag&lt;/code&gt;è€Œæ˜¯&lt;code&gt;pattern&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;-e PATTERN, --regexp=PATTERN&lt;/code&gt;: éœ€è¦æœç´¢çš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œå¯å¤šæ¬¡æŒ‡å®š&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;-f PATTERNFILE, --file=PATTERNFILE&lt;/code&gt;:æŒ‡å®šä»ä½•æ–‡ä»¶æœç´¢æ­£åˆ™è¡¨è¾¾å¼ï¼Œå¯å¤šæ¬¡æŒ‡å®š&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;--pre=COMMAND&lt;/code&gt; å…è®¸æŒ‡å®šä¸€ä¸ªæ–‡ä»¶æ ¼å¼è½¬æ¢å‘½ä»¤ï¼Œripgrepä¼šå…ˆå°†æ–‡ä»¶é€šè¿‡è¯¥å‘½ä»¤è½¬æ¢ï¼Œç„¶ååœ¨è½¬æ¢åçš„å†…å®¹æœç´¢æ­£åˆ™è¡¨è¾¾å¼ã€‚&lt;code&gt;æ–‡ä»¶&lt;/code&gt; â†’ &lt;code&gt;COMMANDå¤„ç†&lt;/code&gt; â†’ &lt;code&gt;è·å–æ ‡å‡†è¾“å‡º&lt;/code&gt; â†’ &lt;code&gt;ripgrepæœç´¢è¾“å‡ºå†…å®¹&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;--pre-glob=GLOB&lt;/code&gt;ä¸“ä¸º&lt;code&gt;--pre&lt;/code&gt;å‘½ä»¤è®¾è®¡ï¼Œç²¾ç¡®çš„ç­›é€‰éœ€è¦é¢„å¤„ç†çš„æ–‡ä»¶ï¼Œé¿å…å¯¹ä¸åŒ¹é…çš„æ–‡ä»¶æ‰§è¡Œä¸å¿…è¦çš„æ ¼å¼è½¬æ¢ï¼Œå¤§å¹…æå‡æ€§èƒ½ã€‚&lt;code&gt;rg --pre=pre-pdftotext --pre-glob=&#39;*.pdf&#39; &#39;å…³é”®è¯&#39;&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;report.pdf&lt;/code&gt; â†’ è°ƒç”¨ &lt;code&gt;pdftotext&lt;/code&gt; è½¬æ¢åæœç´¢&lt;/li&gt;
&lt;li&gt;&lt;code&gt;notes.txt&lt;/code&gt; â†’ ç›´æ¥æœç´¢æ–‡æœ¬ï¼ˆçœå»è¿›ç¨‹åˆ›å»ºï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;-z, --search-zip&lt;/code&gt;æœç´¢å‹ç¼©åŒ…&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;search-options&#34;&gt;search options
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;-s, --case-sensitive&lt;/code&gt;æ‰§è¡Œæœç´¢æ—¶åŒºåˆ†å¤§å°å†™&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-i, --ignore-case&lt;/code&gt;æ‰§è¡Œæœç´¢æ—¶ä¸åŒºåˆ†å¤§å°å†™&lt;/li&gt;
&lt;li&gt;&lt;code&gt;--crlf&lt;/code&gt;å¯åŠ¨æ—¶å°†CRLF(\r\n)è§†ä¸ºè¡Œç»ˆæ­¢ç¬¦ï¼Œè€Œä¸æ˜¯\n&lt;/li&gt;
&lt;li&gt;&lt;code&gt;--dfa-size-limit=NUM+SUFFIX?&lt;/code&gt;æ­£åˆ™è¡¨è¾¾å¼çš„dfaä¸Šé™ï¼Œå¯å¸¦å•ä½&lt;/li&gt;
&lt;li&gt;&lt;code&gt;--regex-size-limit=NUM+SUFFIX?&lt;/code&gt;è®¾ç½®&lt;strong&gt;åœ¨å†…å­˜ä¸­æ„å»º&lt;/strong&gt;çš„æ•´ä½“æ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡çš„æœ€å¤§å°ºå¯¸&lt;/li&gt;
&lt;li&gt;&lt;code&gt;--engine=ENGINE&lt;/code&gt;æŒ‡å®šæ­£åˆ™è¡¨è¾¾å¼å¼•æ“&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-E ENCODING, --encoding=ENCODING&lt;/code&gt;å¼ºåˆ¶ ripgrep ä½¿ç”¨ç‰¹å®šç¼–ç å¤„ç†æ‰€æœ‰è¢«æœç´¢æ–‡ä»¶ï¼ˆé»˜è®¤è‡ªåŠ¨æ£€æµ‹ç¼–ç ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-F, --fixedstrings&lt;/code&gt;å°†æ‰€æœ‰æ¨¡å¼è§†ä¸ºå­—é¢é‡è€Œä¸æ˜¯æ­£åˆ™è¡¨è¾¾å¼&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-v --invert-match&lt;/code&gt;åè½¬åŒ¹é…ï¼Œæ‰“å°ä¸åŒ¹é…çš„è¡Œï¼Œ&lt;code&gt;--no-invert-match&lt;/code&gt;ä¸ºç›¸åçš„è¾“å…¥&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-x --line-regexp&lt;/code&gt;æ•´è¡ŒåŒ¹é…&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-w, --word-regexp&lt;/code&gt;ç‹¬ç«‹å•è¯åŒ¹é…ï¼Œå¯ç”¨æ­¤æ ‡å¿—åï¼Œripgrep åªæ˜¾ç¤ºè¢«&lt;strong&gt;å•è¯è¾¹ç•Œ&lt;/strong&gt;åŒ…å›´çš„åŒ¹é…ç»“æœã€‚ç±»ä¼¼äºåœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­è‡ªåŠ¨ç»™æœç´¢è¯æ·»åŠ  &lt;code&gt;\b&lt;/code&gt; è¾¹ç•Œï¼Œæ¯”&lt;code&gt;-x&lt;/code&gt;ä¼˜å…ˆçº§é«˜&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-m NUM, --max-count=NUM&lt;/code&gt;  é™åˆ¶æ¯ä¸ªæ–‡ä»¶çš„åŒ¹é…è¡Œæ•°é‡ï¼Œåˆ°è¾¾æŒ‡å®šæ•°é‡å°±åœæ­¢å½“å‰æ–‡ä»¶æœç´¢&lt;/li&gt;
&lt;li&gt;&lt;code&gt;--mmap&lt;/code&gt;ä¼˜å…ˆä½¿ç”¨&lt;code&gt;mmap&lt;/code&gt;æŠ€æœ¯è¿›è¡Œæ–‡ä»¶æœç´¢&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-U, --multiline&lt;/code&gt;å¤šè¡Œæ¨¡å¼ï¼Œå…è®¸åŒ¹é…å†…å®¹è·¨è¶Šå¤šä¸ªè¡Œï¼Œçªç ´é»˜è®¤çš„å•è¡ŒåŒ¹é…é™åˆ¶&lt;/li&gt;
&lt;li&gt;&lt;code&gt;--multiline-dotall&lt;/code&gt;å½“å¯ç”¨å¤šè¡Œæœç´¢æ—¶(&lt;code&gt;-U&lt;/code&gt;)ï¼Œå¼ºåˆ¶æ­£åˆ™è¡¨è¾¾å¼ä¸­çš„ç‚¹å·&lt;code&gt;.&lt;/code&gt;åŒ¹é…&lt;strong&gt;åŒ…æ‹¬æ¢è¡Œç¬¦&lt;/strong&gt;çš„æ‰€æœ‰å­—ç¬¦&lt;/li&gt;
&lt;li&gt;&lt;code&gt;--no-unicode&lt;/code&gt;ç¦ç”¨unicodeæ¨¡å¼&lt;/li&gt;
&lt;li&gt;&lt;code&gt;--null-data&lt;/code&gt; å°†é»˜è®¤çš„è¡Œç»ˆæ­¢ç¬¦ä»æ¢è¡Œç¬¦&lt;code&gt;\n&lt;/code&gt;æ”¹ä¸ºNULå­—ç¬¦(&lt;code&gt;\0&lt;/code&gt;æˆ–ASCII 0)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-P, --pcre2&lt;/code&gt;åˆ‡æ¢é»˜è®¤çš„æ­£åˆ™å¼•æ“æ›´æ¢ä¸º&lt;strong&gt;PCRE2&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-S, --smart-case&lt;/code&gt;å¯ç”¨æ™ºèƒ½å¤§å°å†™åŒ¹é…æ¨¡å¼&lt;/li&gt;
&lt;li&gt;&lt;code&gt;--stop-no-nonmatch&lt;/code&gt;æ‰¾åˆ°è‡³å°‘ä¸€ä¸ªåŒ¹é…è¡Œä¸”åç»­é‡åˆ°ä¸åŒ¹é…è¡Œå°±æå‰åœæ­¢è¯»å–æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-a, --text&lt;/code&gt;å¼ºåˆ¶å°†æ‰€æœ‰æ–‡ä»¶å½“ä½œçº¯æ–‡æœ¬æ–‡ä»¶å¤„ç†ï¼Œç¦ç”¨å…¶é»˜è®¤çš„äºŒè¿›åˆ¶æ–‡ä»¶æ£€æµ‹æœºåˆ¶&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-j NUM, --threads=NUM&lt;/code&gt;æ§åˆ¶æœç´¢æ—¶ä½¿ç”¨çš„å¹¶è¡Œçº¿ç¨‹æ•°&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;filter-options&#34;&gt;filter options
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;--binary&lt;/code&gt; é»˜è®¤æƒ…å†µä¸‹ripgrepä½¿ç”¨&lt;code&gt;NUL&lt;/code&gt;å­—èŠ‚ä½œä¸ºå¯å‘å¼æ ‡å¿—ã€‚ä¸€æ—¦åœ¨æ–‡ä»¶ä¸­æ£€æµ‹åˆ°NULå­—èŠ‚ï¼Œç«‹å³åˆ¤æ–­ä¸ºäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œç„¶åç«‹å³åœæ­¢æœç´¢è¯¥æ–‡ä»¶å¹¶ä¸æ˜¾ç¤ºåŒ¹é…å†…å®¹ã€‚å¯ç”¨åå³ä½¿æ£€æµ‹åˆ°NULå­—èŠ‚ï¼Œä¹Ÿç»§ç»­æœç´¢æ–‡ä»¶ï¼Œç›´åˆ°æ‰¾åˆ°&lt;strong&gt;é¦–ä¸ªåŒ¹é…é¡¹&lt;/strong&gt;æˆ–æœç´¢åˆ°&lt;strong&gt;æ–‡ä»¶ç»“æŸ&lt;/strong&gt;åœæ­¢æœç´¢&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-L, --follow&lt;/code&gt; å¼€å¯â€œè·Ÿéšç¬¦å·é“¾æ¥â€åŠŸèƒ½ï¼ˆé»˜è®¤å…³é—­ï¼‰,ç”¨ &lt;code&gt;--no-follow&lt;/code&gt; åœ¨æœ¬å‘½ä»¤ä¸­å–æ¶ˆ &lt;code&gt;-L&lt;/code&gt; çš„æ•ˆæœ&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-g GLOB, --glob=GLOB&lt;/code&gt; é€šè¿‡é€šé…ç¬¦æ¨¡å¼ï¼ˆglobï¼‰&lt;strong&gt;åŒ…å«æˆ–æ’é™¤ç‰¹å®šæ–‡ä»¶å’Œç›®å½•&lt;/strong&gt;è¿›è¡Œæœç´¢&lt;/li&gt;
&lt;li&gt;&lt;code&gt;--glob-case-insensitive&lt;/code&gt;è®©æ‰€æœ‰é€šè¿‡&lt;code&gt;-g/--glob&lt;/code&gt;æŒ‡å®šçš„é€šé…ç¬¦è¿›è¡Œä¸åŒºåˆ†å¤§å°å†™çš„åŒ¹é…ï¼Œ&lt;code&gt;--no-glob-case-insensitive&lt;/code&gt;å–æ¶ˆæ­¤æ•ˆæœ&lt;/li&gt;
&lt;li&gt;&lt;code&gt;--iglob=GLOB&lt;/code&gt;å…è®¸ç”¨æˆ·é€šè¿‡&lt;strong&gt;ä¸åŒºåˆ†å¤§å°å†™&lt;/strong&gt;çš„é€šé…ç¬¦æ¨¡å¼æ¥&lt;strong&gt;åŒ…å«æˆ–æ’é™¤æ–‡ä»¶/ç›®å½•&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-., --hidden&lt;/code&gt; æœç´¢éšè—æ–‡ä»¶å’Œç›®å½•ï¼Œ&lt;code&gt;--no-hidden&lt;/code&gt;å–æ¶ˆæ­¤æ•ˆæœ&lt;/li&gt;
&lt;li&gt;&lt;code&gt;--ignore-file=PATH&lt;/code&gt; é€šè¿‡å¤–éƒ¨æ–‡ä»¶æŒ‡å®šå¿½ç•¥è§„åˆ™ï¼ˆ&lt;code&gt;gitignore&lt;/code&gt; æ ¼å¼ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;code&gt;--ignore-file-case-insensitive&lt;/code&gt; æ§åˆ¶&lt;strong&gt;å¿½ç•¥æ–‡ä»¶è§„åˆ™åŒ¹é…æ—¶æ˜¯å¦åŒºåˆ†å¤§å°å†™&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-d NUM, --max-depth=NUM&lt;/code&gt;æŒ‡å®šæœç´¢çš„ç›®å½•éå†çš„æ·±åº¦å±‚çº§&lt;/li&gt;
&lt;li&gt;&lt;code&gt;--max-filesize=NUM+SUFFIX?&lt;/code&gt;  è·³è¿‡è¶…è¿‡æŒ‡å®šå¤§å°çš„æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;&lt;code&gt;--no-ignore&lt;/code&gt; è·³è¿‡æ‰€æœ‰å¿½ç•¥æ–‡ä»¶ï¼Œ&lt;code&gt;--ignore&lt;/code&gt;å–æ¶ˆè¿™æ•ˆæœ&lt;/li&gt;
&lt;li&gt;&lt;code&gt;--no-ignore-dot&lt;/code&gt;  ä»…è·³è¿‡ &lt;code&gt;.ignore&lt;/code&gt; å’Œ&lt;code&gt;.rgignore&lt;/code&gt; æ–‡ä»¶ä¸­çš„è¿‡æ»¤è§„åˆ™ï¼Œé€šè¿‡ &lt;code&gt;--ignore-dot&lt;/code&gt; å¯å…³é—­æ­¤åŠŸèƒ½&lt;/li&gt;
&lt;li&gt;&lt;code&gt;--no-ignore-exclude&lt;/code&gt; ç¦ç”¨æ‰‹åŠ¨é…ç½®çš„æ’é™¤è§„åˆ™ï¼Œ&lt;code&gt;--ignore-exclude&lt;/code&gt;å–æ¶ˆæ­¤æ•ˆæœ&lt;/li&gt;
&lt;li&gt;&lt;code&gt;--no-ignore-files&lt;/code&gt; ç¦ç”¨æ˜¾å¼æŒ‡å®šçš„å¿½ç•¥æ–‡ä»¶ï¼Œ&lt;code&gt;--ignore-files&lt;/code&gt;å–æ¶ˆæ­¤æ•ˆæœ&lt;/li&gt;
&lt;li&gt;&lt;code&gt;--no-ignore-global&lt;/code&gt; ç¦ç”¨æ¥è‡ªâ€œå…¨å±€â€æºçš„å¿½ç•¥è§„åˆ™ï¼ˆ&lt;code&gt;.gitignore&lt;/code&gt; æ–‡ä»¶ï¼‰ï¼Œ&lt;code&gt;--ignore-global&lt;/code&gt;å–æ¶ˆæ­¤æ•ˆæœ&lt;/li&gt;
&lt;li&gt;&lt;code&gt;--no-ignore-parent&lt;/code&gt;ä¸åº”ç”¨ä»çˆ¶ç›®å½•ä¸­æ‰¾åˆ°çš„å¿½ç•¥æ–‡ä»¶ï¼ˆå¦‚ &lt;code&gt;.gitignore&lt;/code&gt;ï¼‰ä¸­çš„è§„åˆ™ï¼Œ&lt;code&gt;--ignore-parent&lt;/code&gt;å–æ¶ˆæ­¤æ•ˆæœ&lt;/li&gt;
&lt;li&gt;&lt;code&gt;--no-ignore-vcs&lt;/code&gt; ç¦ç”¨ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿçš„å¿½ç•¥è§„åˆ™ï¼Œ&lt;code&gt;-ignore--vcs&lt;/code&gt;å–æ¶ˆæ­¤æ•ˆæœ&lt;/li&gt;
&lt;li&gt;&lt;code&gt;--no-require-git&lt;/code&gt; é»˜è®¤åªåœ¨gitä»“åº“æ‰éµå®ˆç‰ˆæœ¬æ§åˆ¶çš„å¿½ç•¥æ–‡ä»¶ï¼ˆå¦‚&lt;code&gt;.gitignore&lt;/code&gt;ï¼‰ï¼Œå¯ç”¨åå³ä½¿ä¸å†gitä»“åº“ï¼Œä¹Ÿä¼šéµå®ˆç‰ˆæœ¬æ§åˆ¶çš„å¿½ç•¥æ–‡ä»¶ã€‚&lt;code&gt;--require-git&lt;/code&gt;å–æ¶ˆæ­¤æ•ˆæœ&lt;/li&gt;
&lt;li&gt;&lt;code&gt;--no-file-system&lt;/code&gt; éå†ç›®å½•æ ‘æœç´¢æ–‡ä»¶æ—¶ï¼Œä¸ä¼šè·¨è¶Šä»»ä½•æ–‡ä»¶ç³»ç»Ÿè¾¹ç•Œï¼Œ&lt;code&gt;--no-one-file-system&lt;/code&gt;å–æ¶ˆæ­¤æ•ˆæœã€‚åœ¨æœç´¢&lt;strong&gt;æ¯ä¸ªç»™å®šçš„èµ·å§‹è·¯å¾„&lt;/strong&gt;æ—¶ï¼Œé‡åˆ°&lt;strong&gt;æŒ‚è½½ç‚¹ï¼ˆé€šå¾€å¦ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿçš„â€œé—¨â€ï¼‰å°±åœä¸‹æ¥ï¼Œä¸è¿›å»æœç´¢&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-t TYPE, --type=TYPE&lt;/code&gt;  ç”¨äºé™åˆ¶åªæœç´¢ç‰¹å®šç±»å‹çš„æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-T TYPE, --type-not=TYPE&lt;/code&gt; ç”¨äº&lt;strong&gt;æ’é™¤&lt;/strong&gt;æŒ‡å®šç±»å‹çš„æ–‡ä»¶ä¸è¿›è¡Œæœç´¢&lt;/li&gt;
&lt;li&gt;&lt;code&gt;--type-add=TYPESPEC&lt;/code&gt;  ç”¨äºåˆ›å»ºè‡ªå®šä¹‰æ–‡ä»¶ç±»å‹åŒ¹é…è§„åˆ™&lt;/li&gt;
&lt;li&gt;&lt;code&gt;--type-clear=TYPE&lt;/code&gt; æ¸…æ¥š &lt;code&gt;type-add&lt;/code&gt;åˆ›å»ºçš„è‡ªå®šä¹‰æ–‡ä»¶ç±»å‹åŒ¹é…è§„åˆ™&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-u, --unrestricted&lt;/code&gt; æ ‡å¿—é€šè¿‡å¤šæ¬¡é‡å¤ï¼ˆæœ€é«˜3æ¬¡ï¼‰é€æ­¥é™ä½ ripgrep çš„æ™ºèƒ½è¿‡æ»¤çº§åˆ«ï¼Œä½¿æœç´¢èŒƒå›´è¶Šæ¥è¶Šå¹¿&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;output-options&#34;&gt;output options
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;-A NUM, --after-context=NUM&lt;/code&gt;  ä¼šæ˜¾ç¤ºæ¯æ¡åŒ¹é…ç»“æœ&lt;strong&gt;ä¹‹å&lt;/strong&gt;çš„ NUM è¡Œå†…å®¹&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-B, --before-context=NUM&lt;/code&gt; ä¼šæ˜¾ç¤ºæ¯æ¡åŒ¹é…ç»“æœä¹‹å‰çš„NUMè¡Œå†…å®¹&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-C NUM, --context=NUM&lt;/code&gt;åœ¨åŒ¹é…ç»“æœå‰åæ˜¾ç¤ºNUMè¡Œå†…å®¹&lt;/li&gt;
&lt;li&gt;&lt;code&gt;block-buffered&lt;/code&gt;ä½¿ç”¨å†…å­˜ç¼“å†²åŒºï¼Œåªæœ‰å½“è¿™ä¸ªç¼“å†²åŒºç§¯ç´¯åˆ°ä¸€å®šå¤§å°åï¼Œæ‰ä¼šä¸€æ¬¡æ€§å°†å…¶å†…å®¹**åˆ·æ–° (flush) **åˆ°æ ‡å‡†è¾“å‡º (stdout)ã€‚&lt;code&gt;--no-block-buffered&lt;/code&gt;å–æ¶ˆæ­¤åŠŸèƒ½&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-b, --byte-offset&lt;/code&gt;åœ¨è¾“å‡ºä¸­æ·»åŠ æ•°å­—å‰ç¼€ï¼Œè¡¨ç¤ºè¡Œæˆ–åŒ¹é…æ–‡æœ¬åœ¨æ–‡ä»¶ä¸­çš„èµ·å§‹å­—èŠ‚ä½ç½®ï¼ˆä»0å¼€å§‹è®¡æ•°ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;code&gt;--color=WHEN&lt;/code&gt;æ­¤é€‰é¡¹å†³å®šä½•æ—¶åœ¨è¾“å‡ºä¸­ä½¿ç”¨&lt;strong&gt;é¢œè‰²é«˜äº®&lt;/strong&gt;å’Œ&lt;strong&gt;ANSIè½¬ä¹‰åºåˆ—&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;--colors=COLOR_SPEC&lt;/code&gt;é€‰é¡¹ç”¨äº&lt;strong&gt;è‡ªå®šä¹‰è¾“å‡ºå†…å®¹çš„é¢œè‰²å’Œæ ·å¼&lt;/strong&gt;ï¼Œå¯é€šè¿‡å¤šæ¬¡æŒ‡å®šå®ç°å¤šå±‚æ ·å¼å åŠ &lt;/li&gt;
&lt;li&gt;&lt;code&gt;--column&lt;/code&gt;åœ¨è¾“å‡ºä¸­å¢åŠ åˆ—å·ä¿¡æ¯ï¼Œ&lt;code&gt;--no-column&lt;/code&gt;å–æ¶ˆè¿™ä¸ªåŠŸèƒ½&lt;/li&gt;
&lt;li&gt;&lt;code&gt;--context-separator=SEPARATOR&lt;/code&gt;åœ¨ä½¿ç”¨ä¸Šä¸‹æ–‡é€‰é¡¹ï¼ˆ&lt;code&gt;-A/-B/-C&lt;/code&gt;ï¼‰æ—¶ï¼ŒæŒ‡å®š&lt;strong&gt;åˆ†éš”ä¸åŒä¸Šä¸‹æ–‡å—çš„æ˜¾ç¤ºç¬¦å·&lt;/strong&gt;,&lt;code&gt;--no-context-separator&lt;/code&gt;å–æ¶ˆæ­¤åŠŸèƒ½&lt;/li&gt;
&lt;li&gt;&lt;code&gt;--field-match-separator=SEPARATOR&lt;/code&gt;è‡ªå®šä¹‰ ripgrep è¾“å‡ºç»“æœä¸­&lt;strong&gt;å„å­—æ®µä¹‹é—´çš„åˆ†éš”ç¬¦å·&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;--heading&lt;/code&gt;åœ¨æ¯ä¸ªæ–‡ä»¶åŒ¹é…ç»“æœç»„çš„&lt;strong&gt;é¡¶éƒ¨&lt;/strong&gt;æ˜¾ç¤ºä¸€æ¬¡æ–‡ä»¶è·¯å¾„ï¼Œè€Œä¸æ˜¯åœ¨æ¯è¡ŒåŒ¹é…å‰éƒ½é‡å¤æ˜¾ç¤ºï¼Œ&lt;code&gt;--no-heading&lt;/code&gt;å–æ¶ˆæ­¤åŠŸèƒ½&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-h, --help&lt;/code&gt;      &lt;code&gt;-h&lt;/code&gt;æ˜¯ç²¾ç®€å¸®åŠ©æ¨¡å¼ï¼Œ&lt;code&gt;--help&lt;/code&gt;æ˜¯å®Œæ•´å¸®åŠ©æ¨¡å¼&lt;/li&gt;
&lt;li&gt;&lt;code&gt;--hyperlink-format=FORMAT&lt;/code&gt;  åˆ›å»ºå¯ç‚¹å‡»çš„è¶…é“¾æ¥&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>Rustå­¦ä¹ è®¡åˆ’</title>
        <link>http://localhost:1313/rust/rust%E5%AD%A6%E4%B9%A0%E8%AE%A1%E5%88%92/</link>
        <pubDate>Fri, 08 Aug 2025 11:37:40 +0800</pubDate>
        
        <guid>http://localhost:1313/rust/rust%E5%AD%A6%E4%B9%A0%E8%AE%A1%E5%88%92/</guid>
        <description>&lt;h2 id=&#34;1-åŸºç¡€èƒ½åŠ›å»ºè®¾&#34;&gt;1. åŸºç¡€èƒ½åŠ›å»ºè®¾
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Rust è¯­è¨€ç²¾é€š&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ·±å…¥ç†è§£æ‰€æœ‰æƒã€ç”Ÿå‘½å‘¨æœŸã€trait ç³»ç»Ÿ&lt;/li&gt;
&lt;li&gt;æŒæ¡ unsafe Rust å’Œ FFI&lt;/li&gt;
&lt;li&gt;ç ”ç©¶æ ‡å‡†åº“å®ç°&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ç®—æ³•ä¸æ•°æ®ç»“æ„&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å®ç°å¸¸ç”¨æ•°æ®ç»“æ„å’Œç®—æ³•&lt;/li&gt;
&lt;li&gt;å­¦ä¹ å­—ç¬¦ä¸²æœç´¢ç®—æ³•ï¼ˆBoyer-Moore, Aho-Corasick ç­‰ï¼‰&lt;/li&gt;
&lt;li&gt;ç†è§£æ—¶é—´/ç©ºé—´å¤æ‚åº¦åˆ†æ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ç³»ç»Ÿç¼–ç¨‹&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ·±å…¥ç†è§£æ“ä½œç³»ç»ŸåŸç†&lt;/li&gt;
&lt;li&gt;å­¦ä¹ æ–‡ä»¶ç³»ç»Ÿã€å†…å­˜ç®¡ç†ã€å¹¶å‘æ¨¡å‹&lt;/li&gt;
&lt;li&gt;æŒæ¡æ€§èƒ½åˆ†æå’Œè°ƒä¼˜æŠ€æœ¯&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;2-å·¥ç¨‹å®è·µ&#34;&gt;2. å·¥ç¨‹å®è·µ
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å¼€æºè´¡çŒ®&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä»ä¿®å¤å° bug å¼€å§‹å‚ä¸å¼€æºé¡¹ç›®&lt;/li&gt;
&lt;li&gt;å­¦ä¹ é˜…è¯»å’Œç†è§£å¤§å‹ä»£ç åº“&lt;/li&gt;
&lt;li&gt;å‚ä¸ä»£ç å®¡æŸ¥ï¼Œå­¦ä¹ ä»–äººä»£ç &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ä»£ç è´¨é‡&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç¼–å†™å…¨é¢çš„æµ‹è¯•ç”¨ä¾‹&lt;/li&gt;
&lt;li&gt;å®è·µæŒç»­é›†æˆ&lt;/li&gt;
&lt;li&gt;å­¦ä¹ è®¾è®¡æ¨¡å¼å’Œæ¶æ„åŸåˆ™&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ€§èƒ½ä¼˜åŒ–&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å­¦ä¹ ä½¿ç”¨æ€§èƒ½åˆ†æå·¥å…·ï¼ˆperf, dtrace ç­‰ï¼‰&lt;/li&gt;
&lt;li&gt;ç†è§£ CPU ç¼“å­˜ã€åˆ†æ”¯é¢„æµ‹ç­‰åº•å±‚ç»†èŠ‚&lt;/li&gt;
&lt;li&gt;å®è·µåŸºå‡†æµ‹è¯•å’Œæ€§èƒ½è°ƒä¼˜&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;3-å­¦ä¹ èµ„æº&#34;&gt;3. å­¦ä¹ èµ„æº
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å¿…è¯»ä¹¦ç±&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ã€ŠRust ç¨‹åºè®¾è®¡è¯­è¨€ã€‹&lt;/li&gt;
&lt;li&gt;ã€ŠRust æƒå¨æŒ‡å—ã€‹&lt;/li&gt;
&lt;li&gt;ã€Šä»£ç æ•´æ´ä¹‹é“ã€‹&lt;/li&gt;
&lt;li&gt;ã€Šæ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿã€‹&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å­¦ä¹ è·¯å¾„&lt;/strong&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-mermaid&#34; data-lang=&#34;mermaid&#34;&gt;graph TD
  A[Rust åŸºç¡€] --&amp;gt; B[æ ‡å‡†åº“å®ç°]
  B --&amp;gt; C[å¼€æºé¡¹ç›®è´¡çŒ®]
  C --&amp;gt; D[æ€§èƒ½ä¼˜åŒ–]
  D --&amp;gt; E[ç³»ç»Ÿè®¾è®¡]
  E --&amp;gt; F[ç‹¬ç«‹é¡¹ç›®]
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;4-å®è·µé¡¹ç›®&#34;&gt;4. å®è·µé¡¹ç›®
&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å‘½ä»¤è¡Œå·¥å…·&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å®ç°ç®€å•çš„ grep åŠŸèƒ½&lt;/li&gt;
&lt;li&gt;æ·»åŠ æ­£åˆ™è¡¨è¾¾å¼æ”¯æŒ&lt;/li&gt;
&lt;li&gt;ä¼˜åŒ–æ€§èƒ½&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å¹¶å‘å¤„ç†&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å®ç°å·¥ä½œçªƒå–çº¿ç¨‹æ± &lt;/li&gt;
&lt;li&gt;å­¦ä¹ æ— é”ç¼–ç¨‹&lt;/li&gt;
&lt;li&gt;å®ç°å¹¶è¡Œç®—æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ€§èƒ½ä¼˜åŒ–&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨ SIMD æŒ‡ä»¤ä¼˜åŒ–å­—ç¬¦ä¸²å¤„ç†&lt;/li&gt;
&lt;li&gt;å®ç°å†…å­˜æ± &lt;/li&gt;
&lt;li&gt;ä¼˜åŒ– I/O æ€§èƒ½&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;5-æ€ç»´ä¹ æƒ¯&#34;&gt;5. æ€ç»´ä¹ æƒ¯
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æŒç»­å­¦ä¹ &lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¯å¤©é˜…è¯»ä¼˜ç§€æºç &lt;/li&gt;
&lt;li&gt;å®šæœŸå‚ä¸æŠ€æœ¯è®¨è®º&lt;/li&gt;
&lt;li&gt;å†™æŠ€æœ¯åšå®¢åˆ†äº«å¿ƒå¾—&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ä»£ç å®¡æŸ¥&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å­¦ä¹ ä»–äººä»£ç é£æ ¼&lt;/li&gt;
&lt;li&gt;æ¥å—å¹¶ç†è§£æ‰¹è¯„&lt;/li&gt;
&lt;li&gt;ä¸æ–­é‡æ„å’Œæ”¹è¿›&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;é—®é¢˜è§£å†³&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ·±å…¥ç†è§£é—®é¢˜æœ¬è´¨&lt;/li&gt;
&lt;li&gt;è®¾è®¡å¤šç§è§£å†³æ–¹æ¡ˆ&lt;/li&gt;
&lt;li&gt;åŸºå‡†æµ‹è¯•éªŒè¯ä¼˜åŒ–æ•ˆæœ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;6-å…·ä½“è¡ŒåŠ¨å»ºè®®&#34;&gt;6. å…·ä½“è¡ŒåŠ¨å»ºè®®
&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;æ¯å¤©èŠ± 1 å°æ—¶é˜…è¯» Rust æ ‡å‡†åº“æºç &lt;/li&gt;
&lt;li&gt;æ¯å‘¨ç ”ç©¶ä¸€ä¸ªå¼€æºé¡¹ç›®çš„æ¶æ„è®¾è®¡&lt;/li&gt;
&lt;li&gt;æ¯æœˆå®Œæˆä¸€ä¸ªå…·æœ‰æŒ‘æˆ˜æ€§çš„ç¼–ç¨‹ç»ƒä¹ &lt;/li&gt;
&lt;li&gt;æ¯å­£åº¦å‚ä¸ä¸€æ¬¡å¼€æºè´¡çŒ®&lt;/li&gt;
&lt;li&gt;æ¯å¹´å¼€å‘ä¸€ä¸ªå±•ç¤ºä¸ªäººæŠ€æœ¯æ°´å¹³çš„é¡¹ç›®&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è®°ä½ï¼Œæˆä¸ºé¡¶å°–å¼€å‘è€…æ˜¯åœºé©¬æ‹‰æ¾ï¼Œè€ŒéçŸ­è·‘ã€‚ä¿æŒè€å¿ƒå’ŒæŒç»­å­¦ä¹ çš„å¿ƒæ€æ˜¯å…³é”®ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&#34;æ¯æ—¥é˜…è¯»-rust-æ ‡å‡†åº“æºç è®¡åˆ’&#34;&gt;æ¯æ—¥é˜…è¯» Rust æ ‡å‡†åº“æºç è®¡åˆ’
&lt;/h1&gt;&lt;p&gt;æ˜¯çš„ï¼Œå€ŸåŠ© AI é˜…è¯» Rust æ ‡å‡†åº“æºç æ˜¯ä¸ªå¾ˆå¥½çš„å­¦ä¹ æ–¹å¼ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªå…·ä½“çš„å­¦ä¹ è®¡åˆ’ï¼š&lt;/p&gt;
&lt;h2 id=&#34;å­¦ä¹ ç­–ç•¥&#34;&gt;å­¦ä¹ ç­–ç•¥
&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;åŸºç¡€é˜¶æ®µï¼ˆ1-2å‘¨ï¼‰&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä»ç®€å•çš„æ¨¡å—å¼€å§‹ï¼Œå¦‚ &lt;code&gt;std::option&lt;/code&gt; å’Œ &lt;code&gt;std::result&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;é‡ç‚¹å…³æ³¨æ ‡å‡†åº“ä¸­çš„ trait å®ç°å’Œå¸¸ç”¨ç±»å‹&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ä¸­çº§é˜¶æ®µï¼ˆ3-8å‘¨ï¼‰&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç ”ç©¶é›†åˆç±»å‹ï¼š&lt;code&gt;Vec&lt;/code&gt;ã€&lt;code&gt;HashMap&lt;/code&gt;ã€&lt;code&gt;String&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å­¦ä¹ è¿­ä»£å™¨å’Œé—­åŒ…å®ç°&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;é«˜çº§é˜¶æ®µï¼ˆ9å‘¨+ï¼‰&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¹¶å‘åŸè¯­ï¼š&lt;code&gt;Arc&lt;/code&gt;ã€&lt;code&gt;Mutex&lt;/code&gt;ã€&lt;code&gt;RwLock&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å¼‚æ­¥è¿è¡Œæ—¶å’Œ future å®ç°&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;ä½¿ç”¨-ai-è¾…åŠ©å­¦ä¹ &#34;&gt;ä½¿ç”¨ AI è¾…åŠ©å­¦ä¹ 
&lt;/h2&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// ç¤ºä¾‹ï¼šä½¿ç”¨ AI åˆ†ææ ‡å‡†åº“ä»£ç 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// 1. é€‰æ‹©è¦å­¦ä¹ çš„æ¨¡å—
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; module &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;std::collections::hash_map&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// 2. è®© AI è§£é‡Šæ ¸å¿ƒæ¦‚å¿µ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// Q: è¯·è§£é‡Š HashMap çš„ robin hood hashing å®ç°
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// Q: è¿™ä¸ª unsafe å—çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// 3. åšç¬”è®°å’Œæ€»ç»“
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;take_notes&lt;/span&gt;(concept: &lt;span style=&#34;color:#66d9ef&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;str&lt;/span&gt;, examples: Vec&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;str&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// è®°å½•å­¦ä¹ è¦ç‚¹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;æ¯æ—¥å­¦ä¹ æµç¨‹&#34;&gt;æ¯æ—¥å­¦ä¹ æµç¨‹
&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å‡†å¤‡é˜¶æ®µï¼ˆ5åˆ†é’Ÿï¼‰&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç¡®å®šä»Šå¤©è¦å­¦ä¹ çš„æ¨¡å—&lt;/li&gt;
&lt;li&gt;è®¾ç½®å­¦ä¹ ç›®æ ‡&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ ¸å¿ƒå­¦ä¹ ï¼ˆ45åˆ†é’Ÿï¼‰&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é˜…è¯»æºç ï¼ˆ25åˆ†é’Ÿï¼‰&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨ AI è§£ç­”ç–‘é—®ï¼ˆ15åˆ†é’Ÿï¼‰&lt;/li&gt;
&lt;li&gt;åšç¬”è®°ï¼ˆ5åˆ†é’Ÿï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å¤ä¹ é˜¶æ®µï¼ˆ10åˆ†é’Ÿï¼‰&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ€»ç»“ä»Šæ—¥æ‰€å­¦&lt;/li&gt;
&lt;li&gt;è®°å½•æœªè§£å†³çš„é—®é¢˜&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;å®ç”¨æŠ€å·§&#34;&gt;å®ç”¨æŠ€å·§
&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;ä½¿ç”¨ &lt;code&gt;rustup doc --std&lt;/code&gt; æŸ¥çœ‹æœ¬åœ°æ–‡æ¡£&lt;/li&gt;
&lt;li&gt;åœ¨ playground ä¸­ç¼–å†™æµ‹è¯•ä»£ç &lt;/li&gt;
&lt;li&gt;ä½¿ç”¨ &lt;code&gt;cargo-expand&lt;/code&gt; æŸ¥çœ‹å®å±•å¼€&lt;/li&gt;
&lt;li&gt;å…³æ³¨æ ‡å‡†åº“ä¸­çš„æµ‹è¯•ç”¨ä¾‹&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;æ¨èçš„å­¦ä¹ é¡ºåº&#34;&gt;æ¨èçš„å­¦ä¹ é¡ºåº
&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;&lt;code&gt;std::option&lt;/code&gt; å’Œ &lt;code&gt;std::result&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;std::iter&lt;/code&gt; å’Œè¿­ä»£å™¨&lt;/li&gt;
&lt;li&gt;&lt;code&gt;std::collections&lt;/code&gt; ä¸­çš„é›†åˆç±»å‹&lt;/li&gt;
&lt;li&gt;&lt;code&gt;std::sync&lt;/code&gt; å’Œ &lt;code&gt;std::thread&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;std::future&lt;/code&gt; å’Œå¼‚æ­¥ç¼–ç¨‹&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h1 id=&#34;åˆ¶å®š-rust-æ ‡å‡†åº“å­¦ä¹ ç›®æ ‡çš„æ–¹æ³•&#34;&gt;åˆ¶å®š Rust æ ‡å‡†åº“å­¦ä¹ ç›®æ ‡çš„æ–¹æ³•
&lt;/h1&gt;&lt;h2 id=&#34;1-æŒ‰æ¨¡å—åˆ’åˆ†ç›®æ ‡&#34;&gt;1. æŒ‰æ¨¡å—åˆ’åˆ†ç›®æ ‡
&lt;/h2&gt;&lt;h3 id=&#34;åŸºç¡€æ¨¡å—1-2å‘¨æ¨¡å—&#34;&gt;åŸºç¡€æ¨¡å—ï¼ˆ1-2å‘¨/æ¨¡å—ï¼‰
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;code&gt;std::option&lt;/code&gt; å’Œ &lt;code&gt;std::result&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç†è§£ &lt;code&gt;Option&lt;/code&gt; å’Œ &lt;code&gt;Result&lt;/code&gt; çš„å®ç°&lt;/li&gt;
&lt;li&gt;å­¦ä¹ ç»„åˆå­æ–¹æ³•ï¼ˆ&lt;a class=&#34;link&#34; href=&#34;cci:1://file:///Users/zed/ripgrep/crates/ignore/src/lib.rs:466:4-475:5&#34; &gt;map&lt;/a&gt;, &lt;a class=&#34;link&#34; href=&#34;cci:1://file:///Users/zed/ripgrep/crates/core/flags/parse.rs:41:4-52:5&#34; &gt;and_then&lt;/a&gt;, &lt;code&gt;unwrap_or&lt;/code&gt;ç­‰ï¼‰&lt;/li&gt;
&lt;li&gt;ç›®æ ‡ï¼šèƒ½è§£é‡Šä¸ºä»€ä¹ˆ &lt;code&gt;Option&amp;lt;T&amp;gt;&lt;/code&gt; åœ¨å†…å­˜ä¸­ä¸ &lt;code&gt;T&lt;/code&gt; å¤§å°ç›¸åŒ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;code&gt;std::iter&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç†è§£ &lt;code&gt;Iterator&lt;/code&gt; trait çš„è®¾è®¡&lt;/li&gt;
&lt;li&gt;å­¦ä¹ å¸¸è§è¿­ä»£å™¨é€‚é…å™¨&lt;/li&gt;
&lt;li&gt;ç›®æ ‡ï¼šèƒ½å®ç°è‡ªå®šä¹‰è¿­ä»£å™¨&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;2-æŒ‰ä¸»é¢˜åˆ’åˆ†ç›®æ ‡&#34;&gt;2. æŒ‰ä¸»é¢˜åˆ’åˆ†ç›®æ ‡
&lt;/h2&gt;&lt;h3 id=&#34;æ‰€æœ‰æƒå’Œç”Ÿå‘½å‘¨æœŸ2å‘¨&#34;&gt;æ‰€æœ‰æƒå’Œç”Ÿå‘½å‘¨æœŸï¼ˆ2å‘¨ï¼‰
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;ç ”ç©¶ &lt;code&gt;std::mem&lt;/code&gt; æ¨¡å—&lt;/li&gt;
&lt;li&gt;åˆ†æ &lt;code&gt;Box&lt;/code&gt;, &lt;code&gt;Rc&lt;/code&gt;, &lt;code&gt;Arc&lt;/code&gt; çš„å®ç°&lt;/li&gt;
&lt;li&gt;ç›®æ ‡ï¼šèƒ½è§£é‡Š Rust çš„æ‰€æœ‰æƒç³»ç»Ÿå¦‚ä½•å½±å“æ ‡å‡†åº“è®¾è®¡&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;å¹¶å‘ç¼–ç¨‹3å‘¨&#34;&gt;å¹¶å‘ç¼–ç¨‹ï¼ˆ3å‘¨ï¼‰
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;å­¦ä¹  &lt;code&gt;std::sync&lt;/code&gt; ä¸­çš„åŸè¯­&lt;/li&gt;
&lt;li&gt;ç ”ç©¶ &lt;code&gt;std::thread&lt;/code&gt; å’Œ &lt;code&gt;std::sync::mpsc&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ç›®æ ‡ï¼šèƒ½è§£é‡Š &lt;code&gt;Mutex&lt;/code&gt; å’Œ &lt;code&gt;RwLock&lt;/code&gt; çš„åŒºåˆ«å’Œé€‚ç”¨åœºæ™¯&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;3-smart-ç›®æ ‡åˆ¶å®šæ³•&#34;&gt;3. SMART ç›®æ ‡åˆ¶å®šæ³•
&lt;/h2&gt;&lt;h3 id=&#34;å…·ä½“-specific&#34;&gt;å…·ä½“ (Specific)
&lt;/h3&gt;&lt;p&gt;âŒ æ¨¡ç³Šç›®æ ‡ï¼šå­¦ä¹ é›†åˆç±»å‹
âœ… æ˜ç¡®ç›®æ ‡ï¼šç†è§£ &lt;code&gt;Vec&amp;lt;T&amp;gt;&lt;/code&gt; çš„å†…å­˜å¸ƒå±€å’Œæ‰©å®¹ç­–ç•¥&lt;/p&gt;
&lt;h3 id=&#34;å¯è¡¡é‡-measurable&#34;&gt;å¯è¡¡é‡ (Measurable)
&lt;/h3&gt;&lt;p&gt;âŒ ä¸æ˜ç¡®ï¼šäº†è§£è¿­ä»£å™¨
âœ… å¯è¡¡é‡ï¼šèƒ½å®ç°3ç§ä¸åŒçš„è¿­ä»£å™¨é€‚é…å™¨&lt;/p&gt;
&lt;h3 id=&#34;å¯å®ç°-achievable&#34;&gt;å¯å®ç° (Achievable)
&lt;/h3&gt;&lt;p&gt;âŒ ä¸åˆ‡å®é™…ï¼šä¸€å‘¨å†…æŒæ¡æ•´ä¸ªå¼‚æ­¥è¿è¡Œæ—¶
âœ… å¯å®ç°ï¼šä¸€å‘¨å†…ç†è§£ &lt;code&gt;Future&lt;/code&gt; trait å’ŒåŸºæœ¬çš„æ‰§è¡Œå™¨åŸç†&lt;/p&gt;
&lt;h3 id=&#34;ç›¸å…³æ€§-relevant&#34;&gt;ç›¸å…³æ€§ (Relevant)
&lt;/h3&gt;&lt;p&gt;âŒ ä¸ç›¸å…³ï¼šå­¦ä¹ ç½‘ç»œåè®®å®ç°ï¼ˆå¦‚æœæ˜¯ä¸ºäº†ç†è§£é›†åˆç±»å‹ï¼‰
âœ… ç›¸å…³ï¼šç ”ç©¶ &lt;code&gt;HashMap&lt;/code&gt; çš„å®ç°æ¥ç†è§£ trait çº¦æŸ&lt;/p&gt;
&lt;h3 id=&#34;æœ‰æ—¶é™-time-bound&#34;&gt;æœ‰æ—¶é™ (Time-bound)
&lt;/h3&gt;&lt;p&gt;âŒ æ— æœŸé™ï¼šæŸå¤©å­¦ä¹ é”™è¯¯å¤„ç†
âœ… æœ‰æ—¶é™ï¼šæœ¬å‘¨å†…å®Œæˆ &lt;code&gt;std::error::Error&lt;/code&gt; trait çš„å­¦ä¹ &lt;/p&gt;
&lt;h2 id=&#34;4-ç¤ºä¾‹å­¦ä¹ è®¡åˆ’&#34;&gt;4. ç¤ºä¾‹å­¦ä¹ è®¡åˆ’
&lt;/h2&gt;&lt;h3 id=&#34;ç¬¬1å‘¨option-å’Œ-result&#34;&gt;ç¬¬1å‘¨ï¼š&lt;code&gt;Option&lt;/code&gt; å’Œ &lt;code&gt;Result&lt;/code&gt;
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;å‘¨ä¸€ï¼šé˜…è¯» &lt;code&gt;Option&lt;/code&gt; å®šä¹‰å’ŒåŸºç¡€æ–¹æ³•&lt;/li&gt;
&lt;li&gt;å‘¨ä¸‰ï¼šç ”ç©¶ &lt;code&gt;Option&lt;/code&gt; çš„å†…å­˜å¸ƒå±€&lt;/li&gt;
&lt;li&gt;å‘¨äº”ï¼š&lt;code&gt;Result&lt;/code&gt; å’Œé”™è¯¯å¤„ç†æ¨¡å¼&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;ç¬¬2å‘¨è¿­ä»£å™¨&#34;&gt;ç¬¬2å‘¨ï¼šè¿­ä»£å™¨
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;å‘¨ä¸€ï¼š&lt;code&gt;Iterator&lt;/code&gt; trait å®šä¹‰&lt;/li&gt;
&lt;li&gt;å‘¨ä¸‰ï¼šå¸¸è§é€‚é…å™¨å®ç°&lt;/li&gt;
&lt;li&gt;å‘¨äº”ï¼šè‡ªå®šä¹‰è¿­ä»£å™¨å®è·µ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;éœ€è¦æˆ‘å¸®ä½ åˆ¶å®šä¸€ä¸ªå…·ä½“çš„å­¦ä¹ è®¡åˆ’å—ï¼Ÿæˆ–è€…ä½ å¯¹æŸä¸ªç‰¹å®šä¸»é¢˜æ›´æ„Ÿå…´è¶£ï¼Ÿ&lt;/p&gt;
</description>
        </item>
        <item>
        <title>MMKVä¸SharedPreferences</title>
        <link>http://localhost:1313/android-develop/mmkv%E4%B8%8Esharedpreferences/</link>
        <pubDate>Tue, 01 Jul 2025 15:49:53 +0800</pubDate>
        
        <guid>http://localhost:1313/android-develop/mmkv%E4%B8%8Esharedpreferences/</guid>
        <description>&lt;p&gt;Androidä¸­çš„MMKVå’ŒSharedPreferenceséƒ½æ˜¯ç”¨äºå­˜å‚¨é”®å€¼å¯¹æ•°æ®çš„è½»é‡çº§è§£å†³æ–¹æ¡ˆï¼Œä½†ä»–ä»¬åœ¨è®¾è®¡ã€æ€§èƒ½å’Œé€‚ç”¨åœºæ™¯ä¸Šå­˜åœ¨æ˜¾è‘—å·®å¼‚ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;sharedpreferences&#34;&gt;SharedPreferences
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å®šä½&lt;/strong&gt;ï¼šAndroidå®˜æ–¹æä¾›çš„è½»é‡çº§é”®å€¼å¯¹å­˜å‚¨APIã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å®ç°&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;åŸºäº&lt;code&gt;XML&lt;/code&gt;æ–‡ä»¶å­˜å‚¨ã€‚&lt;/li&gt;
&lt;li&gt;æ•°æ®ä¿å­˜åœ¨&lt;code&gt;/data/data/&amp;lt;package_name&amp;gt;/shared_prefs/&lt;/code&gt;ç›®å½•ä¸‹&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ç‰¹ç‚¹ï¼š
&lt;ul&gt;
&lt;li&gt;ç®€å•æ˜“ç”¨ï¼šAPIç›´è§‚ï¼ŒåŸç”Ÿæ”¯æŒ&lt;/li&gt;
&lt;li&gt;çº¿ç¨‹å®‰å…¨(è¯»å†™é”)ï¼šå†…éƒ¨ä½¿ç”¨é”æœºåˆ¶ä¿è¯å¤šçº¿ç¨‹å®‰å…¨ï¼Œä½†ä¹Ÿå¯èƒ½æˆä¸ºæ€§èƒ½ç“¶é¢ˆ&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¼‚æ­¥å†™å…¥(&lt;code&gt;apply()&lt;/code&gt;)&lt;/strong&gt;:ä¸»è¦æ¨èæ–¹å¼ï¼Œå¼‚æ­¥å†™å…¥ç£ç›˜ï¼Œé¿å…é˜»å¡UIçº¿ç¨‹(ä½†æäº¤æ“ä½œæœ¬èº«åœ¨ä¸»çº¿ç¨‹)ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åŒæ­¥å†™å…¥(&lt;code&gt;commit()&lt;/code&gt;)&lt;/strong&gt;:é˜»å¡è°ƒç”¨çº¿ç¨‹ç›´åˆ°å†™å…¥å®Œæˆï¼Œå¯èƒ½å¯¼è‡´ANRï¼Œä¸€èˆ¬é¿å…åœ¨ä¸»çº¿ç¨‹ä½¿ç”¨ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ä¸»è¦ç¼ºç‚¹ï¼š
&lt;ul&gt;
&lt;li&gt;æ€§èƒ½è¾ƒå·®ï¼š
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å…¨é‡å†™å…¥&lt;/strong&gt;ï¼šå³ä½¿åªä¿®æ”¹ä¸€ä¸ªå€¼ï¼Œ&lt;code&gt;apply()/commit()&lt;/code&gt;ä¹Ÿä¼šè§¦å‘æ•´ä¸ªXMLæ–‡ä»¶çš„åºåˆ—åŒ–å’Œå†™å…¥æ“ä½œã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;XMLè§£æå¼€é”€&lt;/strong&gt;ï¼šæ¯æ¬¡è¯»å–éƒ½éœ€è¦è§£æXML&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ½œåœ¨ANRé£é™©ï¼š
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;commit(&lt;/code&gt;)åœ¨ä¸»çº¿ç¨‹åŒæ­¥å†™å…¥å¤§æ–‡ä»¶å¯èƒ½å¯¼è‡´ANRã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;apply()&lt;/code&gt;çš„æ½œåœ¨ANRï¼šapplyè™½ç„¶å¼‚æ­¥ï¼Œä½†å®ƒæŠŠå†™å…¥ä»»åŠ¡æ”¾è¿›ä¸€ä¸ª&lt;code&gt;QueueWorké˜Ÿåˆ—&lt;/code&gt;ã€‚åœ¨Activityç”Ÿå‘½å‘¨æœŸï¼ˆå¦‚&lt;code&gt;onPause&lt;/code&gt;ï¼Œ&lt;code&gt;onStop&lt;/code&gt;ï¼‰è§¦å‘&lt;code&gt;QueueWork.waitToFinish()&lt;/code&gt;æ—¶ï¼Œä¼šç­‰å¾…æ‰€æœ‰æœªå®Œæˆçš„apply()å†™å…¥ä»»åŠ¡å®Œæˆã€‚å¦‚æœåå°ä»»åŠ¡ç§¯å‹æˆ–å†™å…¥ç¼“æ…¢ï¼Œä¼šé˜»å¡ä¸»çº¿ç¨‹ï¼Œå¯èƒ½å¯¼è‡´ANR(å°¤å…¶åœ¨ä½ç«¯è®¾å¤‡ã€é¢‘ç¹æ›´æ–°æˆ–å¤§æ–‡ä»¶æ—¶)ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å¯é æ€§é—®é¢˜(&lt;code&gt;MODE_MULTI_PROCESS&lt;/code&gt;):
&lt;ul&gt;
&lt;li&gt;å®˜æ–¹&lt;code&gt;MODE_MULTI_PROCESS&lt;/code&gt;å·²è¢«å¼ƒç”¨ä¸”å£°æ˜ä¸å¯é ã€‚ä¸æ”¯æŒçœŸæ­£çš„å¤šè¿›ç¨‹åŒæ­¥ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ•°æ®è†¨èƒ€ï¼šä¿®æ”¹é¢‘ç¹ä¼šå¯¼è‡´XMLæ–‡ä»¶å˜å¤§ï¼ˆéœ€æ‰‹åŠ¨&lt;code&gt;clear + commit&lt;/code&gt;æ‰èƒ½å‡å°ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;ä¸æ”¯æŒå¤æ‚ç±»å‹ï¼šä»…æ”¯æŒåŸºæœ¬ç±»å‹ï¼Œå­˜å‚¨å¯¹è±¡éœ€è‡ªè¡Œåºåˆ—åŒ–&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;2-mmkv&#34;&gt;2. MMKV
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å®šä½&lt;/strong&gt;ï¼šç”±è…¾è®¯å¾®ä¿¡å›¢é˜Ÿå¼€æºçš„é«˜æ€§èƒ½&lt;strong&gt;è·¨å¹³å°&lt;/strong&gt;é”®å€¼å­˜å‚¨ç»„ä»¶&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å®ç°åŸç†&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å†…å­˜æ˜ å°„(&lt;code&gt;mmap&lt;/code&gt;)&lt;/strong&gt;:æ ¸å¿ƒæœºåˆ¶ï¼å°†æ–‡ä»¶ç›´æ¥æ˜ å°„åˆ°å†…å­˜ç©ºé—´ã€‚è¯»å†™æ“ä½œç›´æ¥åœ¨å†…å­˜ä¸­è¿›è¡Œï¼Œç”±æ“ä½œç³»ç»Ÿè´Ÿè´£å¼‚æ­¥åˆ·ç›˜ã€‚çœå»äº†ä¼ ç»ŸI/Oçš„æ•°æ®æ‹·è´è¿‡ç¨‹ï¼Œæ¯”XMLæ›´å°æ›´å¿«&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Protobuf&lt;/code&gt;ç¼–ç ï¼šä½¿ç”¨é«˜æ•ˆçš„protobufæ ¼å¼è¿›è¡Œåºåˆ—åŒ–ï¼Œæ¯”XMLæ›´å°æ›´å¿«ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¢é‡å†™å…¥&lt;/strong&gt;ï¼šä¿®æ”¹æ•°æ®æ—¶ï¼Œé€šå¸¸æ˜¯&lt;strong&gt;è¿½åŠ å†™&lt;/strong&gt;åˆ°æ–‡ä»¶æœ«å°¾ (append-only)ï¼Œé¿å…å…¨é‡é‡å†™ã€‚é€šè¿‡ç‰¹æ®Šçš„ç©ºé—´å¤ç”¨å’Œåƒåœ¾å›æ”¶æœºåˆ¶å¤„ç†è¿‡æœŸæ•°æ®ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç‰¹ç‚¹&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;æè‡´æ€§èƒ½ï¼šè¯»å†™é€Ÿåº¦è¿œè¶…SharedPreferencesï¼Œé€šå¸¸è¾¾åˆ°æ•°å€æˆ–ç™¾å€çš„æå‡ã€‚å†™å…¥å³ç”Ÿæ•ˆï¼Œè¯»å–ç«‹å³å¯è§ã€‚&lt;/li&gt;
&lt;li&gt;çœŸæ­£çš„å¤šè¿›ç¨‹æ”¯æŒï¼šå®Œç¾è§£å†³è·¨è¿›ç¨‹åŒæ­¥é—®é¢˜ï¼ˆ&lt;code&gt;mmap&lt;/code&gt; + &lt;code&gt;æ–‡ä»¶é”/è¿›ç¨‹é—´é”æœºåˆ¶&lt;/code&gt;ï¼‰&lt;/li&gt;
&lt;li&gt;æ›´å°çš„å­˜å‚¨ç©ºé—´ï¼šprotobufç¼–ç æ¯”XMLæ›´ç´§å‡‘ã€‚&lt;/li&gt;
&lt;li&gt;æ— ANRæ‹…å¿§ï¼š
&lt;ul&gt;
&lt;li&gt;å†™å…¥æ“ä½œå‡ ä¹å®Œå…¨è¢«&lt;code&gt;mmap&lt;/code&gt;å’Œ&lt;code&gt;OS&lt;/code&gt;æ¥ç®¡ï¼Œæ˜¯çœŸæ­£éé˜»å¡çš„ã€‚&lt;/li&gt;
&lt;li&gt;å®Œå…¨é¿å…äº†&lt;code&gt;SharedPreferences.apply&lt;/code&gt;æ½œåœ¨çš„&lt;code&gt;QueueWork.waitToFinish()&lt;/code&gt;ANRé—®é¢˜&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ”¯æŒæ•°æ®ç±»å‹ä¸°å¯Œï¼šåŸç”Ÿæ”¯æŒåŸºæœ¬ç±»å‹ã€&lt;code&gt;String&lt;/code&gt;, &lt;code&gt;byte[]&lt;/code&gt;, å¹¶ä¸”èƒ½æ–¹ä¾¿åœ°æ”¯æŒå®ç°äº† &lt;code&gt;Parcelable&lt;/code&gt; æˆ– &lt;code&gt;Serializable&lt;/code&gt; çš„&lt;strong&gt;ä»»æ„ Java å¯¹è±¡&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>åç¨‹çŸ¥è¯†ç‚¹</title>
        <link>http://localhost:1313/android-develop/%E5%8D%8F%E7%A8%8B%E7%9F%A5%E8%AF%86%E7%82%B9/</link>
        <pubDate>Mon, 30 Jun 2025 19:02:22 +0800</pubDate>
        
        <guid>http://localhost:1313/android-develop/%E5%8D%8F%E7%A8%8B%E7%9F%A5%E8%AF%86%E7%82%B9/</guid>
        <description>&lt;h4 id=&#34;å°†å›è°ƒè½¬æ¢ä¸ºåç¨‹&#34;&gt;å°†å›è°ƒè½¬æ¢ä¸ºåç¨‹
&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;èƒŒæ™¯&lt;/strong&gt;ï¼šå¾ˆå¤šåº“ï¼ˆå°¤å…¶æ˜¯Java/Androidé—ç•™åº“ï¼‰ä½¿ç”¨åŸºäºå›è°ƒï¼ˆCallbackï¼‰çš„APIå¤„ç†å¼‚æ­¥æ“ä½œï¼ˆå¦‚ç½‘ç»œè¯·æ±‚ï¼Œæ•°æ®åº“æ“ä½œï¼‰ã€‚è¿™åœ¨ä»£ç ä¸­ä¼šå¯¼è‡´å›è°ƒåœ°ç‹±ã€‚æˆ‘ä»¬éœ€è¦ä¸€ç§æ–¹æ³•å°†è¿™ç§å›è°ƒé£æ ¼çš„APIè½¬æ¢æˆ&lt;code&gt;æŒ‚èµ·å‡½æ•°(suspend fun)&lt;/code&gt;ï¼Œä½¿å…¶å¯ä»¥åœ¨åç¨‹ä¸­åƒ&lt;strong&gt;é¡ºåºä»£ç &lt;/strong&gt;ä¸€æ ·ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ ¸å¿ƒå‡½æ•°ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;suspendCoroutine&lt;/code&gt;(ç®€å•è½¬æ¢ï¼Œæ— å†…ç½®å–æ¶ˆæ”¯æŒ)&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;suspend&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &amp;lt;&lt;span style=&#34;color:#a6e22e&#34;&gt;T&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;convertCallbackToSuspendingFunc&lt;/span&gt;(): T = suspendCoroutine {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  continuation &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;//1. å¯åŠ¨å¼‚æ­¥æ“ä½œ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; callback = &lt;span style=&#34;color:#66d9ef&#34;&gt;object&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;: &lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;Callback&lt;/span&gt;&amp;lt;T&amp;gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;override&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;onSuccess&lt;/span&gt;(result: T) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#75715e&#34;&gt;//2. æˆåŠŸæ—¶æ¢å¤åç¨‹ï¼Œä¼ é€’ç»“æœ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;      continuation.resume(result)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;override&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;onFailure&lt;/span&gt;(error: Throwable) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#75715e&#34;&gt;//3. å¤±è´¥æ—¶æ¢å¤åç¨‹ï¼Œä¼ é€’å¼‚å¸¸
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;      continuation.resumeWithException(error)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  someAsyncOperation(callback)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;continuation: è¡¨ç¤ºå½“å‰è¢«æŒ‚èµ·çš„åç¨‹ã€‚å®ƒæä¾›äº†æ¢å¤åç¨‹çš„æ–¹æ³•ï¼šresume(value)å’ŒresumeWithException(exception)ã€‚&lt;/li&gt;
&lt;li&gt;ç¼ºç‚¹ï¼šå¦‚æœè°ƒç”¨è¿™ä¸ªsuspend fun çš„åç¨‹è¢«å–æ¶ˆã€‚someAsyncOperationä¸ä¼šè‡ªåŠ¨ç»ˆæ­¢ã€‚è¿™å¯èƒ½å¯¼è‡´èµ„æºæµªè´¹æˆ–æ„å¤–ç»“æœã€‚åªé€‚ç”¨äºå¼‚æ­¥æ“ä½œæœ¬èº«éå¸¸å¿«æˆ–ä½ ä¸å…³å¿ƒå–æ¶ˆçš„æƒ…å†µã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;suspendCancellableCoroutine&lt;/code&gt;(æ”¯æŒå–æ¶ˆ)&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;suspend&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &amp;lt;&lt;span style=&#34;color:#a6e22e&#34;&gt;T&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;convertCallbackToSuspendingFuncSafely&lt;/span&gt;(): T = suspendCancellableCoroutine { cancellableContinuation &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// 1. å¯åŠ¨å¼‚æ­¥æ“ä½œ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; callback = &lt;span style=&#34;color:#66d9ef&#34;&gt;object&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;: &lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;Callback&lt;/span&gt;&amp;lt;T&amp;gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;override&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;onSuccess&lt;/span&gt;(result: T) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            cancellableContinuation.resume(result)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;override&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;onFailure&lt;/span&gt;(error: Throwable) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            cancellableContinuation.resumeWithException(error)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    someAsyncOperation(callback)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// 2. â­ å…³é”®æ­¥éª¤ï¼šæ³¨å†Œå–æ¶ˆç›‘å¬å™¨ â­
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    cancellableContinuation.invokeOnCancellation {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// å½“åç¨‹è¢«å–æ¶ˆæ—¶ï¼Œå°è¯•å–æ¶ˆåº•å±‚çš„å¼‚æ­¥æ“ä½œ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// é€šå¸¸è°ƒç”¨åº“æä¾›çš„å–æ¶ˆæ–¹æ³•ï¼Œä¾‹å¦‚ï¼šcancelOperation(callback)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        cancelOperation(callback)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;å½“è°ƒç”¨è¿™ä¸ª&lt;code&gt;suspend fun&lt;/code&gt;çš„åç¨‹è¢«å–æ¶ˆæ—¶ï¼š
&lt;ol&gt;
&lt;li&gt;åç¨‹çš„å–æ¶ˆçŠ¶æ€ä¼šä¼ æ’­åˆ°è¿™ä¸ª &lt;code&gt;CancellableContinuation&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;è§¦å‘ &lt;code&gt;invokeOnCancellation {}&lt;/code&gt; å—ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨å—å†…ï¼Œä½ è°ƒç”¨åº“çš„å–æ¶ˆæ–¹æ³•å»æ¸…ç†èµ„æºå¹¶åœæ­¢æ“ä½œã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;è¿™æ˜¯&lt;strong&gt;å°†å›è°ƒ API é›†æˆåˆ°åç¨‹ä¸–ç•Œçš„æœ€ä½³å®è·µ&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;åç¨‹ä½œç”¨åŸŸ&#34;&gt;åç¨‹ä½œç”¨åŸŸ
&lt;/h4&gt;&lt;h5 id=&#34;1ä»€ä¹ˆæ˜¯åç¨‹ä½œç”¨åŸŸcoroutinescope&#34;&gt;1ã€ä»€ä¹ˆæ˜¯åç¨‹ä½œç”¨åŸŸï¼ˆCoroutineScopeï¼‰
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;CoroutineScope&lt;/code&gt;ä¸æ˜¯åç¨‹æœ¬èº«ï¼Œè€Œæ˜¯ä¸€ä¸ª&lt;strong&gt;å®šä¹‰æ–°åç¨‹è¿è¡Œç¯å¢ƒ&lt;/strong&gt;çš„æ¥å£&lt;/li&gt;
&lt;li&gt;å®ƒä¸ºåœ¨å…¶å†…éƒ¨å¯åŠ¨çš„æ‰€æœ‰å­åç¨‹æä¾›äº†ä¸€ä¸ªç»Ÿä¸€çš„&lt;code&gt;CoroutineContext&lt;/code&gt;åŸºç¡€&lt;/li&gt;
&lt;li&gt;å®ƒå°†æ‰€æœ‰åœ¨å…¶å†…éƒ¨å¯åŠ¨çš„åç¨‹&lt;strong&gt;ç»„ç»‡åœ¨ä¸€ä¸ªç»“æ„ä¸­&lt;/strong&gt;ï¼Œä»¥ä¾¿è¿›è¡Œ&lt;strong&gt;ç”Ÿå‘½å‘¨æœŸç®¡ç†&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;æ ¸å¿ƒæ„æˆï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;CoroutineScopeæ¥å£åªæœ‰ä¸€ä¸ªå±æ€§ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;interface&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;CoroutineScope&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; coroutineContext: CotoutineContext
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™ä¸ª&lt;code&gt;coroutineContext&lt;/code&gt;æ˜¯å¯åŠ¨åœ¨è¯¥ä½œç”¨åŸŸå†…çš„&lt;strong&gt;æ‰€æœ‰å­åç¨‹çš„é»˜è®¤ä¸Šä¸‹æ–‡&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;åç¨‹ä½œç”¨åŸŸçš„æ ¸å¿ƒä¼˜ç‚¹&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;ç”Ÿå‘½å‘¨æœŸçš„è‡ªåŠ¨ç®¡ç†(å–æ¶ˆ)&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;é¿å…å†…å­˜æ³„æ¼&lt;/li&gt;
&lt;li&gt;ç®€åŒ–èµ„æºæ¸…ç†&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å®‰å…¨æ€§ä¸æ¸…æ™°æ€§&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;å–æ¶ˆä¼ æ’­ï¼šä½œç”¨åŸŸçš„å–æ¶ˆä¼šè‡ªåŠ¨ä¸”å¯é åœ°ä¼ æ’­åˆ°æ‰€æœ‰å­åç¨‹ï¼Œæ— éœ€å¼€å‘è€…æ‰‹åŠ¨çº§è”å–æ¶ˆ&lt;/li&gt;
&lt;li&gt;å¼‚å¸¸å¤„ç†æ§åˆ¶ï¼šä½œç”¨åŸŸå®šä¹‰äº†å¼‚å¸¸ä¼ æ’­çš„ç­–ç•¥ï¼ˆé€šè¿‡å…¶å…³è”çš„&lt;code&gt;Job&lt;/code&gt;æ˜¯æ™®é€š&lt;code&gt;Job&lt;/code&gt;è¿˜æ˜¯&lt;code&gt;SupervisorJob&lt;/code&gt;ï¼‰ã€‚&lt;code&gt;SupervisorJob&lt;/code&gt;å…è®¸å­åç¨‹ç‹¬ç«‹å¤±è´¥è€Œä¸å½±å“å…¶ä»–å…„å¼Ÿåç¨‹å’Œçˆ¶ä½œç”¨åŸŸï¼ˆå¸¸ç”¨äºUIç»„ä»¶ä¸­å•ç‹¬çš„åå°ä»»åŠ¡ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;ä»£ç ç»„ç»‡æ¸…æ™°ï¼šå°†ä»»åŠ¡åˆ’åˆ†åˆ°ä¸åŒçš„ä½œç”¨åŸŸä¸­ï¼Œä½“ç°äº†ä»»åŠ¡çš„é€»è¾‘å’Œç”Ÿå‘½å‘¨æœŸå½’å±ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¸Šä¸‹æ–‡ç»§æ‰¿ä¸å…±äº«&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;åœ¨ä½œç”¨åŸŸå†…å¯åŠ¨çš„åç¨‹é»˜è®¤ç»§æ‰¿ä½œç”¨åŸŸçš„coroutineContext&lt;/li&gt;
&lt;li&gt;å¯ä»¥æŒ‡å®šä¸åŒçš„CoroutineContextå…ƒç´ æ¥è¦†ç›–ä¸Šä¸‹æ–‡&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ååŒç­‰å¾…(job.join(), coroutineScope {})&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;ä½ å¯ä»¥é€šè¿‡ä½œç”¨åŸŸçš„å…³è” &lt;code&gt;Job&lt;/code&gt; (è°ƒç”¨ &lt;code&gt;scope.coroutineContext[Job]!!.join()&lt;/code&gt; æˆ–æ›´ç®€å•åœ°ä½¿ç”¨ &lt;code&gt;coroutineScope {}&lt;/code&gt; æ„å»ºå™¨) æ¥&lt;strong&gt;ç­‰å¾…ä½œç”¨åŸŸå†…æ‰€æœ‰å­åç¨‹å…¨éƒ¨å®Œæˆ&lt;/strong&gt;ã€‚è¿™ä¿è¯äº†ä»»åŠ¡å†…éƒ¨çš„å¹¶å‘æ“ä½œåœ¨å¤–éƒ¨çœ‹æ¥æ˜¯åŸå­æ€§çš„ï¼ˆå³çˆ¶åç¨‹ç­‰å¾…æ‰€æœ‰å­åç¨‹å®Œæˆåè‡ªå·±æ‰å®Œæˆï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;coroutineScope {}&lt;/code&gt; æ„å»ºå™¨æœ¬èº«ä¹Ÿä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å­ä½œç”¨åŸŸï¼Œå¹¶ç­‰å¾…å…¶å†…éƒ¨æ‰€æœ‰å­åç¨‹å®Œæˆ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h4 id=&#34;asyncçš„è¡Œä¸º&#34;&gt;asyncçš„è¡Œä¸º
&lt;/h4&gt;&lt;h5 id=&#34;1-asyncçš„ç«‹å³å¯åŠ¨ç‰¹æ€§&#34;&gt;1. asyncçš„ç«‹å³å¯åŠ¨ç‰¹æ€§
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;asyncä¸æ˜¯ç­‰å¾…awaitæ‰æ‰§è¡Œï¼šå½“ä½¿ç”¨async { &amp;hellip; } åˆ›å»ºåç¨‹æ—¶ï¼Œå…¶ä¸­çš„ä»£ç ä¼šç«‹å³å¼€å§‹æ‰§è¡Œï¼Œè€Œä¸æ˜¯ç­‰å¾…è°ƒç”¨&lt;code&gt;await()&lt;/code&gt;ã€‚å³ä½¿ä¸è°ƒç”¨await()ï¼Œåç¨‹ä½“ä¹Ÿä¼šåœ¨åå°å¯åŠ¨ã€‚&lt;/li&gt;
&lt;li&gt;å¹¶å‘æ‰§è¡Œï¼šå¤šä¸ªasyncåç¨‹é»˜è®¤å¹¶è¡Œæ‰§è¡Œï¼ˆå–å†³äºè°ƒåº¦å™¨å’Œä¸Šä¸‹æ–‡ï¼‰ã€‚ä¾‹å¦‚ï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; deferred1 = async { task1() } &lt;span style=&#34;color:#75715e&#34;&gt;// ç«‹å³å¼€å§‹æ‰§è¡Œ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; deferred2 = async { task2() } &lt;span style=&#34;color:#75715e&#34;&gt;// ç«‹å³å¼€å§‹æ‰§è¡Œï¼ˆå¯èƒ½ä¸ task1 åŒæ—¶è¿è¡Œï¼‰
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;2-awaitçš„ä½œç”¨&#34;&gt;2. await()çš„ä½œç”¨
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;åŒæ­¥ç­‰å¾…ç»“æœï¼šawait()æ˜¯ä¸€ä¸ªæŒ‚èµ·ç‚¹ï¼š
&lt;ul&gt;
&lt;li&gt;å¦‚æœåç¨‹å·²å®Œæˆï¼šç›´æ¥è¿”å›ç»“æœ&lt;/li&gt;
&lt;li&gt;å¦‚æœåç¨‹æœªå®Œæˆï¼šæŒ‚èµ·å½“å‰åç¨‹ï¼Œç­‰å¾…ç»“æœä½†ä¸é˜»æ­¢å…¶ä»–åç¨‹æ‰§è¡Œ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;é¡ºåºæ§åˆ¶ï¼šawait()å¯å¼ºåˆ¶ç­‰å¾…é¡ºåºï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; result1 = deferred1.await() &lt;span style=&#34;color:#75715e&#34;&gt;// ç­‰å¾… task1 å®Œæˆ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; result2 = deferred2.await() &lt;span style=&#34;color:#75715e&#34;&gt;// å†ç­‰å¾… task2 å®Œæˆ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;qa&#34;&gt;Q&amp;amp;A
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;çˆ¶åç¨‹çš„æŒ‚èµ·ä¼šå½±å“å­åç¨‹çš„è¿è¡Œå—ï¼Ÿ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;é€šå¸¸ä¸ä¼šå½±å“å­åç¨‹çš„è¿è¡Œ&lt;/strong&gt;ï¼Œçˆ¶åç¨‹ä¸å­åç¨‹æ˜¯ç‹¬ç«‹çš„ä»»åŠ¡å•å…ƒï¼Œåªè¦å­åç¨‹æœªå®Œæˆä¸”æœªè¢«å–æ¶ˆï¼Œä»–ä»¬ä¼šç»§ç»­ç”±è°ƒåº¦å™¨åˆ†é…çº¿ç¨‹æ‰§è¡Œã€‚å–æ¶ˆæ˜¯å–æ¶ˆï¼ŒæŒ‚èµ·æ—¶è®©å‡ºå½“å‰çº¿ç¨‹&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;çˆ¶ä½œç”¨åŸŸä¼šç­‰å¾…æ‰€æœ‰å­åç¨‹å®Œæˆåæ‰ç»§ç»­æ‰§è¡Œï¼Ÿ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ˜¯çš„ï¼Œæ‰€æœ‰çˆ¶åç¨‹ï¼ˆçˆ¶ä½œç”¨åŸŸï¼‰ä¼šè‡ªåŠ¨ç­‰å¾…æ‰€æœ‰å­åç¨‹å®Œæˆã€‚&lt;code&gt;join()&lt;/code&gt;å’Œ&lt;code&gt;wait()&lt;/code&gt;&lt;strong&gt;æ§åˆ¶æ‰§è¡Œé¡ºåº&lt;/strong&gt;å’Œ&lt;strong&gt;ç¡®ä¿åœ¨ç‰¹å®šèŠ‚ç‚¹æœ‰ç»“æœ&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä¸ºä»€ä¹ˆI/Oæ“ä½œæ”¯æŒæŒ‚èµ·ï¼Œè€ŒCPUå¯†é›†æ“ä½œéœ€è¦&lt;code&gt;withContext&lt;/code&gt;æ‰‹åŠ¨æŒ‚èµ·ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;I/Oæ“ä½œéœ€è¦&lt;strong&gt;ç­‰å¾…å¤–éƒ¨èµ„æº&lt;/strong&gt;ï¼ˆæ–‡ä»¶/ç½‘ç»œ/æ•°æ®åº“å“åº”ï¼‰å°±ç»ªï¼Œè¿›è€ŒCPUå°±ä¼šç©ºé—²ï¼Œç©ºé—²ä¸‹æ¥äº†ï¼Œåç¨‹å°±å†³å®š&lt;strong&gt;ä¸»åŠ¨é‡Šæ”¾çº¿ç¨‹ - æŒ‚èµ·&lt;/strong&gt;ï¼Œè®©å…¶ä»–ä»»åŠ¡å»ä½¿ç”¨çº¿ç¨‹ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;CPUå¯†é›†æ“ä½œ&lt;strong&gt;æŒç»­æ¶ˆè€—CPUè®¡ç®—èµ„æº&lt;/strong&gt;ï¼ŒCPUä¸ä¼šç©ºé—²&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
</description>
        </item>
        <item>
        <title>åç¨‹åŸç†</title>
        <link>http://localhost:1313/android-develop/%E5%8D%8F%E7%A8%8B%E5%8E%9F%E7%90%86/</link>
        <pubDate>Mon, 30 Jun 2025 15:13:25 +0800</pubDate>
        
        <guid>http://localhost:1313/android-develop/%E5%8D%8F%E7%A8%8B%E5%8E%9F%E7%90%86/</guid>
        <description>&lt;p&gt;Kotlinåç¨‹çš„æœ¬è´¨æ˜¯&lt;strong&gt;é€šè¿‡çŠ¶æ€æœºç®¡ç†æŒ‚èµ·ç‚¹ï¼Œç”±ç¼–è¯‘å™¨è¿›è¡ŒCPSå˜æ¢å®ç°çš„è½»é‡çº§å¹¶å‘æŠ½è±¡&lt;/strong&gt;ã€‚å…¶æ ¸å¿ƒåŸç†å’ŒçŠ¶æ€æ¨è¿›æœºåˆ¶å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;h4 id=&#34;æ ¸å¿ƒåŸç†&#34;&gt;æ ¸å¿ƒåŸç†
&lt;/h4&gt;&lt;h5 id=&#34;1-æŒ‚èµ·å‡½æ•°&#34;&gt;1. æŒ‚èµ·å‡½æ•°
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;ç”¨suspendä¿®é¥°çš„å‡½æ•°&lt;/li&gt;
&lt;li&gt;ç¼–è¯‘å™¨ä¼šå°†å…¶ç¼–è¯‘ä¸º&lt;strong&gt;çŠ¶æ€æœºä»£ç &lt;/strong&gt;(è€Œéé˜»å¡çº¿ç¨‹)ï¼Œæ”¯æŒåœ¨ä»»æ„ä½ç½®æŒ‚èµ·/æ¢å¤&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;2-ç»­ä½“&#34;&gt;2. ç»­ä½“
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;ç±»ä¼¼å›è°ƒçš„æ¥å£&lt;code&gt;Continuation&amp;lt;T&amp;gt;&lt;/code&gt;ï¼Œå…¶å…³é”®æ–¹æ³•æ˜¯&lt;code&gt;resumeWith(result)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;åç¨‹çš„æ¯ä¸€æ­¥æ‰§è¡Œéƒ½ä¾é™„äºä¸€ä¸ªç»­ä½“å¯¹è±¡ï¼Œå­˜å‚¨å½“å‰æ‰§è¡ŒçŠ¶æ€å’Œä¸Šä¸‹æ–‡&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;3-çŠ¶æ€æœºè½¬æ¢&#34;&gt;3. çŠ¶æ€æœºè½¬æ¢
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;ç¼–è¯‘å™¨å°†æŒ‚èµ·å‡½æ•°æ‹†è§£æˆä¸€ä¸ªçŠ¶æ€æœºï¼ˆé€šè¿‡&lt;code&gt;label&lt;/code&gt;æ ‡è®°çŠ¶æ€ï¼‰&lt;/li&gt;
&lt;li&gt;æ¯ä¸ªæŒ‚èµ·ç‚¹å¯¹åº”ä¸€ä¸ªçŠ¶æ€è¿ç§»&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;çŠ¶æ€æ¨è¿›æµç¨‹&#34;&gt;çŠ¶æ€æ¨è¿›æµç¨‹
&lt;/h4&gt;&lt;p&gt;ä»¥ä¸‹ä»£ç å±•ç¤ºçŠ¶æ€æœºçš„è¿ä½œï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;suspend&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;fetchData&lt;/span&gt;(): String {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; data1 = fetchPart1()  &lt;span style=&#34;color:#75715e&#34;&gt;//æŒ‚èµ·ç‚¹1
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; data2 = fetchPart2()  &lt;span style=&#34;color:#75715e&#34;&gt;//æŒ‚èµ·ç‚¹2
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; data1 + data2
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;ç¼–è¯‘å™¨è½¬æ¢åï¼ˆä¼ªä»£ç ï¼‰&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;FetchDataStateMachine&lt;/span&gt;(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; completion: Continuation&amp;lt;String&amp;gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;var&lt;/span&gt; label: Int = &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;) : Continuation&amp;lt;Unit&amp;gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;var&lt;/span&gt; data1: String? = &lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;var&lt;/span&gt; data2: String? = &lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;override&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;resumeWith&lt;/span&gt;(result: Result&amp;lt;Any?&amp;gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;when&lt;/span&gt;(label) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        label = &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        fetchPart1(&lt;span style=&#34;color:#66d9ef&#34;&gt;this&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        data1 = result.getOrThrow() &lt;span style=&#34;color:#66d9ef&#34;&gt;as&lt;/span&gt; String
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        label = &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        fetchPart2(&lt;span style=&#34;color:#66d9ef&#34;&gt;this&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        data2 = result.getOrThrow() &lt;span style=&#34;color:#66d9ef&#34;&gt;as&lt;/span&gt; String
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        completion.resumeWith(data1 + data2)	&lt;span style=&#34;color:#75715e&#34;&gt;//è¿”å›æœ€ç»ˆç»“æœ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;      }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h4 id=&#34;å…³é”®æœºåˆ¶&#34;&gt;å…³é”®æœºåˆ¶
&lt;/h4&gt;&lt;h5 id=&#34;1-æŒ‚èµ·ä¸é˜»å¡çº¿ç¨‹&#34;&gt;1. æŒ‚èµ·ä¸é˜»å¡çº¿ç¨‹ï¼š
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;åç¨‹æŒ‚èµ·æ—¶ï¼Œåº•å±‚çº¿ç¨‹ç«‹å³é‡Šæ”¾ï¼ˆä¾‹å¦‚è¿”å›åˆ°çº¿ç¨‹æ± ï¼‰ï¼Œé¿å…èµ„æºæµªè´¹&lt;/li&gt;
&lt;li&gt;å¼‚æ­¥æ“ä½œå®Œæˆåï¼Œä»»åŠ¡è¢«æ´¾å‘åˆ°åˆé€‚çš„çº¿ç¨‹ç»§ç»­æ‰§è¡Œï¼ˆé€šè¿‡&lt;code&gt;Dispatcher&lt;/code&gt;ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;2ç»­ä½“ä¼ é€’é£æ ¼&#34;&gt;2.ç»­ä½“ä¼ é€’é£æ ¼
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;æŒ‚èµ·å‡½æ•°è¢«ç¼–è¯‘ä¸ºæ¥å—é¢å¤–&lt;code&gt;Continuation&lt;/code&gt;å‚æ•°çš„å‡½æ•°&lt;/li&gt;
&lt;li&gt;ä¾‹å¦‚&lt;code&gt;suspend fun foo()&lt;/code&gt; â†’ &lt;code&gt;fun foo(continuation: Continuation)&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;3-åç¨‹ä¸Šä¸‹æ–‡coroutinecontext&#34;&gt;3. åç¨‹ä¸Šä¸‹æ–‡ï¼ˆCoroutineContextï¼‰
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;é€šè¿‡&lt;code&gt;CoroutineContext&lt;/code&gt;ä¼ é€’è°ƒåº¦å™¨ã€å¼‚å¸¸å¤„ç†å™¨ç­‰ã€‚&lt;/li&gt;
&lt;li&gt;çŠ¶æ€æœºä¸­é€šè¿‡&lt;code&gt;Continuation.context&lt;/code&gt;è·å–å½“å‰ä¸Šä¸‹æ–‡&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;4-ç»“æ„åŒ–å¹¶å‘&#34;&gt;4. ç»“æ„åŒ–å¹¶å‘
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;åç¨‹æ ‘é€šè¿‡çˆ¶-å­å…³ç³»ç®¡ç†ç”Ÿå‘½å‘¨æœŸ&lt;/li&gt;
&lt;li&gt;çˆ¶åç¨‹å–æ¶ˆæ—¶ï¼Œè‡ªåŠ¨å–æ¶ˆæ‰€æœ‰å­åç¨‹&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;çŠ¶æ€æ¨è¿›&#34;&gt;çŠ¶æ€æ¨è¿›
&lt;/h4&gt;&lt;p&gt;åœ¨&lt;code&gt;FetchDataStateMachine&lt;/code&gt;çš„&lt;code&gt;resumeWith&lt;/code&gt;ä¸­å¹¶æ²¡æœ‰å¾ªç¯ï¼Œlabelçš„çŠ¶æ€æ˜¯å¦‚ä½•æ¨è¿›çš„å‘¢ï¼Ÿå®é™…ä¸ŠçŠ¶æ€æ¨è¿›æ˜¯é€šè¿‡&lt;strong&gt;é€’å½’é“¾å¼è°ƒç”¨ä¸é—´æ¥è·³è½¬&lt;/strong&gt;å®ç°çš„ã€‚&lt;/p&gt;
&lt;h5 id=&#34;1-å•æ¬¡è§¦å‘æ¨¡å‹&#34;&gt;1. å•æ¬¡è§¦å‘æ¨¡å‹
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;æ¯æ¬¡resumeWithè¢«è°ƒç”¨æ—¶åªå¤„ç†å½“å‰çŠ¶æ€&lt;/li&gt;
&lt;li&gt;é€šè¿‡æ›´æ–°labelå€¼æ ‡è®°ä¸‹ä¸€æ­¥çŠ¶æ€&lt;/li&gt;
&lt;li&gt;ä¸ç«‹å³å¤„ç†åç»­çŠ¶æ€ï¼Œè€Œæ˜¯ç­‰å¾…ä¸‹ä¸€æ¬¡æ¢å¤&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;label = &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;//åªæ ‡è®°ä¸‹ä¸€æ­¥çŠ¶æ€ï¼Œä¸ç«‹å³æ‰§è¡Œ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;fetchPart2(&lt;span style=&#34;color:#66d9ef&#34;&gt;this&lt;/span&gt;)  &lt;span style=&#34;color:#75715e&#34;&gt;//è§¦å‘å¼‚æ­¥æ“ä½œï¼ˆæŒ‚èµ·ï¼‰ï¼Œthiså°±æ˜¯FetchDataStateMachineï¼Œå…¶æ˜¯Continuationï¼Œå¯é€šè¿‡thisè°ƒç”¨resumeWith
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;2-é“¾å¼é€’å½’å”¤é†’&#34;&gt;2. é“¾å¼é€’å½’å”¤é†’
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;æ¯ä¸ªå¼‚æ­¥æ“ä½œå®Œæˆæ—¶ï¼Œéƒ½ä¼šé‡æ–°è°ƒç”¨resumeWith&lt;/li&gt;
&lt;li&gt;æ¯è°ƒç”¨ä¸€æ¬¡ï¼Œå°±ä¼šå¤„ç†å½“å‰çŠ¶æ€å¹¶è®¾ç½®ä¸‹ä¸€æ¬¡çŠ¶æ€&lt;/li&gt;
&lt;/ul&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;resumeWith(ç»“æœ) â†’ å¤„ç†å½“å‰çŠ¶æ€
      â†‘               â†“
  å¼‚æ­¥å®Œæˆ          è®¾ç½®ä¸‹ä¸€çŠ¶æ€
      â†‘             
  æ¢å¤æ‰§è¡Œ        
&lt;/code&gt;&lt;/pre&gt;&lt;h5 id=&#34;3-çŠ¶æ€å˜é‡æŒä¹…åŒ–&#34;&gt;3. çŠ¶æ€å˜é‡æŒä¹…åŒ–
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;çŠ¶æ€æœºå¯¹è±¡åœ¨æŒ‚èµ·æœŸé—´æŒç»­å­˜åœ¨ï¼ˆå †å†…å­˜ï¼‰&lt;/li&gt;
&lt;li&gt;æˆå‘˜å˜é‡(data1, label)ä¿å­˜ä¸­é—´çŠ¶æ€&lt;/li&gt;
&lt;li&gt;æ¯æ¬¡æ¢å¤æ—¶ä»æ­£ç¡®çŠ¶æ€ç»§ç»­æ‰§è¡Œ&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;4-ç¼–è¯‘å™¨ä¼˜åŒ–æŠ€å·§&#34;&gt;4. ç¼–è¯‘å™¨ä¼˜åŒ–æŠ€å·§
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;å°¾é€’å½’ä¼˜åŒ–ï¼šç¼–è¯‘å™¨ä¼šå°†çŠ¶æ€å¤„ç†è½¬ä¸ºå¾ªç¯&lt;/li&gt;
&lt;li&gt;çŠ¶æ€æŠ˜å  ï¼šåˆå¹¶å¯ä¼˜åŒ–çŠ¶æ€å‡å°‘è·³è½¬æ¬¡æ•°&lt;/li&gt;
&lt;li&gt;å†…è”çŠ¶æ€ï¼šç®€å•çŠ¶æ€æœºè½¬ä¸ºswitchè·³è½¬è¡¨&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;å¯¹æŒ‚èµ·çš„ç†è§£&#34;&gt;å¯¹æŒ‚èµ·çš„ç†è§£
&lt;/h4&gt;&lt;p&gt;åç¨‹æŒ‚æœºï¼šåœ¨æŒ‚èµ·ç‚¹æš‚åœå½“å‰çš„åŒæ­¥ä»£ç ï¼Œè½¬è€Œå»æ‰§è¡Œæ¶ˆæ¯é˜Ÿåˆ—çš„runnableï¼›è¿™æ ·å°±æ˜¯æˆ‘å¯¹æŒ‚èµ·çš„ç†è§£ï¼Œä¹Ÿå°±æ˜¯è®©å‡ºçº¿ç¨‹&lt;/p&gt;
</description>
        </item>
        <item>
        <title>gradleç›¸å…³çŸ¥è¯†</title>
        <link>http://localhost:1313/android-develop/gradle%E7%9B%B8%E5%85%B3%E7%9F%A5%E8%AF%86/</link>
        <pubDate>Sun, 29 Jun 2025 15:26:57 +0800</pubDate>
        
        <guid>http://localhost:1313/android-develop/gradle%E7%9B%B8%E5%85%B3%E7%9F%A5%E8%AF%86/</guid>
        <description>&lt;h3 id=&#34;ä¸€æ’ä»¶plugins-vs-åº“libraries&#34;&gt;ä¸€ã€æ’ä»¶(Plugins) vs åº“(Libraries)
&lt;/h3&gt;&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th&gt;&lt;strong&gt;ç‰¹å¾&lt;/strong&gt;&lt;/th&gt;
          &lt;th&gt;æ’ä»¶ (Plugins)&lt;/th&gt;
          &lt;th&gt;åº“ (Libraries)&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;strong&gt;æœ¬è´¨&lt;/strong&gt;&lt;/td&gt;
          &lt;td&gt;æ„å»ºé€»è¾‘æ‰©å±•å·¥å…·&lt;/td&gt;
          &lt;td&gt;è¿è¡Œæ—¶ä¾èµ–çš„ä»£ç ç»„ä»¶&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;strong&gt;ä½œç”¨&lt;/strong&gt;&lt;/td&gt;
          &lt;td&gt;æ·»åŠ ä»»åŠ¡/é…ç½®/ç›®å½•ç»“æ„&lt;/td&gt;
          &lt;td&gt;æä¾›å¯è°ƒç”¨çš„å…·ä½“ä»£ç å®ç°&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;strong&gt;å£°æ˜ä½ç½®&lt;/strong&gt;&lt;/td&gt;
          &lt;td&gt;&lt;code&gt;plugins {}&lt;/code&gt; å—&lt;/td&gt;
          &lt;td&gt;&lt;code&gt;dependencies {}&lt;/code&gt; å—&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;strong&gt;å½±å“èŒƒå›´&lt;/strong&gt;&lt;/td&gt;
          &lt;td&gt;æ„å»ºè¿‡ç¨‹&lt;/td&gt;
          &lt;td&gt;è¿è¡Œæ—¶æˆ–ç¼–è¯‘æ—¶&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;strong&gt;å…¸å‹ç¤ºä¾‹&lt;/strong&gt;&lt;/td&gt;
          &lt;td&gt;&lt;code&gt;java&lt;/code&gt;ï¼Œ&lt;code&gt;android&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;&lt;code&gt;gson&lt;/code&gt;, &lt;code&gt;junit&lt;/code&gt;&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;h4 id=&#34;1-æ’ä»¶è¯¦è§£&#34;&gt;1. æ’ä»¶è¯¦è§£
&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;æ ¸å¿ƒä½œç”¨&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ·»åŠ æ–°ä»»åŠ¡ï¼ˆå¦‚ &lt;code&gt;compileJava&lt;/code&gt;, &lt;code&gt;assemble&lt;/code&gt;ï¼‰&lt;/li&gt;
&lt;li&gt;å®šä¹‰é»˜è®¤ç›®å½•ç»“æ„ï¼ˆå¦‚ &lt;code&gt;src/main/java&lt;/code&gt;ï¼‰&lt;/li&gt;
&lt;li&gt;å¼•å…¥é¢„ç½®é…ç½®ï¼ˆå¦‚ &lt;code&gt;implementation&lt;/code&gt; ä¾èµ–é…ç½®ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;ä½¿ç”¨åœºæ™¯&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-groovy&#34; data-lang=&#34;groovy&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;plugins &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    id &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;com.android.application&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;// Android APPæ’ä»¶
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    id &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;org.jetbrains.kotlin.android&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;// Kotlinæ”¯æŒ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;2-åº“è¯¦è§£&#34;&gt;2. åº“è¯¦è§£
&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;å…³é”®ç‰¹å¾&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é€šè¿‡åæ ‡å£°æ˜ï¼š&lt;code&gt;group:name:version&lt;/code&gt;ï¼ˆå¦‚ &lt;code&gt;com.google.guava:guava:32.0-jre&lt;/code&gt;ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¼ é€’ä¾èµ–&lt;/strong&gt;ï¼šåº“å¯èƒ½è‡ªå¸¦å…¶ä»–ä¾èµ–ï¼ˆå¦‚ Retrofit è‡ªåŠ¨å¼•å…¥ OkHttpï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;ä½¿ç”¨åœºæ™¯&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-groovy&#34; data-lang=&#34;groovy&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;dependencies &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    implementation &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;androidx.core:core-ktx:1.12.0&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;// ä¸»ä»£ç ä¾èµ–
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    testImplementation &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;junit:junit:4.13.2&amp;#39;&lt;/span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// æµ‹è¯•ä»£ç ä¸“ç”¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h3 id=&#34;äºŒä¾èµ–é…ç½®è¯¦è§£&#34;&gt;äºŒã€ä¾èµ–é…ç½®è¯¦è§£
&lt;/h3&gt;&lt;h4 id=&#34;1-implementationæœ€å¸¸ç”¨&#34;&gt;1. &lt;code&gt;implementation&lt;/code&gt;ï¼ˆæœ€å¸¸ç”¨ï¼‰
&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;ç‰¹ç‚¹&lt;/strong&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¾èµ–&lt;strong&gt;ä¸ä¼ é€’&lt;/strong&gt;ç»™å…¶ä»–æ¨¡å—,&lt;code&gt;æ¨¡å—F â†’ æ¨¡å—D â†’ æ¨¡å—E&lt;/code&gt;ï¼ˆä¼ å¯¼ç»ˆæ­¢äºDï¼‰ï¼Œæ¨¡å—Få®Œå…¨ä¸çŸ¥é“æ¨¡å—Eçš„å­˜åœ¨&lt;/li&gt;
&lt;li&gt;åŠ å¿«æ„å»ºï¼ˆå‡å°‘é‡ç¼–è¯‘ï¼‰&lt;/li&gt;
&lt;li&gt;é€‚ç”¨äºç»å¤§å¤šæ•°å­—ä¾èµ–&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-groovy&#34; data-lang=&#34;groovy&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;implementation &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;com.squareup.retrofit2:retrofit:2.9.0&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;2-apiè°¨æ…ä½¿ç”¨&#34;&gt;2. &lt;code&gt;api&lt;/code&gt;ï¼ˆè°¨æ…ä½¿ç”¨ï¼‰
&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;ç‰¹ç‚¹&lt;/strong&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¾èµ–&lt;strong&gt;ä¼ é€’&lt;/strong&gt;ç»™å…¶ä»–æ¨¡å—ï¼Œå»ºç«‹&lt;strong&gt;ä¾èµ–ä¼ é€’é“¾&lt;/strong&gt;ï¼š&lt;code&gt;æ¨¡å—C â†’ æ¨¡å—A â†’ æ¨¡å—B&lt;/code&gt;ï¼Œæ¨¡å—Cå¯ä»¥ä½¿ç”¨æ¨¡å—Bå…¬å¼€çš„æ¥å£&lt;/li&gt;
&lt;li&gt;ç”¨äº SDK å¼€å‘éœ€æš´éœ²ä¾èµ–çš„åœºæ™¯&lt;/li&gt;
&lt;li&gt;ä¼šå¢åŠ æ„å»ºæ—¶é—´&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-groovy&#34; data-lang=&#34;groovy&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;api &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;com.google.dagger:dagger:2.48&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;// å…¶ä»–æ¨¡å—éœ€ä½¿ç”¨Dagger
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;3-classpath&#34;&gt;3. &lt;code&gt;classpath&lt;/code&gt;
&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;ç‰¹ç‚¹&lt;/strong&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä»…ç”¨äºé¡¹ç›®çº§æ„å»ºè„šæœ¬(&lt;code&gt;build.gradle&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;ä¸º Gradle è‡ªèº«å¼•å…¥æ’ä»¶åŒ…ï¼Œç„¶ååœ¨æ¨¡å—çº§pluginså—ä¸­å£°æ˜ä½¿ç”¨&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¸å‚ä¸&lt;/strong&gt;æ¨¡å—ä»£ç ç¼–è¯‘&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-groovy&#34; data-lang=&#34;groovy&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// é¡¹ç›®çº§ build.gradle
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;buildscript &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    dependencies &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        classpath &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;com.android.tools.build:gradle:8.1.0&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;4-aliasç‰ˆæœ¬ç›®å½•&#34;&gt;4. &lt;code&gt;alias&lt;/code&gt;ï¼ˆç‰ˆæœ¬ç›®å½•ï¼‰
&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;ç‰¹ç‚¹&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åœ¨ &lt;code&gt;gradle/libs.versions.toml&lt;/code&gt; ä¸­é›†ä¸­ç®¡ç†ä¾èµ–&lt;/li&gt;
&lt;li&gt;è§£å†³ç‰ˆæœ¬å·ç¡¬ç¼–ç é—®é¢˜&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;éœ€ AGP 7.4+&lt;/strong&gt; æ”¯æŒ&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-toml&#34; data-lang=&#34;toml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# libs.versions.toml&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;[&lt;span style=&#34;color:#a6e22e&#34;&gt;versions&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;androidxCore&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;1.12.0&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;[&lt;span style=&#34;color:#a6e22e&#34;&gt;libraries&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;android-core&lt;/span&gt; = { 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;group&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;androidx.core&amp;#34;&lt;/span&gt;, 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;name&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;core-ktx&amp;#34;&lt;/span&gt;, 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;version&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;ref&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;androidxCore&amp;#34;&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-groovy&#34; data-lang=&#34;groovy&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;dependencies &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    implementation&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;libs&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;android&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;core&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;// é€šè¿‡åˆ«åå¼•ç”¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
        </item>
        <item>
        <title>Androidæ‰“åŒ…apkæµç¨‹</title>
        <link>http://localhost:1313/android-develop/android%E6%89%93%E5%8C%85apk%E6%B5%81%E7%A8%8B/</link>
        <pubDate>Sat, 28 Jun 2025 12:15:42 +0800</pubDate>
        
        <guid>http://localhost:1313/android-develop/android%E6%89%93%E5%8C%85apk%E6%B5%81%E7%A8%8B/</guid>
        <description>&lt;p&gt;androidåº”ç”¨çš„æ‰“åŒ…æµç¨‹æ˜¯å°†ä»£ç ã€èµ„æºæ–‡ä»¶ã€æ¸…å•æ–‡ä»¶ç­‰ç¼–è¯‘å’Œå‹ç¼©æˆå¯åœ¨è®¾å¤‡ä¸Šå®‰è£…çš„APK/AABæ–‡ä»¶çš„è¿‡ç¨‹ã€‚ä»¥ä¸‹æ˜¯è¯¦ç»†æ­¥éª¤ï¼š&lt;/p&gt;
&lt;h4 id=&#34;ä¸€ä¸»è¦æµç¨‹&#34;&gt;ä¸€ã€ä¸»è¦æµç¨‹
&lt;/h4&gt;&lt;h5 id=&#34;1-ç¼–å†™ä»£ç ä¸èµ„æºç®¡ç†&#34;&gt;1. ç¼–å†™ä»£ç ä¸èµ„æºç®¡ç†
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;åˆ›å»º&lt;code&gt;/src&lt;/code&gt;ç›®å½•å­˜æ”¾Kotlin/Javaæºç &lt;/li&gt;
&lt;li&gt;åœ¨&lt;code&gt;/res&lt;/code&gt;ç›®å½•æ·»åŠ èµ„æº&lt;/li&gt;
&lt;li&gt;é…ç½®&lt;code&gt;AndroidManifest.xml&lt;/code&gt;(å£°æ˜ç»„ä»¶ã€æƒé™ç­‰)ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;2-ä¾èµ–ç®¡ç†&#34;&gt;2. ä¾èµ–ç®¡ç†
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;åœ¨build.gradleä¸­æ·»åŠ æ‰€éœ€ä¾èµ–åº“&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;3-ç¼–è¯‘è¿‡ç¨‹&#34;&gt;3. ç¼–è¯‘è¿‡ç¨‹
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;ç¼–è¯‘ä»£ç ï¼š kotlinæºç  â†’ &lt;code&gt;.class&lt;/code&gt;å­—èŠ‚ç ï¼ˆjavac/kotlincï¼‰&lt;/li&gt;
&lt;li&gt;è½¬æ¢ä¸ºDexï¼š&lt;code&gt;.class&lt;/code&gt;æ–‡ä»¶â†’ &lt;code&gt;.dex&lt;/code&gt;æ–‡ä»¶ï¼ˆ&lt;code&gt;d8&lt;/code&gt;/&lt;code&gt;dx&lt;/code&gt;å·¥å…·ï¼‰ï¼Œç”¨äºAndroidçš„ARTè™šæ‹Ÿæœº&lt;/li&gt;
&lt;li&gt;ç¼–è¯‘èµ„æºï¼š&lt;code&gt;AAPT2&lt;/code&gt;ç¼–è¯‘èµ„æºæ–‡ä»¶ï¼ˆ&lt;code&gt;res/&lt;/code&gt; â†’ äºŒè¿›åˆ¶æ ¼å¼ï¼‰ï¼Œç”Ÿæˆ&lt;code&gt;R.java&lt;/code&gt;å’Œä¸´æ—¶èµ„æºåŒ…(&lt;code&gt;.flat&lt;/code&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;4æ‰“åŒ…ä¸ç­¾å&#34;&gt;4.æ‰“åŒ…ä¸ç­¾å
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;åˆå¹¶èµ„æºï¼š AAPT2é“¾æ¥ç¼–è¯‘åçš„èµ„æºï¼Œç”Ÿæˆ&lt;code&gt;resources.arsc&lt;/code&gt;ï¼ˆèµ„æºç´¢å¼•è¡¨ï¼‰å’Œä¼˜åŒ–åçš„&lt;code&gt;res/&lt;/code&gt;ç›®å½•&lt;/li&gt;
&lt;li&gt;æ‰“åŒ…æˆAPKï¼šAPK Builderå°†ä»¥ä¸‹æ–‡ä»¶åˆå¹¶ä¸ºæœªç­¾åçš„APKï¼š
&lt;ul&gt;
&lt;li&gt;ç¼–è¯‘åçš„å­—èŠ‚ç (&lt;code&gt;.dex&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;èµ„æºæ–‡ä»¶(&lt;code&gt;res/&lt;/code&gt; + &lt;code&gt;resources.arsc&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;AndroidManifest.xml&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;åŸç”Ÿåº“(&lt;code&gt;.so&lt;/code&gt;ï¼Œè‹¥æœ‰JNI)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ç­¾åAPKï¼šä½¿ç”¨ç­¾åè¯ä¹¦(keystore)è¿›è¡ŒV1/V2/V3ç­¾å(é€šè¿‡&lt;code&gt;apksigner&lt;/code&gt; æˆ–Gradleé…ç½®)&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;5ä¼˜åŒ–ä¸å¯¹é½&#34;&gt;5.ä¼˜åŒ–ä¸å¯¹é½
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;ZIPå¯¹é½ï¼š&lt;code&gt;zipalign&lt;/code&gt;ä¼˜åŒ–APKæ–‡ä»¶ç»“æ„(4å­—èŠ‚å¯¹é½)ï¼Œå‡å°‘è¿è¡Œæ—¶å†…å­˜å ç”¨&lt;/li&gt;
&lt;li&gt;ç”Ÿæˆæœ€ç»ˆçš„APKï¼šè¾“å‡º&lt;code&gt;app-release.apk&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;äºŒåè¯è§£é‡Š&#34;&gt;äºŒã€åè¯è§£é‡Š
&lt;/h4&gt;&lt;h5 id=&#34;1-ä¸´æ—¶èµ„æºåŒ…&#34;&gt;1. ä¸´æ—¶èµ„æºåŒ…
&lt;/h5&gt;&lt;p&gt;åœ¨AAPT2ï¼ˆ&lt;code&gt;Android Asset Packaging Tool 2&lt;/code&gt;ï¼‰çš„èµ„æºé¢„ç¼–è¯‘é˜¶æ®µä¼šç”Ÿæˆ&lt;code&gt;.flat&lt;/code&gt;æ–‡ä»¶ï¼Œè¿™äº›æ–‡ä»¶æ˜¯ä¸­é—´äº§ç‰©&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç‹¬ç«‹ç¼–è¯‘ï¼šAAPT2å°†&lt;code&gt;/res&lt;/code&gt;ç›®å½•ä¸‹çš„æ¯ä¸ªèµ„æºæ–‡ä»¶å•ç‹¬ç¼–è¯‘æˆäºŒè¿›åˆ¶æ ¼å¼çš„&lt;code&gt;.flat&lt;/code&gt;æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;æ”¯æŒå¢é‡ç¼–è¯‘ï¼šè‹¥åªä¿®æ”¹äº†å•ä¸ªèµ„æºæ–‡ä»¶ï¼Œåªéœ€é‡æ–°ç¼–è¯‘è¯¥æ–‡ä»¶çš„.flatæ–‡ä»¶ï¼Œé¿å…å…¨é‡ç¼–è¯‘ï¼ŒåŠ å¿«æ„å»ºé€Ÿåº¦&lt;/li&gt;
&lt;li&gt;åˆ†é˜¶æ®µå¤„ç†
&lt;ul&gt;
&lt;li&gt;ç¼–è¯‘é˜¶æ®µï¼šèµ„æºâ†’ &lt;code&gt;.flat&lt;/code&gt;æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;é“¾æ¥é˜¶æ®µï¼šåˆå¹¶æ‰€æœ‰&lt;code&gt;.flat&lt;/code&gt;æ–‡ä»¶ â†’ ç”Ÿæˆ&lt;code&gt;resources.arsc&lt;/code&gt;å’Œæœ€ç»ˆçš„&lt;code&gt;res/&lt;/code&gt;ç›®å½•&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ä¼˜åŠ¿
&lt;ul&gt;
&lt;li&gt;æå‡å¤§å‹é¡¹ç›®çš„ç¼–è¯‘é€Ÿåº¦&lt;/li&gt;
&lt;li&gt;æ”¯æŒèµ„æºæ··æ·†&lt;/li&gt;
&lt;li&gt;æ›´ä¸¥æ ¼çš„èµ„æºéªŒè¯&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;2-å¯¹é½&#34;&gt;2. å¯¹é½
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å†…å­˜å¯¹é½&lt;/strong&gt;ï¼šè§£å†³CPUè®¿é—®æ•ˆç‡é—®é¢˜ï¼ˆ&lt;code&gt;æ•°æ®é¡¹é¦–åœ°å€ % n == 0&lt;/code&gt;ï¼‰ï¼Œä½†ä¼šå¢åŠ æ•°æ®ç»“æ„å¤§å°&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ–‡ä»¶å¯¹é½(zipalign)&lt;/strong&gt;:è§£å†³å†…å­˜æ˜ å°„æ•ˆç‡çš„é—®é¢˜ï¼ˆ&lt;code&gt;æ–‡ä»¶åç§» % 4096 == 0&lt;/code&gt;ï¼‰ï¼Œé€šè¿‡æ¶ˆé™¤è·¨é¡µç¢ç‰‡å‡å°‘è¿è¡Œæ—¶å†…å­˜å ç”¨&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å†…å­˜é¡µæœºåˆ¶&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;ç³»ç»Ÿå†…å­˜ç®¡ç†ä»¥**é¡µ(é€šå¸¸4KB)**ä¸ºå•ä½&lt;/li&gt;
&lt;li&gt;å¯¹é½åï¼Œæ¯æ¬¡æ–‡ä»¶è¯»å– = æ•´æ•°å€å†…å­˜é¡µ â†’ &lt;strong&gt;å‡å°‘I/Oæ¬¡æ•°&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>Choreographerç±»è§£æ</title>
        <link>http://localhost:1313/android-develop/choreographer%E7%B1%BB%E8%A7%A3%E6%9E%90/</link>
        <pubDate>Mon, 16 Jun 2025 06:49:21 +0800</pubDate>
        
        <guid>http://localhost:1313/android-develop/choreographer%E7%B1%BB%E8%A7%A3%E6%9E%90/</guid>
        <description>&lt;h4 id=&#34;ä¸€æ ¸å¿ƒä½œç”¨&#34;&gt;ä¸€ã€æ ¸å¿ƒä½œç”¨
&lt;/h4&gt;&lt;p&gt;Choreographeræ˜¯Androidç³»ç»Ÿ&lt;strong&gt;åè°ƒåŠ¨ç”»ã€è¾“å…¥å’Œç»˜åˆ¶æ“ä½œçš„æ ¸å¿ƒè°ƒåº¦å™¨&lt;/strong&gt;ã€‚å®ƒé€šè¿‡VSYNCä¿¡å·ç¡®ä¿å¸§çš„æ¸²æŸ“ä¸å±å¹•åˆ·æ–°ç‡åŒæ­¥ï¼Œé¿å…ç”»é¢æ’•è£‚å’Œå¡é¡¿ã€‚&lt;/p&gt;
&lt;h4 id=&#34;äºŒå…³é”®æ¦‚å¿µ&#34;&gt;äºŒã€å…³é”®æ¦‚å¿µ
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;VSYNCï¼šå‚ç›´åŒæ­¥ä¿¡å·ï¼Œè¡¨ç¤ºå±å¹•å¼€å§‹åˆ·æ–°æ–°çš„ä¸€å¸§&lt;/li&gt;
&lt;li&gt;Frame Callbacksï¼šæ³¨å†Œçš„å›è°ƒå‡½æ•°ï¼Œåœ¨ä¸‹ä¸€å¸§çš„ç‰¹å®šé˜¶æ®µæ‰§è¡Œ&lt;/li&gt;
&lt;li&gt;Callback Typesï¼ˆæŒ‰æ‰§è¡Œé¡ºåºæ’åºï¼‰
&lt;ul&gt;
&lt;li&gt;CALLBACK_INPUT&lt;/li&gt;
&lt;li&gt;CALLBACK_ANIMATION&lt;/li&gt;
&lt;li&gt;CALLBACK_INSETS_ANIMATION&lt;/li&gt;
&lt;li&gt;CALLBACK_TRAVERSAL&lt;/li&gt;
&lt;li&gt;CALLBACK_COMMIT&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;final&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Choreographer&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// äº”ç§å›è°ƒç±»å‹&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;static&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;final&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; CALLBACK_INPUT &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; 0;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;static&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;final&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; CALLBACK_ANIMATION &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; 1;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;static&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;final&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; CALLBACK_INSETS_ANIMATION &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; 2;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;static&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;final&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; CALLBACK_TRAVERSAL &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; 3;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;static&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;final&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; CALLBACK_COMMIT &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; 4;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;static&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;final&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; CALLBACK_LAST &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; CALLBACK_COMMIT; &lt;span style=&#34;color:#75715e&#34;&gt;// æœ€åä¸€ç§ç±»å‹&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// å•ä¾‹æ¨¡å¼å®ç°&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;static&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;final&lt;/span&gt; ThreadLocal&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Choreographer&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; sThreadInstance &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;new&lt;/span&gt; ThreadLocal&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Choreographer&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;@Override&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;protected&lt;/span&gt; Choreographer &lt;span style=&#34;color:#a6e22e&#34;&gt;initialValue&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                Looper looper &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Looper.&lt;span style=&#34;color:#a6e22e&#34;&gt;myLooper&lt;/span&gt;();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;new&lt;/span&gt; Choreographer(looper, VSYNC_SOURCE_APP);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        };
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// å›è°ƒé˜Ÿåˆ—æ•°ç»„&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;final&lt;/span&gt; CallbackQueue&lt;span style=&#34;color:#f92672&#34;&gt;[]&lt;/span&gt; mCallbackQueues;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// VSYNC æ¥æ”¶å™¨&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;final&lt;/span&gt; FrameDisplayEventReceiver mDisplayEventReceiver;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// å¤„ç†æ¶ˆæ¯çš„Handler&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;final&lt;/span&gt; FrameHandler mHandler;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;ä¸‰æ ¸å¿ƒæ¶æ„å›¾è§£&#34;&gt;ä¸‰ã€æ ¸å¿ƒæ¶æ„å›¾è§£
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-tex&#34; data-lang=&#34;tex&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;â”‚    VSYNC ä¿¡å·æº        â”‚â”€â”€â”€â”€â”€â”€&amp;gt;â”‚ FrameDisplayEventReceiver â”‚
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚  (æ¥æ”¶ç¡¬ä»¶VSYNCä¿¡å·)     â”‚
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                                            â”‚
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                                            â–¼
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;â”‚     FrameHandler       â”‚&amp;lt;â”€â”€â”€â”€â”€â”€â”‚    onVsync()          â”‚
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;â”‚   (å¤„ç†3ç±»æ¶ˆæ¯)        â”‚â”€â”€â”€â”€â”€â”€&amp;gt;â”‚    scheduleVsync()    â”‚
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            â”‚
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            â–¼
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;â”‚      doFrame()         â”‚
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;â”‚ (å¸§å¤„ç†æ ¸å¿ƒæ–¹æ³•)       â”‚
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            â”‚
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            â–¼
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;â”‚   CallbackQueue[]      â”‚
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;â”‚ (5ç§ç±»å‹å›è°ƒé“¾è¡¨)      â”‚
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;ä¸‰å›è°ƒæ·»åŠ å…¥å£&#34;&gt;ä¸‰ã€å›è°ƒæ·»åŠ å…¥å£
&lt;/h4&gt;&lt;h5 id=&#34;1-æ·»åŠ å›è°ƒå…¥å£&#34;&gt;1. æ·»åŠ å›è°ƒå…¥å£
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;postCallback&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; callbackType, Runnable action, Object token) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    postCallbackDelayed(callbackType, action, token, 0);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;postCallbackDelayed&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; callbackType, Runnable action, &lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt; delayMillis) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    postCallbackDelayedInternal(callbackType, action, token, delayMillis);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;2-å†…éƒ¨æ·»åŠ å®ç°&#34;&gt;2. å†…éƒ¨æ·»åŠ å®ç°
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;postCallbackDelayedInternal&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; callbackType,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        Object action, Object token, &lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt; delayMillis) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;synchronized&lt;/span&gt; (mLock) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;final&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt; now &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; SystemClock.&lt;span style=&#34;color:#a6e22e&#34;&gt;uptimeMillis&lt;/span&gt;();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;final&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt; dueTime &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; now &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; delayMillis;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// 1. æ·»åŠ åˆ°å¯¹åº”çš„å›è°ƒé˜Ÿåˆ—&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        mCallbackQueues&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;callbackType&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;addCallbackLocked&lt;/span&gt;(dueTime, action, token);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// 2. è°ƒåº¦å¸§å¤„ç†&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (dueTime &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;=&lt;/span&gt; now) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// ç«‹å³è°ƒåº¦&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            scheduleFrameLocked(now);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        } &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// å»¶è¿Ÿè°ƒåº¦&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            Message msg &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; mHandler.&lt;span style=&#34;color:#a6e22e&#34;&gt;obtainMessage&lt;/span&gt;(MSG_DO_SCHEDULE_CALLBACK, action);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            msg.&lt;span style=&#34;color:#a6e22e&#34;&gt;arg1&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; callbackType;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            msg.&lt;span style=&#34;color:#a6e22e&#34;&gt;setAsynchronous&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            mHandler.&lt;span style=&#34;color:#a6e22e&#34;&gt;sendMessageAtTime&lt;/span&gt;(msg, dueTime);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;3-å›è°ƒé“¾è¡¨ç»“æ„&#34;&gt;3. å›è°ƒé“¾è¡¨ç»“æ„
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;static&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;final&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;CallbackQueue&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; CallbackRecord mHead;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;addCallbackLocked&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt; dueTime, Object action, Object token) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        CallbackRecord callback &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; obtainCallbackLocked(dueTime, action, token);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (mHead &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            mHead &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; callback;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// é“¾è¡¨æŒ‰ç…§æ‰§è¡Œæ—¶é—´æ’åºï¼ˆå°åˆ°å¤§ï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (dueTime &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt; mHead.&lt;span style=&#34;color:#a6e22e&#34;&gt;dueTime&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            callback.&lt;span style=&#34;color:#a6e22e&#34;&gt;next&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; mHead;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            mHead &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; callback;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        CallbackRecord entry &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; mHead;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;while&lt;/span&gt; (entry.&lt;span style=&#34;color:#a6e22e&#34;&gt;next&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (dueTime &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt; entry.&lt;span style=&#34;color:#a6e22e&#34;&gt;next&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;dueTime&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                callback.&lt;span style=&#34;color:#a6e22e&#34;&gt;next&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; entry.&lt;span style=&#34;color:#a6e22e&#34;&gt;next&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                entry.&lt;span style=&#34;color:#a6e22e&#34;&gt;next&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; callback;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            entry &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; entry.&lt;span style=&#34;color:#a6e22e&#34;&gt;next&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        entry.&lt;span style=&#34;color:#a6e22e&#34;&gt;next&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; callback;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// é“¾è¡¨èŠ‚ç‚¹å®šä¹‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;static&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;final&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;CallbackRecord&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; CallbackRecord next;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt; dueTime;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; Object action; &lt;span style=&#34;color:#75715e&#34;&gt;// Runnable æˆ– FrameCallback&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; Object token;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;å››vsyncåŒæ­¥æœºåˆ¶&#34;&gt;å››ã€VSYNCåŒæ­¥æœºåˆ¶
&lt;/h4&gt;&lt;h5 id=&#34;1-vsyncè¯·æ±‚&#34;&gt;1ã€ VSYNCè¯·æ±‚
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;scheduleFrameLocked&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt; now) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#f92672&#34;&gt;!&lt;/span&gt;mFrameScheduled) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        mFrameScheduled &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (USE_VSYNC) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// é€šè¿‡ FrameDisplayEventReceiver è¯·æ±‚ VSYNC&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (isRunningOnLooperThreadLocked()) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;              &lt;span style=&#34;color:#75715e&#34;&gt;//æ³¨å†Œ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                scheduleVsyncLocked();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            } &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#75715e&#34;&gt;// éUIçº¿ç¨‹å‘é€æ¶ˆæ¯åˆ°UIçº¿ç¨‹&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                Message msg &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; mHandler.&lt;span style=&#34;color:#a6e22e&#34;&gt;obtainMessage&lt;/span&gt;(MSG_DO_SCHEDULE_VSYNC);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                msg.&lt;span style=&#34;color:#a6e22e&#34;&gt;setAsynchronous&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                mHandler.&lt;span style=&#34;color:#a6e22e&#34;&gt;sendMessageAtFrontOfQueue&lt;/span&gt;(msg);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        } &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// æ— VSYNCç›´æ¥å®‰æ’å¸§&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;final&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt; nextFrameTime &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; ...;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            Message msg &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; mHandler.&lt;span style=&#34;color:#a6e22e&#34;&gt;obtainMessage&lt;/span&gt;(MSG_DO_FRAME);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            msg.&lt;span style=&#34;color:#a6e22e&#34;&gt;setAsynchronous&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            mHandler.&lt;span style=&#34;color:#a6e22e&#34;&gt;sendMessageAtTime&lt;/span&gt;(msg, nextFrameTime);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;scheduleVsyncLocked&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    mDisplayEventReceiver.&lt;span style=&#34;color:#a6e22e&#34;&gt;scheduleVsync&lt;/span&gt;();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;2-vsyncæ¥æ”¶ä¸å¤„ç†&#34;&gt;2. VSYNCæ¥æ”¶ä¸å¤„ç†
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;final&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;FrameDisplayEventReceiver&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;extends&lt;/span&gt; DisplayEventReceiver {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;@Override&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;onVsync&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt; timestampNanos, &lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt; physicalDisplayId, &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; frame) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// 1. è®¡ç®—æ­£ç¡®çš„å¸§æ—¶é—´&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt; now &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; System.&lt;span style=&#34;color:#a6e22e&#34;&gt;nanoTime&lt;/span&gt;();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt; intendedFrameTimeNanos &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; ...;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// 2. å‘é€MSG_DO_FRAMEæ¶ˆæ¯&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        Message msg &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Message.&lt;span style=&#34;color:#a6e22e&#34;&gt;obtain&lt;/span&gt;(mHandler, MSG_DO_FRAME);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        msg.&lt;span style=&#34;color:#a6e22e&#34;&gt;setAsynchronous&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        mHandler.&lt;span style=&#34;color:#a6e22e&#34;&gt;sendMessageAtTime&lt;/span&gt;(msg, intendedFrameTimeNanos &lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt; NANOS_PER_MS);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;3-å¸§å¤„ç†æ ¸å¿ƒ---doframe&#34;&gt;3. å¸§å¤„ç†æ ¸å¿ƒ - doFrame()
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;doFrame&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt; frameTimeNanos, &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; frame) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;final&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt; startNanos;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;synchronized&lt;/span&gt; (mLock) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// æ£€æŸ¥å¸§è°ƒåº¦çŠ¶æ€&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#f92672&#34;&gt;!&lt;/span&gt;mFrameScheduled) &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// è®¡ç®—è·³å¸§æƒ…å†µ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt; jitterNanos &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; startNanos &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt; frameTimeNanos;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (jitterNanos &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;=&lt;/span&gt; mFrameIntervalNanos) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;final&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt; skippedFrames &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; jitterNanos &lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt; mFrameIntervalNanos;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// è¶…è¿‡é˜ˆå€¼æ‰“å°è­¦å‘Šæ—¥å¿—&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (skippedFrames &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;=&lt;/span&gt; SKIPPED_FRAME_WARNING_LIMIT) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                Log.&lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt;(TAG, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Skipped &amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; skippedFrames &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34; frames!&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            frameTimeNanos &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; ...; &lt;span style=&#34;color:#75715e&#34;&gt;// è°ƒæ•´å¸§æ—¶é—´&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        mLastFrameTimeNanos &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; frameTimeNanos;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        mFrameScheduled &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;try&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// æŒ‰ä¼˜å…ˆçº§é¡ºåºæ‰§è¡Œå›è°ƒ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        mFrameInfo.&lt;span style=&#34;color:#a6e22e&#34;&gt;markInputHandlingStart&lt;/span&gt;();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        doCallbacks(Choreographer.&lt;span style=&#34;color:#a6e22e&#34;&gt;CALLBACK_INPUT&lt;/span&gt;, frameTimeNanos);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        mFrameInfo.&lt;span style=&#34;color:#a6e22e&#34;&gt;markAnimationsStart&lt;/span&gt;();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        doCallbacks(Choreographer.&lt;span style=&#34;color:#a6e22e&#34;&gt;CALLBACK_ANIMATION&lt;/span&gt;, frameTimeNanos);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        mFrameInfo.&lt;span style=&#34;color:#a6e22e&#34;&gt;markPerformTraversalsStart&lt;/span&gt;();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        doCallbacks(Choreographer.&lt;span style=&#34;color:#a6e22e&#34;&gt;CALLBACK_TRAVERSAL&lt;/span&gt;, frameTimeNanos);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        doCallbacks(Choreographer.&lt;span style=&#34;color:#a6e22e&#34;&gt;CALLBACK_COMMIT&lt;/span&gt;, frameTimeNanos);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    } &lt;span style=&#34;color:#66d9ef&#34;&gt;finally&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// æ¸…ç†å·¥ä½œ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;äº”å›è°ƒæ‰§è¡Œå¤„ç†&#34;&gt;äº”ã€å›è°ƒæ‰§è¡Œå¤„ç†
&lt;/h4&gt;&lt;h5 id=&#34;1-æ‰§è¡Œå›è°ƒæ ¸å¿ƒé€»è¾‘&#34;&gt;1. æ‰§è¡Œå›è°ƒæ ¸å¿ƒé€»è¾‘
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;doCallbacks&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; callbackType, &lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt; frameTimeNanos) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    CallbackRecord callbacks;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;synchronized&lt;/span&gt; (mLock) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// æå–æ‰€æœ‰åˆ°æœŸçš„å›è°ƒ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;final&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt; now &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; frameTimeNanos &lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt; NANOS_PER_MS;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        callbacks &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; mCallbackQueues&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;callbackType&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;extractDueCallbacksLocked&lt;/span&gt;(now);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (callbacks &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;) &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        mCallbacksRunning &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;try&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// æ‰§è¡Œé“¾è¡¨ä¸­çš„æ‰€æœ‰å›è°ƒ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; (CallbackRecord c &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; callbacks; c &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;; c &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; c.&lt;span style=&#34;color:#a6e22e&#34;&gt;next&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// æ‰§è¡Œå›è°ƒ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (c.&lt;span style=&#34;color:#a6e22e&#34;&gt;action&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;instanceof&lt;/span&gt; Runnable) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                ((Runnable) c.&lt;span style=&#34;color:#a6e22e&#34;&gt;action&lt;/span&gt;).&lt;span style=&#34;color:#a6e22e&#34;&gt;run&lt;/span&gt;();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            } &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                ((FrameCallback) c.&lt;span style=&#34;color:#a6e22e&#34;&gt;action&lt;/span&gt;).&lt;span style=&#34;color:#a6e22e&#34;&gt;doFrame&lt;/span&gt;(frameTimeNanos);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    } &lt;span style=&#34;color:#66d9ef&#34;&gt;finally&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;synchronized&lt;/span&gt; (mLock) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// å›æ”¶CallbackRecordå¯¹è±¡&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            recycleCallbackRecordsLocked(callbacks);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            mCallbacksRunning &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;2åˆ°æœŸå›è°ƒæå–ç®—æ³•&#34;&gt;2.åˆ°æœŸå›è°ƒæå–ç®—æ³•
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;CallbackRecord &lt;span style=&#34;color:#a6e22e&#34;&gt;extractDueCallbacksLocked&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt; now) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    CallbackRecord callbacks &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    CallbackRecord next &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; mHead;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// éå†é“¾è¡¨ï¼Œæ‰¾å‡ºæ‰€æœ‰dueTime&amp;lt;=nowçš„èŠ‚ç‚¹&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;while&lt;/span&gt; (next &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; next.&lt;span style=&#34;color:#a6e22e&#34;&gt;dueTime&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;=&lt;/span&gt; now) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        CallbackRecord temp &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; next;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        next &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; next.&lt;span style=&#34;color:#a6e22e&#34;&gt;next&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        temp.&lt;span style=&#34;color:#a6e22e&#34;&gt;next&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; callbacks;  &lt;span style=&#34;color:#75715e&#34;&gt;// æ–°èŠ‚ç‚¹æ’å…¥é“¾è¡¨å¤´éƒ¨&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        callbacks &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; temp;       &lt;span style=&#34;color:#75715e&#34;&gt;// æ–°é“¾è¡¨å¤´&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// æ›´æ–°åŸé“¾è¡¨&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    mHead &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; next;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// è¿”å›çš„æ˜¯å€’åºé“¾è¡¨ï¼ˆæœ€è¿‘åŠ å…¥çš„å…ˆæ‰§è¡Œï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; callbacks;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;å®Œæ•´æµç¨‹&#34;&gt;å®Œæ•´æµç¨‹
&lt;/h5&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;[1] postCallback()
     â†“
[2] scheduleFrameLocked()
     â†“
[3] scheduleVsyncLocked()
     â†“
[4] mDisplayEventReceiver.scheduleVsync()  (è¯·æ±‚ Vsync)
     â†“
     ... ç­‰å¾…ç¡¬ä»¶ Vsync ä¿¡å· ...
     â†“
[5] onVsync() (native çº¿ç¨‹å›è°ƒ)
     â†“
[6] Message msg = obtainMessage(MSG_DO_FRAME)
     â†“
[7] mHandler.sendMessageAtTime(msg, ...)  (å‘é€åˆ°ä¸»çº¿ç¨‹)
     â†“
[8] FrameHandler.handleMessage()  (ä¸»çº¿ç¨‹)
     â†“
[9] doFrame()  (ä¸»çº¿ç¨‹æ‰§è¡Œ)
     â†“
[10] doCallbacks()  (æ‰§è¡Œæ‰€æœ‰ Callback)
&lt;/code&gt;&lt;/pre&gt;&lt;hr&gt;
&lt;h4 id=&#34;å…­choreographerçš„å…¶ä»–ä½œç”¨&#34;&gt;å…­ã€Choreographerçš„å…¶ä»–ä½œç”¨
&lt;/h4&gt;&lt;h5 id=&#34;1-å¸§ç‡ç›‘æ§&#34;&gt;1. å¸§ç‡ç›‘æ§
&lt;/h5&gt;&lt;p&gt;å¼€å‘è€…å¯ä»¥é€šè¿‡postFrameCallbackå®ç°å¸§ç‡ç›‘æ§ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;startMonitoring&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    Choreographer.&lt;span style=&#34;color:#a6e22e&#34;&gt;getInstance&lt;/span&gt;().&lt;span style=&#34;color:#a6e22e&#34;&gt;postFrameCallback&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;new&lt;/span&gt; FrameCallback() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt; lastFrameTime &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; 0;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;@Override&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;doFrame&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt; frameTimeNanos) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (lastFrameTime &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt; 0) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt; frameInterval &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; (frameTimeNanos &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt; lastFrameTime) &lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt; 1000000;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (frameInterval &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; 16) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#75715e&#34;&gt;// è®°å½•æ‰å¸§æƒ…å†µ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            lastFrameTime &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; frameTimeNanos;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            Choreographer.&lt;span style=&#34;color:#a6e22e&#34;&gt;getInstance&lt;/span&gt;().&lt;span style=&#34;color:#a6e22e&#34;&gt;postFrameCallback&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;this&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    });
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;ä¸ƒæ€»ç»“&#34;&gt;ä¸ƒã€æ€»ç»“
&lt;/h4&gt;&lt;p&gt;Choreographer æ˜¯ Android æ¸²æŸ“ç³»ç»Ÿçš„æ ¸å¿ƒåè°ƒå™¨ï¼Œå…¶å·¥ä½œåŸç†å¯ä»¥æ¦‚æ‹¬ä¸ºï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ä»»åŠ¡ç®¡ç†&lt;/strong&gt;ï¼šé€šè¿‡ 5 ä¸ªé“¾è¡¨é˜Ÿåˆ—ç®¡ç†ä¸åŒä¼˜å…ˆçº§çš„å›è°ƒä»»åŠ¡&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è¾“å…¥ &amp;gt; åŠ¨ç”» &amp;gt; æ’å…¥åŠ¨ç”» &amp;gt; è§†å›¾éå† &amp;gt; æäº¤&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;VSYNC åŒæ­¥&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;scheduleVsync() â†’ DisplayEventReceiver â†’ onVsync() â†’ doFrame()
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å¸§ç”Ÿå‘½å‘¨æœŸ&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;doFrame() â†’ 
  doCallbacks(INPUT) â†’ 
  doCallbacks(ANIMATION) â†’ 
  doCallbacks(TRAVERSAL) â†’ 
  doCallbacks(COMMIT)
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ€§èƒ½ç›‘æ§&lt;/strong&gt;ï¼šå†…ç½®è·³å¸§æ£€æµ‹å’Œè­¦å‘Šæœºåˆ¶&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ç³»ç»Ÿåè°ƒ&lt;/strong&gt;ï¼šä½œä¸ºåŠ¨ç”»ç³»ç»Ÿã€UI ç³»ç»Ÿã€è¾“å…¥ç³»ç»Ÿçš„åŒæ­¥ä¸­æ¢&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æ•´ä¸ªè®¾è®¡ä½“ç°äº† Android ç³»ç»Ÿå¯¹ä»¥ä¸‹å…³é”®ç›®æ ‡çš„å¹³è¡¡ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ç²¾ç¡®æ€§&lt;/strong&gt;ï¼šé€šè¿‡ VSYNC ç²¾å‡†åŒæ­¥&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é«˜æ•ˆæ€§&lt;/strong&gt;ï¼šé“¾è¡¨ç»“æ„å’Œå¯¹è±¡å¤ç”¨&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¼˜å…ˆçº§&lt;/strong&gt;ï¼šä¸¥æ ¼çš„åˆ†çº§å›è°ƒé¡ºåº&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ‰©å±•æ€§&lt;/strong&gt;ï¼šæ”¯æŒå¤šç§å›è°ƒç±»å‹&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç›‘æ§èƒ½åŠ›&lt;/strong&gt;ï¼šå†…ç½®æ€§èƒ½æ£€æµ‹æœºåˆ¶&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;code&gt;scheduleVsync()&lt;/code&gt; çš„å”¯ä¸€ç›®çš„å°±æ˜¯åœ¨ VSYNC åˆ°æ¥æ—¶è§¦å‘ &lt;code&gt;doFrame()&lt;/code&gt;&lt;/strong&gt;ï¼Œè€Œæ•´ä¸ª Choreographer çš„æ ¸å¿ƒä»»åŠ¡å°±æ˜¯ç¡®ä¿æ‰€æœ‰å¸§å¤„ç†æ“ä½œå®Œç¾å¯¹é½ VSYNC æ—¶é—´åºåˆ—ã€‚&lt;/p&gt;
</description>
        </item>
        <item>
        <title>åŒ…ä½“ç§¯ä¼˜åŒ–</title>
        <link>http://localhost:1313/android-develop/%E5%8C%85%E4%BD%93%E7%A7%AF%E4%BC%98%E5%8C%96/</link>
        <pubDate>Sun, 15 Jun 2025 23:19:59 +0800</pubDate>
        
        <guid>http://localhost:1313/android-develop/%E5%8C%85%E4%BD%93%E7%A7%AF%E4%BC%98%E5%8C%96/</guid>
        <description>&lt;h4 id=&#34;åŒ…ä½“ç§¯ä¼˜åŒ–&#34;&gt;åŒ…ä½“ç§¯ä¼˜åŒ–
&lt;/h4&gt;&lt;h4 id=&#34;ä¸€apkç»“æ„åˆ†æå·¥å…·&#34;&gt;ä¸€ã€APKç»“æ„åˆ†æå·¥å…·
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;Android Studioå†…ç½®å·¥å…·
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨ Build &amp;gt; Analyze APK&lt;/li&gt;
&lt;li&gt;æŸ¥çœ‹å„æ¨¡å—å æ¯”(ä»£ç /èµ„æº/åŸç”Ÿåº“/Assets)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å‘½ä»¤è¡Œå·¥å…·&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;./gradlew :app:assembleRelease --scan
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;äºŒä»£ç ä¼˜åŒ–&#34;&gt;äºŒã€ä»£ç ä¼˜åŒ–
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;å¯ç”¨ä»£ç æ··æ·†ä¸ä¼˜åŒ–&lt;/li&gt;
&lt;li&gt;ç§»é™¤æœªä½¿ç”¨ä»£ç 
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨android studioçš„lintåˆ†ææœªä½¿ç”¨ä»£ç &lt;/li&gt;
&lt;li&gt;æ·»åŠ R8é…ç½®æ–‡ä»¶åˆ é™¤æ— å¼•ç”¨ä»£ç &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ–¹æ³•æ•°ä¼˜åŒ–
&lt;ul&gt;
&lt;li&gt;å¯ç”¨Multidexå‰ä¼˜åŒ–&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨D8ç¼–è¯‘å™¨çš„dexä¼˜åŒ–&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;ä¸‰èµ„æºä¼˜åŒ–&#34;&gt;ä¸‰ã€èµ„æºä¼˜åŒ–
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;èµ„æºå‹ç¼©ä¸æ¸…ç†&lt;/li&gt;
&lt;li&gt;ç§»é™¤æœªä½¿ç”¨èµ„æº&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# æ£€æµ‹æœªä½¿ç”¨èµ„æº&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;./gradlew lintRelease
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# è‡ªåŠ¨ç§»é™¤&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;./gradlew removeUnusedResources
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;çŸ¢é‡å›¾ä»£æ›¿ä½å›¾&lt;/li&gt;
&lt;li&gt;Webpæ ¼å¼è½¬æ¢&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;å››åº“ä¼˜åŒ–&#34;&gt;å››ã€åº“ä¼˜åŒ–
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;ä»…ä¿ç•™å¿…è¦ABI&lt;/li&gt;
&lt;li&gt;è½»é‡åº“ä»£æ›¿&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;äº”é«˜çº§ä¼˜åŒ–æŠ€æœ¯&#34;&gt;äº”ã€é«˜çº§ä¼˜åŒ–æŠ€æœ¯
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;èµ„æºæ··æ·†&lt;/li&gt;
&lt;li&gt;èµ„æºåˆ†åŒ…åŠ è½½&lt;/li&gt;
&lt;li&gt;æŒ‰éœ€åŠ è½½åŠŸèƒ½æ¨¡å—&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;å…­--assetsä¼˜åŒ–&#34;&gt;å…­ ã€ Assetsä¼˜åŒ–
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;å‹ç¼©assetsèµ„æºï¼šå­˜å‚¨æ—¶å‹ç¼©ï¼Œä½¿ç”¨æ—¶è§£å‹&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;ä¸ƒçŸ¥è¯†è¡¥å……&#34;&gt;ä¸ƒã€çŸ¥è¯†è¡¥å……
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;D8ã€R8å’Œä»£ç æ··æ·†çš„å…³ç³»
&lt;ul&gt;
&lt;li&gt;D8è´Ÿè´£å­—èŠ‚ç åˆ°Dexçš„ç²¾ç¡®è½¬æ¢&lt;/li&gt;
&lt;li&gt;R8 = D8 + è£å‰ª + ä¼˜åŒ– + æ··æ·†&lt;/li&gt;
&lt;li&gt;æ··æ·†æ˜¯R8çš„æˆ˜æœ¯æ­¦å™¨ï¼šä»…è´Ÿè´£åç§°æ··æ·†ï¼ˆå¯¹ä½“ç§¯å½±å“å°ï¼Œå¯¹å®‰å…¨æ€§å…³é”®ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¼€å¯R8 â‰ˆ D8ç¼–è¯‘ + ä¸‰é‡ä¼˜åŒ–(è£å‰ª/ä¼˜åŒ–/æ··æ·†)&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
</description>
        </item>
        <item>
        <title>å†…å­˜ç®¡ç†æœ€ä½³å®è·µ</title>
        <link>http://localhost:1313/android-develop/%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/</link>
        <pubDate>Sun, 15 Jun 2025 13:05:49 +0800</pubDate>
        
        <guid>http://localhost:1313/android-develop/%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/</guid>
        <description>&lt;h4 id=&#34;ä¸€å†…å­˜ç®¡ç†åŸåˆ™&#34;&gt;ä¸€ã€å†…å­˜ç®¡ç†åŸåˆ™
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;ç†è§£Androidå†…å­˜æ¨¡å‹
&lt;ul&gt;
&lt;li&gt;åŸºäºJVMåƒåœ¾å›æ”¶æœºåˆ¶ï¼Œé‡‡ç”¨åˆ†ä»£å›æ”¶ç­–ç•¥&lt;/li&gt;
&lt;li&gt;å†…å­˜ä¸è¶³æ˜¯è§¦å‘&lt;code&gt;onTrimMemory()&lt;/code&gt;ï¼Œå¼€å‘è€…éœ€å“åº”æ­¤å›è°ƒé‡Šæ”¾èµ„æº&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;é¿å…å†…å­˜æ³„æ¼æ ¹æº
&lt;ul&gt;
&lt;li&gt;é™æ€å¼•ç”¨ï¼šç¦æ­¢ç”¨staticæŒæœ‰Activity/Contextï¼ˆç”¨Application Contextä»£æ›¿ï¼‰&lt;/li&gt;
&lt;li&gt;éé™æ€å†…éƒ¨ç±»ï¼šæ”¹ç”¨é™æ€å†…éƒ¨ç±»+å¼±å¼•ç”¨&lt;/li&gt;
&lt;li&gt;èµ„æºæœªé‡Šæ”¾ï¼šå…³é—­Cursorã€Fileã€Bitmapç­‰èµ„æºã€‚gcåªé‡Šæ”¾javaå¯¹è±¡æœ¬èº«ï¼Œåœ¨jvmå †ä¸­ï¼Œç³»ç»Ÿèµ„æºéœ€è¦æ˜¾ç¤ºé‡Šæ”¾&lt;/li&gt;
&lt;li&gt;é›†åˆå¯¹è±¡ï¼šåŠæ—¶æ¸…ç†æ— ç”¨çš„é›†åˆå…ƒç´ &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ä¼˜åŒ–å…³é”®ç»„ä»¶
&lt;ul&gt;
&lt;li&gt;Activity/Fragment
&lt;ul&gt;
&lt;li&gt;åœ¨onDestroyä¸­è§£é™¤BroadcastReceiverã€Handleræ³¨å†Œï¼Œç§»é™¤å›è°ƒ&lt;/li&gt;
&lt;li&gt;é¿å…åœ¨å¼‚æ­¥ä»»åŠ¡ä¸­ç›´æ¥å¼•ç”¨View&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Handler
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨é™æ€å†…éƒ¨ç±» + WeakReferenceã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å•ä¾‹æ¨¡å¼
&lt;ul&gt;
&lt;li&gt;ä¼ é€’Application Contextï¼Œè€ŒéActivity Context&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å¤§å¯¹è±¡ä¼˜åŒ–
&lt;ul&gt;
&lt;li&gt;Bitmap
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨inSampleSizeå‹ç¼©å›¾ç‰‡ï¼Œé‡‡ç”¨Glideç­‰åº“ç®¡ç†å†…å­˜&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ•°æ®ç¼“å­˜
&lt;ul&gt;
&lt;li&gt;ä¼˜å…ˆä½¿ç”¨LruCacheå’ŒDiskLruCache&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;äºŒå†…å­˜æ³„æ¼æ’æŸ¥å·¥å…·&#34;&gt;äºŒã€å†…å­˜æ³„æ¼æ’æŸ¥å·¥å…·
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;Android Profiler&lt;/li&gt;
&lt;li&gt;LeakCanary&lt;/li&gt;
&lt;li&gt;MAT&lt;/li&gt;
&lt;li&gt;StrictMode&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;äºŒå†…å­˜æ³„æ¼æ’æŸ¥å·¥å…·-1&#34;&gt;&lt;strong&gt;äºŒã€å†…å­˜æ³„æ¼æ’æŸ¥å·¥å…·&lt;/strong&gt;
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Android Profilerï¼ˆAndroid Studioï¼‰&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å†…å­˜ç›‘æ§&lt;/strong&gt;ï¼šå®æ—¶æŸ¥çœ‹å †å†…å­˜ä½¿ç”¨æƒ…å†µã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Heap Dump&lt;/strong&gt;ï¼šæ•è·å †å¿«ç…§ï¼Œåˆ†æå¯¹è±¡å¼•ç”¨é“¾ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Allocation Tracker&lt;/strong&gt;ï¼šè·Ÿè¸ªçŸ­æ—¶é—´å†…çš„å†…å­˜åˆ†é…ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;LeakCanaryï¼ˆè‡ªåŠ¨åŒ–æ£€æµ‹ï¼‰&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;é›†æˆæ­¥éª¤ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-groovy&#34; data-lang=&#34;groovy&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;debugImplementation &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;com.squareup.leakcanary:leakcanary-android:2.9.1&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è‡ªåŠ¨æ£€æµ‹æ³„æ¼å¹¶ç”ŸæˆæŠ¥å‘Šï¼Œå®šä½æ³„æ¼å¼•ç”¨é“¾ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;MATï¼ˆMemory Analyzer Toolï¼‰&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;åˆ†æHeap Dumpæ­¥éª¤ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ç”¨Android Profilerå¯¼å‡º&lt;code&gt;.hprof&lt;/code&gt;æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é€šè¿‡&lt;code&gt;hprof-conv&lt;/code&gt;è½¬æ¢æ ¼å¼ï¼ˆAndroid SDKå·¥å…·ï¼‰ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;hprof-conv input.hprof output.hprof
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åœ¨MATä¸­æ‰“å¼€ï¼Œé€šè¿‡&lt;strong&gt;Dominator Tree&lt;/strong&gt;å’Œ&lt;strong&gt;Path to GC Roots&lt;/strong&gt;åˆ†ææ³„æ¼å¯¹è±¡ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;StrictMode&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;æ£€æµ‹ä¸»çº¿ç¨‹ç£ç›˜/ç½‘ç»œæ“ä½œï¼Œé—´æ¥é¿å…å†…å­˜é—®é¢˜ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;StrictMode.&lt;span style=&#34;color:#a6e22e&#34;&gt;setVmPolicy&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;new&lt;/span&gt; VmPolicy.&lt;span style=&#34;color:#a6e22e&#34;&gt;Builder&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    .&lt;span style=&#34;color:#a6e22e&#34;&gt;detectActivityLeaks&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    .&lt;span style=&#34;color:#a6e22e&#34;&gt;detectLeakedClosableObjects&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    .&lt;span style=&#34;color:#a6e22e&#34;&gt;penaltyLog&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    .&lt;span style=&#34;color:#a6e22e&#34;&gt;build&lt;/span&gt;());
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
</description>
        </item>
        <item>
        <title>Viewæ€§èƒ½ä¼˜åŒ–</title>
        <link>http://localhost:1313/android-develop/view%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/</link>
        <pubDate>Fri, 13 Jun 2025 23:55:35 +0800</pubDate>
        
        <guid>http://localhost:1313/android-develop/view%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/</guid>
        <description>&lt;h3 id=&#34;android-view-æ€§èƒ½ä¼˜åŒ–ä½“ç³»&#34;&gt;Android View æ€§èƒ½ä¼˜åŒ–ä½“ç³»
&lt;/h3&gt;&lt;hr&gt;
&lt;h3 id=&#34;ä¸€è§„é¿è¿‡åº¦ç»˜åˆ¶gpuä¼˜åŒ–&#34;&gt;ä¸€ã€è§„é¿è¿‡åº¦ç»˜åˆ¶ï¼ˆGPUä¼˜åŒ–ï¼‰
&lt;/h3&gt;&lt;p&gt;ä¸“æ³¨äºå‡å°‘GPUçš„æ— æ•ˆåƒç´ å¡«å……è´Ÿè½½&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ¦‚å¿µè§£æï¼š&lt;/strong&gt;&lt;br&gt;
GPUåœ¨å•ä¸ªåƒç´ ç‚¹é‡å¤ç»˜åˆ¶è¶…è¿‡2.5æ¬¡ï¼ˆ1xç»˜åˆ¶+1.5xåŠé€æ˜æ··åˆï¼‰çš„ç°è±¡ï¼Œæ¶ˆè€—å¡«å……ç‡å¯¼è‡´å¸§ç‡ä¸‹é™&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ£€æµ‹å·¥å…·ï¼š&lt;/strong&gt;&lt;br&gt;
&lt;code&gt;å¼€å‘è€…é€‰é¡¹-&amp;gt;è°ƒè¯•GPUè¿‡åº¦ç»˜åˆ¶&lt;/code&gt;ï¼ˆè“è‰²&amp;lt;1x, ç»¿è‰²&amp;lt;2x, ç²‰è‰²&amp;lt;3x, çº¢è‰²â‰¥4xï¼‰&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ ¸å¿ƒç­–ç•¥ï¼š&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ç§»é™¤æ— æ•ˆèƒŒæ™¯å±‚ï¼š&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;æ£€æŸ¥å¹¶ç§»é™¤Activityæ ¹å¸ƒå±€æˆ–ä¸»é¢˜ä¸­å†—ä½™çš„&lt;code&gt;windowBackground&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;åˆ é™¤è¢«å®Œå…¨è¦†ç›–çš„ä¸­é—´å±‚å¸ƒå±€ï¼ˆå¦‚FrameLayoutï¼‰èƒŒæ™¯&lt;/li&gt;
&lt;li&gt;é¿å…åœ¨è‡ªå®šä¹‰Viewçš„&lt;code&gt;onDraw()&lt;/code&gt;ä¸­ç»˜åˆ¶è¢«è¦†ç›–åŒºåŸŸ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å±‚çº§æ‰å¹³åŒ–ï¼š&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨&lt;code&gt;ConstraintLayout&lt;/code&gt;æ›¿ä»£å¤šå±‚åµŒå¥—å¸ƒå±€&lt;/li&gt;
&lt;li&gt;å‡å°‘RelativeLayoutå¯¼è‡´çš„äºŒæ¬¡æµ‹é‡&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é€æ˜æ•ˆæœæ§åˆ¶ï¼š&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;é¿å…å¤§é¢ç§¯åŠé€æ˜è§†å›¾ï¼ˆå¼•å‘GPUæ··åˆè®¡ç®—ï¼‰&lt;/li&gt;
&lt;li&gt;ç¡¬ä»¶å±‚åŠ¨ç”»ç»“æŸæ—¶ç«‹å³ç¦ç”¨ï¼ˆ&lt;code&gt;setLayerType(LAYER_TYPE_NONE)&lt;/code&gt;ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¼•ç”¨å…³é”®é€šç”¨æŠ€æœ¯ï¼š&lt;/strong&gt;&lt;br&gt;
ç»“åˆ&lt;code&gt;clipRect/quickReject&lt;/code&gt;é™å®šç»˜åˆ¶åŒºåŸŸï¼ˆè¯¦è§é€šç”¨æŠ€æœ¯ç« èŠ‚ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;äºŒç»˜åˆ¶æŒ‡ä»¤ä¼˜åŒ–cpuä¼˜åŒ–&#34;&gt;äºŒã€ç»˜åˆ¶æŒ‡ä»¤ä¼˜åŒ–ï¼ˆCPUä¼˜åŒ–ï¼‰
&lt;/h3&gt;&lt;p&gt;é™ä½CPUç”Ÿæˆç»˜åˆ¶æŒ‡ä»¤çš„å¼€é”€&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ä¼˜åŒ–ç„¦ç‚¹ï¼š&lt;/strong&gt;&lt;br&gt;
&lt;code&gt;onDraw()&lt;/code&gt;æ–¹æ³•çš„æ‰§è¡Œæ•ˆç‡ä¸èµ„æºç®¡ç†&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ ¸å¿ƒå‡†åˆ™ï¼š&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ç¦æ­¢å†…å­˜åˆ†é…ï¼š&lt;/strong&gt;&lt;br&gt;
ç»ä¸åœ¨&lt;code&gt;onDraw()&lt;/code&gt;ä¸­åˆ›å»ºPaint/Path/Bitmapå¯¹è±¡ï¼ˆåº”åœ¨æ„é€ æ–¹æ³•åˆå§‹åŒ–ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è§„é¿è€—æ—¶æ“ä½œï¼š&lt;/strong&gt;&lt;br&gt;
é¿å…å¤æ‚è®¡ç®—ã€IOæˆ–è§£æé€»è¾‘&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é˜»æ–­é€’å½’è§¦å‘ï¼š&lt;/strong&gt;&lt;br&gt;
ç¦æ­¢åœ¨&lt;code&gt;onDraw()&lt;/code&gt;ä¸­è°ƒç”¨&lt;code&gt;invalidate()&lt;/code&gt;æˆ–&lt;code&gt;requestLayout()&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é«˜çº§æŠ€å·§ï¼š&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ç»˜å›¾èµ„æºå¤ç”¨ï¼š&lt;/strong&gt;&lt;br&gt;
å¯¹çŸ¢é‡å›¾(VectorDrawable)å’Œä½å›¾é‡‡ç”¨ä¸åŒä¼˜åŒ–ç­–ç•¥
&lt;ul&gt;
&lt;li&gt;å°å›¾æ ‡ä¼˜å…ˆä½¿ç”¨çŸ¢é‡å›¾&lt;/li&gt;
&lt;li&gt;ä½å›¾åŠ è½½å¯ç”¨&lt;code&gt;inSampleSize&lt;/code&gt;é‡‡æ ·å’Œ&lt;code&gt;RGB_565&lt;/code&gt;è§£ç &lt;/li&gt;
&lt;li&gt;ä½¿ç”¨&lt;code&gt;ImageView.setImageDrawable()&lt;/code&gt;æ›¿ä»£&lt;code&gt;canvas.drawBitmap()&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é€æ˜æ•ˆæœå®ç°ï¼š&lt;/strong&gt;&lt;br&gt;
ä¼˜å…ˆä½¿ç”¨&lt;code&gt;View.setAlpha()&lt;/code&gt;è€ŒéåŠé€æ˜èƒŒæ™¯è‰²&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¼•ç”¨å…³é”®é€šç”¨æŠ€æœ¯ï¼š&lt;/strong&gt;&lt;br&gt;
ç²¾å‡†æ§åˆ¶ç¡¬ä»¶åŠ é€Ÿç”Ÿå‘½å‘¨æœŸï¼ˆè¯¦è§é€šç”¨æŠ€æœ¯ç« èŠ‚ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;ä¸‰é€šç”¨æ ¸å¿ƒæŠ€æœ¯&#34;&gt;ä¸‰ã€é€šç”¨æ ¸å¿ƒæŠ€æœ¯
&lt;/h3&gt;&lt;p&gt;è·¨ä¼˜åŒ–é¢†åŸŸçš„å…±æ€§æŠ€æœ¯æ–¹æ¡ˆ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;åŒºåŸŸè£å‰ªæŠ€æœ¯ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-mermaid&#34; data-lang=&#34;mermaid&#34;&gt;graph TB
  A[canvas.clipRect] --&amp;gt; B[é™å®šå­Viewç»˜åˆ¶åŒºåŸŸ]
  C[canvas.quickReject] --&amp;gt; D[è·³è¿‡å±å¹•å¤–åŒºåŸŸç»˜åˆ¶]
  A--&amp;gt;|ViewGroup| E[é‡å†™dispatchDrawæ§åˆ¶]
  C--&amp;gt;|è‡ªå®šä¹‰View| F[onDrawä¸­é¢„åˆ¤å¯è§æ€§]
&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;
&lt;li&gt;åœ¨&lt;code&gt;ViewGroup.drawChild&lt;/code&gt;ä¸­é™å®šå­Viewç»˜åˆ¶è¾¹ç•Œ&lt;/li&gt;
&lt;li&gt;åˆ—è¡¨é¡¹ç­‰éé‡å è§†å›¾å¿…å¤‡ä¼˜åŒ–æ‰‹æ®µ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ç¡¬ä»¶åŠ é€Ÿæ·±åº¦æŒ‡å—ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;è¿ä½œæœºåˆ¶ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å°†Viewç¼“å­˜ä¸ºGPUçº¹ç†(Texture)&lt;/li&gt;
&lt;li&gt;é€šè¿‡&lt;code&gt;setLayerType(LAYER_TYPE_HARDWARE, null)&lt;/code&gt;å¯ç”¨&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æœ€ä½³å®è·µï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// åŠ¨ç”»å¼€å§‹å‰å¯ç”¨&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;view.&lt;span style=&#34;color:#a6e22e&#34;&gt;setLayerType&lt;/span&gt;(LAYER_TYPE_HARDWARE, &lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;ObjectAnimator.&lt;span style=&#34;color:#a6e22e&#34;&gt;run&lt;/span&gt;();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// åŠ¨ç”»ç»“æŸåç«‹å³é‡Šæ”¾&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;animator.&lt;span style=&#34;color:#a6e22e&#34;&gt;addListener&lt;/span&gt;(() &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    view.&lt;span style=&#34;color:#a6e22e&#34;&gt;setLayerType&lt;/span&gt;(LAYER_TYPE_NONE, &lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;});
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å¼€é”€é¢„è­¦ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç¦»å±ç¼“å†²å¢åŠ 20%-30%å†…å­˜å ç”¨&lt;/li&gt;
&lt;li&gt;é™æ€è§†å›¾å¯ç”¨åè€Œé™ä½æ€§èƒ½&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;åœ†è§’å¤„ç†æ–¹æ¡ˆï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th&gt;å®ç°æ–¹å¼&lt;/th&gt;
          &lt;th&gt;é€‚ç”¨åœºæ™¯&lt;/th&gt;
          &lt;th&gt;æ€§èƒ½å½±å“&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td&gt;ViewOutlineProvider&lt;/td&gt;
          &lt;td&gt;å°é¢ç§¯åœ†è§’&lt;/td&gt;
          &lt;td&gt;â˜…â˜…â˜†&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;.9.pngè´´å›¾&lt;/td&gt;
          &lt;td&gt;å›ºå®šå°ºå¯¸å…ƒç´ &lt;/td&gt;
          &lt;td&gt;â˜…â˜†â˜†&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;ç»˜åˆ¶åœ†è§’çŸ©å½¢&lt;/td&gt;
          &lt;td&gt;åŠ¨æ€å°ºå¯¸è§†å›¾&lt;/td&gt;
          &lt;td&gt;â˜…â˜…â˜†&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;clipToOutline&lt;/td&gt;
          &lt;td&gt;é¿å…å¤§é¢ç§¯ä½¿ç”¨&lt;/td&gt;
          &lt;td&gt;â˜…â˜…â˜…&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;å››å¸ƒå±€ä¼˜åŒ–ç‹¬ç«‹æ¨¡å—&#34;&gt;å››ã€å¸ƒå±€ä¼˜åŒ–ï¼ˆç‹¬ç«‹æ¨¡å—ï¼‰
&lt;/h3&gt;&lt;p&gt;ä¼˜åŒ–æµ‹é‡(measure)ä¸å¸ƒå±€(layout)é˜¶æ®µæ€§èƒ½&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ£€æµ‹å·¥å…·ï¼š&lt;/strong&gt;&lt;br&gt;
&lt;code&gt;Profile GPU Rendering&lt;/code&gt;åˆ†æå„é˜¶æ®µè€—æ—¶&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¼˜åŒ–ç­–ç•¥ï¼š&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å±‚çº§å‹ç¼©ï¼š&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨ConstraintLayoutå‡å°‘åµŒå¥—&lt;/li&gt;
&lt;li&gt;é¿å…LinearLayoutæƒé‡å¯¼è‡´çš„äºŒæ¬¡æµ‹é‡&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åŠ¨æ€åŠ è½½ï¼š&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;&amp;lt;merge&amp;gt;&lt;/code&gt;æ¶ˆé™¤å†—ä½™å®¹å™¨å±‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ViewStub&lt;/code&gt;å»¶è¿ŸåŠ è½½éšè—è§†å›¾&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è‡ªå®šä¹‰å¸ƒå±€ä¼˜åŒ–ï¼š&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;ç¼“å­˜&lt;code&gt;onMeasure()&lt;/code&gt;è®¡ç®—ç»“æœ&lt;/li&gt;
&lt;li&gt;åªæµ‹é‡å¯è§å­View&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;ä¼˜åŒ–å…³è”å›¾è°±&#34;&gt;ä¼˜åŒ–å…³è”å›¾è°±
&lt;/h3&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-mermaid&#34; data-lang=&#34;mermaid&#34;&gt;flowchart TD
    A[æ€§èƒ½ä¼˜åŒ–] --&amp;gt; B[GPUè´Ÿè½½]
    A --&amp;gt; C[CPUè´Ÿè½½]
    B --&amp;gt; D[è¿‡åº¦ç»˜åˆ¶ä¼˜åŒ–]
    C --&amp;gt; E[å¸ƒå±€è®¡ç®—ä¼˜åŒ–]
    C --&amp;gt; F[ç»˜åˆ¶æŒ‡ä»¤ä¼˜åŒ–]
    D &amp;amp; F --&amp;gt; G[é€šç”¨æŠ€æœ¯]
    G --&amp;gt; H[åŒºåŸŸè£å‰ª]
    G --&amp;gt; I[ç¡¬ä»¶åŠ é€Ÿ]
    G --&amp;gt; J[åœ†è§’å¤„ç†]
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è¯¥é‡ç»„æ–¹æ¡ˆï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å®Œæ•´ä¿ç•™åŸæ–‡æ‰€æœ‰æŠ€æœ¯ç‚¹&lt;/li&gt;
&lt;li&gt;æ¶ˆé™¤ç¡¬ä»¶åŠ é€Ÿ/clipRectç­‰æŠ€æœ¯ç‚¹çš„é‡å¤æè¿°&lt;/li&gt;
&lt;li&gt;å»ºç«‹æ¸…æ™°çš„ã€ŒGPUä¼˜åŒ–-CPUä¼˜åŒ–-é€šç”¨æŠ€æœ¯ã€é€»è¾‘é“¾è·¯&lt;/li&gt;
&lt;li&gt;é€šè¿‡æµç¨‹å›¾å’Œè¡¨æ ¼æå‡å…³é”®æŠ€æœ¯çš„å¯æ“ä½œæ€§&lt;/li&gt;
&lt;li&gt;ç»´æŒä¸åŸæ–‡æ¡£ç›¸åŒçš„æŠ€æœ¯ç»†èŠ‚é¢—ç²’åº¦&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æœ€ç»ˆå½¢æˆçš„ä½“ç³»é€»è¾‘ï¼š&lt;br&gt;
&lt;strong&gt;GPUä¼˜åŒ–&lt;/strong&gt;è§£å†³&amp;quot;ç»˜åˆ¶æ¬¡æ•°&amp;quot;é—®é¢˜ â†’ &lt;strong&gt;CPUä¼˜åŒ–&lt;/strong&gt;è§£å†³&amp;quot;ç»˜åˆ¶æ•ˆç‡&amp;quot;é—®é¢˜ â†’ &lt;strong&gt;é€šç”¨æŠ€æœ¯&lt;/strong&gt;æä¾›è·¨é¢†åŸŸè§£å†³æ–¹æ¡ˆ â†’ &lt;strong&gt;å¸ƒå±€ä¼˜åŒ–&lt;/strong&gt;ä½œä¸ºç‹¬ç«‹å¹¶è¡Œæ¨¡å—&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;canvas.save()&lt;/code&gt;: å°†å½“å‰&lt;strong&gt;ç»˜åˆ¶çŠ¶æ€&lt;/strong&gt;ï¼ˆçŸ©é˜µå˜æ¢/è£å‰ªåŒºåŸŸ/å›¾å±‚å±æ€§ï¼‰å­˜å…¥æ ˆä¸­&lt;/li&gt;
&lt;li&gt;&lt;code&gt;canvas.restore()&lt;/code&gt;: ä»æ ˆé¡¶å–å‡ºæœ€è¿‘ä¿å­˜çš„çŠ¶æ€å¹¶æ¢å¤&lt;/li&gt;
&lt;li&gt;&lt;code&gt;canvas.quickReject()&lt;/code&gt;:å¿«é€Ÿåˆ¤æ–­æŒ‡å®šçŸ©å½¢åŒºåŸŸæ˜¯å¦&lt;strong&gt;å®Œå…¨ä½äºå½“å‰è£å‰ªåŒºåŸŸå¤–&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>å…³äºç¡¬ä»¶åŠ é€Ÿ</title>
        <link>http://localhost:1313/android-develop/%E5%85%B3%E4%BA%8E%E7%A1%AC%E4%BB%B6%E5%8A%A0%E9%80%9F/</link>
        <pubDate>Fri, 13 Jun 2025 22:50:57 +0800</pubDate>
        
        <guid>http://localhost:1313/android-develop/%E5%85%B3%E4%BA%8E%E7%A1%AC%E4%BB%B6%E5%8A%A0%E9%80%9F/</guid>
        <description>&lt;h4 id=&#34;ä¸€ç¡¬ä»¶åŠ é€Ÿæ ¸å¿ƒæ¦‚å¿µ&#34;&gt;ä¸€ã€ç¡¬ä»¶åŠ é€Ÿæ ¸å¿ƒæ¦‚å¿µ
&lt;/h4&gt;&lt;p&gt;ç¡¬ä»¶åŠ é€Ÿæ˜¯å°†å›¾å½¢æ¸²æŸ“ä¸­çš„å…‰æ …åŒ–ä»CPUè½¬ç§»åˆ°GPUæ‰§è¡Œçš„æŠ€æœ¯ã€‚CPUåªéœ€è¦ç”Ÿæˆ&lt;strong&gt;ç»˜åˆ¶æŒ‡ä»¤é›†(DisplayList)&lt;/strong&gt;ï¼Œç”±GPUè¿›è¡Œé«˜æ•ˆçš„å¹¶è¡Œå…‰æ …åŒ–è®¡ç®—ï¼Œæœ€ç»ˆå†™å…¥å›¾å½¢ç¼“å†²åŒºæä¾›å±å¹•æ˜¾ç¤ºã€‚&lt;/p&gt;
&lt;p&gt;æœ¬è´¨ï¼šCPUè´Ÿè´£é€»è¾‘æŒ‡ä»¤ï¼ŒGPUè´Ÿè´£ç¹é‡åƒç´ è®¡ç®—ï¼Œåˆ†å·¥åä½œæå‡æ•ˆç‡&lt;/p&gt;
&lt;p&gt;å…‰æ …åŒ–ï¼šå¯ä»¥é«˜åº¦æŠ½è±¡çš„æ¦‚æ‹¬ä¸º&lt;strong&gt;è®¡ç®—å±å¹•ä¸Šæ¯ä¸ªåƒç´ ç‚¹æœ€ç»ˆæ˜¾ç¤ºçš„ARGBå€¼&lt;/strong&gt;&lt;/p&gt;
&lt;h4 id=&#34;äºŒç¡¬ä»¶åŠ é€Ÿå¯ç”¨å‰åçš„æ ¸å¿ƒæµç¨‹å¯¹æ¯”&#34;&gt;äºŒã€ç¡¬ä»¶åŠ é€Ÿå¯ç”¨å‰åçš„æ ¸å¿ƒæµç¨‹å¯¹æ¯”
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;æœªå¯ç”¨ç¡¬ä»¶åŠ é€Ÿ&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;measure &amp;amp; layout&lt;/strong&gt;ï¼šç”±CPUåœ¨ä¸»çº¿ç¨‹ï¼ˆUIçº¿ç¨‹ï¼‰æ‰§è¡Œ&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Draw&lt;/strong&gt;ï¼ˆå…³é”®åŒºåˆ«ï¼‰ï¼š
&lt;ul&gt;
&lt;li&gt;CPUï¼šéå†Viewæ ‘ï¼Œåœ¨ä¸»çº¿ç¨‹ç›´æ¥æ‰§è¡Œæ¯ä¸ªViewçš„onDraw(Canvas)æ–¹æ³•&lt;/li&gt;
&lt;li&gt;å…‰æ …åŒ–ï¼šonDrawä¸­çš„ç»˜åˆ¶æŒ‡ä»¤ä¹Ÿç”±CPUæ‰§è¡Œï¼Œç›´æ¥è®¡ç®—å‡ºæœ€ç»ˆçš„åƒç´ å€¼ã€‚&lt;/li&gt;
&lt;li&gt;ç¼“å†²åŒº(Frame Buffer)
&lt;ul&gt;
&lt;li&gt;ç³»ç»Ÿç»´æŠ¤ä¸€ä¸ªå¸§ç¼“å†²åŒºã€‚&lt;/li&gt;
&lt;li&gt;CPUå…‰æ …åŒ–å¥½çš„åƒç´ æ•°æ®ç›´æ¥å†™å…¥è¿™ä¸ªå¸§ç¼“å†²åŒº&lt;/li&gt;
&lt;li&gt;æ ¸å¿ƒï¼šCPUæ—¢å¤„ç†é€»è¾‘è®¡ç®—åˆå¤„ç†ç”Ÿæˆæœ€ç»ˆåƒç´ çš„ç¹é‡è®¡ç®—(å…‰æ …åŒ–)ï¼Œç„¶åæŠŠç»“æœæ”¾è¿›å¸§ç¼“å†²&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åˆæˆ &amp;amp; æ˜¾ç¤º&lt;/strong&gt;ï¼šå±å¹•è¯»å–å¸§ç¼“å†²åŒºçš„å†…å®¹æ˜¾ç¤ºåˆ°å±å¹•ä¸Šã€‚è¿™ä¸ªè¿‡ç¨‹é€šå¸¸æ¶‰åŠåŒç¼“å†²å’ŒVsyncä¿¡å·æ¥é¿å…æ’•è£‚ï¼Œä½†å…¶ç»˜åˆ¶æ ¸å¿ƒæ˜¯CPU
&lt;ul&gt;
&lt;li&gt;Front Bufferæ˜¯å±å¹•å½“å‰å¸§æ˜¾ç¤ºçš„å†…å®¹ï¼ŒBack Bufferæ˜¯å±å¹•ä¸‹ä¸€å¸§è¦æ˜¾ç¤ºçš„å†…å®¹&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¼€å¯ç¡¬ä»¶åŠ é€Ÿ&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Measure &amp;amp; Layout&lt;/strong&gt;ï¼šä»ç„¶ç”±CPUåœ¨ä¸»çº¿ç¨‹æ‰§è¡Œã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Draw&lt;/strong&gt;(å…³é”®åŒºåˆ«)ï¼š
&lt;ul&gt;
&lt;li&gt;CPUï¼šéå†Viewæ ‘ï¼Œåœ¨ä¸»çº¿ç¨‹æ‰§è¡Œæ¯ä¸ªViewçš„**&lt;code&gt;onDraw(Canvas)&lt;/code&gt;**æ–¹æ³•ã€‚ä½†æ˜¯è¿™é‡Œçš„&lt;code&gt;Canvas&lt;/code&gt;è¡Œä¸ºä¸åŒäº†&lt;/li&gt;
&lt;li&gt;Display Listï¼šonDraw(Canvas)ä¸­çš„ç»˜åˆ¶æŒ‡ä»¤ä¸å†ç«‹å³å…‰æ …åŒ–ï¼Œè€Œæ˜¯è¢«è®°å½•åˆ°DisplayListçš„æ•°æ®ç»“æ„ä¸­ã€‚DisplayListæœ¬è´¨æ˜¯ä¸€ç³»åˆ—GPUèƒ½ç†è§£çš„ç»˜å›¾æ“ä½œæŒ‡ä»¤çš„åºåˆ—åŒ–è¡¨ç¤º&lt;/li&gt;
&lt;li&gt;å…‰æ …åŒ–ï¼šç”±GPUæ‰§è¡Œï¼ŒCPUå°†æ„å»ºå¥½çš„&lt;code&gt;DisplayList&lt;/code&gt;æäº¤ç»™GPUã€‚GPUé©±åŠ¨ç¨‹åºå°†è¿™äº›é«˜çº§ç»˜å›¾æŒ‡ä»¤&lt;strong&gt;å¹¶è¡Œåœ°ã€é«˜æ•ˆåœ°å…‰æ …åŒ–&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç¼“å†²åŒº&lt;/strong&gt;(Frame Buffer / GRALLOC Buffers):
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ™®é€šå¼€å¯ç¡¬ä»¶åŠ é€Ÿæ—¶çš„ç¼“å†²åŒºï¼š&lt;/strong&gt; GPU å°†å…‰æ …åŒ–&lt;strong&gt;å¥½çš„åƒç´ æ•°æ®å†™å…¥ç³»ç»Ÿåˆ†é…çš„å›¾å½¢ç¼“å†²åŒº&lt;/strong&gt; (é€šå¸¸æ˜¯é€šè¿‡ &lt;code&gt;Gralloc&lt;/code&gt; åˆ†é…ç®¡ç†çš„ Buffer Queue ä¸­çš„ç¼“å†²åŒºï¼Œå¦‚ &lt;code&gt;SurfaceTexture&lt;/code&gt;)ã€‚è¿™äº›ç¼“å†²åŒº&lt;strong&gt;å°±æ˜¯å±å¹•æœ€ç»ˆåˆæˆæ—¶ä½¿ç”¨çš„åƒç´ æ•°æ®æº&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;æ ¸å¿ƒï¼šCPUè´Ÿè´£è®°å½•ç»˜åˆ¶å‘½ä»¤(onDraw -&amp;gt; DisplayList)ï¼›GPUè´Ÿè´£å…‰æ …åŒ–ï¼Œç»“æœå†™å…¥å›¾å½¢ç¼“å†²åŒº&lt;/li&gt;
&lt;li&gt;Frame Bufferæ˜¯æŠ½è±¡çš„ç¼“å†²åŒºï¼Œè€ŒGRALLOC Buffersæ˜¯ç‰©ç†ç¼“å†²åŒº&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;ä¸‰å¯ç”¨ç¡¬ä»¶å±‚&#34;&gt;ä¸‰ã€å¯ç”¨ç¡¬ä»¶å±‚
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;ç›®çš„&lt;/strong&gt;ï¼šå¯¹åƒç´ ä¸ä¼šé¢‘ç¹å˜åŒ–çš„Viewé‡‡ç”¨ç©ºé—´æ¢æ—¶é—´çš„æ–¹æ¡ˆï¼Œé¿å…Viewå†…å®¹æœªå˜æ—¶é‡å¤å…‰æ …åŒ–ï¼Œç”¨äºåç»­å¿«é€Ÿåˆæˆ&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä½œç”¨&lt;/strong&gt;ï¼šä»…å½“è§†å›¾å†…å®¹æ”¹å˜(&lt;code&gt;invalidate()&lt;/code&gt;)æ—¶æˆ–ä¸»åŠ¨æ›´æ–°æ—¶ï¼šGPUé‡æ–°å…‰æ …åŒ–è¯¥Viewçš„DisplayList -&amp;gt; æ›´æ–°ç¦»å±çº¹ç†ã€‚è€Œåªæ¶‰åŠçº¹ç†çš„å˜æ¢æ—¶ï¼Œä¸ä¼šé‡æ–°å…‰æ …åŒ–DisplayListï¼Œè€Œæ˜¯ç›´æ¥ä½¿ç”¨çº¹ç†ç¼“å­˜è¿›è¡Œåˆæˆï¼Œçº¹ç†å˜æ¢æ­£æ˜¯GPUæ“…é•¿çš„ã€‚çº¹ç†å˜æ¢å’Œopenglç®¡çº¿å·¥ä½œæµç¨‹ä¸­çš„é¡¶ç‚¹å˜æ¢æ˜¯ä¸åŒçš„å±‚çº§æ¦‚å¿µ&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æœ€ä½³å®è·µ&lt;/strong&gt;
&lt;ol&gt;
&lt;li&gt;é€‚åˆ&lt;strong&gt;å°é¢ç§¯é™æ€è§†å›¾&lt;/strong&gt;æˆ–&lt;strong&gt;å±æ€§åŠ¨ç”»&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;é¿å…å¯¹å¤§è§†å›¾ï¼ˆå¦‚åˆ—è¡¨è§†å›¾ï¼‰å¯ç”¨ï¼Œæ˜“è€—å°½æ˜¾å­˜&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
</description>
        </item>
        <item>
        <title>é¢è¯•é—®é¢˜æ”¶é›†</title>
        <link>http://localhost:1313/android-develop/%E9%9D%A2%E8%AF%95%E9%97%AE%E9%A2%98%E6%94%B6%E9%9B%86/</link>
        <pubDate>Fri, 13 Jun 2025 09:30:56 +0800</pubDate>
        
        <guid>http://localhost:1313/android-develop/%E9%9D%A2%E8%AF%95%E9%97%AE%E9%A2%98%E6%94%B6%E9%9B%86/</guid>
        <description>&lt;h4 id=&#34;ä¸€bitmapå†…å­˜ä¼˜åŒ–&#34;&gt;ä¸€ã€Bitmapå†…å­˜ä¼˜åŒ–
&lt;/h4&gt;&lt;p&gt;Bitmapæ˜¯å†…å­˜æ¶ˆè€—å¤§æˆ·ï¼Œé€šè¿‡ä»¥ä¸‹æ–¹æ³•å‡å°‘å ç”¨ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;é™ä½è‰²å½©è§£ææ¨¡å¼&lt;/strong&gt;&lt;br&gt;
ä½¿ç”¨RGB565ç­‰ä½è‰²å½©æ¨¡å¼ï¼Œå°†å•ä¸ªåƒç´ çš„å­—èŠ‚å¤§å°ä»32ä½ï¼ˆARGB8888ï¼‰å‡å°‘åˆ°16ä½ï¼Œæ˜¾è‘—èŠ‚çœå†…å­˜ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åˆç†æ”¾ç½®èµ„æºæ–‡ä»¶&lt;/strong&gt;&lt;br&gt;
é«˜åˆ†è¾¨ç‡å›¾ç‰‡åº”æ”¾ç½®åœ¨é«˜å¯†åº¦ç›®å½•ï¼ˆå¦‚&lt;code&gt;drawable-xxhdpi&lt;/code&gt;ï¼‰ï¼Œé¿å…ç³»ç»Ÿè‡ªåŠ¨ç¼©æ”¾å¯¼è‡´å†…å­˜æµªè´¹ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç¼©å°å›¾ç‰‡å°ºå¯¸&lt;/strong&gt;&lt;br&gt;
åŠ è½½æ—¶é€šè¿‡&lt;code&gt;BitmapFactory.Options&lt;/code&gt;åŠ¨æ€è°ƒæ•´é‡‡æ ·ç‡ï¼ˆ&lt;code&gt;inSampleSize&lt;/code&gt;ï¼‰ï¼Œæˆ–ä½¿ç”¨&lt;code&gt;createScaledBitmap()&lt;/code&gt;å‡å°‘å®½é«˜å°ºå¯¸ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h4 id=&#34;äºŒviewmodelä¸livedataæœºåˆ¶&#34;&gt;äºŒã€ViewModelä¸LiveDataæœºåˆ¶
&lt;/h4&gt;&lt;p&gt;ViewModelå’ŒLiveDataæ˜¯Jetpackç»„ä»¶ï¼Œç”¨äºæ•°æ®ç”Ÿå‘½å‘¨æœŸç®¡ç†å’Œå“åº”å¼UIæ›´æ–°ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ç²˜æ€§äº‹ä»¶ï¼ˆSticky Eventï¼‰&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å®šä¹‰&lt;/strong&gt;ï¼šå½“æ–°è§‚å¯Ÿè€…è®¢é˜…&lt;code&gt;LiveData&lt;/code&gt;æ—¶ï¼Œè‹¥å·²æœ‰å­˜å‚¨å€¼ï¼Œä¼šç«‹å³æ”¶åˆ°æœ€åä¸€æ¬¡æ›´æ–°ï¼ˆæ—§æ•°æ®ï¼‰ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ç¤ºä¾‹&lt;/strong&gt;ï¼šå±å¹•æ—‹è½¬åï¼Œæ–°Activityè§‚å¯ŸLiveDataæ—¶è§¦å‘UIæ›´æ–°ï¼ˆæ—§æ•°æ®ï¼‰ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ¥æº&lt;/strong&gt;ï¼šåŸºäºLiveDataçš„ç‰ˆæœ¬å·å¯¹æ¯”æœºåˆ¶ã€‚ä»£ç å…³é”®éƒ¨åˆ†å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;abstract&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;LiveData&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;T&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; mVersion &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; START_VERSION; &lt;span style=&#34;color:#75715e&#34;&gt;// LiveDataå½“å‰ç‰ˆæœ¬ï¼ˆåˆå§‹-1ï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;LifecycleBoundObserver&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;implements&lt;/span&gt; ObserverWrapper {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; mLastVersion &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; START_VERSION;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;considerNotify&lt;/span&gt;(ObserverWrapper observer) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (observer.&lt;span style=&#34;color:#a6e22e&#34;&gt;mLastVersion&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt; mVersion) { &lt;span style=&#34;color:#75715e&#34;&gt;// æ ¸å¿ƒåˆ¤æ–­ï¼šç‰ˆæœ¬å·è½åæ‰åˆ†å‘&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      observer.&lt;span style=&#34;color:#a6e22e&#34;&gt;mLastVersion&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; mVersion;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      observer.&lt;span style=&#34;color:#a6e22e&#34;&gt;mObserver&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;onChanged&lt;/span&gt;((T)data);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ç®€å•è§£æ³•&lt;/strong&gt;ï¼šä½¿ç”¨&lt;code&gt;Event&lt;/code&gt;åŒ…è£…æ•°æ®ã€‚äº‹ä»¶æ¶ˆè´¹åç½®ç©ºå€¼ï¼Œé¿å…æ—§æ•°æ®è§¦å‘æ›´æ–°ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä½†æ˜¯è¿™ä¸ªä¸æ”¯æŒå¤šè§‚å¯Ÿè€…&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä½¿ç”¨&lt;code&gt;SharedFlow&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ViewModelä¸´æ—¶æ•°æ®ä¿å­˜æœºåˆ¶&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å†…å­˜ä¸­ä¿å­˜&lt;/strong&gt;&lt;br&gt;
ViewModelå¯¹è±¡å­˜å‚¨åœ¨&lt;code&gt;ViewModelStore&lt;/code&gt;ä¸­ã€‚å½“é…ç½®å˜æ›´ï¼ˆå¦‚å±å¹•æ—‹è½¬ï¼‰æ—¶ï¼š
&lt;ul&gt;
&lt;li&gt;Activity/Fragmentè¢«é”€æ¯é‡å»ºã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ViewModelStore&lt;/code&gt;è¢«ç³»ç»Ÿä¿ç•™ï¼ˆç»‘å®šåˆ°&lt;code&gt;NonConfigurationInstances&lt;/code&gt;ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;æ–°å»ºActivity/Fragmentæ—¶è‡ªåŠ¨æ¢å¤ViewModelå®ä¾‹ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ•°æ®èŒƒå›´ä¸æœ€ä½³å®è·µ&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ä¿ç•™åœºæ™¯&lt;/strong&gt;ï¼šå±å¹•æ—‹è½¬ã€åˆ†å±åˆ‡æ¢ã€ç³»ç»Ÿè¯­è¨€æ›´æ”¹ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¸ä¿ç•™åœºæ™¯&lt;/strong&gt;ï¼šç”¨æˆ·é€€å‡ºåº”ç”¨ã€ç³»ç»Ÿèµ„æºä¸è¶³æ€æ­»è¿›ç¨‹ã€Activityè¢«finish()ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æœ€ä½³å®è·µ&lt;/strong&gt;ï¼š
&lt;ol&gt;
&lt;li&gt;ViewModelè§£å†³é…ç½®å˜æ›´çš„&lt;strong&gt;ä¸´æ—¶æ•°æ®ä¿å­˜&lt;/strong&gt;ï¼ˆå†…å­˜çº§ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨ViewModelä½¿ç”¨&lt;code&gt;SavedStateHandle&lt;/code&gt;è§£å†³è¿›ç¨‹è¢«æ€æ­»æ—¶çš„&lt;strong&gt;å…³é”®æ•°æ®æŒä¹…åŒ–&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;å¤æ‚æ•°æ®åº”ä½¿ç”¨æ•°æ®åº“ç­‰æŒä¹…åŒ–æ–¹æ¡ˆã€‚&lt;/li&gt;
&lt;li&gt;é¿å…å†…å­˜æ³„æ¼ï¼šå‹¿åœ¨ViewModelæŒæœ‰Context/Viewå¼•ç”¨ï¼Œå¿…è¦æ—¶ç”¨&lt;code&gt;Application Context&lt;/code&gt;ä»£æ›¿ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h4 id=&#34;ä¸‰viewåŸºç¡€åŸç†&#34;&gt;ä¸‰ã€ViewåŸºç¡€åŸç†
&lt;/h4&gt;&lt;p&gt;æ·±å…¥ç†è§£Viewçš„æµ‹é‡ã€å¸ƒå±€ã€ç»˜åˆ¶æœºåˆ¶ï¼Œæ˜¯ä¼˜åŒ–UIæ€§èƒ½çš„æ ¸å¿ƒã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;MeasureSpecè®¡ç®—ä¸å¸ƒå±€ä¼˜åŒ–&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;MeasureSpecåŸç†&lt;/strong&gt;ï¼šçˆ¶å®¹å™¨ä¼ é€’ç»™å­Viewçš„æµ‹é‡è¦æ±‚ï¼Œç”±å¤§å°å’Œæ¨¡å¼ç»„æˆï¼Œå–å†³äºçˆ¶å®¹å™¨çš„MeasureSpecå’Œå­Viewçš„LayoutParamsã€‚
&lt;ul&gt;
&lt;li&gt;çˆ¶å¸ƒå±€æ ¹æ®è‡ªèº«MeasureSpecå’Œå­View LayoutParamsï¼Œç¡®å®šå­Viewçš„MeasureSpecï¼Œå†è°ƒç”¨&lt;code&gt;children.measure()&lt;/code&gt;ï¼Œæœ€ç»ˆç¡®å®šè‡ªèº«å°ºå¯¸ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¸ƒå±€æ€§èƒ½ä¼˜åŒ–&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;ç¼“å­˜MeasureSpecè®¡ç®—ç»“æœï¼šå›ºå®šå°ºå¯¸Viewï¼ˆå¦‚æŒ‰é’®ï¼‰ç›´æ¥è°ƒç”¨&lt;code&gt;setMeasuredDimension()&lt;/code&gt;è®¾ç½®å®½é«˜ã€‚&lt;/li&gt;
&lt;li&gt;ä¼˜åŒ–å¸ƒå±€æµç¨‹ï¼šå‡å°‘åµŒå¥—å±‚çº§ã€æ‡’åŠ è½½å¸ƒå±€ã€åˆå¹¶é‡å¤å¸ƒå±€ã€‚&lt;/li&gt;
&lt;li&gt;é¿å…æ— æ•ˆé‡ç»˜ï¼šä½¿ç”¨å±€éƒ¨åˆ·æ–°æœºåˆ¶ã€‚&lt;/li&gt;
&lt;li&gt;ç²¾ç¡®æ§åˆ¶ç»˜åˆ¶èŒƒå›´ï¼šé€šè¿‡&lt;code&gt;Canvas.clipRect()&lt;/code&gt;é™åˆ¶ç»˜åˆ¶åŒºåŸŸã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;getMeasuredWidth()ä¸getWidth()åŒºåˆ«&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;getMeasuredWidth()&lt;/strong&gt;ï¼šæµ‹é‡é˜¶æ®µååˆ†é…çš„å®½åº¦ï¼ˆå«å†…è¾¹è·ï¼‰ã€‚
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨æ—¶æœºï¼š&lt;code&gt;onMeasure()&lt;/code&gt;åæˆ–&lt;code&gt;layout()&lt;/code&gt;å‰ã€‚&lt;/li&gt;
&lt;li&gt;ç‰¹ç‚¹ï¼šåæ˜ è§†å›¾çš„æœŸæœ›å®½åº¦ï¼›è‹¥å¸ƒå±€æœªå¼ºåˆ¶æ”¹å˜å°ºå¯¸ï¼Œå¯èƒ½ä¸&lt;code&gt;getWidth&lt;/code&gt;ç›¸åŒã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;getWidth()&lt;/strong&gt;ï¼šå¸ƒå±€é˜¶æ®µåçš„æœ€ç»ˆå¯è§å®½åº¦ï¼ˆå±å¹•å®é™…å€¼ï¼‰ã€‚
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨æ—¶æœºï¼š&lt;code&gt;onLayout&lt;/code&gt;åã€‚&lt;/li&gt;
&lt;li&gt;è®¡ç®—æ–¹å¼ï¼š&lt;code&gt;width = right - left&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;requestLayout()ä¸invalidate()åŒºåˆ«&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;requestLayout()&lt;/strong&gt;ï¼šè¯·æ±‚æ•´ä¸ªè§†å›¾æ ‘çš„æµ‹é‡ï¼ˆmeasureï¼‰å’Œå¸ƒå±€ï¼ˆlayoutï¼‰æµç¨‹ã€‚
&lt;ul&gt;
&lt;li&gt;è§¦å‘åœºæ™¯ï¼šè§†å›¾å°ºå¯¸/ä½ç½®å˜åŒ–ã€åŠ¨æ€æ·»åŠ /ç§»é™¤å­è§†å›¾ã€&lt;code&gt;setVisibility()&lt;/code&gt;å¯¼è‡´å¸ƒå±€ç»“æ„å˜åŒ–ã€‚&lt;/li&gt;
&lt;li&gt;æ‰§è¡Œæµç¨‹ï¼šä»å½“å‰è§†å›¾å‘ä¸Šå›æº¯åˆ°æ ¹è§†å›¾ï¼ˆå¦‚ViewRootImplï¼‰ï¼Œä¾æ¬¡æ‰§è¡Œmeasure â†’ layoutã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;invalidate()&lt;/strong&gt;ï¼šä»…æ ‡è®°è§†å›¾çš„å±€éƒ¨åŒºåŸŸä¸ºâ€œè„åŒºâ€ï¼Œè¯·æ±‚ä¸‹ä¸€å¸§é‡ç»˜è¯¥åŒºåŸŸã€‚
&lt;ul&gt;
&lt;li&gt;è§¦å‘åœºæ™¯ï¼šè§†å›¾å†…å®¹å˜åŒ–ä½†ä¸å½±å“å°ºå¯¸/ä½ç½®ï¼ˆå¦‚&lt;code&gt;onDraw()&lt;/code&gt;ä¾èµ–æ•°æ®æ›´æ–°ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;æ‰§è¡Œæµç¨‹ï¼šæ ‡è®°è„åŒº â†’ åŠ å…¥é‡ç»˜é˜Ÿåˆ— â†’ ä¸‹ä¸€å¸§VSyncä¿¡å·æ—¶è°ƒç”¨&lt;code&gt;onDraw()&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Viewåæ ‡ä½“ç³»&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;getX()/getY()&lt;/strong&gt;ï¼šç›¸å¯¹å½“å‰Viewå·¦ä¸Šè§’çš„å±€éƒ¨åæ ‡ï¼ˆè§¦æ‘¸ç‚¹åœ¨Viewå†…çš„ä½ç½®ï¼‰ã€‚
&lt;ul&gt;
&lt;li&gt;ç‰¹ç‚¹ï¼šä¸çˆ¶å®¹å™¨æ— å…³ï¼›å€¼å¯ä¸ºè´Ÿï¼ˆå¦‚æ»‘åŠ¨è¶…å‡ºViewè¾¹ç•Œï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;getRawX()/getRawY()&lt;/strong&gt;ï¼šç›¸å¯¹å±å¹•å·¦ä¸Šè§’çš„å…¨å±€åæ ‡ã€‚
&lt;ul&gt;
&lt;li&gt;ç‰¹ç‚¹ï¼šåŒ…å«çŠ¶æ€æ é«˜åº¦ï¼ˆ&lt;code&gt;getRawY()&lt;/code&gt;ä»å±å¹•é¡¶éƒ¨ç®—èµ·ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;getLocationOnScreen()&lt;/strong&gt;ï¼šè·å–Viewå·¦ä¸Šè§’åœ¨å±å¹•ä¸Šçš„ç»å¯¹åæ ‡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Viewç”Ÿå‘½å‘¨æœŸå…³é”®æ–¹æ³•&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ„é€ å‡½æ•°&lt;/strong&gt;ï¼šé€šè¿‡ä»£ç æˆ–XMLåˆ›å»ºViewå®ä¾‹ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;onAttachedToWindow()&lt;/strong&gt;ï¼šViewè¢«æ·»åŠ åˆ°çª—å£æ—¶è°ƒç”¨ã€‚
&lt;ul&gt;
&lt;li&gt;ç”¨é€”ï¼šåˆå§‹åŒ–èµ„æºã€æ³¨å†Œç›‘å¬å™¨ã€å¯åŠ¨åŠ¨ç”»ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;onDetachedFromWindow()&lt;/strong&gt;ï¼šViewä»çª—å£ç§»é™¤æ—¶è°ƒç”¨ï¼ˆå¦‚Activityé”€æ¯ï¼‰ã€‚
&lt;ul&gt;
&lt;li&gt;å…³é”®ä½œç”¨ï¼šé‡Šæ”¾èµ„æºã€åœæ­¢åŠ¨ç”»ã€æ³¨é”€ç›‘å¬å™¨ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ³¨æ„äº‹é¡¹&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;onVisibilityChanged()&lt;/code&gt;å¯èƒ½åœ¨&lt;code&gt;onAttachedToWindow()&lt;/code&gt;å‰/åè°ƒç”¨ï¼ˆå¦‚Viewåˆå§‹åŒ–ä¸º&lt;code&gt;GONE&lt;/code&gt;ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;onWindowFocusChanged()&lt;/code&gt;å¯èƒ½åœ¨&lt;code&gt;onDetachedFromWindow()&lt;/code&gt;åè°ƒç”¨ï¼ˆé¿å…åœ¨æ­¤è®¿é—®èµ„æºï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Viewæ€§èƒ½ä¼˜åŒ–&lt;/strong&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;è¿‡åº¦ç»˜åˆ¶ï¼š&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;æ¦‚å¿µï¼šGPUåœ¨ä¸€ä¸ªåƒç´ ç‚¹ä¸Šç»˜åˆ¶äº†å¤šæ¬¡çš„ç°è±¡ã€‚ç³»ç»Ÿé»˜è®¤å…è®¸2.5æ¬¡ï¼ˆ1xç»˜åˆ¶ + 1.5xåŠé€æ˜æ··åˆï¼‰&lt;/li&gt;
&lt;li&gt;ä¸»è¦ä¼˜åŒ–ç­–ç•¥
&lt;ul&gt;
&lt;li&gt;ç§»é™¤ä¸å¿…è¦çš„èƒŒæ™¯&lt;/li&gt;
&lt;li&gt;å‡å°‘Viewçš„å±‚çº§æ·±åº¦&lt;/li&gt;
&lt;li&gt;è°¨æ…ä½¿ç”¨åŠé€æ˜æˆ–**&lt;code&gt;setLayerType(LAYER_TYPE_HARDWARE)&lt;/code&gt;**&lt;/li&gt;
&lt;li&gt;ä¼˜åŒ–&lt;code&gt;clipRect&lt;/code&gt;å’Œ&lt;code&gt;quickReject&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¸ƒå±€ä¼˜åŒ–ï¼š&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;æ¦‚å¿µï¼šæŒ‡æµ‹é‡å’Œå¸ƒå±€é˜¶æ®µçš„æ€§èƒ½ä¼˜åŒ–ã€‚CPUéœ€è¦éå†Viewæ ‘è®¡ç®—æ¯ä¸ªViewçš„å¤§å°å’Œä½ç½®&lt;/li&gt;
&lt;li&gt;ä¼˜åŒ–ç­–ç•¥ï¼š
&lt;ul&gt;
&lt;li&gt;å‡å°‘åµŒå¥—å±‚çº§&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨é«˜æ•ˆå¸ƒå±€æ ‡ç­¾ï¼ˆmergeã€includeã€ViewStubï¼‰&lt;/li&gt;
&lt;li&gt;ä¼˜åŒ–&lt;code&gt;onMeasure&lt;/code&gt;/&lt;code&gt;onLayout&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç»˜åˆ¶ä¼˜åŒ–ï¼š&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;æ¦‚å¿µï¼šæŒ‡å®é™…è°ƒç”¨View.onDrawæ–¹æ³•æ¸²æŸ“åƒç´ åˆ°å±å¹•çš„æ€§èƒ½ä¼˜åŒ–ã€‚CPUå‡†å¤‡ç»˜åˆ¶æŒ‡ä»¤ -&amp;gt;GPUæ‰§è¡Œç»˜åˆ¶&lt;/li&gt;
&lt;li&gt;ä¼˜åŒ–ç­–ç•¥
&lt;ul&gt;
&lt;li&gt;ä¼˜åŒ–onDraw()æ–¹æ³•ï¼šé¿å…å†…å­˜åˆ†é…(ä¸åœ¨onDrawæ–¹æ³•å†…å®ä¾‹åŒ–Paintã€Pathã€Bitmapã€Rectå¯¹è±¡)ï¼Œé¿å…è€—æ—¶æ“ä½œã€é¿å…è°ƒç”¨invalidateï¼ˆé¿å…é€’å½’/ç»˜åˆ¶è¯·æ±‚ï¼‰ï¼Œåˆ©ç”¨canvas.clipRectå’Œcanvas.quickReject(),ä¼˜å…ˆä½¿ç”¨çŸ¢é‡å›¾ä»£æ›¿ä½å›¾ï¼Œä½¿ç”¨ç¡¬ä»¶åŠ é€Ÿæ”¯æŒçš„Canvasæ“ä½œ&lt;/li&gt;
&lt;li&gt;è°¨æ…å¼€å¯Hardware_Layer&lt;/li&gt;
&lt;li&gt;ä¼˜åŒ–alphaé€šé“å’Œé€æ˜åº¦&lt;/li&gt;
&lt;li&gt;ä¼˜åŒ–BitmapåŠ è½½ä¸æ˜¾ç¤º&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é«˜çº§æœºåˆ¶ä¸åŸç†&lt;/strong&gt;
&lt;ol&gt;
&lt;li&gt;ç¡¬ä»¶åŠ é€Ÿï¼šå°†ç»˜åˆ¶æŒ‡ä»¤äº¤ç»™GPUï¼Œä½†æ˜¯éƒ¨åˆ†apiä¸æ”¯æŒ&lt;/li&gt;
&lt;li&gt;SurfaceViewä¸TextureViewï¼štodo&lt;/li&gt;
&lt;li&gt;view.postä¸Handlerï¼štodo&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h4 id=&#34;å››äº‹ä»¶åˆ†å‘æœºåˆ¶&#34;&gt;å››ã€äº‹ä»¶åˆ†å‘æœºåˆ¶
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;æ»‘åŠ¨å®ç°æ–¹å¼&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;scrollTo()&lt;/code&gt;/&lt;code&gt;scrollBy()&lt;/code&gt;&lt;/strong&gt;: scrollTo()æ˜¯ç›´æ¥è·³è½¬åˆ°æŒ‡å®šä½ç½®ï¼ŒscrollByæ˜¯ç›¸å¯¹ç§»åŠ¨ï¼ŒåŸºäºå½“å‰ä½ç½®æ»‘åŠ¨æŒ‡å®šåç§»é‡&lt;/li&gt;
&lt;li&gt;é€šè¿‡&lt;code&gt;ViewDragHelper&lt;/code&gt;å®ç°å¤æ‚æ‹–æ‹½: todo&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è‡ªå®šä¹‰ä¸‹æ‹‰åˆ·æ–°æ§ä»¶&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;todo&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;äº‹ä»¶åˆ†å‘æœºåˆ¶å¦‚ä½•æå‡æ•ˆç‡&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;todo&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åµŒå¥—æ»‘åŠ¨å¤„ç†&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;todo&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;RecyclerViewçš„æ»‘åŠ¨å†²çªå¤„ç†&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;todo&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h4 id=&#34;äº”handler&#34;&gt;äº”ã€Handler
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h4 id=&#34;å…­æ€§èƒ½ä¼˜åŒ–-todo&#34;&gt;å…­ã€æ€§èƒ½ä¼˜åŒ– ï¼ˆtodoï¼‰
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;å†…å­˜ç®¡ç†ä¸æ³„æ¼æ’æŸ¥&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;UIæ¸²æŸ“æ€§èƒ½(å¡é¡¿ä¼˜åŒ–)&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¯åŠ¨é€Ÿåº¦ä¼˜åŒ–&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åŠŸè€—ä¼˜åŒ–åŸºç¡€&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åŒ…ä½“ç§¯ä¼˜åŒ–&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h4 id=&#34;ä¸ƒå¸¸ç”¨åº“ä¸æ¡†æ¶todo&#34;&gt;ä¸ƒã€å¸¸ç”¨åº“ä¸æ¡†æ¶ï¼ˆtodoï¼‰
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;ç½‘ç»œè¯·æ±‚(å¦‚Retrofit)&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å›¾ç‰‡åŠ è½½(å¦‚Glide / Picasso)&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;GradleåŸºç¡€&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h4 id=&#34;å…«ç½‘ç»œä¸åå°&#34;&gt;å…«ã€ç½‘ç»œä¸åå°
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;RESTful APIæ¦‚å¿µä¸ä½¿ç”¨&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¼‚æ­¥å¤„ç†æ·±å…¥ï¼ˆçº¿ç¨‹å®‰å…¨ã€åå°é™åˆ¶ï¼‰&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç¼“å­˜ç­–ç•¥&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h4 id=&#34;ä¹æ¶æ„è®¾è®¡&#34;&gt;ä¹ã€æ¶æ„è®¾è®¡
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;MVVM/MVIç†è§£ä¸å®è·µ&lt;/li&gt;
&lt;li&gt;æ¨¡å—åŒ– / ç»„ä»¶åŒ–&lt;/li&gt;
&lt;li&gt;è®¾è®¡æ¨¡å¼åº”ç”¨&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h4 id=&#34;åæ–°æŠ€æœ¯ä¸è¶‹åŠ¿&#34;&gt;åã€æ–°æŠ€æœ¯ä¸è¶‹åŠ¿
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;Compose&lt;/li&gt;
&lt;li&gt;KMM / Flutter&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h4 id=&#34;åä¸€jvm--å†…å­˜æ¨¡å‹åŸºç¡€&#34;&gt;åä¸€ã€JVM / å†…å­˜æ¨¡å‹åŸºç¡€
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;JVMå†…å­˜ç»“æ„&lt;/li&gt;
&lt;li&gt;åƒåœ¾å›æ”¶æœºåˆ¶åŸºç¡€&lt;/li&gt;
&lt;li&gt;å¸¸è§æ•°æ®ç»“æ„ä¸åŸºç¡€ç®—æ³•&lt;/li&gt;
&lt;/ol&gt;
</description>
        </item>
        <item>
        <title>Categories</title>
        <link>http://localhost:1313/categories/</link>
        <pubDate>Wed, 11 Jun 2025 15:38:21 +0800</pubDate>
        
        <guid>http://localhost:1313/categories/</guid>
        <description></description>
        </item>
        <item>
        <title>RecyclerViewç¼“å­˜æœºåˆ¶</title>
        <link>http://localhost:1313/android-develop/recyclerview%E7%BC%93%E5%AD%98%E6%9C%BA%E5%88%B6/</link>
        <pubDate>Wed, 11 Jun 2025 15:26:57 +0800</pubDate>
        
        <guid>http://localhost:1313/android-develop/recyclerview%E7%BC%93%E5%AD%98%E6%9C%BA%E5%88%B6/</guid>
        <description>&lt;p&gt;RecyclerViewç¼“å­˜æœºåˆ¶&lt;/p&gt;
&lt;h4 id=&#34;å¤šçº§ç¼“å­˜ä½“ç³»æ¶æ„å›¾&#34;&gt;&lt;strong&gt;å¤šçº§ç¼“å­˜ä½“ç³»æ¶æ„å›¾&lt;/strong&gt;
&lt;/h4&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;TEXT

RecyclerView ç¼“å­˜ç³»ç»Ÿ
â”œâ”€â”€ 1. å±å¹•å†…ç¼“å­˜ (Attached Scrap)
â”‚   â””â”€â”€ å­˜æ”¾å½“å‰å¯è§çš„ViewHolderï¼ˆå¿«é€Ÿå¤ç”¨ï¼‰
â”œâ”€â”€ 2. å±å¹•å¤–ç¼“å­˜ (Cache)
â”‚   â””â”€â”€ ä¿å­˜æœ€è¿‘ç¦»å¼€å±å¹•çš„ViewHolderï¼ˆé»˜è®¤å®¹é‡=2ï¼‰
â”œâ”€â”€ 3. æ‰©å±•ç¼“å­˜ (ViewCacheExtension)
â”‚   â””â”€â”€ å¼€å‘è€…è‡ªå®šä¹‰ç¼“å­˜ï¼ˆç‰¹æ®Šç”¨é€”ï¼‰
â””â”€â”€ 4. å›æ”¶æ±  (RecycledViewPool)
    â””â”€â”€ å…¨å±€å…±äº«çš„ViewHolderå­˜å‚¨ï¼ˆä¸åŒç±»å‹ç‹¬ç«‹ç¼“å­˜ï¼‰
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æ ¹æ®&lt;code&gt;position&lt;/code&gt;åˆ¤æ–­æ˜¯å¦å‘½ä¸­&lt;code&gt;Cache&lt;/code&gt;ï¼Œæ ¹æ®&lt;code&gt;viewType&lt;/code&gt;åˆ¤æ–­æ˜¯å¦å‘½ä¸­&lt;code&gt;RecyclerViewPool&lt;/code&gt;ï¼Œä¼šæ‰§è¡Œ&lt;code&gt;onBindViewHolder&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;åœ¨ &lt;strong&gt;RecyclerView&lt;/strong&gt; çš„å›æ”¶å¤ç”¨æœºåˆ¶ä¸­ï¼Œ&lt;code&gt;changedScrap&lt;/code&gt; å’Œ &lt;code&gt;attachedScrap&lt;/code&gt; æ˜¯ä¸¤ä¸ªå…³é”®ä¸´æ—¶ç¼“å­˜ï¼Œè€Œ &lt;strong&gt;Stable IDs&lt;/strong&gt; ä¼šæ”¹å˜ ViewHolder è·å–çš„æ–¹å¼ã€‚ä»¥ä¸‹æ˜¯è¯¦ç»†è§£é‡Šï¼š&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id=&#34;1&#34;&gt;&lt;strong&gt;1. &lt;code&gt;changedScrap&lt;/code&gt; çš„ä½œç”¨&lt;/strong&gt;
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ç”¨é€”&lt;/strong&gt;ï¼šä¸“é—¨é…åˆ &lt;code&gt;notifyItemChanged()&lt;/code&gt; æˆ– &lt;code&gt;notifyDataSetChanged()&lt;/code&gt; ä½¿ç”¨ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å·¥ä½œæœºåˆ¶&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;å½“è°ƒç”¨ &lt;code&gt;notifyItemChanged(position)&lt;/code&gt; æ—¶ï¼Œè¢«æ ‡è®°æ›´æ–°çš„ item ä¼šè¢«ä¸´æ—¶ç§»åˆ° &lt;code&gt;changedScrap&lt;/code&gt; ä¸­ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨å¸ƒå±€é˜¶æ®µï¼ˆå¦‚ &lt;code&gt;onLayout&lt;/code&gt;ï¼‰ï¼Œè¿™äº› ViewHolder ä¼šè¢«é‡æ–°ç»‘å®šæ•°æ®ï¼ˆè°ƒç”¨ &lt;code&gt;onBindViewHolder()&lt;/code&gt;ï¼‰ï¼Œç„¶åæ”¾å›åŸä½ç½®ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç›®çš„&lt;/strong&gt;ï¼šæ”¯æŒå±€éƒ¨æ›´æ–°åŠ¨ç”»ï¼ˆå¦‚æ·¡å…¥æ·¡å‡ºï¼‰ï¼Œé¿å…ç›´æ¥å›æ”¶å¯¼è‡´è§†è§‰ä¸­æ–­ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;2&#34;&gt;&lt;strong&gt;2. &lt;code&gt;attachedScrap&lt;/code&gt; çš„ä½œç”¨&lt;/strong&gt;
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ç”¨é€”&lt;/strong&gt;ï¼šç”¨äº &lt;strong&gt;å¿«é€Ÿå¤ç”¨å¯è§æˆ–å³å°†å¯è§çš„ ViewHolder&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å·¥ä½œæœºåˆ¶&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;åœ¨å¸ƒå±€è¿‡ç¨‹ä¸­ï¼ˆå¦‚ &lt;code&gt;LinearLayoutManager.fill()&lt;/code&gt;ï¼‰ï¼ŒRecyclerView ä¼šå…ˆå°†å½“å‰å±å¹•ä¸Šçš„ ViewHolder &lt;strong&gt;ä¸´æ—¶ç§»é™¤&lt;/strong&gt; åˆ° &lt;code&gt;attachedScrap&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;éå†æ–°å¸ƒå±€æ—¶ï¼Œç›´æ¥ä» &lt;code&gt;attachedScrap&lt;/code&gt; ä¸­æŒ‰ &lt;strong&gt;position åŒ¹é…&lt;/strong&gt; å–å› ViewHolderï¼ˆæ— éœ€åˆ›å»ºæˆ–ç»‘å®šï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç›®çš„&lt;/strong&gt;ï¼šé¿å…æ— æ•ˆçš„åˆ›å»º/ç»‘å®šï¼Œæå‡æ»šåŠ¨æ€§èƒ½ï¼ˆå°¤å…¶åœ¨å¿«é€Ÿæ»‘åŠ¨æ—¶ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;3-stable-ids-å¦‚ä½•æ”¹å˜-viewholder-è·å–æ–¹å¼&#34;&gt;&lt;strong&gt;3. Stable IDs å¦‚ä½•æ”¹å˜ ViewHolder è·å–æ–¹å¼&lt;/strong&gt;
&lt;/h3&gt;&lt;p&gt;å½“å¯ç”¨ &lt;strong&gt;Stable IDs&lt;/strong&gt;ï¼ˆé€šè¿‡ &lt;code&gt;setHasStableIds(true)&lt;/code&gt; + é‡å†™ &lt;code&gt;getItemId()&lt;/code&gt;ï¼‰æ—¶ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ä¼ ç»Ÿæ–¹å¼ï¼ˆæ—  Stable IDsï¼‰&lt;/strong&gt;ï¼š&lt;br&gt;
RecyclerView é€šè¿‡ &lt;strong&gt;position&lt;/strong&gt; åœ¨ &lt;code&gt;attachedScrap&lt;/code&gt; æˆ– &lt;code&gt;changedScrap&lt;/code&gt; ä¸­æŸ¥æ‰¾åŒ¹é…çš„ ViewHolderã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// ä¼ªä»£ç ï¼šæŒ‰ position åŒ¹é…&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;ViewHolder vh &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; attachedScrap.&lt;span style=&#34;color:#a6e22e&#34;&gt;findViewForPosition&lt;/span&gt;(position);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å¯ç”¨ Stable IDs å&lt;/strong&gt;ï¼š&lt;br&gt;
RecyclerView æ”¹ä¸ºé€šè¿‡ &lt;strong&gt;item ID&lt;/strong&gt;ï¼ˆè€Œé positionï¼‰åœ¨ &lt;code&gt;scrap&lt;/code&gt; ä¸­æŸ¥æ‰¾ ViewHolderï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// ä¼ªä»£ç ï¼šæŒ‰ stable ID åŒ¹é…&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;ViewHolder vh &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; changedScrap.&lt;span style=&#34;color:#a6e22e&#34;&gt;findViewHolderByItemId&lt;/span&gt;(id);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;ä¼˜åŠ¿&#34;&gt;&lt;strong&gt;ä¼˜åŠ¿&lt;/strong&gt;
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;ä½ç½®æ— å…³å¤ç”¨&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;å³ä½¿æ•°æ®é›†å˜åŒ–å¯¼è‡´ item ä½ç½®æ”¹å˜ï¼ˆå¦‚æ’å…¥/åˆ é™¤ï¼‰ï¼Œä»èƒ½é€šè¿‡å”¯ä¸€ ID æ­£ç¡®å¤ç”¨ ViewHolderã€‚&lt;/li&gt;
&lt;li&gt;é¿å…å›  position å˜åŒ–å¯¼è‡´çš„ â€œå¤ç”¨é”™ä¹±â€ é—®é¢˜ï¼ˆå¦‚ A ä½ç½®å¤ç”¨åˆ° B æ•°æ®ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åŠ¨ç”»å…¼å®¹æ€§&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;æ”¯æŒæ›´æµç•…çš„åŠ¨ç”»ï¼ˆå¦‚ &lt;code&gt;DiffUtil&lt;/code&gt;ï¼‰ï¼Œå› ä¸º ID æ˜¯æ•°æ®é¡¹çš„å”¯ä¸€æ ‡è¯†ï¼Œä¸å—å¸ƒå±€é¡ºåºå½±å“ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ•ˆç‡æå‡&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;æŸ¥æ‰¾æ“ä½œä» O(N) ä¼˜åŒ–åˆ° O(1)ï¼ˆåŸºäº &lt;code&gt;LongSparseArray&lt;/code&gt; å®ç°ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id=&#34;å…³é”®å¯¹æ¯”æ€»ç»“&#34;&gt;&lt;strong&gt;å…³é”®å¯¹æ¯”æ€»ç»“&lt;/strong&gt;
&lt;/h3&gt;&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th&gt;&lt;strong&gt;ç‰¹æ€§&lt;/strong&gt;&lt;/th&gt;
          &lt;th&gt;&lt;code&gt;changedScrap&lt;/code&gt;&lt;/th&gt;
          &lt;th&gt;&lt;code&gt;attachedScrap&lt;/code&gt;&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;strong&gt;è§¦å‘åœºæ™¯&lt;/strong&gt;&lt;/td&gt;
          &lt;td&gt;&lt;code&gt;notifyItemChanged()&lt;/code&gt; è°ƒç”¨æ—¶&lt;/td&gt;
          &lt;td&gt;å¸ƒå±€è¿‡ç¨‹ä¸­ä¸´æ—¶ç§»é™¤å¯è§ ViewHolder&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;strong&gt;æ•°æ®çŠ¶æ€&lt;/strong&gt;&lt;/td&gt;
          &lt;td&gt;éœ€é‡æ–°ç»‘å®šï¼ˆ&lt;code&gt;onBindViewHolder&lt;/code&gt;ï¼‰&lt;/td&gt;
          &lt;td&gt;æ•°æ®æœªå˜ï¼Œç›´æ¥å¤ç”¨&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;strong&gt;å­˜å‚¨å†…å®¹&lt;/strong&gt;&lt;/td&gt;
          &lt;td&gt;è¢«æ ‡è®°æ›´æ–°çš„ ViewHolder&lt;/td&gt;
          &lt;td&gt;å½“å‰/å³å°†å¯è§çš„ ViewHolder&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;strong&gt;æŸ¥æ‰¾æ–¹å¼ï¼ˆæ—  IDï¼‰&lt;/strong&gt;&lt;/td&gt;
          &lt;td&gt;æŒ‰ &lt;code&gt;position&lt;/code&gt; åŒ¹é…&lt;/td&gt;
          &lt;td&gt;æŒ‰ &lt;code&gt;position&lt;/code&gt; åŒ¹é…&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;strong&gt;æŸ¥æ‰¾æ–¹å¼ï¼ˆæœ‰ IDï¼‰&lt;/strong&gt;&lt;/td&gt;
          &lt;td&gt;æŒ‰ &lt;code&gt;stableId&lt;/code&gt; åŒ¹é…&lt;/td&gt;
          &lt;td&gt;æŒ‰ &lt;code&gt;stableId&lt;/code&gt; åŒ¹é…&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;ä½¿ç”¨å»ºè®®&lt;/strong&gt;ï¼š&lt;br&gt;
è‹¥æ•°æ®é›†å­˜åœ¨åŠ¨æ€ä½ç½®å˜åŒ–ï¼ˆå¦‚æ’åºã€å¢åˆ ï¼‰ï¼Œå¼ºçƒˆå»ºè®®å¯ç”¨ &lt;strong&gt;Stable IDs&lt;/strong&gt;ï¼Œä»¥æå‡å¤ç”¨å‡†ç¡®æ€§å’ŒåŠ¨ç”»æ•ˆæœã€‚&lt;/p&gt;&lt;/blockquote&gt;
</description>
        </item>
        <item>
        <title>Hugo Vercelåšå®¢é…ç½®</title>
        <link>http://localhost:1313/tutorials/hugo-vercel%E5%8D%9A%E5%AE%A2%E9%85%8D%E7%BD%AE/</link>
        <pubDate>Wed, 11 Jun 2025 12:20:50 +0800</pubDate>
        
        <guid>http://localhost:1313/tutorials/hugo-vercel%E5%8D%9A%E5%AE%A2%E9%85%8D%E7%BD%AE/</guid>
        <description>&lt;h4 id=&#34;å‰æœŸå‡†å¤‡&#34;&gt;å‰æœŸå‡†å¤‡
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;å®‰è£… Hugo&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# macOS (Homebrew)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;brew install hugo
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ³¨å†ŒVercelè´¦å·&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;åˆ›å»ºæœ¬åœ°åšå®¢&#34;&gt;åˆ›å»ºæœ¬åœ°åšå®¢
&lt;/h4&gt;&lt;h5 id=&#34;11-ç”Ÿæˆæ–°ç«™ç‚¹&#34;&gt;1.1 ç”Ÿæˆæ–°ç«™ç‚¹
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;hugo new site myblog
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;cd myblog
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;12-æ·»åŠ ä¸»é¢˜&#34;&gt;1.2 æ·»åŠ ä¸»é¢˜
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;git submodule add https://github.com/theNewDynamic/gohugo-theme-ananke.git themes/ananke
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;echo &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;theme = &amp;#39;ananke&amp;#39;&amp;#34;&lt;/span&gt; &amp;gt;&amp;gt; config.toml  &lt;span style=&#34;color:#75715e&#34;&gt;# é…ç½®ä¸»é¢˜&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;è‡ªå®šä¹‰åŸŸå&#34;&gt;è‡ªå®šä¹‰åŸŸå
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;åœ¨Vercelæ§åˆ¶æ§åˆ¶å° -&amp;gt; &lt;strong&gt;Settings&lt;/strong&gt; -&amp;gt; &lt;strong&gt;Domains&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;è¾“å…¥è‡ªå·±çš„åŸŸå(&lt;code&gt;dust-zed.site&lt;/code&gt;,å¯åœ¨é˜¿é‡Œäº‘è´­ä¹°)&lt;/li&gt;
&lt;li&gt;æŒ‰æç¤ºé…ç½®DNSè§£æ&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;ç®¡ç†ä¸åŒç±»å‹çš„æ–‡ç« &#34;&gt;ç®¡ç†ä¸åŒç±»å‹çš„æ–‡ç« 
&lt;/h4&gt;&lt;h5 id=&#34;31-ä½¿ç”¨ç‰©ç†ç›®å½•åˆ†ç±»&#34;&gt;3.1 ä½¿ç”¨ç‰©ç†ç›®å½•åˆ†ç±»
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;content/
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;â”œâ”€â”€ blog/           &lt;span style=&#34;color:#75715e&#34;&gt;# å¸¸è§„åšå®¢&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;â”œâ”€â”€ tutorials/      &lt;span style=&#34;color:#75715e&#34;&gt;# æ•™ç¨‹ç±»&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;â”œâ”€â”€ reviews/        &lt;span style=&#34;color:#75715e&#34;&gt;# äº§å“è¯„æµ‹&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;â””â”€â”€ notes/          &lt;span style=&#34;color:#75715e&#34;&gt;# å­¦ä¹ ç¬”è®°&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;32-åˆ›å»ºå¯¹åº”ç±»å‹æ–‡ç« &#34;&gt;3.2 åˆ›å»ºå¯¹åº”ç±»å‹æ–‡ç« 
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;hugo new tutorials/hugo-vercelåšå®¢é…ç½®.md
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;33-ç»Ÿä¸€é…ç½®æ–‡ä»¶&#34;&gt;3.3 ç»Ÿä¸€é…ç½®æ–‡ä»¶
&lt;/h5&gt;&lt;p&gt;åœ¨&lt;code&gt;config.toml&lt;/code&gt;ä¸­é›†ä¸­ç®¡ç†URLè§„åˆ™&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-toml&#34; data-lang=&#34;toml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# æ‰€æœ‰æ–‡ç« é»˜è®¤è·¯å¾„&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# :slugåŠ¨æ€ä»£è¡¨å†…å®¹çš„URLå‹å¥½ç‰ˆæœ¬æ ‡é¢˜&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;[&lt;span style=&#34;color:#a6e22e&#34;&gt;permalinks&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;posts&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;/blog/:year/:month/:slug/&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;tutorials&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;/learn/:slug/&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;reviews&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;/products/:category/:slug/&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# åˆ†ç±»é¡µé¢è·¯å¾„&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;[&lt;span style=&#34;color:#a6e22e&#34;&gt;taxonomies&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;category&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;categories&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;tag&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;tags&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;35-å¤šçº§ç›®å½•&#34;&gt;3.5 å¤šçº§ç›®å½•
&lt;/h5&gt;&lt;p&gt;ä½¿ç”¨çš„æ˜¯&lt;code&gt;hugo-theme-stack&lt;/code&gt;ä¸»é¢˜ï¼Œæ”¯æŒå¤šçº§ç›®å½•ï¼Œéœ€è¦é€šè¿‡é…ç½®å’Œå†…å®¹ç»„ç»‡æ¥å®ç°ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å†…å®¹ç»„ç»‡&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æŒ‰å±‚çº§ç»„ç»‡å†…å®¹æ–‡ä»¶å¤¹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-toml&#34; data-lang=&#34;toml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;content&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;/&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â”œâ”€â”€&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rust&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;/&lt;/span&gt;                  &lt;span style=&#34;color:#75715e&#34;&gt;# ä¸€çº§ç›®å½•&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â”‚&lt;/span&gt;   &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â”œâ”€â”€&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;ripgrep&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;/&lt;/span&gt;              &lt;span style=&#34;color:#75715e&#34;&gt;# äºŒçº§ç›®å½•&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â”‚&lt;/span&gt;   &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â”‚&lt;/span&gt;   &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â”œâ”€â”€&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;test&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;/&lt;/span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;# ä¸‰çº§ç›®å½•&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â”‚&lt;/span&gt;   &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â”‚&lt;/span&gt;   &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â”‚&lt;/span&gt;   &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â”œâ”€â”€&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;post1&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;md&lt;/span&gt;   &lt;span style=&#34;color:#75715e&#34;&gt;# æ–‡ç« &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â”‚&lt;/span&gt;   &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â”‚&lt;/span&gt;   &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â”œâ”€â”€&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;post2&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;md&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â”‚&lt;/span&gt;   &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â”œâ”€â”€&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;other&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;/&lt;/span&gt;              &lt;span style=&#34;color:#75715e&#34;&gt;# äºŒçº§ç›®å½•&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â”‚&lt;/span&gt;   &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â”‚&lt;/span&gt;   &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â”œâ”€â”€&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;post3&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;md&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åéœ€è¦åœ¨æ–‡ç« çš„frontmatterä¸­æŒ‡å®šåˆ†ç±»å±‚çº§ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-toml&#34; data-lang=&#34;toml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;categories&lt;/span&gt; = [&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;rust&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;ripgrep&amp;#34;&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;é…ç½®å¯¼èˆªèœå•&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä¿®æ”¹config.tomlé…ç½®æ–‡ä»¶ï¼Œé€šè¿‡[[menu.main]]å®šä¹‰éœ€è¦å¤šçº§èœå•çš„ç›®å½•:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-toml&#34; data-lang=&#34;toml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;[[&lt;span style=&#34;color:#a6e22e&#34;&gt;menu&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;main&lt;/span&gt;]]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;name&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;rust&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;url&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;/rust&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;weight&lt;/span&gt; = &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  [[&lt;span style=&#34;color:#a6e22e&#34;&gt;menu&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;main&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;children&lt;/span&gt;]] &lt;span style=&#34;color:#75715e&#34;&gt;# æ³¨æ„ç¼©è¿›&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;name&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;ripgrep&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;url&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;/rust/ripgrep&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;weight&lt;/span&gt; = &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;æ·»åŠ ç´¢å¼•æ–‡ä»¶&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;äºŒçº§èœå•é€šå¸¸éœ€è¦å¯¹åº”å®é™…å†…å®¹ç›®å½•ï¼Œå¦åˆ™å¯èƒ½è¢«ä¸»é¢˜éšè—ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åœ¨&lt;code&gt;content&lt;/code&gt;ç›®å½•ä¸‹åˆ›å»ºåŒ¹é…çš„æ–‡ä»¶å¤¹ç»“æ„ï¼Œå¹¶æ·»åŠ ç´¢å¼•æ–‡ä»¶&lt;code&gt;_index.md&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;content/
â””â”€â”€ rust/
    â”œâ”€â”€ _index.md  # ä¸€çº§ç›®å½•ç´¢å¼•é¡µ
    â””â”€â”€ ripgrep/
        â””â”€â”€ _index.md  # äºŒçº§ç›®å½•ç´¢å¼•é¡µ
&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;
&lt;li&gt;åœ¨ &lt;code&gt;_index.md&lt;/code&gt; ä¸­æ·»åŠ åŸºæœ¬å†…å®¹ï¼ˆfrontmatter å³å¯ï¼‰ï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-toml&#34; data-lang=&#34;toml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# content/rust/_index.md&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;+++&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;title&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Rust ç›¸å…³å†…å®¹&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;+++&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;å‡çº§ç»´æŠ¤&#34;&gt;å‡çº§ç»´æŠ¤
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;æ›´æ–°ä¸»é¢˜ï¼š&lt;code&gt;git submodule update --remote --merge&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æœ¬åœ°æµ‹è¯•ï¼š&lt;code&gt;hugo server -D&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¼ºåˆ¶æ¸…é™¤ç¼“å­˜ï¼š&lt;code&gt;hugo --gc -minify --cleanDestiantionDir&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä½¿ç”¨&lt;code&gt;hugo new --kind tutorial tutorials/new-tutorial.md&lt;/code&gt;åˆ›å»ºé¢„è®¾æ ¼å¼çš„æ–‡ç« &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä¸ºä¸åŒç›®å½•è®¾ç½®ç‹¬ç«‹çš„å‰è¨€å‚æ•°(archetypes)&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;archetypes/
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;â”œâ”€â”€ tutorials.md     &lt;span style=&#34;color:#75715e&#34;&gt;# åšå®¢æ•™ç¨‹æ¨¡æ¿&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        
    </channel>
</rss>
