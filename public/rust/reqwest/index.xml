<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>reqwest on zed的博客</title><link>https://www.dust-zed.site/rust/reqwest/</link><description>Recent content in reqwest on zed的博客</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><lastBuildDate>Tue, 02 Sep 2025 16:42:46 +0800</lastBuildDate><atom:link href="https://www.dust-zed.site/rust/reqwest/index.xml" rel="self" type="application/rss+xml"/><item><title>Reqwest模块架构解析</title><link>https://www.dust-zed.site/rust/reqwest/reqwest%E6%A8%A1%E5%9D%97%E6%9E%B6%E6%9E%84%E8%A7%A3%E6%9E%90/</link><pubDate>Tue, 02 Sep 2025 16:42:46 +0800</pubDate><guid>https://www.dust-zed.site/rust/reqwest/reqwest%E6%A8%A1%E5%9D%97%E6%9E%B6%E6%9E%84%E8%A7%A3%E6%9E%90/</guid><description>&lt;p>从顶层结构来理解reqwest的模块组织：&lt;/p>
&lt;h4 id="核心模块">核心模块
&lt;/h4>&lt;h5 id="1-async_impl">1. async_impl/
&lt;/h5>&lt;ul>
&lt;li>异步HTTP客户端实现&lt;/li>
&lt;li>包含&lt;code>Client&lt;/code>、&lt;code>Reqwest&lt;/code>、&lt;code>Response&lt;/code>等核心类型&lt;/li>
&lt;li>基于&lt;code>hyper&lt;/code>库实现&lt;/li>
&lt;/ul>
&lt;h5 id="2-blocking">2. blocking/
&lt;/h5>&lt;ul>
&lt;li>同步HTTP客户端&lt;/li>
&lt;li>内部使用&lt;code>std::thread&lt;/code>封装异步调用&lt;/li>
&lt;li>提供阻塞式API&lt;/li>
&lt;/ul>
&lt;h5 id="3-dns">3. dns/
&lt;/h5>&lt;ul>
&lt;li>DNS解析功能&lt;/li>
&lt;li>支持系统DNS和自定义解析器&lt;/li>
&lt;li>包含&lt;code>GaiResolver&lt;/code>等实现&lt;/li>
&lt;/ul>
&lt;h5 id="4-proxy">4. proxy/
&lt;/h5>&lt;ul>
&lt;li>代理支持&lt;/li>
&lt;li>处理HTTP/HTTPS/SOCKS代理&lt;/li>
&lt;li>代理自动发现和认证&lt;/li>
&lt;/ul>
&lt;h5 id="5-tls">5. tls
&lt;/h5>&lt;ul>
&lt;li>安全传输层实现&lt;/li>
&lt;li>支持native-tls和rustls&lt;/li>
&lt;li>证书和身份管理&lt;/li>
&lt;/ul>
&lt;h5 id="6-redirect">6. redirect/
&lt;/h5>&lt;ul>
&lt;li>重定向处理&lt;/li>
&lt;li>支持自定义重定向策略&lt;/li>
&lt;li>处理3xx状态码&lt;/li>
&lt;/ul>
&lt;h5 id="7-wasm">7. wasm/
&lt;/h5>&lt;ul>
&lt;li>WebAssembly平台特定实现&lt;/li>
&lt;li>使用浏览器Fetch API&lt;/li>
&lt;li>针对Web环境优化&lt;/li>
&lt;/ul>
&lt;h4 id="辅助模块">辅助模块
&lt;/h4>&lt;ul>
&lt;li>&lt;strong>cookie/&lt;/strong> - Cookie管理&lt;/li>
&lt;li>&lt;strong>multipart/&lt;/strong> - 多部分表单数据处理&lt;/li>
&lt;li>&lt;strong>retry/&lt;/strong> - 请求重试机制&lt;/li>
&lt;li>&lt;strong>util/&lt;/strong> - 工具函数和辅助类型&lt;/li>
&lt;/ul>
&lt;h4 id="特性开关">特性开关
&lt;/h4>&lt;p>通过Cargo features控制功能：&lt;/p>
&lt;ul>
&lt;li>&lt;code>default-tls&lt;/code> - 默认TLS实现&lt;/li>
&lt;li>&lt;code>native-tls&lt;/code> - 使用系统原生TLS&lt;/li>
&lt;li>&lt;code>rustls&lt;/code> - 使用rustls纯Rust实现&lt;/li>
&lt;li>&lt;code>blocking&lt;/code> - 启用同步API&lt;/li>
&lt;li>&lt;code>cookies&lt;/code> - Cookie支持&lt;/li>
&lt;li>&lt;code>json&lt;/code> - JSON序列化支持&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-rust" data-lang="rust">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">//lib.rs
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span>&lt;span style="color:#75715e">#[cfg(feature = &lt;/span>&lt;span style="color:#e6db74">&amp;#34;blocking&amp;#34;&lt;/span>&lt;span style="color:#75715e">)]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">pub&lt;/span> &lt;span style="color:#66d9ef">mod&lt;/span> blocking;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#[cfg(feature = &lt;/span>&lt;span style="color:#e6db74">&amp;#34;cookies&amp;#34;&lt;/span>&lt;span style="color:#75715e">)]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">pub&lt;/span> &lt;span style="color:#66d9ef">mod&lt;/span> cookie;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>在 &lt;code>Cargo.toml&lt;/code> 中通过 features 控制哪些实现被编译。&lt;/p></description></item></channel></rss>