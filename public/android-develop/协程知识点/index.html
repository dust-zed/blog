<!DOCTYPE html>
<html lang="zh-cn" dir="ltr">
    <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content="å°†å›è°ƒè½¬æ¢ä¸ºåç¨‹ èƒŒæ™¯ï¼šå¾ˆå¤šåº“ï¼ˆå°¤å…¶æ˜¯Java/Androidé—ç•™åº“ï¼‰ä½¿ç”¨åŸºäºå›è°ƒï¼ˆCallbackï¼‰çš„APIå¤„ç†å¼‚æ­¥æ“ä½œï¼ˆå¦‚ç½‘ç»œè¯·æ±‚ï¼Œæ•°æ®åº“æ“ä½œï¼‰ã€‚è¿™åœ¨ä»£ç ä¸­ä¼šå¯¼è‡´å›è°ƒåœ°ç‹±ã€‚æˆ‘ä»¬éœ€è¦ä¸€ç§æ–¹æ³•å°†è¿™ç§å›è°ƒé£æ ¼çš„APIè½¬æ¢æˆæŒ‚èµ·å‡½æ•°(suspend fun)ï¼Œä½¿å…¶å¯ä»¥åœ¨åç¨‹ä¸­åƒé¡ºåºä»£ç ä¸€æ ·ä½¿ç”¨ã€‚\næ ¸å¿ƒå‡½æ•°ï¼š\nsuspendCoroutine(ç®€å•è½¬æ¢ï¼Œæ— å†…ç½®å–æ¶ˆæ”¯æŒ) suspend fun &lt;T&gt; convertCallbackToSuspendingFunc(): T = suspendCoroutine { continuation -&gt; //1. å¯åŠ¨å¼‚æ­¥æ“ä½œ val callback = object : Callback&lt;T&gt; { override fun onSuccess(result: T) { //2. æˆåŠŸæ—¶æ¢å¤åç¨‹ï¼Œä¼ é€’ç»“æœ continuation.resume(result) } override fun onFailure(error: Throwable) { //3. å¤±è´¥æ—¶æ¢å¤åç¨‹ï¼Œä¼ é€’å¼‚å¸¸ continuation.resumeWithException(error) } } someAsyncOperation(callback) } continuation: è¡¨ç¤ºå½“å‰è¢«æŒ‚èµ·çš„åç¨‹ã€‚å®ƒæä¾›äº†æ¢å¤åç¨‹çš„æ–¹æ³•ï¼šresume(value)å’ŒresumeWithException(exception)ã€‚ ç¼ºç‚¹ï¼šå¦‚æœè°ƒç”¨è¿™ä¸ªsuspend fun çš„åç¨‹è¢«å–æ¶ˆã€‚someAsyncOperationä¸ä¼šè‡ªåŠ¨ç»ˆæ­¢ã€‚è¿™å¯èƒ½å¯¼è‡´èµ„æºæµªè´¹æˆ–æ„å¤–ç»“æœã€‚åªé€‚ç”¨äºå¼‚æ­¥æ“ä½œæœ¬èº«éå¸¸å¿«æˆ–ä½ ä¸å…³å¿ƒå–æ¶ˆçš„æƒ…å†µã€‚ suspendCancellableCoroutine(æ”¯æŒå–æ¶ˆ) suspend fun &lt;T&gt; convertCallbackToSuspendingFuncSafely(): T = suspendCancellableCoroutine { cancellableContinuation -&gt; // 1. å¯åŠ¨å¼‚æ­¥æ“ä½œ val callback = object : Callback&lt;T&gt; { override fun onSuccess(result: T) { cancellableContinuation.resume(result) } override fun onFailure(error: Throwable) { cancellableContinuation.resumeWithException(error) } } someAsyncOperation(callback) // 2. â­ å…³é”®æ­¥éª¤ï¼šæ³¨å†Œå–æ¶ˆç›‘å¬å™¨ â­ cancellableContinuation.invokeOnCancellation { // å½“åç¨‹è¢«å–æ¶ˆæ—¶ï¼Œå°è¯•å–æ¶ˆåº•å±‚çš„å¼‚æ­¥æ“ä½œ // é€šå¸¸è°ƒç”¨åº“æä¾›çš„å–æ¶ˆæ–¹æ³•ï¼Œä¾‹å¦‚ï¼šcancelOperation(callback) cancelOperation(callback) } } å½“è°ƒç”¨è¿™ä¸ªsuspend funçš„åç¨‹è¢«å–æ¶ˆæ—¶ï¼š åç¨‹çš„å–æ¶ˆçŠ¶æ€ä¼šä¼ æ’­åˆ°è¿™ä¸ª CancellableContinuationã€‚ è§¦å‘ invokeOnCancellation {} å—ã€‚ åœ¨å—å†…ï¼Œä½ è°ƒç”¨åº“çš„å–æ¶ˆæ–¹æ³•å»æ¸…ç†èµ„æºå¹¶åœæ­¢æ“ä½œã€‚ è¿™æ˜¯å°†å›è°ƒ API é›†æˆåˆ°åç¨‹ä¸–ç•Œçš„æœ€ä½³å®è·µã€‚ åç¨‹ä½œç”¨åŸŸ 1ã€ä»€ä¹ˆæ˜¯åç¨‹ä½œç”¨åŸŸï¼ˆCoroutineScopeï¼‰ CoroutineScopeä¸æ˜¯åç¨‹æœ¬èº«ï¼Œè€Œæ˜¯ä¸€ä¸ªå®šä¹‰æ–°åç¨‹è¿è¡Œç¯å¢ƒçš„æ¥å£ å®ƒä¸ºåœ¨å…¶å†…éƒ¨å¯åŠ¨çš„æ‰€æœ‰å­åç¨‹æä¾›äº†ä¸€ä¸ªç»Ÿä¸€çš„CoroutineContextåŸºç¡€ å®ƒå°†æ‰€æœ‰åœ¨å…¶å†…éƒ¨å¯åŠ¨çš„åç¨‹ç»„ç»‡åœ¨ä¸€ä¸ªç»“æ„ä¸­ï¼Œä»¥ä¾¿è¿›è¡Œç”Ÿå‘½å‘¨æœŸç®¡ç† æ ¸å¿ƒæ„æˆï¼š\n">
<title>åç¨‹çŸ¥è¯†ç‚¹</title>

<link rel='canonical' href='http://localhost:1313/android-develop/%E5%8D%8F%E7%A8%8B%E7%9F%A5%E8%AF%86%E7%82%B9/'>

<link rel="stylesheet" href="/scss/style.min.946cca6c6259ef94ac55abfae7c7bf3291ea3ed5eea17ef77500b257217c6710.css"><meta property='og:title' content="åç¨‹çŸ¥è¯†ç‚¹">
<meta property='og:description' content="å°†å›è°ƒè½¬æ¢ä¸ºåç¨‹ èƒŒæ™¯ï¼šå¾ˆå¤šåº“ï¼ˆå°¤å…¶æ˜¯Java/Androidé—ç•™åº“ï¼‰ä½¿ç”¨åŸºäºå›è°ƒï¼ˆCallbackï¼‰çš„APIå¤„ç†å¼‚æ­¥æ“ä½œï¼ˆå¦‚ç½‘ç»œè¯·æ±‚ï¼Œæ•°æ®åº“æ“ä½œï¼‰ã€‚è¿™åœ¨ä»£ç ä¸­ä¼šå¯¼è‡´å›è°ƒåœ°ç‹±ã€‚æˆ‘ä»¬éœ€è¦ä¸€ç§æ–¹æ³•å°†è¿™ç§å›è°ƒé£æ ¼çš„APIè½¬æ¢æˆæŒ‚èµ·å‡½æ•°(suspend fun)ï¼Œä½¿å…¶å¯ä»¥åœ¨åç¨‹ä¸­åƒé¡ºåºä»£ç ä¸€æ ·ä½¿ç”¨ã€‚\næ ¸å¿ƒå‡½æ•°ï¼š\nsuspendCoroutine(ç®€å•è½¬æ¢ï¼Œæ— å†…ç½®å–æ¶ˆæ”¯æŒ) suspend fun &lt;T&gt; convertCallbackToSuspendingFunc(): T = suspendCoroutine { continuation -&gt; //1. å¯åŠ¨å¼‚æ­¥æ“ä½œ val callback = object : Callback&lt;T&gt; { override fun onSuccess(result: T) { //2. æˆåŠŸæ—¶æ¢å¤åç¨‹ï¼Œä¼ é€’ç»“æœ continuation.resume(result) } override fun onFailure(error: Throwable) { //3. å¤±è´¥æ—¶æ¢å¤åç¨‹ï¼Œä¼ é€’å¼‚å¸¸ continuation.resumeWithException(error) } } someAsyncOperation(callback) } continuation: è¡¨ç¤ºå½“å‰è¢«æŒ‚èµ·çš„åç¨‹ã€‚å®ƒæä¾›äº†æ¢å¤åç¨‹çš„æ–¹æ³•ï¼šresume(value)å’ŒresumeWithException(exception)ã€‚ ç¼ºç‚¹ï¼šå¦‚æœè°ƒç”¨è¿™ä¸ªsuspend fun çš„åç¨‹è¢«å–æ¶ˆã€‚someAsyncOperationä¸ä¼šè‡ªåŠ¨ç»ˆæ­¢ã€‚è¿™å¯èƒ½å¯¼è‡´èµ„æºæµªè´¹æˆ–æ„å¤–ç»“æœã€‚åªé€‚ç”¨äºå¼‚æ­¥æ“ä½œæœ¬èº«éå¸¸å¿«æˆ–ä½ ä¸å…³å¿ƒå–æ¶ˆçš„æƒ…å†µã€‚ suspendCancellableCoroutine(æ”¯æŒå–æ¶ˆ) suspend fun &lt;T&gt; convertCallbackToSuspendingFuncSafely(): T = suspendCancellableCoroutine { cancellableContinuation -&gt; // 1. å¯åŠ¨å¼‚æ­¥æ“ä½œ val callback = object : Callback&lt;T&gt; { override fun onSuccess(result: T) { cancellableContinuation.resume(result) } override fun onFailure(error: Throwable) { cancellableContinuation.resumeWithException(error) } } someAsyncOperation(callback) // 2. â­ å…³é”®æ­¥éª¤ï¼šæ³¨å†Œå–æ¶ˆç›‘å¬å™¨ â­ cancellableContinuation.invokeOnCancellation { // å½“åç¨‹è¢«å–æ¶ˆæ—¶ï¼Œå°è¯•å–æ¶ˆåº•å±‚çš„å¼‚æ­¥æ“ä½œ // é€šå¸¸è°ƒç”¨åº“æä¾›çš„å–æ¶ˆæ–¹æ³•ï¼Œä¾‹å¦‚ï¼šcancelOperation(callback) cancelOperation(callback) } } å½“è°ƒç”¨è¿™ä¸ªsuspend funçš„åç¨‹è¢«å–æ¶ˆæ—¶ï¼š åç¨‹çš„å–æ¶ˆçŠ¶æ€ä¼šä¼ æ’­åˆ°è¿™ä¸ª CancellableContinuationã€‚ è§¦å‘ invokeOnCancellation {} å—ã€‚ åœ¨å—å†…ï¼Œä½ è°ƒç”¨åº“çš„å–æ¶ˆæ–¹æ³•å»æ¸…ç†èµ„æºå¹¶åœæ­¢æ“ä½œã€‚ è¿™æ˜¯å°†å›è°ƒ API é›†æˆåˆ°åç¨‹ä¸–ç•Œçš„æœ€ä½³å®è·µã€‚ åç¨‹ä½œç”¨åŸŸ 1ã€ä»€ä¹ˆæ˜¯åç¨‹ä½œç”¨åŸŸï¼ˆCoroutineScopeï¼‰ CoroutineScopeä¸æ˜¯åç¨‹æœ¬èº«ï¼Œè€Œæ˜¯ä¸€ä¸ªå®šä¹‰æ–°åç¨‹è¿è¡Œç¯å¢ƒçš„æ¥å£ å®ƒä¸ºåœ¨å…¶å†…éƒ¨å¯åŠ¨çš„æ‰€æœ‰å­åç¨‹æä¾›äº†ä¸€ä¸ªç»Ÿä¸€çš„CoroutineContextåŸºç¡€ å®ƒå°†æ‰€æœ‰åœ¨å…¶å†…éƒ¨å¯åŠ¨çš„åç¨‹ç»„ç»‡åœ¨ä¸€ä¸ªç»“æ„ä¸­ï¼Œä»¥ä¾¿è¿›è¡Œç”Ÿå‘½å‘¨æœŸç®¡ç† æ ¸å¿ƒæ„æˆï¼š\n">
<meta property='og:url' content='http://localhost:1313/android-develop/%E5%8D%8F%E7%A8%8B%E7%9F%A5%E8%AF%86%E7%82%B9/'>
<meta property='og:site_name' content='zedçš„åšå®¢'>
<meta property='og:type' content='article'><meta property='article:section' content='Android-Develop' /><meta property='article:published_time' content='2025-06-30T19:02:22&#43;08:00'/><meta property='article:modified_time' content='2025-06-30T19:02:22&#43;08:00'/>
<meta name="twitter:title" content="åç¨‹çŸ¥è¯†ç‚¹">
<meta name="twitter:description" content="å°†å›è°ƒè½¬æ¢ä¸ºåç¨‹ èƒŒæ™¯ï¼šå¾ˆå¤šåº“ï¼ˆå°¤å…¶æ˜¯Java/Androidé—ç•™åº“ï¼‰ä½¿ç”¨åŸºäºå›è°ƒï¼ˆCallbackï¼‰çš„APIå¤„ç†å¼‚æ­¥æ“ä½œï¼ˆå¦‚ç½‘ç»œè¯·æ±‚ï¼Œæ•°æ®åº“æ“ä½œï¼‰ã€‚è¿™åœ¨ä»£ç ä¸­ä¼šå¯¼è‡´å›è°ƒåœ°ç‹±ã€‚æˆ‘ä»¬éœ€è¦ä¸€ç§æ–¹æ³•å°†è¿™ç§å›è°ƒé£æ ¼çš„APIè½¬æ¢æˆæŒ‚èµ·å‡½æ•°(suspend fun)ï¼Œä½¿å…¶å¯ä»¥åœ¨åç¨‹ä¸­åƒé¡ºåºä»£ç ä¸€æ ·ä½¿ç”¨ã€‚\næ ¸å¿ƒå‡½æ•°ï¼š\nsuspendCoroutine(ç®€å•è½¬æ¢ï¼Œæ— å†…ç½®å–æ¶ˆæ”¯æŒ) suspend fun &lt;T&gt; convertCallbackToSuspendingFunc(): T = suspendCoroutine { continuation -&gt; //1. å¯åŠ¨å¼‚æ­¥æ“ä½œ val callback = object : Callback&lt;T&gt; { override fun onSuccess(result: T) { //2. æˆåŠŸæ—¶æ¢å¤åç¨‹ï¼Œä¼ é€’ç»“æœ continuation.resume(result) } override fun onFailure(error: Throwable) { //3. å¤±è´¥æ—¶æ¢å¤åç¨‹ï¼Œä¼ é€’å¼‚å¸¸ continuation.resumeWithException(error) } } someAsyncOperation(callback) } continuation: è¡¨ç¤ºå½“å‰è¢«æŒ‚èµ·çš„åç¨‹ã€‚å®ƒæä¾›äº†æ¢å¤åç¨‹çš„æ–¹æ³•ï¼šresume(value)å’ŒresumeWithException(exception)ã€‚ ç¼ºç‚¹ï¼šå¦‚æœè°ƒç”¨è¿™ä¸ªsuspend fun çš„åç¨‹è¢«å–æ¶ˆã€‚someAsyncOperationä¸ä¼šè‡ªåŠ¨ç»ˆæ­¢ã€‚è¿™å¯èƒ½å¯¼è‡´èµ„æºæµªè´¹æˆ–æ„å¤–ç»“æœã€‚åªé€‚ç”¨äºå¼‚æ­¥æ“ä½œæœ¬èº«éå¸¸å¿«æˆ–ä½ ä¸å…³å¿ƒå–æ¶ˆçš„æƒ…å†µã€‚ suspendCancellableCoroutine(æ”¯æŒå–æ¶ˆ) suspend fun &lt;T&gt; convertCallbackToSuspendingFuncSafely(): T = suspendCancellableCoroutine { cancellableContinuation -&gt; // 1. å¯åŠ¨å¼‚æ­¥æ“ä½œ val callback = object : Callback&lt;T&gt; { override fun onSuccess(result: T) { cancellableContinuation.resume(result) } override fun onFailure(error: Throwable) { cancellableContinuation.resumeWithException(error) } } someAsyncOperation(callback) // 2. â­ å…³é”®æ­¥éª¤ï¼šæ³¨å†Œå–æ¶ˆç›‘å¬å™¨ â­ cancellableContinuation.invokeOnCancellation { // å½“åç¨‹è¢«å–æ¶ˆæ—¶ï¼Œå°è¯•å–æ¶ˆåº•å±‚çš„å¼‚æ­¥æ“ä½œ // é€šå¸¸è°ƒç”¨åº“æä¾›çš„å–æ¶ˆæ–¹æ³•ï¼Œä¾‹å¦‚ï¼šcancelOperation(callback) cancelOperation(callback) } } å½“è°ƒç”¨è¿™ä¸ªsuspend funçš„åç¨‹è¢«å–æ¶ˆæ—¶ï¼š åç¨‹çš„å–æ¶ˆçŠ¶æ€ä¼šä¼ æ’­åˆ°è¿™ä¸ª CancellableContinuationã€‚ è§¦å‘ invokeOnCancellation {} å—ã€‚ åœ¨å—å†…ï¼Œä½ è°ƒç”¨åº“çš„å–æ¶ˆæ–¹æ³•å»æ¸…ç†èµ„æºå¹¶åœæ­¢æ“ä½œã€‚ è¿™æ˜¯å°†å›è°ƒ API é›†æˆåˆ°åç¨‹ä¸–ç•Œçš„æœ€ä½³å®è·µã€‚ åç¨‹ä½œç”¨åŸŸ 1ã€ä»€ä¹ˆæ˜¯åç¨‹ä½œç”¨åŸŸï¼ˆCoroutineScopeï¼‰ CoroutineScopeä¸æ˜¯åç¨‹æœ¬èº«ï¼Œè€Œæ˜¯ä¸€ä¸ªå®šä¹‰æ–°åç¨‹è¿è¡Œç¯å¢ƒçš„æ¥å£ å®ƒä¸ºåœ¨å…¶å†…éƒ¨å¯åŠ¨çš„æ‰€æœ‰å­åç¨‹æä¾›äº†ä¸€ä¸ªç»Ÿä¸€çš„CoroutineContextåŸºç¡€ å®ƒå°†æ‰€æœ‰åœ¨å…¶å†…éƒ¨å¯åŠ¨çš„åç¨‹ç»„ç»‡åœ¨ä¸€ä¸ªç»“æ„ä¸­ï¼Œä»¥ä¾¿è¿›è¡Œç”Ÿå‘½å‘¨æœŸç®¡ç† æ ¸å¿ƒæ„æˆï¼š\n">
    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column compact"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="åˆ‡æ¢èœå•">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/">
                
                    
                    
                    
                        
                        <img src="/img/avatar_hu_f509edb42ecc0ebd.png" width="300"
                            height="300" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/">zedçš„åšå®¢</a></h1>
            <h2 class="site-description"></h2>
        </div>
    </header><ol class="menu" id="main-menu">
        
        
        
        <li  class='current' >
            <a href='/android-develop/' >
                
                
                
                <span>Android-Develops</span>
            </a>
        </li>
        
        
        <li >
            <a href='/rust/' >
                
                
                
                <span>Rusts</span>
            </a>
        </li>
        
        
        <li >
            <a href='/tutorials/' >
                
                
                
                <span>Tutorials</span>
            </a>
        </li>
        
        <li class="menu-bottom-section">
            <ol class="menu">

                
                    <li id="dark-mode-toggle">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <span>æš—è‰²æ¨¡å¼</span>
                    </li>
                
            </ol>
        </li>
    </ol>
</aside>

    

            <main class="main full-width">
    <article class="main-article">
    <header class="article-header">

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/categories/android-develop/" >
                Android-Develop
            </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/android-develop/%E5%8D%8F%E7%A8%8B%E7%9F%A5%E8%AF%86%E7%82%B9/">åç¨‹çŸ¥è¯†ç‚¹</a>
        </h2>
    
        
    </div>

    
    
    
    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">Jun 30, 2025</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    é˜…è¯»æ—¶é•¿: 2 åˆ†é’Ÿ
                </time>
            </div>
        
    </footer>
    

    
</div>

</header>

    <section class="article-content">
    
    
    <h4 id="å°†å›è°ƒè½¬æ¢ä¸ºåç¨‹">å°†å›è°ƒè½¬æ¢ä¸ºåç¨‹
</h4><p><strong>èƒŒæ™¯</strong>ï¼šå¾ˆå¤šåº“ï¼ˆå°¤å…¶æ˜¯Java/Androidé—ç•™åº“ï¼‰ä½¿ç”¨åŸºäºå›è°ƒï¼ˆCallbackï¼‰çš„APIå¤„ç†å¼‚æ­¥æ“ä½œï¼ˆå¦‚ç½‘ç»œè¯·æ±‚ï¼Œæ•°æ®åº“æ“ä½œï¼‰ã€‚è¿™åœ¨ä»£ç ä¸­ä¼šå¯¼è‡´å›è°ƒåœ°ç‹±ã€‚æˆ‘ä»¬éœ€è¦ä¸€ç§æ–¹æ³•å°†è¿™ç§å›è°ƒé£æ ¼çš„APIè½¬æ¢æˆ<code>æŒ‚èµ·å‡½æ•°(suspend fun)</code>ï¼Œä½¿å…¶å¯ä»¥åœ¨åç¨‹ä¸­åƒ<strong>é¡ºåºä»£ç </strong>ä¸€æ ·ä½¿ç”¨ã€‚</p>
<p><strong>æ ¸å¿ƒå‡½æ•°ï¼š</strong></p>
<ol>
<li><strong><code>suspendCoroutine</code>(ç®€å•è½¬æ¢ï¼Œæ— å†…ç½®å–æ¶ˆæ”¯æŒ)</strong></li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span><span style="color:#66d9ef">suspend</span> <span style="color:#66d9ef">fun</span> &lt;<span style="color:#a6e22e">T</span>&gt; <span style="color:#a6e22e">convertCallbackToSuspendingFunc</span>(): T = suspendCoroutine {
</span></span><span style="display:flex;"><span>  continuation <span style="color:#f92672">-&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">//1. å¯åŠ¨å¼‚æ­¥æ“ä½œ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">val</span> callback = <span style="color:#66d9ef">object</span> <span style="color:#960050;background-color:#1e0010">: </span><span style="color:#a6e22e">Callback</span>&lt;T&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">override</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">onSuccess</span>(result: T) {
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">//2. æˆåŠŸæ—¶æ¢å¤åç¨‹ï¼Œä¼ é€’ç»“æœ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      continuation.resume(result)
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">override</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">onFailure</span>(error: Throwable) {
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">//3. å¤±è´¥æ—¶æ¢å¤åç¨‹ï¼Œä¼ é€’å¼‚å¸¸
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      continuation.resumeWithException(error)
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  someAsyncOperation(callback)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>continuation: è¡¨ç¤ºå½“å‰è¢«æŒ‚èµ·çš„åç¨‹ã€‚å®ƒæä¾›äº†æ¢å¤åç¨‹çš„æ–¹æ³•ï¼šresume(value)å’ŒresumeWithException(exception)ã€‚</li>
<li>ç¼ºç‚¹ï¼šå¦‚æœè°ƒç”¨è¿™ä¸ªsuspend fun çš„åç¨‹è¢«å–æ¶ˆã€‚someAsyncOperationä¸ä¼šè‡ªåŠ¨ç»ˆæ­¢ã€‚è¿™å¯èƒ½å¯¼è‡´èµ„æºæµªè´¹æˆ–æ„å¤–ç»“æœã€‚åªé€‚ç”¨äºå¼‚æ­¥æ“ä½œæœ¬èº«éå¸¸å¿«æˆ–ä½ ä¸å…³å¿ƒå–æ¶ˆçš„æƒ…å†µã€‚</li>
</ul>
<ol start="2">
<li><strong><code>suspendCancellableCoroutine</code>(æ”¯æŒå–æ¶ˆ)</strong></li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span><span style="color:#66d9ef">suspend</span> <span style="color:#66d9ef">fun</span> &lt;<span style="color:#a6e22e">T</span>&gt; <span style="color:#a6e22e">convertCallbackToSuspendingFuncSafely</span>(): T = suspendCancellableCoroutine { cancellableContinuation <span style="color:#f92672">-&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 1. å¯åŠ¨å¼‚æ­¥æ“ä½œ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">val</span> callback = <span style="color:#66d9ef">object</span> <span style="color:#960050;background-color:#1e0010">: </span><span style="color:#a6e22e">Callback</span>&lt;T&gt; {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">override</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">onSuccess</span>(result: T) {
</span></span><span style="display:flex;"><span>            cancellableContinuation.resume(result)
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">override</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">onFailure</span>(error: Throwable) {
</span></span><span style="display:flex;"><span>            cancellableContinuation.resumeWithException(error)
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    someAsyncOperation(callback)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 2. â­ å…³é”®æ­¥éª¤ï¼šæ³¨å†Œå–æ¶ˆç›‘å¬å™¨ â­
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    cancellableContinuation.invokeOnCancellation {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// å½“åç¨‹è¢«å–æ¶ˆæ—¶ï¼Œå°è¯•å–æ¶ˆåº•å±‚çš„å¼‚æ­¥æ“ä½œ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#75715e">// é€šå¸¸è°ƒç”¨åº“æä¾›çš„å–æ¶ˆæ–¹æ³•ï¼Œä¾‹å¦‚ï¼šcancelOperation(callback)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        cancelOperation(callback)
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>å½“è°ƒç”¨è¿™ä¸ª<code>suspend fun</code>çš„åç¨‹è¢«å–æ¶ˆæ—¶ï¼š
<ol>
<li>åç¨‹çš„å–æ¶ˆçŠ¶æ€ä¼šä¼ æ’­åˆ°è¿™ä¸ª <code>CancellableContinuation</code>ã€‚</li>
<li>è§¦å‘ <code>invokeOnCancellation {}</code> å—ã€‚</li>
<li>åœ¨å—å†…ï¼Œä½ è°ƒç”¨åº“çš„å–æ¶ˆæ–¹æ³•å»æ¸…ç†èµ„æºå¹¶åœæ­¢æ“ä½œã€‚</li>
</ol>
</li>
<li>è¿™æ˜¯<strong>å°†å›è°ƒ API é›†æˆåˆ°åç¨‹ä¸–ç•Œçš„æœ€ä½³å®è·µ</strong>ã€‚</li>
</ul>
<h4 id="åç¨‹ä½œç”¨åŸŸ">åç¨‹ä½œç”¨åŸŸ
</h4><h5 id="1ä»€ä¹ˆæ˜¯åç¨‹ä½œç”¨åŸŸcoroutinescope">1ã€ä»€ä¹ˆæ˜¯åç¨‹ä½œç”¨åŸŸï¼ˆCoroutineScopeï¼‰
</h5><ul>
<li><code>CoroutineScope</code>ä¸æ˜¯åç¨‹æœ¬èº«ï¼Œè€Œæ˜¯ä¸€ä¸ª<strong>å®šä¹‰æ–°åç¨‹è¿è¡Œç¯å¢ƒ</strong>çš„æ¥å£</li>
<li>å®ƒä¸ºåœ¨å…¶å†…éƒ¨å¯åŠ¨çš„æ‰€æœ‰å­åç¨‹æä¾›äº†ä¸€ä¸ªç»Ÿä¸€çš„<code>CoroutineContext</code>åŸºç¡€</li>
<li>å®ƒå°†æ‰€æœ‰åœ¨å…¶å†…éƒ¨å¯åŠ¨çš„åç¨‹<strong>ç»„ç»‡åœ¨ä¸€ä¸ªç»“æ„ä¸­</strong>ï¼Œä»¥ä¾¿è¿›è¡Œ<strong>ç”Ÿå‘½å‘¨æœŸç®¡ç†</strong></li>
</ul>
<p><strong>æ ¸å¿ƒæ„æˆï¼š</strong></p>
<p>CoroutineScopeæ¥å£åªæœ‰ä¸€ä¸ªå±æ€§ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span><span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">CoroutineScope</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">val</span> coroutineContext: CotoutineContext
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>è¿™ä¸ª<code>coroutineContext</code>æ˜¯å¯åŠ¨åœ¨è¯¥ä½œç”¨åŸŸå†…çš„<strong>æ‰€æœ‰å­åç¨‹çš„é»˜è®¤ä¸Šä¸‹æ–‡</strong>ã€‚</p>
<p><strong>åç¨‹ä½œç”¨åŸŸçš„æ ¸å¿ƒä¼˜ç‚¹</strong></p>
<ol>
<li><strong>ç”Ÿå‘½å‘¨æœŸçš„è‡ªåŠ¨ç®¡ç†(å–æ¶ˆ)</strong>
<ul>
<li>é¿å…å†…å­˜æ³„æ¼</li>
<li>ç®€åŒ–èµ„æºæ¸…ç†</li>
</ul>
</li>
<li><strong>å®‰å…¨æ€§ä¸æ¸…æ™°æ€§</strong>
<ul>
<li>å–æ¶ˆä¼ æ’­ï¼šä½œç”¨åŸŸçš„å–æ¶ˆä¼šè‡ªåŠ¨ä¸”å¯é åœ°ä¼ æ’­åˆ°æ‰€æœ‰å­åç¨‹ï¼Œæ— éœ€å¼€å‘è€…æ‰‹åŠ¨çº§è”å–æ¶ˆ</li>
<li>å¼‚å¸¸å¤„ç†æ§åˆ¶ï¼šä½œç”¨åŸŸå®šä¹‰äº†å¼‚å¸¸ä¼ æ’­çš„ç­–ç•¥ï¼ˆé€šè¿‡å…¶å…³è”çš„<code>Job</code>æ˜¯æ™®é€š<code>Job</code>è¿˜æ˜¯<code>SupervisorJob</code>ï¼‰ã€‚<code>SupervisorJob</code>å…è®¸å­åç¨‹ç‹¬ç«‹å¤±è´¥è€Œä¸å½±å“å…¶ä»–å…„å¼Ÿåç¨‹å’Œçˆ¶ä½œç”¨åŸŸï¼ˆå¸¸ç”¨äºUIç»„ä»¶ä¸­å•ç‹¬çš„åå°ä»»åŠ¡ï¼‰ã€‚</li>
<li>ä»£ç ç»„ç»‡æ¸…æ™°ï¼šå°†ä»»åŠ¡åˆ’åˆ†åˆ°ä¸åŒçš„ä½œç”¨åŸŸä¸­ï¼Œä½“ç°äº†ä»»åŠ¡çš„é€»è¾‘å’Œç”Ÿå‘½å‘¨æœŸå½’å±ã€‚</li>
</ul>
</li>
<li><strong>ä¸Šä¸‹æ–‡ç»§æ‰¿ä¸å…±äº«</strong>
<ul>
<li>åœ¨ä½œç”¨åŸŸå†…å¯åŠ¨çš„åç¨‹é»˜è®¤ç»§æ‰¿ä½œç”¨åŸŸçš„coroutineContext</li>
<li>å¯ä»¥æŒ‡å®šä¸åŒçš„CoroutineContextå…ƒç´ æ¥è¦†ç›–ä¸Šä¸‹æ–‡</li>
</ul>
</li>
<li><strong>ååŒç­‰å¾…(job.join(), coroutineScope {})</strong>
<ul>
<li>ä½ å¯ä»¥é€šè¿‡ä½œç”¨åŸŸçš„å…³è” <code>Job</code> (è°ƒç”¨ <code>scope.coroutineContext[Job]!!.join()</code> æˆ–æ›´ç®€å•åœ°ä½¿ç”¨ <code>coroutineScope {}</code> æ„å»ºå™¨) æ¥<strong>ç­‰å¾…ä½œç”¨åŸŸå†…æ‰€æœ‰å­åç¨‹å…¨éƒ¨å®Œæˆ</strong>ã€‚è¿™ä¿è¯äº†ä»»åŠ¡å†…éƒ¨çš„å¹¶å‘æ“ä½œåœ¨å¤–éƒ¨çœ‹æ¥æ˜¯åŸå­æ€§çš„ï¼ˆå³çˆ¶åç¨‹ç­‰å¾…æ‰€æœ‰å­åç¨‹å®Œæˆåè‡ªå·±æ‰å®Œæˆï¼‰ã€‚</li>
<li><code>coroutineScope {}</code> æ„å»ºå™¨æœ¬èº«ä¹Ÿä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å­ä½œç”¨åŸŸï¼Œå¹¶ç­‰å¾…å…¶å†…éƒ¨æ‰€æœ‰å­åç¨‹å®Œæˆ</li>
</ul>
</li>
</ol>
<hr>
<h4 id="asyncçš„è¡Œä¸º">asyncçš„è¡Œä¸º
</h4><h5 id="1-asyncçš„ç«‹å³å¯åŠ¨ç‰¹æ€§">1. asyncçš„ç«‹å³å¯åŠ¨ç‰¹æ€§
</h5><ul>
<li>asyncä¸æ˜¯ç­‰å¾…awaitæ‰æ‰§è¡Œï¼šå½“ä½¿ç”¨async { &hellip; } åˆ›å»ºåç¨‹æ—¶ï¼Œå…¶ä¸­çš„ä»£ç ä¼šç«‹å³å¼€å§‹æ‰§è¡Œï¼Œè€Œä¸æ˜¯ç­‰å¾…è°ƒç”¨<code>await()</code>ã€‚å³ä½¿ä¸è°ƒç”¨await()ï¼Œåç¨‹ä½“ä¹Ÿä¼šåœ¨åå°å¯åŠ¨ã€‚</li>
<li>å¹¶å‘æ‰§è¡Œï¼šå¤šä¸ªasyncåç¨‹é»˜è®¤å¹¶è¡Œæ‰§è¡Œï¼ˆå–å†³äºè°ƒåº¦å™¨å’Œä¸Šä¸‹æ–‡ï¼‰ã€‚ä¾‹å¦‚ï¼š</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span><span style="color:#66d9ef">val</span> deferred1 = async { task1() } <span style="color:#75715e">// ç«‹å³å¼€å§‹æ‰§è¡Œ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">val</span> deferred2 = async { task2() } <span style="color:#75715e">// ç«‹å³å¼€å§‹æ‰§è¡Œï¼ˆå¯èƒ½ä¸ task1 åŒæ—¶è¿è¡Œï¼‰
</span></span></span></code></pre></div><h5 id="2-awaitçš„ä½œç”¨">2. await()çš„ä½œç”¨
</h5><ul>
<li>åŒæ­¥ç­‰å¾…ç»“æœï¼šawait()æ˜¯ä¸€ä¸ªæŒ‚èµ·ç‚¹ï¼š
<ul>
<li>å¦‚æœåç¨‹å·²å®Œæˆï¼šç›´æ¥è¿”å›ç»“æœ</li>
<li>å¦‚æœåç¨‹æœªå®Œæˆï¼šæŒ‚èµ·å½“å‰åç¨‹ï¼Œç­‰å¾…ç»“æœä½†ä¸é˜»æ­¢å…¶ä»–åç¨‹æ‰§è¡Œ</li>
</ul>
</li>
<li>é¡ºåºæ§åˆ¶ï¼šawait()å¯å¼ºåˆ¶ç­‰å¾…é¡ºåºï¼š</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span><span style="color:#66d9ef">val</span> result1 = deferred1.await() <span style="color:#75715e">// ç­‰å¾… task1 å®Œæˆ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">val</span> result2 = deferred2.await() <span style="color:#75715e">// å†ç­‰å¾… task2 å®Œæˆ
</span></span></span></code></pre></div><h4 id="qa">Q&amp;A
</h4><ol>
<li>
<p>çˆ¶åç¨‹çš„æŒ‚èµ·ä¼šå½±å“å­åç¨‹çš„è¿è¡Œå—ï¼Ÿ</p>
<ul>
<li><strong>é€šå¸¸ä¸ä¼šå½±å“å­åç¨‹çš„è¿è¡Œ</strong>ï¼Œçˆ¶åç¨‹ä¸å­åç¨‹æ˜¯ç‹¬ç«‹çš„ä»»åŠ¡å•å…ƒï¼Œåªè¦å­åç¨‹æœªå®Œæˆä¸”æœªè¢«å–æ¶ˆï¼Œä»–ä»¬ä¼šç»§ç»­ç”±è°ƒåº¦å™¨åˆ†é…çº¿ç¨‹æ‰§è¡Œã€‚å–æ¶ˆæ˜¯å–æ¶ˆï¼ŒæŒ‚èµ·æ—¶è®©å‡ºå½“å‰çº¿ç¨‹</li>
</ul>
</li>
<li>
<p>çˆ¶ä½œç”¨åŸŸä¼šç­‰å¾…æ‰€æœ‰å­åç¨‹å®Œæˆåæ‰ç»§ç»­æ‰§è¡Œï¼Ÿ</p>
<ul>
<li>æ˜¯çš„ï¼Œä¸€ä¸ªæ˜¯éšå¼ç­‰å¾…ï¼Œä¸€ä¸ªæ˜¯ç”±coroutineScopeæ„å»ºçš„æ˜¾å¼ç­‰å¾…ã€‚</li>
</ul>
</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span><span style="color:#66d9ef">suspend</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">complexTask</span>() = coroutineScope { <span style="color:#75715e">// â­çˆ¶ä½œç”¨åŸŸâ­
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">val</span> deferred1 = async {
</span></span><span style="display:flex;"><span>        delay(<span style="color:#ae81ff">1000</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;ç»“æœ1&#34;</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">val</span> deferred2 = async {
</span></span><span style="display:flex;"><span>        delay(<span style="color:#ae81ff">1500</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;ç»“æœ2&#34;</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    println(<span style="color:#e6db74">&#34;ç»„åˆç»“æœ: </span><span style="color:#e6db74">${deferred1.await()}</span><span style="color:#e6db74"> + </span><span style="color:#e6db74">${deferred2.await()}</span><span style="color:#e6db74">&#34;</span>) 
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// ğŸš« ä¼šç­‰å¾…ä¸¤ä¸ªasyncéƒ½å®Œæˆæ‰æ‰§è¡Œ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>runBlocking {
</span></span><span style="display:flex;"><span>    println(<span style="color:#e6db74">&#34;å¼€å§‹ä»»åŠ¡&#34;</span>)
</span></span><span style="display:flex;"><span>    complexTask() <span style="color:#75715e">// ğŸ‘‡æŒ‚èµ·ç‚¹ğŸ‘‡
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    println(<span style="color:#e6db74">&#34;âœ… æ‰€æœ‰åµŒå¥—åç¨‹å®Œæˆ&#34;</span>) <span style="color:#75715e">// åœ¨complexTaskå†…éƒ¨å®Œæˆåæ‰§è¡Œ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span></code></pre></div>
</section>


    <footer class="article-footer">
    

    </footer>


    
</article>

    

    

     
    
        
    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
        2025 zedçš„åšå®¢
    </section>
    
    <section class="powerby">
        ä½¿ç”¨ <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> æ„å»º <br />
        ä¸»é¢˜ <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.30.0">Stack</a></b> ç”± <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a> è®¾è®¡
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.0640c0f9745d7bd65b558574cdb67852b46437c1f807526bf043aebc566fd6e4.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
