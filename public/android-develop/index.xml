<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>Android-Develops on zedçš„åšå®¢</title>
        <link>http://localhost:1313/android-develop/</link>
        <description>Recent content in Android-Develops on zedçš„åšå®¢</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>zh-cn</language>
        <lastBuildDate>Tue, 01 Jul 2025 15:49:53 +0800</lastBuildDate><atom:link href="http://localhost:1313/android-develop/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>MMKVä¸SharedPreferences</title>
        <link>http://localhost:1313/android-develop/mmkv%E4%B8%8Esharedpreferences/</link>
        <pubDate>Tue, 01 Jul 2025 15:49:53 +0800</pubDate>
        
        <guid>http://localhost:1313/android-develop/mmkv%E4%B8%8Esharedpreferences/</guid>
        <description>&lt;p&gt;Androidä¸­çš„MMKVå’ŒSharedPreferenceséƒ½æ˜¯ç”¨äºå­˜å‚¨é”®å€¼å¯¹æ•°æ®çš„è½»é‡çº§è§£å†³æ–¹æ¡ˆï¼Œä½†ä»–ä»¬åœ¨è®¾è®¡ã€æ€§èƒ½å’Œé€‚ç”¨åœºæ™¯ä¸Šå­˜åœ¨æ˜¾è‘—å·®å¼‚ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;sharedpreferences&#34;&gt;SharedPreferences
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å®šä½&lt;/strong&gt;ï¼šAndroidå®˜æ–¹æä¾›çš„è½»é‡çº§é”®å€¼å¯¹å­˜å‚¨APIã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å®ç°&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;åŸºäº&lt;code&gt;XML&lt;/code&gt;æ–‡ä»¶å­˜å‚¨ã€‚&lt;/li&gt;
&lt;li&gt;æ•°æ®ä¿å­˜åœ¨&lt;code&gt;/data/data/&amp;lt;package_name&amp;gt;/shared_prefs/&lt;/code&gt;ç›®å½•ä¸‹&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ç‰¹ç‚¹ï¼š
&lt;ul&gt;
&lt;li&gt;ç®€å•æ˜“ç”¨ï¼šAPIç›´è§‚ï¼ŒåŸç”Ÿæ”¯æŒ&lt;/li&gt;
&lt;li&gt;çº¿ç¨‹å®‰å…¨(è¯»å†™é”)ï¼šå†…éƒ¨ä½¿ç”¨é”æœºåˆ¶ä¿è¯å¤šçº¿ç¨‹å®‰å…¨ï¼Œä½†ä¹Ÿå¯èƒ½æˆä¸ºæ€§èƒ½ç“¶é¢ˆ&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¼‚æ­¥å†™å…¥(&lt;code&gt;apply()&lt;/code&gt;)&lt;/strong&gt;:ä¸»è¦æ¨èæ–¹å¼ï¼Œå¼‚æ­¥å†™å…¥ç£ç›˜ï¼Œé¿å…é˜»å¡UIçº¿ç¨‹(ä½†æäº¤æ“ä½œæœ¬èº«åœ¨ä¸»çº¿ç¨‹)ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åŒæ­¥å†™å…¥(&lt;code&gt;commit()&lt;/code&gt;)&lt;/strong&gt;:é˜»å¡è°ƒç”¨çº¿ç¨‹ç›´åˆ°å†™å…¥å®Œæˆï¼Œå¯èƒ½å¯¼è‡´ANRï¼Œä¸€èˆ¬é¿å…åœ¨ä¸»çº¿ç¨‹ä½¿ç”¨ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ä¸»è¦ç¼ºç‚¹ï¼š
&lt;ul&gt;
&lt;li&gt;æ€§èƒ½è¾ƒå·®ï¼š
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å…¨é‡å†™å…¥&lt;/strong&gt;ï¼šå³ä½¿åªä¿®æ”¹ä¸€ä¸ªå€¼ï¼Œ&lt;code&gt;apply()/commit()&lt;/code&gt;ä¹Ÿä¼šè§¦å‘æ•´ä¸ªXMLæ–‡ä»¶çš„åºåˆ—åŒ–å’Œå†™å…¥æ“ä½œã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;XMLè§£æå¼€é”€&lt;/strong&gt;ï¼šæ¯æ¬¡è¯»å–éƒ½éœ€è¦è§£æXML&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ½œåœ¨ANRé£é™©ï¼š
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;commit(&lt;/code&gt;)åœ¨ä¸»çº¿ç¨‹åŒæ­¥å†™å…¥å¤§æ–‡ä»¶å¯èƒ½å¯¼è‡´ANRã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;apply()&lt;/code&gt;çš„æ½œåœ¨ANRï¼šapplyè™½ç„¶å¼‚æ­¥ï¼Œä½†å®ƒæŠŠå†™å…¥ä»»åŠ¡æ”¾è¿›ä¸€ä¸ª&lt;code&gt;QueueWorké˜Ÿåˆ—&lt;/code&gt;ã€‚åœ¨Activityç”Ÿå‘½å‘¨æœŸï¼ˆå¦‚&lt;code&gt;onPause&lt;/code&gt;ï¼Œ&lt;code&gt;onStop&lt;/code&gt;ï¼‰è§¦å‘&lt;code&gt;QueueWork.waitToFinish()&lt;/code&gt;æ—¶ï¼Œä¼šç­‰å¾…æ‰€æœ‰æœªå®Œæˆçš„apply()å†™å…¥ä»»åŠ¡å®Œæˆã€‚å¦‚æœåå°ä»»åŠ¡ç§¯å‹æˆ–å†™å…¥ç¼“æ…¢ï¼Œä¼šé˜»å¡ä¸»çº¿ç¨‹ï¼Œå¯èƒ½å¯¼è‡´ANR(å°¤å…¶åœ¨ä½ç«¯è®¾å¤‡ã€é¢‘ç¹æ›´æ–°æˆ–å¤§æ–‡ä»¶æ—¶)ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å¯é æ€§é—®é¢˜(&lt;code&gt;MODE_MULTI_PROCESS&lt;/code&gt;):
&lt;ul&gt;
&lt;li&gt;å®˜æ–¹&lt;code&gt;MODE_MULTI_PROCESS&lt;/code&gt;å·²è¢«å¼ƒç”¨ä¸”å£°æ˜ä¸å¯é ã€‚ä¸æ”¯æŒçœŸæ­£çš„å¤šè¿›ç¨‹åŒæ­¥ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ•°æ®è†¨èƒ€ï¼šä¿®æ”¹é¢‘ç¹ä¼šå¯¼è‡´XMLæ–‡ä»¶å˜å¤§ï¼ˆéœ€æ‰‹åŠ¨&lt;code&gt;clear + commit&lt;/code&gt;æ‰èƒ½å‡å°ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;ä¸æ”¯æŒå¤æ‚ç±»å‹ï¼šä»…æ”¯æŒåŸºæœ¬ç±»å‹ï¼Œå­˜å‚¨å¯¹è±¡éœ€è‡ªè¡Œåºåˆ—åŒ–&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;2-mmkv&#34;&gt;2. MMKV
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å®šä½&lt;/strong&gt;ï¼šç”±è…¾è®¯å¾®ä¿¡å›¢é˜Ÿå¼€æºçš„é«˜æ€§èƒ½&lt;strong&gt;è·¨å¹³å°&lt;/strong&gt;é”®å€¼å­˜å‚¨ç»„ä»¶&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å®ç°åŸç†&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å†…å­˜æ˜ å°„(&lt;code&gt;mmap&lt;/code&gt;)&lt;/strong&gt;:æ ¸å¿ƒæœºåˆ¶ï¼å°†æ–‡ä»¶ç›´æ¥æ˜ å°„åˆ°å†…å­˜ç©ºé—´ã€‚è¯»å†™æ“ä½œç›´æ¥åœ¨å†…å­˜ä¸­è¿›è¡Œï¼Œç”±æ“ä½œç³»ç»Ÿè´Ÿè´£å¼‚æ­¥åˆ·ç›˜ã€‚çœå»äº†ä¼ ç»ŸI/Oçš„æ•°æ®æ‹·è´è¿‡ç¨‹ï¼Œæ¯”XMLæ›´å°æ›´å¿«&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Protobuf&lt;/code&gt;ç¼–ç ï¼šä½¿ç”¨é«˜æ•ˆçš„protobufæ ¼å¼è¿›è¡Œåºåˆ—åŒ–ï¼Œæ¯”XMLæ›´å°æ›´å¿«ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¢é‡å†™å…¥&lt;/strong&gt;ï¼šä¿®æ”¹æ•°æ®æ—¶ï¼Œé€šå¸¸æ˜¯&lt;strong&gt;è¿½åŠ å†™&lt;/strong&gt;åˆ°æ–‡ä»¶æœ«å°¾ (append-only)ï¼Œé¿å…å…¨é‡é‡å†™ã€‚é€šè¿‡ç‰¹æ®Šçš„ç©ºé—´å¤ç”¨å’Œåƒåœ¾å›æ”¶æœºåˆ¶å¤„ç†è¿‡æœŸæ•°æ®ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç‰¹ç‚¹&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;æè‡´æ€§èƒ½ï¼šè¯»å†™é€Ÿåº¦è¿œè¶…SharedPreferencesï¼Œé€šå¸¸è¾¾åˆ°æ•°å€æˆ–ç™¾å€çš„æå‡ã€‚å†™å…¥å³ç”Ÿæ•ˆï¼Œè¯»å–ç«‹å³å¯è§ã€‚&lt;/li&gt;
&lt;li&gt;çœŸæ­£çš„å¤šè¿›ç¨‹æ”¯æŒï¼šå®Œç¾è§£å†³è·¨è¿›ç¨‹åŒæ­¥é—®é¢˜ï¼ˆ&lt;code&gt;mmap&lt;/code&gt; + &lt;code&gt;æ–‡ä»¶é”/è¿›ç¨‹é—´é”æœºåˆ¶&lt;/code&gt;ï¼‰&lt;/li&gt;
&lt;li&gt;æ›´å°çš„å­˜å‚¨ç©ºé—´ï¼šprotobufç¼–ç æ¯”XMLæ›´ç´§å‡‘ã€‚&lt;/li&gt;
&lt;li&gt;æ— ANRæ‹…å¿§ï¼š
&lt;ul&gt;
&lt;li&gt;å†™å…¥æ“ä½œå‡ ä¹å®Œå…¨è¢«&lt;code&gt;mmap&lt;/code&gt;å’Œ&lt;code&gt;OS&lt;/code&gt;æ¥ç®¡ï¼Œæ˜¯çœŸæ­£éé˜»å¡çš„ã€‚&lt;/li&gt;
&lt;li&gt;å®Œå…¨é¿å…äº†&lt;code&gt;SharedPreferences.apply&lt;/code&gt;æ½œåœ¨çš„&lt;code&gt;QueueWork.waitToFinish()&lt;/code&gt;ANRé—®é¢˜&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ”¯æŒæ•°æ®ç±»å‹ä¸°å¯Œï¼šåŸç”Ÿæ”¯æŒåŸºæœ¬ç±»å‹ã€&lt;code&gt;String&lt;/code&gt;, &lt;code&gt;byte[]&lt;/code&gt;, å¹¶ä¸”èƒ½æ–¹ä¾¿åœ°æ”¯æŒå®ç°äº† &lt;code&gt;Parcelable&lt;/code&gt; æˆ– &lt;code&gt;Serializable&lt;/code&gt; çš„&lt;strong&gt;ä»»æ„ Java å¯¹è±¡&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>åç¨‹çŸ¥è¯†ç‚¹</title>
        <link>http://localhost:1313/android-develop/%E5%8D%8F%E7%A8%8B%E7%9F%A5%E8%AF%86%E7%82%B9/</link>
        <pubDate>Mon, 30 Jun 2025 19:02:22 +0800</pubDate>
        
        <guid>http://localhost:1313/android-develop/%E5%8D%8F%E7%A8%8B%E7%9F%A5%E8%AF%86%E7%82%B9/</guid>
        <description>&lt;h4 id=&#34;å°†å›è°ƒè½¬æ¢ä¸ºåç¨‹&#34;&gt;å°†å›è°ƒè½¬æ¢ä¸ºåç¨‹
&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;èƒŒæ™¯&lt;/strong&gt;ï¼šå¾ˆå¤šåº“ï¼ˆå°¤å…¶æ˜¯Java/Androidé—ç•™åº“ï¼‰ä½¿ç”¨åŸºäºå›è°ƒï¼ˆCallbackï¼‰çš„APIå¤„ç†å¼‚æ­¥æ“ä½œï¼ˆå¦‚ç½‘ç»œè¯·æ±‚ï¼Œæ•°æ®åº“æ“ä½œï¼‰ã€‚è¿™åœ¨ä»£ç ä¸­ä¼šå¯¼è‡´å›è°ƒåœ°ç‹±ã€‚æˆ‘ä»¬éœ€è¦ä¸€ç§æ–¹æ³•å°†è¿™ç§å›è°ƒé£æ ¼çš„APIè½¬æ¢æˆ&lt;code&gt;æŒ‚èµ·å‡½æ•°(suspend fun)&lt;/code&gt;ï¼Œä½¿å…¶å¯ä»¥åœ¨åç¨‹ä¸­åƒ&lt;strong&gt;é¡ºåºä»£ç &lt;/strong&gt;ä¸€æ ·ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ ¸å¿ƒå‡½æ•°ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;suspendCoroutine&lt;/code&gt;(ç®€å•è½¬æ¢ï¼Œæ— å†…ç½®å–æ¶ˆæ”¯æŒ)&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;suspend&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &amp;lt;&lt;span style=&#34;color:#a6e22e&#34;&gt;T&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;convertCallbackToSuspendingFunc&lt;/span&gt;(): T = suspendCoroutine {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  continuation &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;//1. å¯åŠ¨å¼‚æ­¥æ“ä½œ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; callback = &lt;span style=&#34;color:#66d9ef&#34;&gt;object&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;: &lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;Callback&lt;/span&gt;&amp;lt;T&amp;gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;override&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;onSuccess&lt;/span&gt;(result: T) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#75715e&#34;&gt;//2. æˆåŠŸæ—¶æ¢å¤åç¨‹ï¼Œä¼ é€’ç»“æœ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;      continuation.resume(result)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;override&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;onFailure&lt;/span&gt;(error: Throwable) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#75715e&#34;&gt;//3. å¤±è´¥æ—¶æ¢å¤åç¨‹ï¼Œä¼ é€’å¼‚å¸¸
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;      continuation.resumeWithException(error)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  someAsyncOperation(callback)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;continuation: è¡¨ç¤ºå½“å‰è¢«æŒ‚èµ·çš„åç¨‹ã€‚å®ƒæä¾›äº†æ¢å¤åç¨‹çš„æ–¹æ³•ï¼šresume(value)å’ŒresumeWithException(exception)ã€‚&lt;/li&gt;
&lt;li&gt;ç¼ºç‚¹ï¼šå¦‚æœè°ƒç”¨è¿™ä¸ªsuspend fun çš„åç¨‹è¢«å–æ¶ˆã€‚someAsyncOperationä¸ä¼šè‡ªåŠ¨ç»ˆæ­¢ã€‚è¿™å¯èƒ½å¯¼è‡´èµ„æºæµªè´¹æˆ–æ„å¤–ç»“æœã€‚åªé€‚ç”¨äºå¼‚æ­¥æ“ä½œæœ¬èº«éå¸¸å¿«æˆ–ä½ ä¸å…³å¿ƒå–æ¶ˆçš„æƒ…å†µã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;suspendCancellableCoroutine&lt;/code&gt;(æ”¯æŒå–æ¶ˆ)&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;suspend&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &amp;lt;&lt;span style=&#34;color:#a6e22e&#34;&gt;T&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;convertCallbackToSuspendingFuncSafely&lt;/span&gt;(): T = suspendCancellableCoroutine { cancellableContinuation &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// 1. å¯åŠ¨å¼‚æ­¥æ“ä½œ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; callback = &lt;span style=&#34;color:#66d9ef&#34;&gt;object&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;: &lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;Callback&lt;/span&gt;&amp;lt;T&amp;gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;override&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;onSuccess&lt;/span&gt;(result: T) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            cancellableContinuation.resume(result)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;override&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;onFailure&lt;/span&gt;(error: Throwable) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            cancellableContinuation.resumeWithException(error)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    someAsyncOperation(callback)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// 2. â­ å…³é”®æ­¥éª¤ï¼šæ³¨å†Œå–æ¶ˆç›‘å¬å™¨ â­
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    cancellableContinuation.invokeOnCancellation {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// å½“åç¨‹è¢«å–æ¶ˆæ—¶ï¼Œå°è¯•å–æ¶ˆåº•å±‚çš„å¼‚æ­¥æ“ä½œ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// é€šå¸¸è°ƒç”¨åº“æä¾›çš„å–æ¶ˆæ–¹æ³•ï¼Œä¾‹å¦‚ï¼šcancelOperation(callback)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        cancelOperation(callback)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;å½“è°ƒç”¨è¿™ä¸ª&lt;code&gt;suspend fun&lt;/code&gt;çš„åç¨‹è¢«å–æ¶ˆæ—¶ï¼š
&lt;ol&gt;
&lt;li&gt;åç¨‹çš„å–æ¶ˆçŠ¶æ€ä¼šä¼ æ’­åˆ°è¿™ä¸ª &lt;code&gt;CancellableContinuation&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;è§¦å‘ &lt;code&gt;invokeOnCancellation {}&lt;/code&gt; å—ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨å—å†…ï¼Œä½ è°ƒç”¨åº“çš„å–æ¶ˆæ–¹æ³•å»æ¸…ç†èµ„æºå¹¶åœæ­¢æ“ä½œã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;è¿™æ˜¯&lt;strong&gt;å°†å›è°ƒ API é›†æˆåˆ°åç¨‹ä¸–ç•Œçš„æœ€ä½³å®è·µ&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;åç¨‹ä½œç”¨åŸŸ&#34;&gt;åç¨‹ä½œç”¨åŸŸ
&lt;/h4&gt;&lt;h5 id=&#34;1ä»€ä¹ˆæ˜¯åç¨‹ä½œç”¨åŸŸcoroutinescope&#34;&gt;1ã€ä»€ä¹ˆæ˜¯åç¨‹ä½œç”¨åŸŸï¼ˆCoroutineScopeï¼‰
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;CoroutineScope&lt;/code&gt;ä¸æ˜¯åç¨‹æœ¬èº«ï¼Œè€Œæ˜¯ä¸€ä¸ª&lt;strong&gt;å®šä¹‰æ–°åç¨‹è¿è¡Œç¯å¢ƒ&lt;/strong&gt;çš„æ¥å£&lt;/li&gt;
&lt;li&gt;å®ƒä¸ºåœ¨å…¶å†…éƒ¨å¯åŠ¨çš„æ‰€æœ‰å­åç¨‹æä¾›äº†ä¸€ä¸ªç»Ÿä¸€çš„&lt;code&gt;CoroutineContext&lt;/code&gt;åŸºç¡€&lt;/li&gt;
&lt;li&gt;å®ƒå°†æ‰€æœ‰åœ¨å…¶å†…éƒ¨å¯åŠ¨çš„åç¨‹&lt;strong&gt;ç»„ç»‡åœ¨ä¸€ä¸ªç»“æ„ä¸­&lt;/strong&gt;ï¼Œä»¥ä¾¿è¿›è¡Œ&lt;strong&gt;ç”Ÿå‘½å‘¨æœŸç®¡ç†&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;æ ¸å¿ƒæ„æˆï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;CoroutineScopeæ¥å£åªæœ‰ä¸€ä¸ªå±æ€§ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;interface&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;CoroutineScope&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; coroutineContext: CotoutineContext
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™ä¸ª&lt;code&gt;coroutineContext&lt;/code&gt;æ˜¯å¯åŠ¨åœ¨è¯¥ä½œç”¨åŸŸå†…çš„&lt;strong&gt;æ‰€æœ‰å­åç¨‹çš„é»˜è®¤ä¸Šä¸‹æ–‡&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;åç¨‹ä½œç”¨åŸŸçš„æ ¸å¿ƒä¼˜ç‚¹&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;ç”Ÿå‘½å‘¨æœŸçš„è‡ªåŠ¨ç®¡ç†(å–æ¶ˆ)&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;é¿å…å†…å­˜æ³„æ¼&lt;/li&gt;
&lt;li&gt;ç®€åŒ–èµ„æºæ¸…ç†&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å®‰å…¨æ€§ä¸æ¸…æ™°æ€§&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;å–æ¶ˆä¼ æ’­ï¼šä½œç”¨åŸŸçš„å–æ¶ˆä¼šè‡ªåŠ¨ä¸”å¯é åœ°ä¼ æ’­åˆ°æ‰€æœ‰å­åç¨‹ï¼Œæ— éœ€å¼€å‘è€…æ‰‹åŠ¨çº§è”å–æ¶ˆ&lt;/li&gt;
&lt;li&gt;å¼‚å¸¸å¤„ç†æ§åˆ¶ï¼šä½œç”¨åŸŸå®šä¹‰äº†å¼‚å¸¸ä¼ æ’­çš„ç­–ç•¥ï¼ˆé€šè¿‡å…¶å…³è”çš„&lt;code&gt;Job&lt;/code&gt;æ˜¯æ™®é€š&lt;code&gt;Job&lt;/code&gt;è¿˜æ˜¯&lt;code&gt;SupervisorJob&lt;/code&gt;ï¼‰ã€‚&lt;code&gt;SupervisorJob&lt;/code&gt;å…è®¸å­åç¨‹ç‹¬ç«‹å¤±è´¥è€Œä¸å½±å“å…¶ä»–å…„å¼Ÿåç¨‹å’Œçˆ¶ä½œç”¨åŸŸï¼ˆå¸¸ç”¨äºUIç»„ä»¶ä¸­å•ç‹¬çš„åå°ä»»åŠ¡ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;ä»£ç ç»„ç»‡æ¸…æ™°ï¼šå°†ä»»åŠ¡åˆ’åˆ†åˆ°ä¸åŒçš„ä½œç”¨åŸŸä¸­ï¼Œä½“ç°äº†ä»»åŠ¡çš„é€»è¾‘å’Œç”Ÿå‘½å‘¨æœŸå½’å±ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¸Šä¸‹æ–‡ç»§æ‰¿ä¸å…±äº«&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;åœ¨ä½œç”¨åŸŸå†…å¯åŠ¨çš„åç¨‹é»˜è®¤ç»§æ‰¿ä½œç”¨åŸŸçš„coroutineContext&lt;/li&gt;
&lt;li&gt;å¯ä»¥æŒ‡å®šä¸åŒçš„CoroutineContextå…ƒç´ æ¥è¦†ç›–ä¸Šä¸‹æ–‡&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ååŒç­‰å¾…(job.join(), coroutineScope {})&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;ä½ å¯ä»¥é€šè¿‡ä½œç”¨åŸŸçš„å…³è” &lt;code&gt;Job&lt;/code&gt; (è°ƒç”¨ &lt;code&gt;scope.coroutineContext[Job]!!.join()&lt;/code&gt; æˆ–æ›´ç®€å•åœ°ä½¿ç”¨ &lt;code&gt;coroutineScope {}&lt;/code&gt; æ„å»ºå™¨) æ¥&lt;strong&gt;ç­‰å¾…ä½œç”¨åŸŸå†…æ‰€æœ‰å­åç¨‹å…¨éƒ¨å®Œæˆ&lt;/strong&gt;ã€‚è¿™ä¿è¯äº†ä»»åŠ¡å†…éƒ¨çš„å¹¶å‘æ“ä½œåœ¨å¤–éƒ¨çœ‹æ¥æ˜¯åŸå­æ€§çš„ï¼ˆå³çˆ¶åç¨‹ç­‰å¾…æ‰€æœ‰å­åç¨‹å®Œæˆåè‡ªå·±æ‰å®Œæˆï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;coroutineScope {}&lt;/code&gt; æ„å»ºå™¨æœ¬èº«ä¹Ÿä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å­ä½œç”¨åŸŸï¼Œå¹¶ç­‰å¾…å…¶å†…éƒ¨æ‰€æœ‰å­åç¨‹å®Œæˆ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h4 id=&#34;asyncçš„è¡Œä¸º&#34;&gt;asyncçš„è¡Œä¸º
&lt;/h4&gt;&lt;h5 id=&#34;1-asyncçš„ç«‹å³å¯åŠ¨ç‰¹æ€§&#34;&gt;1. asyncçš„ç«‹å³å¯åŠ¨ç‰¹æ€§
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;asyncä¸æ˜¯ç­‰å¾…awaitæ‰æ‰§è¡Œï¼šå½“ä½¿ç”¨async { &amp;hellip; } åˆ›å»ºåç¨‹æ—¶ï¼Œå…¶ä¸­çš„ä»£ç ä¼šç«‹å³å¼€å§‹æ‰§è¡Œï¼Œè€Œä¸æ˜¯ç­‰å¾…è°ƒç”¨&lt;code&gt;await()&lt;/code&gt;ã€‚å³ä½¿ä¸è°ƒç”¨await()ï¼Œåç¨‹ä½“ä¹Ÿä¼šåœ¨åå°å¯åŠ¨ã€‚&lt;/li&gt;
&lt;li&gt;å¹¶å‘æ‰§è¡Œï¼šå¤šä¸ªasyncåç¨‹é»˜è®¤å¹¶è¡Œæ‰§è¡Œï¼ˆå–å†³äºè°ƒåº¦å™¨å’Œä¸Šä¸‹æ–‡ï¼‰ã€‚ä¾‹å¦‚ï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; deferred1 = async { task1() } &lt;span style=&#34;color:#75715e&#34;&gt;// ç«‹å³å¼€å§‹æ‰§è¡Œ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; deferred2 = async { task2() } &lt;span style=&#34;color:#75715e&#34;&gt;// ç«‹å³å¼€å§‹æ‰§è¡Œï¼ˆå¯èƒ½ä¸ task1 åŒæ—¶è¿è¡Œï¼‰
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;2-awaitçš„ä½œç”¨&#34;&gt;2. await()çš„ä½œç”¨
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;åŒæ­¥ç­‰å¾…ç»“æœï¼šawait()æ˜¯ä¸€ä¸ªæŒ‚èµ·ç‚¹ï¼š
&lt;ul&gt;
&lt;li&gt;å¦‚æœåç¨‹å·²å®Œæˆï¼šç›´æ¥è¿”å›ç»“æœ&lt;/li&gt;
&lt;li&gt;å¦‚æœåç¨‹æœªå®Œæˆï¼šæŒ‚èµ·å½“å‰åç¨‹ï¼Œç­‰å¾…ç»“æœä½†ä¸é˜»æ­¢å…¶ä»–åç¨‹æ‰§è¡Œ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;é¡ºåºæ§åˆ¶ï¼šawait()å¯å¼ºåˆ¶ç­‰å¾…é¡ºåºï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; result1 = deferred1.await() &lt;span style=&#34;color:#75715e&#34;&gt;// ç­‰å¾… task1 å®Œæˆ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; result2 = deferred2.await() &lt;span style=&#34;color:#75715e&#34;&gt;// å†ç­‰å¾… task2 å®Œæˆ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;qa&#34;&gt;Q&amp;amp;A
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;çˆ¶åç¨‹çš„æŒ‚èµ·ä¼šå½±å“å­åç¨‹çš„è¿è¡Œå—ï¼Ÿ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;é€šå¸¸ä¸ä¼šå½±å“å­åç¨‹çš„è¿è¡Œ&lt;/strong&gt;ï¼Œçˆ¶åç¨‹ä¸å­åç¨‹æ˜¯ç‹¬ç«‹çš„ä»»åŠ¡å•å…ƒï¼Œåªè¦å­åç¨‹æœªå®Œæˆä¸”æœªè¢«å–æ¶ˆï¼Œä»–ä»¬ä¼šç»§ç»­ç”±è°ƒåº¦å™¨åˆ†é…çº¿ç¨‹æ‰§è¡Œã€‚å–æ¶ˆæ˜¯å–æ¶ˆï¼ŒæŒ‚èµ·æ—¶è®©å‡ºå½“å‰çº¿ç¨‹&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;çˆ¶ä½œç”¨åŸŸä¼šç­‰å¾…æ‰€æœ‰å­åç¨‹å®Œæˆåæ‰ç»§ç»­æ‰§è¡Œï¼Ÿ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ˜¯çš„ï¼Œä¸€ä¸ªæ˜¯éšå¼ç­‰å¾…ï¼Œä¸€ä¸ªæ˜¯ç”±coroutineScopeæ„å»ºçš„æ˜¾å¼ç­‰å¾…ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;suspend&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;complexTask&lt;/span&gt;() = coroutineScope { &lt;span style=&#34;color:#75715e&#34;&gt;// â­çˆ¶ä½œç”¨åŸŸâ­
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; deferred1 = async {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        delay(&lt;span style=&#34;color:#ae81ff&#34;&gt;1000&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;ç»“æœ1&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; deferred2 = async {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        delay(&lt;span style=&#34;color:#ae81ff&#34;&gt;1500&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;ç»“æœ2&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    println(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;ç»„åˆç»“æœ: &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;${deferred1.await()}&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt; + &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;${deferred2.await()}&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;) 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// ğŸš« ä¼šç­‰å¾…ä¸¤ä¸ªasyncéƒ½å®Œæˆæ‰æ‰§è¡Œ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;runBlocking {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    println(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;å¼€å§‹ä»»åŠ¡&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    complexTask() &lt;span style=&#34;color:#75715e&#34;&gt;// ğŸ‘‡æŒ‚èµ·ç‚¹ğŸ‘‡
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    println(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;âœ… æ‰€æœ‰åµŒå¥—åç¨‹å®Œæˆ&amp;#34;&lt;/span&gt;) &lt;span style=&#34;color:#75715e&#34;&gt;// åœ¨complexTaskå†…éƒ¨å®Œæˆåæ‰§è¡Œ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
        </item>
        <item>
        <title>åç¨‹åŸç†</title>
        <link>http://localhost:1313/android-develop/%E5%8D%8F%E7%A8%8B%E5%8E%9F%E7%90%86/</link>
        <pubDate>Mon, 30 Jun 2025 15:13:25 +0800</pubDate>
        
        <guid>http://localhost:1313/android-develop/%E5%8D%8F%E7%A8%8B%E5%8E%9F%E7%90%86/</guid>
        <description>&lt;p&gt;Kotlinåç¨‹çš„æœ¬è´¨æ˜¯&lt;strong&gt;é€šè¿‡çŠ¶æ€æœºç®¡ç†æŒ‚èµ·ç‚¹ï¼Œç”±ç¼–è¯‘å™¨è¿›è¡ŒCPSå˜æ¢å®ç°çš„è½»é‡çº§å¹¶å‘æŠ½è±¡&lt;/strong&gt;ã€‚å…¶æ ¸å¿ƒåŸç†å’ŒçŠ¶æ€æ¨è¿›æœºåˆ¶å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;h4 id=&#34;æ ¸å¿ƒåŸç†&#34;&gt;æ ¸å¿ƒåŸç†
&lt;/h4&gt;&lt;h5 id=&#34;1-æŒ‚èµ·å‡½æ•°&#34;&gt;1. æŒ‚èµ·å‡½æ•°
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;ç”¨suspendä¿®é¥°çš„å‡½æ•°&lt;/li&gt;
&lt;li&gt;ç¼–è¯‘å™¨ä¼šå°†å…¶ç¼–è¯‘ä¸º&lt;strong&gt;çŠ¶æ€æœºä»£ç &lt;/strong&gt;(è€Œéé˜»å¡çº¿ç¨‹)ï¼Œæ”¯æŒåœ¨ä»»æ„ä½ç½®æŒ‚èµ·/æ¢å¤&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;2-ç»­ä½“&#34;&gt;2. ç»­ä½“
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;ç±»ä¼¼å›è°ƒçš„æ¥å£&lt;code&gt;Continuation&amp;lt;T&amp;gt;&lt;/code&gt;ï¼Œå…¶å…³é”®æ–¹æ³•æ˜¯&lt;code&gt;resumeWith(result)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;åç¨‹çš„æ¯ä¸€æ­¥æ‰§è¡Œéƒ½ä¾é™„äºä¸€ä¸ªç»­ä½“å¯¹è±¡ï¼Œå­˜å‚¨å½“å‰æ‰§è¡ŒçŠ¶æ€å’Œä¸Šä¸‹æ–‡&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;3-çŠ¶æ€æœºè½¬æ¢&#34;&gt;3. çŠ¶æ€æœºè½¬æ¢
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;ç¼–è¯‘å™¨å°†æŒ‚èµ·å‡½æ•°æ‹†è§£æˆä¸€ä¸ªçŠ¶æ€æœºï¼ˆé€šè¿‡&lt;code&gt;label&lt;/code&gt;æ ‡è®°çŠ¶æ€ï¼‰&lt;/li&gt;
&lt;li&gt;æ¯ä¸ªæŒ‚èµ·ç‚¹å¯¹åº”ä¸€ä¸ªçŠ¶æ€è¿ç§»&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;çŠ¶æ€æ¨è¿›æµç¨‹&#34;&gt;çŠ¶æ€æ¨è¿›æµç¨‹
&lt;/h4&gt;&lt;p&gt;ä»¥ä¸‹ä»£ç å±•ç¤ºçŠ¶æ€æœºçš„è¿ä½œï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;suspend&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;fetchData&lt;/span&gt;(): String {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; data1 = fetchPart1()  &lt;span style=&#34;color:#75715e&#34;&gt;//æŒ‚èµ·ç‚¹1
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; data2 = fetchPart2()  &lt;span style=&#34;color:#75715e&#34;&gt;//æŒ‚èµ·ç‚¹2
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; data1 + data2
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;ç¼–è¯‘å™¨è½¬æ¢åï¼ˆä¼ªä»£ç ï¼‰&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;FetchDataStateMachine&lt;/span&gt;(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;val&lt;/span&gt; completion: Continuation&amp;lt;String&amp;gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;var&lt;/span&gt; label: Int = &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;) : Continuation&amp;lt;Unit&amp;gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;var&lt;/span&gt; data1: String? = &lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;var&lt;/span&gt; data2: String? = &lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;override&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;fun&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;resumeWith&lt;/span&gt;(result: Result&amp;lt;Any?&amp;gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;when&lt;/span&gt;(label) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        label = &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        fetchPart1(&lt;span style=&#34;color:#66d9ef&#34;&gt;this&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        data1 = result.getOrThrow() &lt;span style=&#34;color:#66d9ef&#34;&gt;as&lt;/span&gt; String
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        label = &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        fetchPart2(&lt;span style=&#34;color:#66d9ef&#34;&gt;this&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        data2 = result.getOrThrow() &lt;span style=&#34;color:#66d9ef&#34;&gt;as&lt;/span&gt; String
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        completion.resumeWith(data1 + data2)	&lt;span style=&#34;color:#75715e&#34;&gt;//è¿”å›æœ€ç»ˆç»“æœ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;      }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h4 id=&#34;å…³é”®æœºåˆ¶&#34;&gt;å…³é”®æœºåˆ¶
&lt;/h4&gt;&lt;h5 id=&#34;1-æŒ‚èµ·ä¸é˜»å¡çº¿ç¨‹&#34;&gt;1. æŒ‚èµ·ä¸é˜»å¡çº¿ç¨‹ï¼š
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;åç¨‹æŒ‚èµ·æ—¶ï¼Œåº•å±‚çº¿ç¨‹ç«‹å³é‡Šæ”¾ï¼ˆä¾‹å¦‚è¿”å›åˆ°çº¿ç¨‹æ± ï¼‰ï¼Œé¿å…èµ„æºæµªè´¹&lt;/li&gt;
&lt;li&gt;å¼‚æ­¥æ“ä½œå®Œæˆåï¼Œä»»åŠ¡è¢«æ´¾å‘åˆ°åˆé€‚çš„çº¿ç¨‹ç»§ç»­æ‰§è¡Œï¼ˆé€šè¿‡&lt;code&gt;Dispatcher&lt;/code&gt;ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;2ç»­ä½“ä¼ é€’é£æ ¼&#34;&gt;2.ç»­ä½“ä¼ é€’é£æ ¼
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;æŒ‚èµ·å‡½æ•°è¢«ç¼–è¯‘ä¸ºæ¥å—é¢å¤–&lt;code&gt;Continuation&lt;/code&gt;å‚æ•°çš„å‡½æ•°&lt;/li&gt;
&lt;li&gt;ä¾‹å¦‚&lt;code&gt;suspend fun foo()&lt;/code&gt; â†’ &lt;code&gt;fun foo(continuation: Continuation)&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;3-åç¨‹ä¸Šä¸‹æ–‡coroutinecontext&#34;&gt;3. åç¨‹ä¸Šä¸‹æ–‡ï¼ˆCoroutineContextï¼‰
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;é€šè¿‡&lt;code&gt;CoroutineContext&lt;/code&gt;ä¼ é€’è°ƒåº¦å™¨ã€å¼‚å¸¸å¤„ç†å™¨ç­‰ã€‚&lt;/li&gt;
&lt;li&gt;çŠ¶æ€æœºä¸­é€šè¿‡&lt;code&gt;Continuation.context&lt;/code&gt;è·å–å½“å‰ä¸Šä¸‹æ–‡&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;4-ç»“æ„åŒ–å¹¶å‘&#34;&gt;4. ç»“æ„åŒ–å¹¶å‘
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;åç¨‹æ ‘é€šè¿‡çˆ¶-å­å…³ç³»ç®¡ç†ç”Ÿå‘½å‘¨æœŸ&lt;/li&gt;
&lt;li&gt;çˆ¶åç¨‹å–æ¶ˆæ—¶ï¼Œè‡ªåŠ¨å–æ¶ˆæ‰€æœ‰å­åç¨‹&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;çŠ¶æ€æ¨è¿›&#34;&gt;çŠ¶æ€æ¨è¿›
&lt;/h4&gt;&lt;p&gt;åœ¨&lt;code&gt;FetchDataStateMachine&lt;/code&gt;çš„&lt;code&gt;resumeWith&lt;/code&gt;ä¸­å¹¶æ²¡æœ‰å¾ªç¯ï¼Œlabelçš„çŠ¶æ€æ˜¯å¦‚ä½•æ¨è¿›çš„å‘¢ï¼Ÿå®é™…ä¸ŠçŠ¶æ€æ¨è¿›æ˜¯é€šè¿‡&lt;strong&gt;é€’å½’é“¾å¼è°ƒç”¨ä¸é—´æ¥è·³è½¬&lt;/strong&gt;å®ç°çš„ã€‚&lt;/p&gt;
&lt;h5 id=&#34;1-å•æ¬¡è§¦å‘æ¨¡å‹&#34;&gt;1. å•æ¬¡è§¦å‘æ¨¡å‹
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;æ¯æ¬¡resumeWithè¢«è°ƒç”¨æ—¶åªå¤„ç†å½“å‰çŠ¶æ€&lt;/li&gt;
&lt;li&gt;é€šè¿‡æ›´æ–°labelå€¼æ ‡è®°ä¸‹ä¸€æ­¥çŠ¶æ€&lt;/li&gt;
&lt;li&gt;ä¸ç«‹å³å¤„ç†åç»­çŠ¶æ€ï¼Œè€Œæ˜¯ç­‰å¾…ä¸‹ä¸€æ¬¡æ¢å¤&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-kotlin&#34; data-lang=&#34;kotlin&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;label = &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;//åªæ ‡è®°ä¸‹ä¸€æ­¥çŠ¶æ€ï¼Œä¸ç«‹å³æ‰§è¡Œ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;fetchPart2(&lt;span style=&#34;color:#66d9ef&#34;&gt;this&lt;/span&gt;)  &lt;span style=&#34;color:#75715e&#34;&gt;//è§¦å‘å¼‚æ­¥æ“ä½œï¼ˆæŒ‚èµ·ï¼‰ï¼Œthiså°±æ˜¯FetchDataStateMachineï¼Œå…¶æ˜¯Continuationï¼Œå¯é€šè¿‡thisè°ƒç”¨resumeWith
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;2-é“¾å¼é€’å½’å”¤é†’&#34;&gt;2. é“¾å¼é€’å½’å”¤é†’
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;æ¯ä¸ªå¼‚æ­¥æ“ä½œå®Œæˆæ—¶ï¼Œéƒ½ä¼šé‡æ–°è°ƒç”¨resumeWith&lt;/li&gt;
&lt;li&gt;æ¯è°ƒç”¨ä¸€æ¬¡ï¼Œå°±ä¼šå¤„ç†å½“å‰çŠ¶æ€å¹¶è®¾ç½®ä¸‹ä¸€æ¬¡çŠ¶æ€&lt;/li&gt;
&lt;/ul&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;resumeWith(ç»“æœ) â†’ å¤„ç†å½“å‰çŠ¶æ€
      â†‘               â†“
  å¼‚æ­¥å®Œæˆ          è®¾ç½®ä¸‹ä¸€çŠ¶æ€
      â†‘             
  æ¢å¤æ‰§è¡Œ        
&lt;/code&gt;&lt;/pre&gt;&lt;h5 id=&#34;3-çŠ¶æ€å˜é‡æŒä¹…åŒ–&#34;&gt;3. çŠ¶æ€å˜é‡æŒä¹…åŒ–
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;çŠ¶æ€æœºå¯¹è±¡åœ¨æŒ‚èµ·æœŸé—´æŒç»­å­˜åœ¨ï¼ˆå †å†…å­˜ï¼‰&lt;/li&gt;
&lt;li&gt;æˆå‘˜å˜é‡(data1, label)ä¿å­˜ä¸­é—´çŠ¶æ€&lt;/li&gt;
&lt;li&gt;æ¯æ¬¡æ¢å¤æ—¶ä»æ­£ç¡®çŠ¶æ€ç»§ç»­æ‰§è¡Œ&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;4-ç¼–è¯‘å™¨ä¼˜åŒ–æŠ€å·§&#34;&gt;4. ç¼–è¯‘å™¨ä¼˜åŒ–æŠ€å·§
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;å°¾é€’å½’ä¼˜åŒ–ï¼šç¼–è¯‘å™¨ä¼šå°†çŠ¶æ€å¤„ç†è½¬ä¸ºå¾ªç¯&lt;/li&gt;
&lt;li&gt;çŠ¶æ€æŠ˜å  ï¼šåˆå¹¶å¯ä¼˜åŒ–çŠ¶æ€å‡å°‘è·³è½¬æ¬¡æ•°&lt;/li&gt;
&lt;li&gt;å†…è”çŠ¶æ€ï¼šç®€å•çŠ¶æ€æœºè½¬ä¸ºswitchè·³è½¬è¡¨&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;å¯¹æŒ‚èµ·çš„ç†è§£&#34;&gt;å¯¹æŒ‚èµ·çš„ç†è§£
&lt;/h4&gt;&lt;p&gt;åç¨‹æŒ‚æœºï¼šåœ¨æŒ‚èµ·ç‚¹æš‚åœå½“å‰çš„åŒæ­¥ä»£ç ï¼Œè½¬è€Œå»æ‰§è¡Œæ¶ˆæ¯é˜Ÿåˆ—çš„runnableï¼›è¿™æ ·å°±æ˜¯æˆ‘å¯¹æŒ‚èµ·çš„ç†è§£ï¼Œä¹Ÿå°±æ˜¯è®©å‡ºçº¿ç¨‹&lt;/p&gt;
</description>
        </item>
        <item>
        <title>gradleç›¸å…³çŸ¥è¯†</title>
        <link>http://localhost:1313/android-develop/gradle%E7%9B%B8%E5%85%B3%E7%9F%A5%E8%AF%86/</link>
        <pubDate>Sun, 29 Jun 2025 15:26:57 +0800</pubDate>
        
        <guid>http://localhost:1313/android-develop/gradle%E7%9B%B8%E5%85%B3%E7%9F%A5%E8%AF%86/</guid>
        <description>&lt;h3 id=&#34;ä¸€æ’ä»¶plugins-vs-åº“libraries&#34;&gt;ä¸€ã€æ’ä»¶(Plugins) vs åº“(Libraries)
&lt;/h3&gt;&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th&gt;&lt;strong&gt;ç‰¹å¾&lt;/strong&gt;&lt;/th&gt;
          &lt;th&gt;æ’ä»¶ (Plugins)&lt;/th&gt;
          &lt;th&gt;åº“ (Libraries)&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;strong&gt;æœ¬è´¨&lt;/strong&gt;&lt;/td&gt;
          &lt;td&gt;æ„å»ºé€»è¾‘æ‰©å±•å·¥å…·&lt;/td&gt;
          &lt;td&gt;è¿è¡Œæ—¶ä¾èµ–çš„ä»£ç ç»„ä»¶&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;strong&gt;ä½œç”¨&lt;/strong&gt;&lt;/td&gt;
          &lt;td&gt;æ·»åŠ ä»»åŠ¡/é…ç½®/ç›®å½•ç»“æ„&lt;/td&gt;
          &lt;td&gt;æä¾›å¯è°ƒç”¨çš„å…·ä½“ä»£ç å®ç°&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;strong&gt;å£°æ˜ä½ç½®&lt;/strong&gt;&lt;/td&gt;
          &lt;td&gt;&lt;code&gt;plugins {}&lt;/code&gt; å—&lt;/td&gt;
          &lt;td&gt;&lt;code&gt;dependencies {}&lt;/code&gt; å—&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;strong&gt;å½±å“èŒƒå›´&lt;/strong&gt;&lt;/td&gt;
          &lt;td&gt;æ„å»ºè¿‡ç¨‹&lt;/td&gt;
          &lt;td&gt;è¿è¡Œæ—¶æˆ–ç¼–è¯‘æ—¶&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;strong&gt;å…¸å‹ç¤ºä¾‹&lt;/strong&gt;&lt;/td&gt;
          &lt;td&gt;&lt;code&gt;java&lt;/code&gt;ï¼Œ&lt;code&gt;android&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;&lt;code&gt;gson&lt;/code&gt;, &lt;code&gt;junit&lt;/code&gt;&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;h4 id=&#34;1-æ’ä»¶è¯¦è§£&#34;&gt;1. æ’ä»¶è¯¦è§£
&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;æ ¸å¿ƒä½œç”¨&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ·»åŠ æ–°ä»»åŠ¡ï¼ˆå¦‚ &lt;code&gt;compileJava&lt;/code&gt;, &lt;code&gt;assemble&lt;/code&gt;ï¼‰&lt;/li&gt;
&lt;li&gt;å®šä¹‰é»˜è®¤ç›®å½•ç»“æ„ï¼ˆå¦‚ &lt;code&gt;src/main/java&lt;/code&gt;ï¼‰&lt;/li&gt;
&lt;li&gt;å¼•å…¥é¢„ç½®é…ç½®ï¼ˆå¦‚ &lt;code&gt;implementation&lt;/code&gt; ä¾èµ–é…ç½®ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;ä½¿ç”¨åœºæ™¯&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-groovy&#34; data-lang=&#34;groovy&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;plugins &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    id &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;com.android.application&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;// Android APPæ’ä»¶
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    id &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;org.jetbrains.kotlin.android&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;// Kotlinæ”¯æŒ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;2-åº“è¯¦è§£&#34;&gt;2. åº“è¯¦è§£
&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;å…³é”®ç‰¹å¾&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é€šè¿‡åæ ‡å£°æ˜ï¼š&lt;code&gt;group:name:version&lt;/code&gt;ï¼ˆå¦‚ &lt;code&gt;com.google.guava:guava:32.0-jre&lt;/code&gt;ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¼ é€’ä¾èµ–&lt;/strong&gt;ï¼šåº“å¯èƒ½è‡ªå¸¦å…¶ä»–ä¾èµ–ï¼ˆå¦‚ Retrofit è‡ªåŠ¨å¼•å…¥ OkHttpï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;ä½¿ç”¨åœºæ™¯&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-groovy&#34; data-lang=&#34;groovy&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;dependencies &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    implementation &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;androidx.core:core-ktx:1.12.0&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;// ä¸»ä»£ç ä¾èµ–
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    testImplementation &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;junit:junit:4.13.2&amp;#39;&lt;/span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// æµ‹è¯•ä»£ç ä¸“ç”¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h3 id=&#34;äºŒä¾èµ–é…ç½®è¯¦è§£&#34;&gt;äºŒã€ä¾èµ–é…ç½®è¯¦è§£
&lt;/h3&gt;&lt;h4 id=&#34;1-implementationæœ€å¸¸ç”¨&#34;&gt;1. &lt;code&gt;implementation&lt;/code&gt;ï¼ˆæœ€å¸¸ç”¨ï¼‰
&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;ç‰¹ç‚¹&lt;/strong&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¾èµ–&lt;strong&gt;ä¸ä¼ é€’&lt;/strong&gt;ç»™å…¶ä»–æ¨¡å—,&lt;code&gt;æ¨¡å—F â†’ æ¨¡å—D â†’ æ¨¡å—E&lt;/code&gt;ï¼ˆä¼ å¯¼ç»ˆæ­¢äºDï¼‰ï¼Œæ¨¡å—Få®Œå…¨ä¸çŸ¥é“æ¨¡å—Eçš„å­˜åœ¨&lt;/li&gt;
&lt;li&gt;åŠ å¿«æ„å»ºï¼ˆå‡å°‘é‡ç¼–è¯‘ï¼‰&lt;/li&gt;
&lt;li&gt;é€‚ç”¨äºç»å¤§å¤šæ•°å­—ä¾èµ–&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-groovy&#34; data-lang=&#34;groovy&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;implementation &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;com.squareup.retrofit2:retrofit:2.9.0&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;2-apiè°¨æ…ä½¿ç”¨&#34;&gt;2. &lt;code&gt;api&lt;/code&gt;ï¼ˆè°¨æ…ä½¿ç”¨ï¼‰
&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;ç‰¹ç‚¹&lt;/strong&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¾èµ–&lt;strong&gt;ä¼ é€’&lt;/strong&gt;ç»™å…¶ä»–æ¨¡å—ï¼Œå»ºç«‹&lt;strong&gt;ä¾èµ–ä¼ é€’é“¾&lt;/strong&gt;ï¼š&lt;code&gt;æ¨¡å—C â†’ æ¨¡å—A â†’ æ¨¡å—B&lt;/code&gt;ï¼Œæ¨¡å—Cå¯ä»¥ä½¿ç”¨æ¨¡å—Bå…¬å¼€çš„æ¥å£&lt;/li&gt;
&lt;li&gt;ç”¨äº SDK å¼€å‘éœ€æš´éœ²ä¾èµ–çš„åœºæ™¯&lt;/li&gt;
&lt;li&gt;ä¼šå¢åŠ æ„å»ºæ—¶é—´&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-groovy&#34; data-lang=&#34;groovy&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;api &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;com.google.dagger:dagger:2.48&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;// å…¶ä»–æ¨¡å—éœ€ä½¿ç”¨Dagger
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;3-classpath&#34;&gt;3. &lt;code&gt;classpath&lt;/code&gt;
&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;ç‰¹ç‚¹&lt;/strong&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä»…ç”¨äºé¡¹ç›®çº§æ„å»ºè„šæœ¬(&lt;code&gt;build.gradle&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;ä¸º Gradle è‡ªèº«å¼•å…¥æ’ä»¶åŒ…ï¼Œç„¶ååœ¨æ¨¡å—çº§pluginså—ä¸­å£°æ˜ä½¿ç”¨&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¸å‚ä¸&lt;/strong&gt;æ¨¡å—ä»£ç ç¼–è¯‘&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-groovy&#34; data-lang=&#34;groovy&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// é¡¹ç›®çº§ build.gradle
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;buildscript &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    dependencies &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        classpath &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;com.android.tools.build:gradle:8.1.0&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;4-aliasç‰ˆæœ¬ç›®å½•&#34;&gt;4. &lt;code&gt;alias&lt;/code&gt;ï¼ˆç‰ˆæœ¬ç›®å½•ï¼‰
&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;ç‰¹ç‚¹&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åœ¨ &lt;code&gt;gradle/libs.versions.toml&lt;/code&gt; ä¸­é›†ä¸­ç®¡ç†ä¾èµ–&lt;/li&gt;
&lt;li&gt;è§£å†³ç‰ˆæœ¬å·ç¡¬ç¼–ç é—®é¢˜&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;éœ€ AGP 7.4+&lt;/strong&gt; æ”¯æŒ&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-toml&#34; data-lang=&#34;toml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# libs.versions.toml&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;[&lt;span style=&#34;color:#a6e22e&#34;&gt;versions&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;androidxCore&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;1.12.0&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;[&lt;span style=&#34;color:#a6e22e&#34;&gt;libraries&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;android-core&lt;/span&gt; = { 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;group&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;androidx.core&amp;#34;&lt;/span&gt;, 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;name&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;core-ktx&amp;#34;&lt;/span&gt;, 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;version&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;ref&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;androidxCore&amp;#34;&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-groovy&#34; data-lang=&#34;groovy&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;dependencies &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    implementation&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;libs&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;android&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;core&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;// é€šè¿‡åˆ«åå¼•ç”¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
        </item>
        <item>
        <title>Androidæ‰“åŒ…apkæµç¨‹</title>
        <link>http://localhost:1313/android-develop/android%E6%89%93%E5%8C%85apk%E6%B5%81%E7%A8%8B/</link>
        <pubDate>Sat, 28 Jun 2025 12:15:42 +0800</pubDate>
        
        <guid>http://localhost:1313/android-develop/android%E6%89%93%E5%8C%85apk%E6%B5%81%E7%A8%8B/</guid>
        <description>&lt;p&gt;androidåº”ç”¨çš„æ‰“åŒ…æµç¨‹æ˜¯å°†ä»£ç ã€èµ„æºæ–‡ä»¶ã€æ¸…å•æ–‡ä»¶ç­‰ç¼–è¯‘å’Œå‹ç¼©æˆå¯åœ¨è®¾å¤‡ä¸Šå®‰è£…çš„APK/AABæ–‡ä»¶çš„è¿‡ç¨‹ã€‚ä»¥ä¸‹æ˜¯è¯¦ç»†æ­¥éª¤ï¼š&lt;/p&gt;
&lt;h4 id=&#34;ä¸€ä¸»è¦æµç¨‹&#34;&gt;ä¸€ã€ä¸»è¦æµç¨‹
&lt;/h4&gt;&lt;h5 id=&#34;1-ç¼–å†™ä»£ç ä¸èµ„æºç®¡ç†&#34;&gt;1. ç¼–å†™ä»£ç ä¸èµ„æºç®¡ç†
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;åˆ›å»º&lt;code&gt;/src&lt;/code&gt;ç›®å½•å­˜æ”¾Kotlin/Javaæºç &lt;/li&gt;
&lt;li&gt;åœ¨&lt;code&gt;/res&lt;/code&gt;ç›®å½•æ·»åŠ èµ„æº&lt;/li&gt;
&lt;li&gt;é…ç½®&lt;code&gt;AndroidManifest.xml&lt;/code&gt;(å£°æ˜ç»„ä»¶ã€æƒé™ç­‰)ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;2-ä¾èµ–ç®¡ç†&#34;&gt;2. ä¾èµ–ç®¡ç†
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;åœ¨build.gradleä¸­æ·»åŠ æ‰€éœ€ä¾èµ–åº“&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;3-ç¼–è¯‘è¿‡ç¨‹&#34;&gt;3. ç¼–è¯‘è¿‡ç¨‹
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;ç¼–è¯‘ä»£ç ï¼š kotlinæºç  â†’ &lt;code&gt;.class&lt;/code&gt;å­—èŠ‚ç ï¼ˆjavac/kotlincï¼‰&lt;/li&gt;
&lt;li&gt;è½¬æ¢ä¸ºDexï¼š&lt;code&gt;.class&lt;/code&gt;æ–‡ä»¶â†’ &lt;code&gt;.dex&lt;/code&gt;æ–‡ä»¶ï¼ˆ&lt;code&gt;d8&lt;/code&gt;/&lt;code&gt;dx&lt;/code&gt;å·¥å…·ï¼‰ï¼Œç”¨äºAndroidçš„ARTè™šæ‹Ÿæœº&lt;/li&gt;
&lt;li&gt;ç¼–è¯‘èµ„æºï¼š&lt;code&gt;AAPT2&lt;/code&gt;ç¼–è¯‘èµ„æºæ–‡ä»¶ï¼ˆ&lt;code&gt;res/&lt;/code&gt; â†’ äºŒè¿›åˆ¶æ ¼å¼ï¼‰ï¼Œç”Ÿæˆ&lt;code&gt;R.java&lt;/code&gt;å’Œä¸´æ—¶èµ„æºåŒ…(&lt;code&gt;.flat&lt;/code&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;4æ‰“åŒ…ä¸ç­¾å&#34;&gt;4.æ‰“åŒ…ä¸ç­¾å
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;åˆå¹¶èµ„æºï¼š AAPT2é“¾æ¥ç¼–è¯‘åçš„èµ„æºï¼Œç”Ÿæˆresources.arscï¼ˆèµ„æºç´¢å¼•è¡¨ï¼‰å’Œä¼˜åŒ–åçš„res/ç›®å½•&lt;/li&gt;
&lt;li&gt;æ‰“åŒ…æˆAPKï¼šAPK Builderå°†ä»¥ä¸‹æ–‡ä»¶åˆå¹¶ä¸ºæœªç­¾åçš„APKï¼š
&lt;ul&gt;
&lt;li&gt;ç¼–è¯‘åçš„å­—èŠ‚ç (&lt;code&gt;.dex&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;èµ„æºæ–‡ä»¶(&lt;code&gt;res/&lt;/code&gt; + &lt;code&gt;resources.arsc&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;AndroidManifest.xml&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;åŸç”Ÿåº“(&lt;code&gt;.so&lt;/code&gt;ï¼Œè‹¥æœ‰JNI)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ç­¾åAPKï¼šä½¿ç”¨ç­¾åè¯ä¹¦(keystore)è¿›è¡ŒV1/V2/V3ç­¾å(é€šè¿‡&lt;code&gt;apksigner&lt;/code&gt; æˆ–Gradleé…ç½®)&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;5ä¼˜åŒ–ä¸å¯¹é½&#34;&gt;5.ä¼˜åŒ–ä¸å¯¹é½
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;ZIPå¯¹é½ï¼š&lt;code&gt;zipalign&lt;/code&gt;ä¼˜åŒ–APKæ–‡ä»¶ç»“æ„(4å­—èŠ‚å¯¹é½)ï¼Œå‡å°‘è¿è¡Œæ—¶å†…å­˜å ç”¨&lt;/li&gt;
&lt;li&gt;ç”Ÿæˆæœ€ç»ˆçš„APKï¼šè¾“å‡º&lt;code&gt;app-release.apk&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;äºŒåè¯è§£é‡Š&#34;&gt;äºŒã€åè¯è§£é‡Š
&lt;/h4&gt;&lt;h5 id=&#34;1-ä¸´æ—¶èµ„æºåŒ…&#34;&gt;1. ä¸´æ—¶èµ„æºåŒ…
&lt;/h5&gt;&lt;p&gt;åœ¨AAPT2ï¼ˆ&lt;code&gt;Android Asset Packaging Tool 2&lt;/code&gt;ï¼‰çš„èµ„æºé¢„ç¼–è¯‘é˜¶æ®µä¼šç”Ÿæˆ.flatæ–‡ä»¶ï¼Œè¿™äº›æ–‡ä»¶æ˜¯ä¸­é—´äº§ç‰©&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç‹¬ç«‹ç¼–è¯‘ï¼šAAPT2å°†&lt;code&gt;/res&lt;/code&gt;ç›®å½•ä¸‹çš„æ¯ä¸ªèµ„æºæ–‡ä»¶å•ç‹¬ç¼–è¯‘æˆäºŒè¿›åˆ¶æ ¼å¼çš„&lt;code&gt;.flat&lt;/code&gt;æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;æ”¯æŒå¢é‡ç¼–è¯‘ï¼šè‹¥åªä¿®æ”¹äº†å•ä¸ªèµ„æºæ–‡ä»¶ï¼Œåªéœ€é‡æ–°ç¼–è¯‘è¯¥æ–‡ä»¶çš„.flatæ–‡ä»¶ï¼Œé¿å…å…¨é‡ç¼–è¯‘ï¼ŒåŠ å¿«æ„å»ºé€Ÿåº¦&lt;/li&gt;
&lt;li&gt;åˆ†é˜¶æ®µå¤„ç†
&lt;ul&gt;
&lt;li&gt;ç¼–è¯‘é˜¶æ®µï¼šèµ„æºâ†’ &lt;code&gt;.flat&lt;/code&gt;æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;é“¾æ¥é˜¶æ®µï¼šåˆå¹¶æ‰€æœ‰&lt;code&gt;.flat&lt;/code&gt;æ–‡ä»¶ â†’ ç”Ÿæˆ&lt;code&gt;resources.arsc&lt;/code&gt;å’Œæœ€ç»ˆçš„&lt;code&gt;res/&lt;/code&gt;ç›®å½•&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ä¼˜åŠ¿
&lt;ul&gt;
&lt;li&gt;æå‡å¤§å‹é¡¹ç›®çš„ç¼–è¯‘é€Ÿåº¦&lt;/li&gt;
&lt;li&gt;æ”¯æŒèµ„æºæ··æ·†&lt;/li&gt;
&lt;li&gt;æ›´ä¸¥æ ¼çš„èµ„æºéªŒè¯&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;2-å¯¹é½&#34;&gt;2. å¯¹é½
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å†…å­˜å¯¹é½&lt;/strong&gt;ï¼šè§£å†³CPUè®¿é—®æ•ˆç‡é—®é¢˜ï¼ˆ&lt;code&gt;æ•°æ®é¡¹é¦–åœ°å€ % n == 0&lt;/code&gt;ï¼‰ï¼Œä½†ä¼šå¢åŠ æ•°æ®ç»“æ„å¤§å°&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ–‡ä»¶å¯¹é½(zipalign)&lt;/strong&gt;:è§£å†³å†…å­˜æ˜ å°„æ•ˆç‡çš„é—®é¢˜ï¼ˆ&lt;code&gt;æ–‡ä»¶åç§» % 4096 == 0&lt;/code&gt;ï¼‰ï¼Œé€šè¿‡æ¶ˆé™¤è·¨é¡µç¢ç‰‡å‡å°‘è¿è¡Œæ—¶å†…å­˜å ç”¨&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å†…å­˜é¡µæœºåˆ¶&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;ç³»ç»Ÿå†…å­˜ç®¡ç†ä»¥**é¡µ(é€šå¸¸4KB)**ä¸ºå•ä½&lt;/li&gt;
&lt;li&gt;å¯¹é½åï¼Œæ¯æ¬¡æ–‡ä»¶è¯»å– = æ•´æ•°å€å†…å­˜é¡µ â†’ &lt;strong&gt;å‡å°‘I/Oæ¬¡æ•°&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>Choreographerç±»è§£æ</title>
        <link>http://localhost:1313/android-develop/choreographer%E7%B1%BB%E8%A7%A3%E6%9E%90/</link>
        <pubDate>Mon, 16 Jun 2025 06:49:21 +0800</pubDate>
        
        <guid>http://localhost:1313/android-develop/choreographer%E7%B1%BB%E8%A7%A3%E6%9E%90/</guid>
        <description>&lt;h4 id=&#34;ä¸€æ ¸å¿ƒä½œç”¨&#34;&gt;ä¸€ã€æ ¸å¿ƒä½œç”¨
&lt;/h4&gt;&lt;p&gt;Choreographeræ˜¯Androidç³»ç»Ÿ&lt;strong&gt;åè°ƒåŠ¨ç”»ã€è¾“å…¥å’Œç»˜åˆ¶æ“ä½œçš„æ ¸å¿ƒè°ƒåº¦å™¨&lt;/strong&gt;ã€‚å®ƒé€šè¿‡VSYNCä¿¡å·ç¡®ä¿å¸§çš„æ¸²æŸ“ä¸å±å¹•åˆ·æ–°ç‡åŒæ­¥ï¼Œé¿å…ç”»é¢æ’•è£‚å’Œå¡é¡¿ã€‚&lt;/p&gt;
&lt;h4 id=&#34;äºŒå…³é”®æ¦‚å¿µ&#34;&gt;äºŒã€å…³é”®æ¦‚å¿µ
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;VSYNCï¼šå‚ç›´åŒæ­¥ä¿¡å·ï¼Œè¡¨ç¤ºå±å¹•å¼€å§‹åˆ·æ–°æ–°çš„ä¸€å¸§&lt;/li&gt;
&lt;li&gt;Frame Callbacksï¼šæ³¨å†Œçš„å›è°ƒå‡½æ•°ï¼Œåœ¨ä¸‹ä¸€å¸§çš„ç‰¹å®šé˜¶æ®µæ‰§è¡Œ&lt;/li&gt;
&lt;li&gt;Callback Typesï¼ˆæŒ‰æ‰§è¡Œé¡ºåºæ’åºï¼‰
&lt;ul&gt;
&lt;li&gt;CALLBACK_INPUT&lt;/li&gt;
&lt;li&gt;CALLBACK_ANIMATION&lt;/li&gt;
&lt;li&gt;CALLBACK_INSETS_ANIMATION&lt;/li&gt;
&lt;li&gt;CALLBACK_TRAVERSAL&lt;/li&gt;
&lt;li&gt;CALLBACK_COMMIT&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;final&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Choreographer&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// äº”ç§å›è°ƒç±»å‹&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;static&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;final&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; CALLBACK_INPUT &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; 0;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;static&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;final&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; CALLBACK_ANIMATION &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; 1;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;static&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;final&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; CALLBACK_INSETS_ANIMATION &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; 2;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;static&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;final&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; CALLBACK_TRAVERSAL &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; 3;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;static&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;final&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; CALLBACK_COMMIT &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; 4;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;static&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;final&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; CALLBACK_LAST &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; CALLBACK_COMMIT; &lt;span style=&#34;color:#75715e&#34;&gt;// æœ€åä¸€ç§ç±»å‹&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// å•ä¾‹æ¨¡å¼å®ç°&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;static&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;final&lt;/span&gt; ThreadLocal&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Choreographer&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; sThreadInstance &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;new&lt;/span&gt; ThreadLocal&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Choreographer&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;@Override&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;protected&lt;/span&gt; Choreographer &lt;span style=&#34;color:#a6e22e&#34;&gt;initialValue&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                Looper looper &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Looper.&lt;span style=&#34;color:#a6e22e&#34;&gt;myLooper&lt;/span&gt;();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;new&lt;/span&gt; Choreographer(looper, VSYNC_SOURCE_APP);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        };
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// å›è°ƒé˜Ÿåˆ—æ•°ç»„&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;final&lt;/span&gt; CallbackQueue&lt;span style=&#34;color:#f92672&#34;&gt;[]&lt;/span&gt; mCallbackQueues;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// VSYNC æ¥æ”¶å™¨&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;final&lt;/span&gt; FrameDisplayEventReceiver mDisplayEventReceiver;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// å¤„ç†æ¶ˆæ¯çš„Handler&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;final&lt;/span&gt; FrameHandler mHandler;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;ä¸‰æ ¸å¿ƒæ¶æ„å›¾è§£&#34;&gt;ä¸‰ã€æ ¸å¿ƒæ¶æ„å›¾è§£
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-tex&#34; data-lang=&#34;tex&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;â”‚    VSYNC ä¿¡å·æº        â”‚â”€â”€â”€â”€â”€â”€&amp;gt;â”‚ FrameDisplayEventReceiver â”‚
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚  (æ¥æ”¶ç¡¬ä»¶VSYNCä¿¡å·)     â”‚
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                                            â”‚
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                                            â–¼
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;â”‚     FrameHandler       â”‚&amp;lt;â”€â”€â”€â”€â”€â”€â”‚    onVsync()          â”‚
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;â”‚   (å¤„ç†3ç±»æ¶ˆæ¯)        â”‚â”€â”€â”€â”€â”€â”€&amp;gt;â”‚    scheduleVsync()    â”‚
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            â”‚
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            â–¼
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;â”‚      doFrame()         â”‚
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;â”‚ (å¸§å¤„ç†æ ¸å¿ƒæ–¹æ³•)       â”‚
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            â”‚
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            â–¼
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;â”‚   CallbackQueue[]      â”‚
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;â”‚ (5ç§ç±»å‹å›è°ƒé“¾è¡¨)      â”‚
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;ä¸‰å›è°ƒæ·»åŠ å…¥å£&#34;&gt;ä¸‰ã€å›è°ƒæ·»åŠ å…¥å£
&lt;/h4&gt;&lt;h5 id=&#34;1-æ·»åŠ å›è°ƒå…¥å£&#34;&gt;1. æ·»åŠ å›è°ƒå…¥å£
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;postCallback&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; callbackType, Runnable action, Object token) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    postCallbackDelayed(callbackType, action, token, 0);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;postCallbackDelayed&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; callbackType, Runnable action, &lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt; delayMillis) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    postCallbackDelayedInternal(callbackType, action, token, delayMillis);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;2-å†…éƒ¨æ·»åŠ å®ç°&#34;&gt;2. å†…éƒ¨æ·»åŠ å®ç°
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;postCallbackDelayedInternal&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; callbackType,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        Object action, Object token, &lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt; delayMillis) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;synchronized&lt;/span&gt; (mLock) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;final&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt; now &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; SystemClock.&lt;span style=&#34;color:#a6e22e&#34;&gt;uptimeMillis&lt;/span&gt;();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;final&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt; dueTime &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; now &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; delayMillis;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// 1. æ·»åŠ åˆ°å¯¹åº”çš„å›è°ƒé˜Ÿåˆ—&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        mCallbackQueues&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;callbackType&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;addCallbackLocked&lt;/span&gt;(dueTime, action, token);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// 2. è°ƒåº¦å¸§å¤„ç†&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (dueTime &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;=&lt;/span&gt; now) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// ç«‹å³è°ƒåº¦&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            scheduleFrameLocked(now);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        } &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// å»¶è¿Ÿè°ƒåº¦&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            Message msg &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; mHandler.&lt;span style=&#34;color:#a6e22e&#34;&gt;obtainMessage&lt;/span&gt;(MSG_DO_SCHEDULE_CALLBACK, action);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            msg.&lt;span style=&#34;color:#a6e22e&#34;&gt;arg1&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; callbackType;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            msg.&lt;span style=&#34;color:#a6e22e&#34;&gt;setAsynchronous&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            mHandler.&lt;span style=&#34;color:#a6e22e&#34;&gt;sendMessageAtTime&lt;/span&gt;(msg, dueTime);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;3-å›è°ƒé“¾è¡¨ç»“æ„&#34;&gt;3. å›è°ƒé“¾è¡¨ç»“æ„
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;static&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;final&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;CallbackQueue&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; CallbackRecord mHead;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;addCallbackLocked&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt; dueTime, Object action, Object token) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        CallbackRecord callback &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; obtainCallbackLocked(dueTime, action, token);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (mHead &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            mHead &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; callback;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// é“¾è¡¨æŒ‰ç…§æ‰§è¡Œæ—¶é—´æ’åºï¼ˆå°åˆ°å¤§ï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (dueTime &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt; mHead.&lt;span style=&#34;color:#a6e22e&#34;&gt;dueTime&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            callback.&lt;span style=&#34;color:#a6e22e&#34;&gt;next&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; mHead;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            mHead &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; callback;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        CallbackRecord entry &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; mHead;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;while&lt;/span&gt; (entry.&lt;span style=&#34;color:#a6e22e&#34;&gt;next&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (dueTime &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt; entry.&lt;span style=&#34;color:#a6e22e&#34;&gt;next&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;dueTime&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                callback.&lt;span style=&#34;color:#a6e22e&#34;&gt;next&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; entry.&lt;span style=&#34;color:#a6e22e&#34;&gt;next&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                entry.&lt;span style=&#34;color:#a6e22e&#34;&gt;next&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; callback;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            entry &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; entry.&lt;span style=&#34;color:#a6e22e&#34;&gt;next&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        entry.&lt;span style=&#34;color:#a6e22e&#34;&gt;next&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; callback;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// é“¾è¡¨èŠ‚ç‚¹å®šä¹‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;static&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;final&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;CallbackRecord&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; CallbackRecord next;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt; dueTime;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; Object action; &lt;span style=&#34;color:#75715e&#34;&gt;// Runnable æˆ– FrameCallback&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; Object token;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;å››vsyncåŒæ­¥æœºåˆ¶&#34;&gt;å››ã€VSYNCåŒæ­¥æœºåˆ¶
&lt;/h4&gt;&lt;h5 id=&#34;1-vsyncè¯·æ±‚&#34;&gt;1ã€ VSYNCè¯·æ±‚
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;scheduleFrameLocked&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt; now) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#f92672&#34;&gt;!&lt;/span&gt;mFrameScheduled) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        mFrameScheduled &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (USE_VSYNC) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// é€šè¿‡ FrameDisplayEventReceiver è¯·æ±‚ VSYNC&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (isRunningOnLooperThreadLocked()) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;              &lt;span style=&#34;color:#75715e&#34;&gt;//æ³¨å†Œ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                scheduleVsyncLocked();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            } &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#75715e&#34;&gt;// éUIçº¿ç¨‹å‘é€æ¶ˆæ¯åˆ°UIçº¿ç¨‹&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                Message msg &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; mHandler.&lt;span style=&#34;color:#a6e22e&#34;&gt;obtainMessage&lt;/span&gt;(MSG_DO_SCHEDULE_VSYNC);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                msg.&lt;span style=&#34;color:#a6e22e&#34;&gt;setAsynchronous&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                mHandler.&lt;span style=&#34;color:#a6e22e&#34;&gt;sendMessageAtFrontOfQueue&lt;/span&gt;(msg);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        } &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// æ— VSYNCç›´æ¥å®‰æ’å¸§&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;final&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt; nextFrameTime &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; ...;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            Message msg &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; mHandler.&lt;span style=&#34;color:#a6e22e&#34;&gt;obtainMessage&lt;/span&gt;(MSG_DO_FRAME);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            msg.&lt;span style=&#34;color:#a6e22e&#34;&gt;setAsynchronous&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            mHandler.&lt;span style=&#34;color:#a6e22e&#34;&gt;sendMessageAtTime&lt;/span&gt;(msg, nextFrameTime);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;scheduleVsyncLocked&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    mDisplayEventReceiver.&lt;span style=&#34;color:#a6e22e&#34;&gt;scheduleVsync&lt;/span&gt;();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;2-vsyncæ¥æ”¶ä¸å¤„ç†&#34;&gt;2. VSYNCæ¥æ”¶ä¸å¤„ç†
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;final&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;FrameDisplayEventReceiver&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;extends&lt;/span&gt; DisplayEventReceiver {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;@Override&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;onVsync&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt; timestampNanos, &lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt; physicalDisplayId, &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; frame) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// 1. è®¡ç®—æ­£ç¡®çš„å¸§æ—¶é—´&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt; now &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; System.&lt;span style=&#34;color:#a6e22e&#34;&gt;nanoTime&lt;/span&gt;();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt; intendedFrameTimeNanos &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; ...;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// 2. å‘é€MSG_DO_FRAMEæ¶ˆæ¯&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        Message msg &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Message.&lt;span style=&#34;color:#a6e22e&#34;&gt;obtain&lt;/span&gt;(mHandler, MSG_DO_FRAME);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        msg.&lt;span style=&#34;color:#a6e22e&#34;&gt;setAsynchronous&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        mHandler.&lt;span style=&#34;color:#a6e22e&#34;&gt;sendMessageAtTime&lt;/span&gt;(msg, intendedFrameTimeNanos &lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt; NANOS_PER_MS);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;3-å¸§å¤„ç†æ ¸å¿ƒ---doframe&#34;&gt;3. å¸§å¤„ç†æ ¸å¿ƒ - doFrame()
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;doFrame&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt; frameTimeNanos, &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; frame) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;final&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt; startNanos;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;synchronized&lt;/span&gt; (mLock) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// æ£€æŸ¥å¸§è°ƒåº¦çŠ¶æ€&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#f92672&#34;&gt;!&lt;/span&gt;mFrameScheduled) &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// è®¡ç®—è·³å¸§æƒ…å†µ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt; jitterNanos &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; startNanos &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt; frameTimeNanos;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (jitterNanos &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;=&lt;/span&gt; mFrameIntervalNanos) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;final&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt; skippedFrames &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; jitterNanos &lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt; mFrameIntervalNanos;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// è¶…è¿‡é˜ˆå€¼æ‰“å°è­¦å‘Šæ—¥å¿—&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (skippedFrames &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;=&lt;/span&gt; SKIPPED_FRAME_WARNING_LIMIT) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                Log.&lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt;(TAG, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Skipped &amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; skippedFrames &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34; frames!&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            frameTimeNanos &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; ...; &lt;span style=&#34;color:#75715e&#34;&gt;// è°ƒæ•´å¸§æ—¶é—´&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        mLastFrameTimeNanos &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; frameTimeNanos;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        mFrameScheduled &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;try&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// æŒ‰ä¼˜å…ˆçº§é¡ºåºæ‰§è¡Œå›è°ƒ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        mFrameInfo.&lt;span style=&#34;color:#a6e22e&#34;&gt;markInputHandlingStart&lt;/span&gt;();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        doCallbacks(Choreographer.&lt;span style=&#34;color:#a6e22e&#34;&gt;CALLBACK_INPUT&lt;/span&gt;, frameTimeNanos);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        mFrameInfo.&lt;span style=&#34;color:#a6e22e&#34;&gt;markAnimationsStart&lt;/span&gt;();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        doCallbacks(Choreographer.&lt;span style=&#34;color:#a6e22e&#34;&gt;CALLBACK_ANIMATION&lt;/span&gt;, frameTimeNanos);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        mFrameInfo.&lt;span style=&#34;color:#a6e22e&#34;&gt;markPerformTraversalsStart&lt;/span&gt;();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        doCallbacks(Choreographer.&lt;span style=&#34;color:#a6e22e&#34;&gt;CALLBACK_TRAVERSAL&lt;/span&gt;, frameTimeNanos);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        doCallbacks(Choreographer.&lt;span style=&#34;color:#a6e22e&#34;&gt;CALLBACK_COMMIT&lt;/span&gt;, frameTimeNanos);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    } &lt;span style=&#34;color:#66d9ef&#34;&gt;finally&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// æ¸…ç†å·¥ä½œ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;äº”å›è°ƒæ‰§è¡Œå¤„ç†&#34;&gt;äº”ã€å›è°ƒæ‰§è¡Œå¤„ç†
&lt;/h4&gt;&lt;h5 id=&#34;1-æ‰§è¡Œå›è°ƒæ ¸å¿ƒé€»è¾‘&#34;&gt;1. æ‰§è¡Œå›è°ƒæ ¸å¿ƒé€»è¾‘
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;doCallbacks&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; callbackType, &lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt; frameTimeNanos) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    CallbackRecord callbacks;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;synchronized&lt;/span&gt; (mLock) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// æå–æ‰€æœ‰åˆ°æœŸçš„å›è°ƒ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;final&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt; now &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; frameTimeNanos &lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt; NANOS_PER_MS;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        callbacks &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; mCallbackQueues&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;callbackType&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;extractDueCallbacksLocked&lt;/span&gt;(now);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (callbacks &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;) &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        mCallbacksRunning &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;try&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// æ‰§è¡Œé“¾è¡¨ä¸­çš„æ‰€æœ‰å›è°ƒ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; (CallbackRecord c &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; callbacks; c &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;; c &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; c.&lt;span style=&#34;color:#a6e22e&#34;&gt;next&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// æ‰§è¡Œå›è°ƒ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (c.&lt;span style=&#34;color:#a6e22e&#34;&gt;action&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;instanceof&lt;/span&gt; Runnable) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                ((Runnable) c.&lt;span style=&#34;color:#a6e22e&#34;&gt;action&lt;/span&gt;).&lt;span style=&#34;color:#a6e22e&#34;&gt;run&lt;/span&gt;();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            } &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                ((FrameCallback) c.&lt;span style=&#34;color:#a6e22e&#34;&gt;action&lt;/span&gt;).&lt;span style=&#34;color:#a6e22e&#34;&gt;doFrame&lt;/span&gt;(frameTimeNanos);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    } &lt;span style=&#34;color:#66d9ef&#34;&gt;finally&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;synchronized&lt;/span&gt; (mLock) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// å›æ”¶CallbackRecordå¯¹è±¡&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            recycleCallbackRecordsLocked(callbacks);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            mCallbacksRunning &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;2åˆ°æœŸå›è°ƒæå–ç®—æ³•&#34;&gt;2.åˆ°æœŸå›è°ƒæå–ç®—æ³•
&lt;/h5&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;CallbackRecord &lt;span style=&#34;color:#a6e22e&#34;&gt;extractDueCallbacksLocked&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt; now) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    CallbackRecord callbacks &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    CallbackRecord next &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; mHead;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// éå†é“¾è¡¨ï¼Œæ‰¾å‡ºæ‰€æœ‰dueTime&amp;lt;=nowçš„èŠ‚ç‚¹&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;while&lt;/span&gt; (next &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; next.&lt;span style=&#34;color:#a6e22e&#34;&gt;dueTime&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;=&lt;/span&gt; now) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        CallbackRecord temp &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; next;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        next &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; next.&lt;span style=&#34;color:#a6e22e&#34;&gt;next&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        temp.&lt;span style=&#34;color:#a6e22e&#34;&gt;next&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; callbacks;  &lt;span style=&#34;color:#75715e&#34;&gt;// æ–°èŠ‚ç‚¹æ’å…¥é“¾è¡¨å¤´éƒ¨&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        callbacks &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; temp;       &lt;span style=&#34;color:#75715e&#34;&gt;// æ–°é“¾è¡¨å¤´&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// æ›´æ–°åŸé“¾è¡¨&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    mHead &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; next;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// è¿”å›çš„æ˜¯å€’åºé“¾è¡¨ï¼ˆæœ€è¿‘åŠ å…¥çš„å…ˆæ‰§è¡Œï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; callbacks;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;å…­choreographerçš„å…¶ä»–ä½œç”¨&#34;&gt;å…­ã€Choreographerçš„å…¶ä»–ä½œç”¨
&lt;/h4&gt;&lt;h5 id=&#34;1-å¸§ç‡ç›‘æ§&#34;&gt;1. å¸§ç‡ç›‘æ§
&lt;/h5&gt;&lt;p&gt;å¼€å‘è€…å¯ä»¥é€šè¿‡postFrameCallbackå®ç°å¸§ç‡ç›‘æ§ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;startMonitoring&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    Choreographer.&lt;span style=&#34;color:#a6e22e&#34;&gt;getInstance&lt;/span&gt;().&lt;span style=&#34;color:#a6e22e&#34;&gt;postFrameCallback&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;new&lt;/span&gt; FrameCallback() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt; lastFrameTime &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; 0;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;@Override&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;doFrame&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt; frameTimeNanos) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (lastFrameTime &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt; 0) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt; frameInterval &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; (frameTimeNanos &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt; lastFrameTime) &lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt; 1000000;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (frameInterval &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; 16) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#75715e&#34;&gt;// è®°å½•æ‰å¸§æƒ…å†µ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            lastFrameTime &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; frameTimeNanos;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            Choreographer.&lt;span style=&#34;color:#a6e22e&#34;&gt;getInstance&lt;/span&gt;().&lt;span style=&#34;color:#a6e22e&#34;&gt;postFrameCallback&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;this&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    });
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;ä¸ƒæ€»ç»“&#34;&gt;ä¸ƒã€æ€»ç»“
&lt;/h4&gt;&lt;p&gt;Choreographer æ˜¯ Android æ¸²æŸ“ç³»ç»Ÿçš„æ ¸å¿ƒåè°ƒå™¨ï¼Œå…¶å·¥ä½œåŸç†å¯ä»¥æ¦‚æ‹¬ä¸ºï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ä»»åŠ¡ç®¡ç†&lt;/strong&gt;ï¼šé€šè¿‡ 5 ä¸ªé“¾è¡¨é˜Ÿåˆ—ç®¡ç†ä¸åŒä¼˜å…ˆçº§çš„å›è°ƒä»»åŠ¡&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è¾“å…¥ &amp;gt; åŠ¨ç”» &amp;gt; æ’å…¥åŠ¨ç”» &amp;gt; è§†å›¾éå† &amp;gt; æäº¤&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;VSYNC åŒæ­¥&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;scheduleVsync() â†’ DisplayEventReceiver â†’ onVsync() â†’ doFrame()
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å¸§ç”Ÿå‘½å‘¨æœŸ&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;doFrame() â†’ 
  doCallbacks(INPUT) â†’ 
  doCallbacks(ANIMATION) â†’ 
  doCallbacks(TRAVERSAL) â†’ 
  doCallbacks(COMMIT)
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ€§èƒ½ç›‘æ§&lt;/strong&gt;ï¼šå†…ç½®è·³å¸§æ£€æµ‹å’Œè­¦å‘Šæœºåˆ¶&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ç³»ç»Ÿåè°ƒ&lt;/strong&gt;ï¼šä½œä¸ºåŠ¨ç”»ç³»ç»Ÿã€UI ç³»ç»Ÿã€è¾“å…¥ç³»ç»Ÿçš„åŒæ­¥ä¸­æ¢&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æ•´ä¸ªè®¾è®¡ä½“ç°äº† Android ç³»ç»Ÿå¯¹ä»¥ä¸‹å…³é”®ç›®æ ‡çš„å¹³è¡¡ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ç²¾ç¡®æ€§&lt;/strong&gt;ï¼šé€šè¿‡ VSYNC ç²¾å‡†åŒæ­¥&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é«˜æ•ˆæ€§&lt;/strong&gt;ï¼šé“¾è¡¨ç»“æ„å’Œå¯¹è±¡å¤ç”¨&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¼˜å…ˆçº§&lt;/strong&gt;ï¼šä¸¥æ ¼çš„åˆ†çº§å›è°ƒé¡ºåº&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ‰©å±•æ€§&lt;/strong&gt;ï¼šæ”¯æŒå¤šç§å›è°ƒç±»å‹&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç›‘æ§èƒ½åŠ›&lt;/strong&gt;ï¼šå†…ç½®æ€§èƒ½æ£€æµ‹æœºåˆ¶&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;code&gt;scheduleVsync()&lt;/code&gt; çš„å”¯ä¸€ç›®çš„å°±æ˜¯åœ¨ VSYNC åˆ°æ¥æ—¶è§¦å‘ &lt;code&gt;doFrame()&lt;/code&gt;&lt;/strong&gt;ï¼Œè€Œæ•´ä¸ª Choreographer çš„æ ¸å¿ƒä»»åŠ¡å°±æ˜¯ç¡®ä¿æ‰€æœ‰å¸§å¤„ç†æ“ä½œå®Œç¾å¯¹é½ VSYNC æ—¶é—´åºåˆ—ã€‚&lt;/p&gt;
</description>
        </item>
        <item>
        <title>åŒ…ä½“ç§¯ä¼˜åŒ–</title>
        <link>http://localhost:1313/android-develop/%E5%8C%85%E4%BD%93%E7%A7%AF%E4%BC%98%E5%8C%96/</link>
        <pubDate>Sun, 15 Jun 2025 23:19:59 +0800</pubDate>
        
        <guid>http://localhost:1313/android-develop/%E5%8C%85%E4%BD%93%E7%A7%AF%E4%BC%98%E5%8C%96/</guid>
        <description>&lt;h4 id=&#34;åŒ…ä½“ç§¯ä¼˜åŒ–&#34;&gt;åŒ…ä½“ç§¯ä¼˜åŒ–
&lt;/h4&gt;&lt;h4 id=&#34;ä¸€apkç»“æ„åˆ†æå·¥å…·&#34;&gt;ä¸€ã€APKç»“æ„åˆ†æå·¥å…·
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;Android Studioå†…ç½®å·¥å…·
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨ Build &amp;gt; Analyze APK&lt;/li&gt;
&lt;li&gt;æŸ¥çœ‹å„æ¨¡å—å æ¯”(ä»£ç /èµ„æº/åŸç”Ÿåº“/Assets)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å‘½ä»¤è¡Œå·¥å…·&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;./gradlew :app:assembleRelease --scan
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;äºŒä»£ç ä¼˜åŒ–&#34;&gt;äºŒã€ä»£ç ä¼˜åŒ–
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;å¯ç”¨ä»£ç æ··æ·†ä¸ä¼˜åŒ–&lt;/li&gt;
&lt;li&gt;ç§»é™¤æœªä½¿ç”¨ä»£ç 
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨android studioçš„lintåˆ†ææœªä½¿ç”¨ä»£ç &lt;/li&gt;
&lt;li&gt;æ·»åŠ R8é…ç½®æ–‡ä»¶åˆ é™¤æ— å¼•ç”¨ä»£ç &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ–¹æ³•æ•°ä¼˜åŒ–
&lt;ul&gt;
&lt;li&gt;å¯ç”¨Multidexå‰ä¼˜åŒ–&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨D8ç¼–è¯‘å™¨çš„dexä¼˜åŒ–&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;ä¸‰èµ„æºä¼˜åŒ–&#34;&gt;ä¸‰ã€èµ„æºä¼˜åŒ–
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;èµ„æºå‹ç¼©ä¸æ¸…ç†&lt;/li&gt;
&lt;li&gt;ç§»é™¤æœªä½¿ç”¨èµ„æº&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# æ£€æµ‹æœªä½¿ç”¨èµ„æº&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;./gradlew lintRelease
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# è‡ªåŠ¨ç§»é™¤&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;./gradlew removeUnusedResources
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;çŸ¢é‡å›¾ä»£æ›¿ä½å›¾&lt;/li&gt;
&lt;li&gt;Webpæ ¼å¼è½¬æ¢&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;å››åº“ä¼˜åŒ–&#34;&gt;å››ã€åº“ä¼˜åŒ–
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;ä»…ä¿ç•™å¿…è¦ABI&lt;/li&gt;
&lt;li&gt;è½»é‡åº“ä»£æ›¿&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;äº”é«˜çº§ä¼˜åŒ–æŠ€æœ¯&#34;&gt;äº”ã€é«˜çº§ä¼˜åŒ–æŠ€æœ¯
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;èµ„æºæ··æ·†&lt;/li&gt;
&lt;li&gt;èµ„æºåˆ†åŒ…åŠ è½½&lt;/li&gt;
&lt;li&gt;æŒ‰éœ€åŠ è½½åŠŸèƒ½æ¨¡å—&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;å…­--assetsä¼˜åŒ–&#34;&gt;å…­ ã€ Assetsä¼˜åŒ–
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;å‹ç¼©assetsèµ„æºï¼šå­˜å‚¨æ—¶å‹ç¼©ï¼Œä½¿ç”¨æ—¶è§£å‹&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;ä¸ƒçŸ¥è¯†è¡¥å……&#34;&gt;ä¸ƒã€çŸ¥è¯†è¡¥å……
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;D8ã€R8å’Œä»£ç æ··æ·†çš„å…³ç³»
&lt;ul&gt;
&lt;li&gt;D8è´Ÿè´£å­—èŠ‚ç åˆ°Dexçš„ç²¾ç¡®è½¬æ¢&lt;/li&gt;
&lt;li&gt;R8 = D8 + è£å‰ª + ä¼˜åŒ– + æ··æ·†&lt;/li&gt;
&lt;li&gt;æ··æ·†æ˜¯R8çš„æˆ˜æœ¯æ­¦å™¨ï¼šä»…è´Ÿè´£åç§°æ··æ·†ï¼ˆå¯¹ä½“ç§¯å½±å“å°ï¼Œå¯¹å®‰å…¨æ€§å…³é”®ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¼€å¯R8 â‰ˆ D8ç¼–è¯‘ + ä¸‰é‡ä¼˜åŒ–(è£å‰ª/ä¼˜åŒ–/æ··æ·†)&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
</description>
        </item>
        <item>
        <title>å†…å­˜ç®¡ç†æœ€ä½³å®è·µ</title>
        <link>http://localhost:1313/android-develop/%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/</link>
        <pubDate>Sun, 15 Jun 2025 13:05:49 +0800</pubDate>
        
        <guid>http://localhost:1313/android-develop/%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/</guid>
        <description>&lt;h4 id=&#34;ä¸€å†…å­˜ç®¡ç†åŸåˆ™&#34;&gt;ä¸€ã€å†…å­˜ç®¡ç†åŸåˆ™
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;ç†è§£Androidå†…å­˜æ¨¡å‹
&lt;ul&gt;
&lt;li&gt;åŸºäºJVMåƒåœ¾å›æ”¶æœºåˆ¶ï¼Œé‡‡ç”¨åˆ†ä»£å›æ”¶ç­–ç•¥&lt;/li&gt;
&lt;li&gt;å†…å­˜ä¸è¶³æ˜¯è§¦å‘&lt;code&gt;onTrimMemory()&lt;/code&gt;ï¼Œå¼€å‘è€…éœ€å“åº”æ­¤å›è°ƒé‡Šæ”¾èµ„æº&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;é¿å…å†…å­˜æ³„æ¼æ ¹æº
&lt;ul&gt;
&lt;li&gt;é™æ€å¼•ç”¨ï¼šç¦æ­¢ç”¨staticæŒæœ‰Activity/Contextï¼ˆç”¨Application Contextä»£æ›¿ï¼‰&lt;/li&gt;
&lt;li&gt;éé™æ€å†…éƒ¨ç±»ï¼šæ”¹ç”¨é™æ€å†…éƒ¨ç±»+å¼±å¼•ç”¨&lt;/li&gt;
&lt;li&gt;èµ„æºæœªé‡Šæ”¾ï¼šå…³é—­Cursorã€Fileã€Bitmapç­‰èµ„æºã€‚gcåªé‡Šæ”¾javaå¯¹è±¡æœ¬èº«ï¼Œåœ¨jvmå †ä¸­ï¼Œç³»ç»Ÿèµ„æºéœ€è¦æ˜¾ç¤ºé‡Šæ”¾&lt;/li&gt;
&lt;li&gt;é›†åˆå¯¹è±¡ï¼šåŠæ—¶æ¸…ç†æ— ç”¨çš„é›†åˆå…ƒç´ &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ä¼˜åŒ–å…³é”®ç»„ä»¶
&lt;ul&gt;
&lt;li&gt;Activity/Fragment
&lt;ul&gt;
&lt;li&gt;åœ¨onDestroyä¸­è§£é™¤BroadcastReceiverã€Handleræ³¨å†Œï¼Œç§»é™¤å›è°ƒ&lt;/li&gt;
&lt;li&gt;é¿å…åœ¨å¼‚æ­¥ä»»åŠ¡ä¸­ç›´æ¥å¼•ç”¨View&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Handler
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨é™æ€å†…éƒ¨ç±» + WeakReferenceã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å•ä¾‹æ¨¡å¼
&lt;ul&gt;
&lt;li&gt;ä¼ é€’Application Contextï¼Œè€ŒéActivity Context&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å¤§å¯¹è±¡ä¼˜åŒ–
&lt;ul&gt;
&lt;li&gt;Bitmap
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨inSampleSizeå‹ç¼©å›¾ç‰‡ï¼Œé‡‡ç”¨Glideç­‰åº“ç®¡ç†å†…å­˜&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ•°æ®ç¼“å­˜
&lt;ul&gt;
&lt;li&gt;ä¼˜å…ˆä½¿ç”¨LruCacheå’ŒDiskLruCache&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;äºŒå†…å­˜æ³„æ¼æ’æŸ¥å·¥å…·&#34;&gt;äºŒã€å†…å­˜æ³„æ¼æ’æŸ¥å·¥å…·
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;Android Profiler&lt;/li&gt;
&lt;li&gt;LeakCanary&lt;/li&gt;
&lt;li&gt;MAT&lt;/li&gt;
&lt;li&gt;StrictMode&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;äºŒå†…å­˜æ³„æ¼æ’æŸ¥å·¥å…·-1&#34;&gt;&lt;strong&gt;äºŒã€å†…å­˜æ³„æ¼æ’æŸ¥å·¥å…·&lt;/strong&gt;
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Android Profilerï¼ˆAndroid Studioï¼‰&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å†…å­˜ç›‘æ§&lt;/strong&gt;ï¼šå®æ—¶æŸ¥çœ‹å †å†…å­˜ä½¿ç”¨æƒ…å†µã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Heap Dump&lt;/strong&gt;ï¼šæ•è·å †å¿«ç…§ï¼Œåˆ†æå¯¹è±¡å¼•ç”¨é“¾ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Allocation Tracker&lt;/strong&gt;ï¼šè·Ÿè¸ªçŸ­æ—¶é—´å†…çš„å†…å­˜åˆ†é…ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;LeakCanaryï¼ˆè‡ªåŠ¨åŒ–æ£€æµ‹ï¼‰&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;é›†æˆæ­¥éª¤ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-groovy&#34; data-lang=&#34;groovy&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;debugImplementation &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;com.squareup.leakcanary:leakcanary-android:2.9.1&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è‡ªåŠ¨æ£€æµ‹æ³„æ¼å¹¶ç”ŸæˆæŠ¥å‘Šï¼Œå®šä½æ³„æ¼å¼•ç”¨é“¾ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;MATï¼ˆMemory Analyzer Toolï¼‰&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;åˆ†æHeap Dumpæ­¥éª¤ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ç”¨Android Profilerå¯¼å‡º&lt;code&gt;.hprof&lt;/code&gt;æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é€šè¿‡&lt;code&gt;hprof-conv&lt;/code&gt;è½¬æ¢æ ¼å¼ï¼ˆAndroid SDKå·¥å…·ï¼‰ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;hprof-conv input.hprof output.hprof
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åœ¨MATä¸­æ‰“å¼€ï¼Œé€šè¿‡&lt;strong&gt;Dominator Tree&lt;/strong&gt;å’Œ&lt;strong&gt;Path to GC Roots&lt;/strong&gt;åˆ†ææ³„æ¼å¯¹è±¡ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;StrictMode&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;æ£€æµ‹ä¸»çº¿ç¨‹ç£ç›˜/ç½‘ç»œæ“ä½œï¼Œé—´æ¥é¿å…å†…å­˜é—®é¢˜ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;StrictMode.&lt;span style=&#34;color:#a6e22e&#34;&gt;setVmPolicy&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;new&lt;/span&gt; VmPolicy.&lt;span style=&#34;color:#a6e22e&#34;&gt;Builder&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    .&lt;span style=&#34;color:#a6e22e&#34;&gt;detectActivityLeaks&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    .&lt;span style=&#34;color:#a6e22e&#34;&gt;detectLeakedClosableObjects&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    .&lt;span style=&#34;color:#a6e22e&#34;&gt;penaltyLog&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    .&lt;span style=&#34;color:#a6e22e&#34;&gt;build&lt;/span&gt;());
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
</description>
        </item>
        <item>
        <title>Viewæ€§èƒ½ä¼˜åŒ–</title>
        <link>http://localhost:1313/android-develop/view%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/</link>
        <pubDate>Fri, 13 Jun 2025 23:55:35 +0800</pubDate>
        
        <guid>http://localhost:1313/android-develop/view%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/</guid>
        <description>&lt;h3 id=&#34;android-view-æ€§èƒ½ä¼˜åŒ–ä½“ç³»&#34;&gt;Android View æ€§èƒ½ä¼˜åŒ–ä½“ç³»
&lt;/h3&gt;&lt;hr&gt;
&lt;h3 id=&#34;ä¸€è§„é¿è¿‡åº¦ç»˜åˆ¶gpuä¼˜åŒ–&#34;&gt;ä¸€ã€è§„é¿è¿‡åº¦ç»˜åˆ¶ï¼ˆGPUä¼˜åŒ–ï¼‰
&lt;/h3&gt;&lt;p&gt;ä¸“æ³¨äºå‡å°‘GPUçš„æ— æ•ˆåƒç´ å¡«å……è´Ÿè½½&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ¦‚å¿µè§£æï¼š&lt;/strong&gt;&lt;br&gt;
GPUåœ¨å•ä¸ªåƒç´ ç‚¹é‡å¤ç»˜åˆ¶è¶…è¿‡2.5æ¬¡ï¼ˆ1xç»˜åˆ¶+1.5xåŠé€æ˜æ··åˆï¼‰çš„ç°è±¡ï¼Œæ¶ˆè€—å¡«å……ç‡å¯¼è‡´å¸§ç‡ä¸‹é™&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ£€æµ‹å·¥å…·ï¼š&lt;/strong&gt;&lt;br&gt;
&lt;code&gt;å¼€å‘è€…é€‰é¡¹-&amp;gt;è°ƒè¯•GPUè¿‡åº¦ç»˜åˆ¶&lt;/code&gt;ï¼ˆè“è‰²&amp;lt;1x, ç»¿è‰²&amp;lt;2x, ç²‰è‰²&amp;lt;3x, çº¢è‰²â‰¥4xï¼‰&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ ¸å¿ƒç­–ç•¥ï¼š&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ç§»é™¤æ— æ•ˆèƒŒæ™¯å±‚ï¼š&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;æ£€æŸ¥å¹¶ç§»é™¤Activityæ ¹å¸ƒå±€æˆ–ä¸»é¢˜ä¸­å†—ä½™çš„&lt;code&gt;windowBackground&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;åˆ é™¤è¢«å®Œå…¨è¦†ç›–çš„ä¸­é—´å±‚å¸ƒå±€ï¼ˆå¦‚FrameLayoutï¼‰èƒŒæ™¯&lt;/li&gt;
&lt;li&gt;é¿å…åœ¨è‡ªå®šä¹‰Viewçš„&lt;code&gt;onDraw()&lt;/code&gt;ä¸­ç»˜åˆ¶è¢«è¦†ç›–åŒºåŸŸ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å±‚çº§æ‰å¹³åŒ–ï¼š&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨&lt;code&gt;ConstraintLayout&lt;/code&gt;æ›¿ä»£å¤šå±‚åµŒå¥—å¸ƒå±€&lt;/li&gt;
&lt;li&gt;å‡å°‘RelativeLayoutå¯¼è‡´çš„äºŒæ¬¡æµ‹é‡&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é€æ˜æ•ˆæœæ§åˆ¶ï¼š&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;é¿å…å¤§é¢ç§¯åŠé€æ˜è§†å›¾ï¼ˆå¼•å‘GPUæ··åˆè®¡ç®—ï¼‰&lt;/li&gt;
&lt;li&gt;ç¡¬ä»¶å±‚åŠ¨ç”»ç»“æŸæ—¶ç«‹å³ç¦ç”¨ï¼ˆ&lt;code&gt;setLayerType(LAYER_TYPE_NONE)&lt;/code&gt;ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¼•ç”¨å…³é”®é€šç”¨æŠ€æœ¯ï¼š&lt;/strong&gt;&lt;br&gt;
ç»“åˆ&lt;code&gt;clipRect/quickReject&lt;/code&gt;é™å®šç»˜åˆ¶åŒºåŸŸï¼ˆè¯¦è§é€šç”¨æŠ€æœ¯ç« èŠ‚ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;äºŒç»˜åˆ¶æŒ‡ä»¤ä¼˜åŒ–cpuä¼˜åŒ–&#34;&gt;äºŒã€ç»˜åˆ¶æŒ‡ä»¤ä¼˜åŒ–ï¼ˆCPUä¼˜åŒ–ï¼‰
&lt;/h3&gt;&lt;p&gt;é™ä½CPUç”Ÿæˆç»˜åˆ¶æŒ‡ä»¤çš„å¼€é”€&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ä¼˜åŒ–ç„¦ç‚¹ï¼š&lt;/strong&gt;&lt;br&gt;
&lt;code&gt;onDraw()&lt;/code&gt;æ–¹æ³•çš„æ‰§è¡Œæ•ˆç‡ä¸èµ„æºç®¡ç†&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ ¸å¿ƒå‡†åˆ™ï¼š&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ç¦æ­¢å†…å­˜åˆ†é…ï¼š&lt;/strong&gt;&lt;br&gt;
ç»ä¸åœ¨&lt;code&gt;onDraw()&lt;/code&gt;ä¸­åˆ›å»ºPaint/Path/Bitmapå¯¹è±¡ï¼ˆåº”åœ¨æ„é€ æ–¹æ³•åˆå§‹åŒ–ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è§„é¿è€—æ—¶æ“ä½œï¼š&lt;/strong&gt;&lt;br&gt;
é¿å…å¤æ‚è®¡ç®—ã€IOæˆ–è§£æé€»è¾‘&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é˜»æ–­é€’å½’è§¦å‘ï¼š&lt;/strong&gt;&lt;br&gt;
ç¦æ­¢åœ¨&lt;code&gt;onDraw()&lt;/code&gt;ä¸­è°ƒç”¨&lt;code&gt;invalidate()&lt;/code&gt;æˆ–&lt;code&gt;requestLayout()&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é«˜çº§æŠ€å·§ï¼š&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ç»˜å›¾èµ„æºå¤ç”¨ï¼š&lt;/strong&gt;&lt;br&gt;
å¯¹çŸ¢é‡å›¾(VectorDrawable)å’Œä½å›¾é‡‡ç”¨ä¸åŒä¼˜åŒ–ç­–ç•¥
&lt;ul&gt;
&lt;li&gt;å°å›¾æ ‡ä¼˜å…ˆä½¿ç”¨çŸ¢é‡å›¾&lt;/li&gt;
&lt;li&gt;ä½å›¾åŠ è½½å¯ç”¨&lt;code&gt;inSampleSize&lt;/code&gt;é‡‡æ ·å’Œ&lt;code&gt;RGB_565&lt;/code&gt;è§£ç &lt;/li&gt;
&lt;li&gt;ä½¿ç”¨&lt;code&gt;ImageView.setImageDrawable()&lt;/code&gt;æ›¿ä»£&lt;code&gt;canvas.drawBitmap()&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é€æ˜æ•ˆæœå®ç°ï¼š&lt;/strong&gt;&lt;br&gt;
ä¼˜å…ˆä½¿ç”¨&lt;code&gt;View.setAlpha()&lt;/code&gt;è€ŒéåŠé€æ˜èƒŒæ™¯è‰²&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¼•ç”¨å…³é”®é€šç”¨æŠ€æœ¯ï¼š&lt;/strong&gt;&lt;br&gt;
ç²¾å‡†æ§åˆ¶ç¡¬ä»¶åŠ é€Ÿç”Ÿå‘½å‘¨æœŸï¼ˆè¯¦è§é€šç”¨æŠ€æœ¯ç« èŠ‚ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;ä¸‰é€šç”¨æ ¸å¿ƒæŠ€æœ¯&#34;&gt;ä¸‰ã€é€šç”¨æ ¸å¿ƒæŠ€æœ¯
&lt;/h3&gt;&lt;p&gt;è·¨ä¼˜åŒ–é¢†åŸŸçš„å…±æ€§æŠ€æœ¯æ–¹æ¡ˆ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;åŒºåŸŸè£å‰ªæŠ€æœ¯ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-mermaid&#34; data-lang=&#34;mermaid&#34;&gt;graph TB
  A[canvas.clipRect] --&amp;gt; B[é™å®šå­Viewç»˜åˆ¶åŒºåŸŸ]
  C[canvas.quickReject] --&amp;gt; D[è·³è¿‡å±å¹•å¤–åŒºåŸŸç»˜åˆ¶]
  A--&amp;gt;|ViewGroup| E[é‡å†™dispatchDrawæ§åˆ¶]
  C--&amp;gt;|è‡ªå®šä¹‰View| F[onDrawä¸­é¢„åˆ¤å¯è§æ€§]
&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;
&lt;li&gt;åœ¨&lt;code&gt;ViewGroup.drawChild&lt;/code&gt;ä¸­é™å®šå­Viewç»˜åˆ¶è¾¹ç•Œ&lt;/li&gt;
&lt;li&gt;åˆ—è¡¨é¡¹ç­‰éé‡å è§†å›¾å¿…å¤‡ä¼˜åŒ–æ‰‹æ®µ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ç¡¬ä»¶åŠ é€Ÿæ·±åº¦æŒ‡å—ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;è¿ä½œæœºåˆ¶ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å°†Viewç¼“å­˜ä¸ºGPUçº¹ç†(Texture)&lt;/li&gt;
&lt;li&gt;é€šè¿‡&lt;code&gt;setLayerType(LAYER_TYPE_HARDWARE, null)&lt;/code&gt;å¯ç”¨&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æœ€ä½³å®è·µï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// åŠ¨ç”»å¼€å§‹å‰å¯ç”¨&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;view.&lt;span style=&#34;color:#a6e22e&#34;&gt;setLayerType&lt;/span&gt;(LAYER_TYPE_HARDWARE, &lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;ObjectAnimator.&lt;span style=&#34;color:#a6e22e&#34;&gt;run&lt;/span&gt;();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// åŠ¨ç”»ç»“æŸåç«‹å³é‡Šæ”¾&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;animator.&lt;span style=&#34;color:#a6e22e&#34;&gt;addListener&lt;/span&gt;(() &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    view.&lt;span style=&#34;color:#a6e22e&#34;&gt;setLayerType&lt;/span&gt;(LAYER_TYPE_NONE, &lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;});
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å¼€é”€é¢„è­¦ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç¦»å±ç¼“å†²å¢åŠ 20%-30%å†…å­˜å ç”¨&lt;/li&gt;
&lt;li&gt;é™æ€è§†å›¾å¯ç”¨åè€Œé™ä½æ€§èƒ½&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;åœ†è§’å¤„ç†æ–¹æ¡ˆï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th&gt;å®ç°æ–¹å¼&lt;/th&gt;
          &lt;th&gt;é€‚ç”¨åœºæ™¯&lt;/th&gt;
          &lt;th&gt;æ€§èƒ½å½±å“&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td&gt;ViewOutlineProvider&lt;/td&gt;
          &lt;td&gt;å°é¢ç§¯åœ†è§’&lt;/td&gt;
          &lt;td&gt;â˜…â˜…â˜†&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;.9.pngè´´å›¾&lt;/td&gt;
          &lt;td&gt;å›ºå®šå°ºå¯¸å…ƒç´ &lt;/td&gt;
          &lt;td&gt;â˜…â˜†â˜†&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;ç»˜åˆ¶åœ†è§’çŸ©å½¢&lt;/td&gt;
          &lt;td&gt;åŠ¨æ€å°ºå¯¸è§†å›¾&lt;/td&gt;
          &lt;td&gt;â˜…â˜…â˜†&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;clipToOutline&lt;/td&gt;
          &lt;td&gt;é¿å…å¤§é¢ç§¯ä½¿ç”¨&lt;/td&gt;
          &lt;td&gt;â˜…â˜…â˜…&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;å››å¸ƒå±€ä¼˜åŒ–ç‹¬ç«‹æ¨¡å—&#34;&gt;å››ã€å¸ƒå±€ä¼˜åŒ–ï¼ˆç‹¬ç«‹æ¨¡å—ï¼‰
&lt;/h3&gt;&lt;p&gt;ä¼˜åŒ–æµ‹é‡(measure)ä¸å¸ƒå±€(layout)é˜¶æ®µæ€§èƒ½&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ£€æµ‹å·¥å…·ï¼š&lt;/strong&gt;&lt;br&gt;
&lt;code&gt;Profile GPU Rendering&lt;/code&gt;åˆ†æå„é˜¶æ®µè€—æ—¶&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¼˜åŒ–ç­–ç•¥ï¼š&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å±‚çº§å‹ç¼©ï¼š&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨ConstraintLayoutå‡å°‘åµŒå¥—&lt;/li&gt;
&lt;li&gt;é¿å…LinearLayoutæƒé‡å¯¼è‡´çš„äºŒæ¬¡æµ‹é‡&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åŠ¨æ€åŠ è½½ï¼š&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;&amp;lt;merge&amp;gt;&lt;/code&gt;æ¶ˆé™¤å†—ä½™å®¹å™¨å±‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ViewStub&lt;/code&gt;å»¶è¿ŸåŠ è½½éšè—è§†å›¾&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è‡ªå®šä¹‰å¸ƒå±€ä¼˜åŒ–ï¼š&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;ç¼“å­˜&lt;code&gt;onMeasure()&lt;/code&gt;è®¡ç®—ç»“æœ&lt;/li&gt;
&lt;li&gt;åªæµ‹é‡å¯è§å­View&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;ä¼˜åŒ–å…³è”å›¾è°±&#34;&gt;ä¼˜åŒ–å…³è”å›¾è°±
&lt;/h3&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-mermaid&#34; data-lang=&#34;mermaid&#34;&gt;flowchart TD
    A[æ€§èƒ½ä¼˜åŒ–] --&amp;gt; B[GPUè´Ÿè½½]
    A --&amp;gt; C[CPUè´Ÿè½½]
    B --&amp;gt; D[è¿‡åº¦ç»˜åˆ¶ä¼˜åŒ–]
    C --&amp;gt; E[å¸ƒå±€è®¡ç®—ä¼˜åŒ–]
    C --&amp;gt; F[ç»˜åˆ¶æŒ‡ä»¤ä¼˜åŒ–]
    D &amp;amp; F --&amp;gt; G[é€šç”¨æŠ€æœ¯]
    G --&amp;gt; H[åŒºåŸŸè£å‰ª]
    G --&amp;gt; I[ç¡¬ä»¶åŠ é€Ÿ]
    G --&amp;gt; J[åœ†è§’å¤„ç†]
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è¯¥é‡ç»„æ–¹æ¡ˆï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å®Œæ•´ä¿ç•™åŸæ–‡æ‰€æœ‰æŠ€æœ¯ç‚¹&lt;/li&gt;
&lt;li&gt;æ¶ˆé™¤ç¡¬ä»¶åŠ é€Ÿ/clipRectç­‰æŠ€æœ¯ç‚¹çš„é‡å¤æè¿°&lt;/li&gt;
&lt;li&gt;å»ºç«‹æ¸…æ™°çš„ã€ŒGPUä¼˜åŒ–-CPUä¼˜åŒ–-é€šç”¨æŠ€æœ¯ã€é€»è¾‘é“¾è·¯&lt;/li&gt;
&lt;li&gt;é€šè¿‡æµç¨‹å›¾å’Œè¡¨æ ¼æå‡å…³é”®æŠ€æœ¯çš„å¯æ“ä½œæ€§&lt;/li&gt;
&lt;li&gt;ç»´æŒä¸åŸæ–‡æ¡£ç›¸åŒçš„æŠ€æœ¯ç»†èŠ‚é¢—ç²’åº¦&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æœ€ç»ˆå½¢æˆçš„ä½“ç³»é€»è¾‘ï¼š&lt;br&gt;
&lt;strong&gt;GPUä¼˜åŒ–&lt;/strong&gt;è§£å†³&amp;quot;ç»˜åˆ¶æ¬¡æ•°&amp;quot;é—®é¢˜ â†’ &lt;strong&gt;CPUä¼˜åŒ–&lt;/strong&gt;è§£å†³&amp;quot;ç»˜åˆ¶æ•ˆç‡&amp;quot;é—®é¢˜ â†’ &lt;strong&gt;é€šç”¨æŠ€æœ¯&lt;/strong&gt;æä¾›è·¨é¢†åŸŸè§£å†³æ–¹æ¡ˆ â†’ &lt;strong&gt;å¸ƒå±€ä¼˜åŒ–&lt;/strong&gt;ä½œä¸ºç‹¬ç«‹å¹¶è¡Œæ¨¡å—&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;canvas.save()&lt;/code&gt;: å°†å½“å‰&lt;strong&gt;ç»˜åˆ¶çŠ¶æ€&lt;/strong&gt;ï¼ˆçŸ©é˜µå˜æ¢/è£å‰ªåŒºåŸŸ/å›¾å±‚å±æ€§ï¼‰å­˜å…¥æ ˆä¸­&lt;/li&gt;
&lt;li&gt;&lt;code&gt;canvas.restore()&lt;/code&gt;: ä»æ ˆé¡¶å–å‡ºæœ€è¿‘ä¿å­˜çš„çŠ¶æ€å¹¶æ¢å¤&lt;/li&gt;
&lt;li&gt;&lt;code&gt;canvas.quickReject()&lt;/code&gt;:å¿«é€Ÿåˆ¤æ–­æŒ‡å®šçŸ©å½¢åŒºåŸŸæ˜¯å¦&lt;strong&gt;å®Œå…¨ä½äºå½“å‰è£å‰ªåŒºåŸŸå¤–&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>å…³äºç¡¬ä»¶åŠ é€Ÿ</title>
        <link>http://localhost:1313/android-develop/%E5%85%B3%E4%BA%8E%E7%A1%AC%E4%BB%B6%E5%8A%A0%E9%80%9F/</link>
        <pubDate>Fri, 13 Jun 2025 22:50:57 +0800</pubDate>
        
        <guid>http://localhost:1313/android-develop/%E5%85%B3%E4%BA%8E%E7%A1%AC%E4%BB%B6%E5%8A%A0%E9%80%9F/</guid>
        <description>&lt;h4 id=&#34;ä¸€ç¡¬ä»¶åŠ é€Ÿæ ¸å¿ƒæ¦‚å¿µ&#34;&gt;ä¸€ã€ç¡¬ä»¶åŠ é€Ÿæ ¸å¿ƒæ¦‚å¿µ
&lt;/h4&gt;&lt;p&gt;ç¡¬ä»¶åŠ é€Ÿæ˜¯å°†å›¾å½¢æ¸²æŸ“ä¸­çš„å…‰æ …åŒ–ä»CPUè½¬ç§»åˆ°GPUæ‰§è¡Œçš„æŠ€æœ¯ã€‚CPUåªéœ€è¦ç”Ÿæˆ&lt;strong&gt;ç»˜åˆ¶æŒ‡ä»¤é›†(DisplayList)&lt;/strong&gt;ï¼Œç”±GPUè¿›è¡Œé«˜æ•ˆçš„å¹¶è¡Œå…‰æ …åŒ–è®¡ç®—ï¼Œæœ€ç»ˆå†™å…¥å›¾å½¢ç¼“å†²åŒºæä¾›å±å¹•æ˜¾ç¤ºã€‚&lt;/p&gt;
&lt;p&gt;æœ¬è´¨ï¼šCPUè´Ÿè´£é€»è¾‘æŒ‡ä»¤ï¼ŒGPUè´Ÿè´£ç¹é‡åƒç´ è®¡ç®—ï¼Œåˆ†å·¥åä½œæå‡æ•ˆç‡&lt;/p&gt;
&lt;p&gt;å…‰æ …åŒ–ï¼šå¯ä»¥é«˜åº¦æŠ½è±¡çš„æ¦‚æ‹¬ä¸º&lt;strong&gt;è®¡ç®—å±å¹•ä¸Šæ¯ä¸ªåƒç´ ç‚¹æœ€ç»ˆæ˜¾ç¤ºçš„ARGBå€¼&lt;/strong&gt;&lt;/p&gt;
&lt;h4 id=&#34;äºŒç¡¬ä»¶åŠ é€Ÿå¯ç”¨å‰åçš„æ ¸å¿ƒæµç¨‹å¯¹æ¯”&#34;&gt;äºŒã€ç¡¬ä»¶åŠ é€Ÿå¯ç”¨å‰åçš„æ ¸å¿ƒæµç¨‹å¯¹æ¯”
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;æœªå¯ç”¨ç¡¬ä»¶åŠ é€Ÿ&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;measure &amp;amp; layout&lt;/strong&gt;ï¼šç”±CPUåœ¨ä¸»çº¿ç¨‹ï¼ˆUIçº¿ç¨‹ï¼‰æ‰§è¡Œ&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Draw&lt;/strong&gt;ï¼ˆå…³é”®åŒºåˆ«ï¼‰ï¼š
&lt;ul&gt;
&lt;li&gt;CPUï¼šéå†Viewæ ‘ï¼Œåœ¨ä¸»çº¿ç¨‹ç›´æ¥æ‰§è¡Œæ¯ä¸ªViewçš„onDraw(Canvas)æ–¹æ³•&lt;/li&gt;
&lt;li&gt;å…‰æ …åŒ–ï¼šonDrawä¸­çš„ç»˜åˆ¶æŒ‡ä»¤ä¹Ÿç”±CPUæ‰§è¡Œï¼Œç›´æ¥è®¡ç®—å‡ºæœ€ç»ˆçš„åƒç´ å€¼ã€‚&lt;/li&gt;
&lt;li&gt;ç¼“å†²åŒº(Frame Buffer)
&lt;ul&gt;
&lt;li&gt;ç³»ç»Ÿç»´æŠ¤ä¸€ä¸ªå¸§ç¼“å†²åŒºã€‚&lt;/li&gt;
&lt;li&gt;CPUå…‰æ …åŒ–å¥½çš„åƒç´ æ•°æ®ç›´æ¥å†™å…¥è¿™ä¸ªå¸§ç¼“å†²åŒº&lt;/li&gt;
&lt;li&gt;æ ¸å¿ƒï¼šCPUæ—¢å¤„ç†é€»è¾‘è®¡ç®—åˆå¤„ç†ç”Ÿæˆæœ€ç»ˆåƒç´ çš„ç¹é‡è®¡ç®—(å…‰æ …åŒ–)ï¼Œç„¶åæŠŠç»“æœæ”¾è¿›å¸§ç¼“å†²&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åˆæˆ &amp;amp; æ˜¾ç¤º&lt;/strong&gt;ï¼šå±å¹•è¯»å–å¸§ç¼“å†²åŒºçš„å†…å®¹æ˜¾ç¤ºåˆ°å±å¹•ä¸Šã€‚è¿™ä¸ªè¿‡ç¨‹é€šå¸¸æ¶‰åŠåŒç¼“å†²å’ŒVsyncä¿¡å·æ¥é¿å…æ’•è£‚ï¼Œä½†å…¶ç»˜åˆ¶æ ¸å¿ƒæ˜¯CPU
&lt;ul&gt;
&lt;li&gt;Front Bufferæ˜¯å±å¹•å½“å‰å¸§æ˜¾ç¤ºçš„å†…å®¹ï¼ŒBack Bufferæ˜¯å±å¹•ä¸‹ä¸€å¸§è¦æ˜¾ç¤ºçš„å†…å®¹&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¼€å¯ç¡¬ä»¶åŠ é€Ÿ&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Measure &amp;amp; Layout&lt;/strong&gt;ï¼šä»ç„¶ç”±CPUåœ¨ä¸»çº¿ç¨‹æ‰§è¡Œã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Draw&lt;/strong&gt;(å…³é”®åŒºåˆ«)ï¼š
&lt;ul&gt;
&lt;li&gt;CPUï¼šéå†Viewæ ‘ï¼Œåœ¨ä¸»çº¿ç¨‹æ‰§è¡Œæ¯ä¸ªViewçš„**&lt;code&gt;onDraw(Canvas)&lt;/code&gt;**æ–¹æ³•ã€‚ä½†æ˜¯è¿™é‡Œçš„&lt;code&gt;Canvas&lt;/code&gt;è¡Œä¸ºä¸åŒäº†&lt;/li&gt;
&lt;li&gt;Display Listï¼šonDraw(Canvas)ä¸­çš„ç»˜åˆ¶æŒ‡ä»¤ä¸å†ç«‹å³å…‰æ …åŒ–ï¼Œè€Œæ˜¯è¢«è®°å½•åˆ°DisplayListçš„æ•°æ®ç»“æ„ä¸­ã€‚DisplayListæœ¬è´¨æ˜¯ä¸€ç³»åˆ—GPUèƒ½ç†è§£çš„ç»˜å›¾æ“ä½œæŒ‡ä»¤çš„åºåˆ—åŒ–è¡¨ç¤º&lt;/li&gt;
&lt;li&gt;å…‰æ …åŒ–ï¼šç”±GPUæ‰§è¡Œï¼ŒCPUå°†æ„å»ºå¥½çš„&lt;code&gt;DisplayList&lt;/code&gt;æäº¤ç»™GPUã€‚GPUé©±åŠ¨ç¨‹åºå°†è¿™äº›é«˜çº§ç»˜å›¾æŒ‡ä»¤&lt;strong&gt;å¹¶è¡Œåœ°ã€é«˜æ•ˆåœ°å…‰æ …åŒ–&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç¼“å†²åŒº&lt;/strong&gt;(Frame Buffer / GRALLOC Buffers):
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ™®é€šå¼€å¯ç¡¬ä»¶åŠ é€Ÿæ—¶çš„ç¼“å†²åŒºï¼š&lt;/strong&gt; GPU å°†å…‰æ …åŒ–&lt;strong&gt;å¥½çš„åƒç´ æ•°æ®å†™å…¥ç³»ç»Ÿåˆ†é…çš„å›¾å½¢ç¼“å†²åŒº&lt;/strong&gt; (é€šå¸¸æ˜¯é€šè¿‡ &lt;code&gt;Gralloc&lt;/code&gt; åˆ†é…ç®¡ç†çš„ Buffer Queue ä¸­çš„ç¼“å†²åŒºï¼Œå¦‚ &lt;code&gt;SurfaceTexture&lt;/code&gt;)ã€‚è¿™äº›ç¼“å†²åŒº&lt;strong&gt;å°±æ˜¯å±å¹•æœ€ç»ˆåˆæˆæ—¶ä½¿ç”¨çš„åƒç´ æ•°æ®æº&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;æ ¸å¿ƒï¼šCPUè´Ÿè´£è®°å½•ç»˜åˆ¶å‘½ä»¤(onDraw -&amp;gt; DisplayList)ï¼›GPUè´Ÿè´£å…‰æ …åŒ–ï¼Œç»“æœå†™å…¥å›¾å½¢ç¼“å†²åŒº&lt;/li&gt;
&lt;li&gt;Frame Bufferæ˜¯æŠ½è±¡çš„ç¼“å†²åŒºï¼Œè€ŒGRALLOC Buffersæ˜¯ç‰©ç†ç¼“å†²åŒº&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;ä¸‰å¯ç”¨ç¡¬ä»¶å±‚&#34;&gt;ä¸‰ã€å¯ç”¨ç¡¬ä»¶å±‚
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;ç›®çš„&lt;/strong&gt;ï¼šå¯¹åƒç´ ä¸ä¼šé¢‘ç¹å˜åŒ–çš„Viewé‡‡ç”¨ç©ºé—´æ¢æ—¶é—´çš„æ–¹æ¡ˆï¼Œé¿å…Viewå†…å®¹æœªå˜æ—¶é‡å¤å…‰æ …åŒ–ï¼Œç”¨äºåç»­å¿«é€Ÿåˆæˆ&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä½œç”¨&lt;/strong&gt;ï¼šä»…å½“è§†å›¾å†…å®¹æ”¹å˜(&lt;code&gt;invalidate()&lt;/code&gt;)æ—¶æˆ–ä¸»åŠ¨æ›´æ–°æ—¶ï¼šGPUé‡æ–°å…‰æ …åŒ–è¯¥Viewçš„DisplayList -&amp;gt; æ›´æ–°ç¦»å±çº¹ç†ã€‚è€Œåªæ¶‰åŠçº¹ç†çš„å˜æ¢æ—¶ï¼Œä¸ä¼šé‡æ–°å…‰æ …åŒ–DisplayListï¼Œè€Œæ˜¯ç›´æ¥ä½¿ç”¨çº¹ç†ç¼“å­˜è¿›è¡Œåˆæˆï¼Œçº¹ç†å˜æ¢æ­£æ˜¯GPUæ“…é•¿çš„ã€‚çº¹ç†å˜æ¢å’Œopenglç®¡çº¿å·¥ä½œæµç¨‹ä¸­çš„é¡¶ç‚¹å˜æ¢æ˜¯ä¸åŒçš„å±‚çº§æ¦‚å¿µ&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æœ€ä½³å®è·µ&lt;/strong&gt;
&lt;ol&gt;
&lt;li&gt;é€‚åˆ&lt;strong&gt;å°é¢ç§¯é™æ€è§†å›¾&lt;/strong&gt;æˆ–&lt;strong&gt;å±æ€§åŠ¨ç”»&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;é¿å…å¯¹å¤§è§†å›¾ï¼ˆå¦‚åˆ—è¡¨è§†å›¾ï¼‰å¯ç”¨ï¼Œæ˜“è€—å°½æ˜¾å­˜&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
</description>
        </item>
        <item>
        <title>é¢è¯•é—®é¢˜æ”¶é›†</title>
        <link>http://localhost:1313/android-develop/%E9%9D%A2%E8%AF%95%E9%97%AE%E9%A2%98%E6%94%B6%E9%9B%86/</link>
        <pubDate>Fri, 13 Jun 2025 09:30:56 +0800</pubDate>
        
        <guid>http://localhost:1313/android-develop/%E9%9D%A2%E8%AF%95%E9%97%AE%E9%A2%98%E6%94%B6%E9%9B%86/</guid>
        <description>&lt;h4 id=&#34;ä¸€bitmapå†…å­˜ä¼˜åŒ–&#34;&gt;ä¸€ã€Bitmapå†…å­˜ä¼˜åŒ–
&lt;/h4&gt;&lt;p&gt;Bitmapæ˜¯å†…å­˜æ¶ˆè€—å¤§æˆ·ï¼Œé€šè¿‡ä»¥ä¸‹æ–¹æ³•å‡å°‘å ç”¨ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;é™ä½è‰²å½©è§£ææ¨¡å¼&lt;/strong&gt;&lt;br&gt;
ä½¿ç”¨RGB565ç­‰ä½è‰²å½©æ¨¡å¼ï¼Œå°†å•ä¸ªåƒç´ çš„å­—èŠ‚å¤§å°ä»32ä½ï¼ˆARGB8888ï¼‰å‡å°‘åˆ°16ä½ï¼Œæ˜¾è‘—èŠ‚çœå†…å­˜ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åˆç†æ”¾ç½®èµ„æºæ–‡ä»¶&lt;/strong&gt;&lt;br&gt;
é«˜åˆ†è¾¨ç‡å›¾ç‰‡åº”æ”¾ç½®åœ¨é«˜å¯†åº¦ç›®å½•ï¼ˆå¦‚&lt;code&gt;drawable-xxhdpi&lt;/code&gt;ï¼‰ï¼Œé¿å…ç³»ç»Ÿè‡ªåŠ¨ç¼©æ”¾å¯¼è‡´å†…å­˜æµªè´¹ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç¼©å°å›¾ç‰‡å°ºå¯¸&lt;/strong&gt;&lt;br&gt;
åŠ è½½æ—¶é€šè¿‡&lt;code&gt;BitmapFactory.Options&lt;/code&gt;åŠ¨æ€è°ƒæ•´é‡‡æ ·ç‡ï¼ˆ&lt;code&gt;inSampleSize&lt;/code&gt;ï¼‰ï¼Œæˆ–ä½¿ç”¨&lt;code&gt;createScaledBitmap()&lt;/code&gt;å‡å°‘å®½é«˜å°ºå¯¸ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h4 id=&#34;äºŒviewmodelä¸livedataæœºåˆ¶&#34;&gt;äºŒã€ViewModelä¸LiveDataæœºåˆ¶
&lt;/h4&gt;&lt;p&gt;ViewModelå’ŒLiveDataæ˜¯Jetpackç»„ä»¶ï¼Œç”¨äºæ•°æ®ç”Ÿå‘½å‘¨æœŸç®¡ç†å’Œå“åº”å¼UIæ›´æ–°ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ç²˜æ€§äº‹ä»¶ï¼ˆSticky Eventï¼‰&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å®šä¹‰&lt;/strong&gt;ï¼šå½“æ–°è§‚å¯Ÿè€…è®¢é˜…&lt;code&gt;LiveData&lt;/code&gt;æ—¶ï¼Œè‹¥å·²æœ‰å­˜å‚¨å€¼ï¼Œä¼šç«‹å³æ”¶åˆ°æœ€åä¸€æ¬¡æ›´æ–°ï¼ˆæ—§æ•°æ®ï¼‰ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ç¤ºä¾‹&lt;/strong&gt;ï¼šå±å¹•æ—‹è½¬åï¼Œæ–°Activityè§‚å¯ŸLiveDataæ—¶è§¦å‘UIæ›´æ–°ï¼ˆæ—§æ•°æ®ï¼‰ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ¥æº&lt;/strong&gt;ï¼šåŸºäºLiveDataçš„ç‰ˆæœ¬å·å¯¹æ¯”æœºåˆ¶ã€‚ä»£ç å…³é”®éƒ¨åˆ†å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;abstract&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;LiveData&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;T&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; mVersion &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; START_VERSION; &lt;span style=&#34;color:#75715e&#34;&gt;// LiveDataå½“å‰ç‰ˆæœ¬ï¼ˆåˆå§‹-1ï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;LifecycleBoundObserver&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;implements&lt;/span&gt; ObserverWrapper {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; mLastVersion &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; START_VERSION;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;considerNotify&lt;/span&gt;(ObserverWrapper observer) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (observer.&lt;span style=&#34;color:#a6e22e&#34;&gt;mLastVersion&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt; mVersion) { &lt;span style=&#34;color:#75715e&#34;&gt;// æ ¸å¿ƒåˆ¤æ–­ï¼šç‰ˆæœ¬å·è½åæ‰åˆ†å‘&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      observer.&lt;span style=&#34;color:#a6e22e&#34;&gt;mLastVersion&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; mVersion;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      observer.&lt;span style=&#34;color:#a6e22e&#34;&gt;mObserver&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;onChanged&lt;/span&gt;((T)data);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ç®€å•è§£æ³•&lt;/strong&gt;ï¼šä½¿ç”¨&lt;code&gt;Event&lt;/code&gt;åŒ…è£…æ•°æ®ã€‚äº‹ä»¶æ¶ˆè´¹åç½®ç©ºå€¼ï¼Œé¿å…æ—§æ•°æ®è§¦å‘æ›´æ–°ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ViewModelä¸´æ—¶æ•°æ®ä¿å­˜æœºåˆ¶&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å†…å­˜ä¸­ä¿å­˜&lt;/strong&gt;&lt;br&gt;
ViewModelå¯¹è±¡å­˜å‚¨åœ¨&lt;code&gt;ViewModelStore&lt;/code&gt;ä¸­ã€‚å½“é…ç½®å˜æ›´ï¼ˆå¦‚å±å¹•æ—‹è½¬ï¼‰æ—¶ï¼š
&lt;ul&gt;
&lt;li&gt;Activity/Fragmentè¢«é”€æ¯é‡å»ºã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ViewModelStore&lt;/code&gt;è¢«ç³»ç»Ÿä¿ç•™ï¼ˆç»‘å®šåˆ°&lt;code&gt;NonConfigurationInstances&lt;/code&gt;ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;æ–°å»ºActivity/Fragmentæ—¶è‡ªåŠ¨æ¢å¤ViewModelå®ä¾‹ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ•°æ®èŒƒå›´ä¸æœ€ä½³å®è·µ&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ä¿ç•™åœºæ™¯&lt;/strong&gt;ï¼šå±å¹•æ—‹è½¬ã€åˆ†å±åˆ‡æ¢ã€ç³»ç»Ÿè¯­è¨€æ›´æ”¹ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¸ä¿ç•™åœºæ™¯&lt;/strong&gt;ï¼šç”¨æˆ·é€€å‡ºåº”ç”¨ã€ç³»ç»Ÿèµ„æºä¸è¶³æ€æ­»è¿›ç¨‹ã€Activityè¢«finish()ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æœ€ä½³å®è·µ&lt;/strong&gt;ï¼š
&lt;ol&gt;
&lt;li&gt;ViewModelè§£å†³é…ç½®å˜æ›´çš„&lt;strong&gt;ä¸´æ—¶æ•°æ®ä¿å­˜&lt;/strong&gt;ï¼ˆå†…å­˜çº§ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;SavedStateHandle&lt;/code&gt;è§£å†³è¿›ç¨‹è¢«æ€æ­»æ—¶çš„&lt;strong&gt;å…³é”®æ•°æ®æŒä¹…åŒ–&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;å¤æ‚æ•°æ®åº”ä½¿ç”¨æ•°æ®åº“ç­‰æŒä¹…åŒ–æ–¹æ¡ˆã€‚&lt;/li&gt;
&lt;li&gt;é¿å…å†…å­˜æ³„æ¼ï¼šå‹¿åœ¨ViewModelæŒæœ‰Context/Viewå¼•ç”¨ï¼Œå¿…è¦æ—¶ç”¨&lt;code&gt;Application Context&lt;/code&gt;ä»£æ›¿ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h4 id=&#34;ä¸‰viewåŸºç¡€åŸç†&#34;&gt;ä¸‰ã€ViewåŸºç¡€åŸç†
&lt;/h4&gt;&lt;p&gt;æ·±å…¥ç†è§£Viewçš„æµ‹é‡ã€å¸ƒå±€ã€ç»˜åˆ¶æœºåˆ¶ï¼Œæ˜¯ä¼˜åŒ–UIæ€§èƒ½çš„æ ¸å¿ƒã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;MeasureSpecè®¡ç®—ä¸å¸ƒå±€ä¼˜åŒ–&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;MeasureSpecåŸç†&lt;/strong&gt;ï¼šçˆ¶å®¹å™¨ä¼ é€’ç»™å­Viewçš„æµ‹é‡è¦æ±‚ï¼Œç”±å¤§å°å’Œæ¨¡å¼ç»„æˆï¼Œå–å†³äºçˆ¶å®¹å™¨çš„MeasureSpecå’Œå­Viewçš„LayoutParamsã€‚
&lt;ul&gt;
&lt;li&gt;çˆ¶å¸ƒå±€æ ¹æ®è‡ªèº«MeasureSpecå’Œå­View LayoutParamsï¼Œç¡®å®šå­Viewçš„MeasureSpecï¼Œå†è°ƒç”¨&lt;code&gt;children.measure()&lt;/code&gt;ï¼Œæœ€ç»ˆç¡®å®šè‡ªèº«å°ºå¯¸ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¸ƒå±€æ€§èƒ½ä¼˜åŒ–&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;ç¼“å­˜MeasureSpecè®¡ç®—ç»“æœï¼šå›ºå®šå°ºå¯¸Viewï¼ˆå¦‚æŒ‰é’®ï¼‰ç›´æ¥è°ƒç”¨&lt;code&gt;setMeasuredDimension()&lt;/code&gt;è®¾ç½®å®½é«˜ã€‚&lt;/li&gt;
&lt;li&gt;ä¼˜åŒ–å¸ƒå±€æµç¨‹ï¼šå‡å°‘åµŒå¥—å±‚çº§ã€æ‡’åŠ è½½å¸ƒå±€ã€åˆå¹¶é‡å¤å¸ƒå±€ã€‚&lt;/li&gt;
&lt;li&gt;é¿å…æ— æ•ˆé‡ç»˜ï¼šä½¿ç”¨å±€éƒ¨åˆ·æ–°æœºåˆ¶ã€‚&lt;/li&gt;
&lt;li&gt;ç²¾ç¡®æ§åˆ¶ç»˜åˆ¶èŒƒå›´ï¼šé€šè¿‡&lt;code&gt;Canvas.clipRect()&lt;/code&gt;é™åˆ¶ç»˜åˆ¶åŒºåŸŸã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;getMeasuredWidth()ä¸getWidth()åŒºåˆ«&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;getMeasuredWidth()&lt;/strong&gt;ï¼šæµ‹é‡é˜¶æ®µååˆ†é…çš„å®½åº¦ï¼ˆå«å†…è¾¹è·ï¼‰ã€‚
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨æ—¶æœºï¼š&lt;code&gt;onMeasure()&lt;/code&gt;åæˆ–&lt;code&gt;layout()&lt;/code&gt;å‰ã€‚&lt;/li&gt;
&lt;li&gt;ç‰¹ç‚¹ï¼šåæ˜ è§†å›¾çš„æœŸæœ›å®½åº¦ï¼›è‹¥å¸ƒå±€æœªå¼ºåˆ¶æ”¹å˜å°ºå¯¸ï¼Œå¯èƒ½ä¸&lt;code&gt;getWidth&lt;/code&gt;ç›¸åŒã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;getWidth()&lt;/strong&gt;ï¼šå¸ƒå±€é˜¶æ®µåçš„æœ€ç»ˆå¯è§å®½åº¦ï¼ˆå±å¹•å®é™…å€¼ï¼‰ã€‚
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨æ—¶æœºï¼š&lt;code&gt;onLayout&lt;/code&gt;åã€‚&lt;/li&gt;
&lt;li&gt;è®¡ç®—æ–¹å¼ï¼š&lt;code&gt;width = right - left&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;requestLayout()ä¸invalidate()åŒºåˆ«&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;requestLayout()&lt;/strong&gt;ï¼šè¯·æ±‚æ•´ä¸ªè§†å›¾æ ‘çš„æµ‹é‡ï¼ˆmeasureï¼‰å’Œå¸ƒå±€ï¼ˆlayoutï¼‰æµç¨‹ã€‚
&lt;ul&gt;
&lt;li&gt;è§¦å‘åœºæ™¯ï¼šè§†å›¾å°ºå¯¸/ä½ç½®å˜åŒ–ã€åŠ¨æ€æ·»åŠ /ç§»é™¤å­è§†å›¾ã€&lt;code&gt;setVisibility()&lt;/code&gt;å¯¼è‡´å¸ƒå±€ç»“æ„å˜åŒ–ã€‚&lt;/li&gt;
&lt;li&gt;æ‰§è¡Œæµç¨‹ï¼šä»å½“å‰è§†å›¾å‘ä¸Šå›æº¯åˆ°æ ¹è§†å›¾ï¼ˆå¦‚ViewRootImplï¼‰ï¼Œä¾æ¬¡æ‰§è¡Œmeasure â†’ layoutã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;invalidate()&lt;/strong&gt;ï¼šä»…æ ‡è®°è§†å›¾çš„å±€éƒ¨åŒºåŸŸä¸ºâ€œè„åŒºâ€ï¼Œè¯·æ±‚ä¸‹ä¸€å¸§é‡ç»˜è¯¥åŒºåŸŸã€‚
&lt;ul&gt;
&lt;li&gt;è§¦å‘åœºæ™¯ï¼šè§†å›¾å†…å®¹å˜åŒ–ä½†ä¸å½±å“å°ºå¯¸/ä½ç½®ï¼ˆå¦‚&lt;code&gt;onDraw()&lt;/code&gt;ä¾èµ–æ•°æ®æ›´æ–°ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;æ‰§è¡Œæµç¨‹ï¼šæ ‡è®°è„åŒº â†’ åŠ å…¥é‡ç»˜é˜Ÿåˆ— â†’ ä¸‹ä¸€å¸§VSyncä¿¡å·æ—¶è°ƒç”¨&lt;code&gt;onDraw()&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Viewåæ ‡ä½“ç³»&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;getX()/getY()&lt;/strong&gt;ï¼šç›¸å¯¹å½“å‰Viewå·¦ä¸Šè§’çš„å±€éƒ¨åæ ‡ï¼ˆè§¦æ‘¸ç‚¹åœ¨Viewå†…çš„ä½ç½®ï¼‰ã€‚
&lt;ul&gt;
&lt;li&gt;ç‰¹ç‚¹ï¼šä¸çˆ¶å®¹å™¨æ— å…³ï¼›å€¼å¯ä¸ºè´Ÿï¼ˆå¦‚æ»‘åŠ¨è¶…å‡ºViewè¾¹ç•Œï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;getRawX()/getRawY()&lt;/strong&gt;ï¼šç›¸å¯¹å±å¹•å·¦ä¸Šè§’çš„å…¨å±€åæ ‡ã€‚
&lt;ul&gt;
&lt;li&gt;ç‰¹ç‚¹ï¼šåŒ…å«çŠ¶æ€æ é«˜åº¦ï¼ˆ&lt;code&gt;getRawY()&lt;/code&gt;ä»å±å¹•é¡¶éƒ¨ç®—èµ·ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;getLocationOnScreen()&lt;/strong&gt;ï¼šè·å–Viewå·¦ä¸Šè§’åœ¨å±å¹•ä¸Šçš„ç»å¯¹åæ ‡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Viewç”Ÿå‘½å‘¨æœŸå…³é”®æ–¹æ³•&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ„é€ å‡½æ•°&lt;/strong&gt;ï¼šé€šè¿‡ä»£ç æˆ–XMLåˆ›å»ºViewå®ä¾‹ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;onAttachedToWindow()&lt;/strong&gt;ï¼šViewè¢«æ·»åŠ åˆ°çª—å£æ—¶è°ƒç”¨ã€‚
&lt;ul&gt;
&lt;li&gt;ç”¨é€”ï¼šåˆå§‹åŒ–èµ„æºã€æ³¨å†Œç›‘å¬å™¨ã€å¯åŠ¨åŠ¨ç”»ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;onDetachedFromWindow()&lt;/strong&gt;ï¼šViewä»çª—å£ç§»é™¤æ—¶è°ƒç”¨ï¼ˆå¦‚Activityé”€æ¯ï¼‰ã€‚
&lt;ul&gt;
&lt;li&gt;å…³é”®ä½œç”¨ï¼šé‡Šæ”¾èµ„æºã€åœæ­¢åŠ¨ç”»ã€æ³¨é”€ç›‘å¬å™¨ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ³¨æ„äº‹é¡¹&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;onVisibilityChanged()&lt;/code&gt;å¯èƒ½åœ¨&lt;code&gt;onAttachedToWindow()&lt;/code&gt;å‰/åè°ƒç”¨ï¼ˆå¦‚Viewåˆå§‹åŒ–ä¸º&lt;code&gt;GONE&lt;/code&gt;ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;onWindowFocusChanged()&lt;/code&gt;å¯èƒ½åœ¨&lt;code&gt;onDetachedFromWindow()&lt;/code&gt;åè°ƒç”¨ï¼ˆé¿å…åœ¨æ­¤è®¿é—®èµ„æºï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Viewæ€§èƒ½ä¼˜åŒ–&lt;/strong&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;è¿‡åº¦ç»˜åˆ¶ï¼š&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;æ¦‚å¿µï¼šGPUåœ¨ä¸€ä¸ªåƒç´ ç‚¹ä¸Šç»˜åˆ¶äº†å¤šæ¬¡çš„ç°è±¡ã€‚ç³»ç»Ÿé»˜è®¤å…è®¸2.5æ¬¡ï¼ˆ1xç»˜åˆ¶ + 1.5xåŠé€æ˜æ··åˆï¼‰&lt;/li&gt;
&lt;li&gt;ä¸»è¦ä¼˜åŒ–ç­–ç•¥
&lt;ul&gt;
&lt;li&gt;ç§»é™¤ä¸å¿…è¦çš„èƒŒæ™¯&lt;/li&gt;
&lt;li&gt;å‡å°‘Viewçš„å±‚çº§æ·±åº¦&lt;/li&gt;
&lt;li&gt;è°¨æ…ä½¿ç”¨åŠé€æ˜æˆ–**&lt;code&gt;setLayerType(LAYER_TYPE_HARDWARE)&lt;/code&gt;**&lt;/li&gt;
&lt;li&gt;ä¼˜åŒ–&lt;code&gt;clipRect&lt;/code&gt;å’Œ&lt;code&gt;quickReject&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¸ƒå±€ä¼˜åŒ–ï¼š&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;æ¦‚å¿µï¼šæŒ‡æµ‹é‡å’Œå¸ƒå±€é˜¶æ®µçš„æ€§èƒ½ä¼˜åŒ–ã€‚CPUéœ€è¦éå†Viewæ ‘è®¡ç®—æ¯ä¸ªViewçš„å¤§å°å’Œä½ç½®&lt;/li&gt;
&lt;li&gt;ä¼˜åŒ–ç­–ç•¥ï¼š
&lt;ul&gt;
&lt;li&gt;å‡å°‘åµŒå¥—å±‚çº§&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨é«˜æ•ˆå¸ƒå±€æ ‡ç­¾ï¼ˆmergeã€includeã€ViewStubï¼‰&lt;/li&gt;
&lt;li&gt;ä¼˜åŒ–&lt;code&gt;onMeasure&lt;/code&gt;/&lt;code&gt;onLayout&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç»˜åˆ¶ä¼˜åŒ–ï¼š&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;æ¦‚å¿µï¼šæŒ‡å®é™…è°ƒç”¨View.onDrawæ–¹æ³•æ¸²æŸ“åƒç´ åˆ°å±å¹•çš„æ€§èƒ½ä¼˜åŒ–ã€‚CPUå‡†å¤‡ç»˜åˆ¶æŒ‡ä»¤ -&amp;gt;GPUæ‰§è¡Œç»˜åˆ¶&lt;/li&gt;
&lt;li&gt;ä¼˜åŒ–ç­–ç•¥
&lt;ul&gt;
&lt;li&gt;ä¼˜åŒ–onDraw()æ–¹æ³•ï¼šé¿å…å†…å­˜åˆ†é…(ä¸åœ¨onDrawæ–¹æ³•å†…å®ä¾‹åŒ–Paintã€Pathã€Bitmapã€Rectå¯¹è±¡)ï¼Œé¿å…è€—æ—¶æ“ä½œã€é¿å…è°ƒç”¨invalidateï¼ˆé¿å…é€’å½’/ç»˜åˆ¶è¯·æ±‚ï¼‰ï¼Œåˆ©ç”¨canvas.clipRectå’Œcanvas.quickReject(),ä¼˜å…ˆä½¿ç”¨çŸ¢é‡å›¾ä»£æ›¿ä½å›¾ï¼Œä½¿ç”¨ç¡¬ä»¶åŠ é€Ÿæ”¯æŒçš„Canvasæ“ä½œ&lt;/li&gt;
&lt;li&gt;è°¨æ…å¼€å¯Hardware_Layer&lt;/li&gt;
&lt;li&gt;ä¼˜åŒ–alphaé€šé“å’Œé€æ˜åº¦&lt;/li&gt;
&lt;li&gt;ä¼˜åŒ–BitmapåŠ è½½ä¸æ˜¾ç¤º&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é«˜çº§æœºåˆ¶ä¸åŸç†&lt;/strong&gt;
&lt;ol&gt;
&lt;li&gt;ç¡¬ä»¶åŠ é€Ÿï¼šå°†ç»˜åˆ¶æŒ‡ä»¤äº¤ç»™GPUï¼Œä½†æ˜¯éƒ¨åˆ†apiä¸æ”¯æŒ&lt;/li&gt;
&lt;li&gt;SurfaceViewä¸TextureViewï¼štodo&lt;/li&gt;
&lt;li&gt;view.postä¸Handlerï¼štodo&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h4 id=&#34;å››äº‹ä»¶åˆ†å‘æœºåˆ¶&#34;&gt;å››ã€äº‹ä»¶åˆ†å‘æœºåˆ¶
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;æ»‘åŠ¨å®ç°æ–¹å¼&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;scrollTo()&lt;/code&gt;/&lt;code&gt;scrollBy()&lt;/code&gt;&lt;/strong&gt;: scrollTo()æ˜¯ç›´æ¥è·³è½¬åˆ°æŒ‡å®šä½ç½®ï¼ŒscrollByæ˜¯ç›¸å¯¹ç§»åŠ¨ï¼ŒåŸºäºå½“å‰ä½ç½®æ»‘åŠ¨æŒ‡å®šåç§»é‡&lt;/li&gt;
&lt;li&gt;é€šè¿‡&lt;code&gt;ViewDragHelper&lt;/code&gt;å®ç°å¤æ‚æ‹–æ‹½: todo&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è‡ªå®šä¹‰ä¸‹æ‹‰åˆ·æ–°æ§ä»¶&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;todo&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;äº‹ä»¶åˆ†å‘æœºåˆ¶å¦‚ä½•æå‡æ•ˆç‡&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;todo&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åµŒå¥—æ»‘åŠ¨å¤„ç†&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;todo&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;RecyclerViewçš„æ»‘åŠ¨å†²çªå¤„ç†&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;todo&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h4 id=&#34;äº”handler&#34;&gt;äº”ã€Handler
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h4 id=&#34;å…­æ€§èƒ½ä¼˜åŒ–-todo&#34;&gt;å…­ã€æ€§èƒ½ä¼˜åŒ– ï¼ˆtodoï¼‰
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;å†…å­˜ç®¡ç†ä¸æ³„æ¼æ’æŸ¥&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;UIæ¸²æŸ“æ€§èƒ½(å¡é¡¿ä¼˜åŒ–)&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¯åŠ¨é€Ÿåº¦ä¼˜åŒ–&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åŠŸè€—ä¼˜åŒ–åŸºç¡€&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åŒ…ä½“ç§¯ä¼˜åŒ–&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h4 id=&#34;ä¸ƒå¸¸ç”¨åº“ä¸æ¡†æ¶todo&#34;&gt;ä¸ƒã€å¸¸ç”¨åº“ä¸æ¡†æ¶ï¼ˆtodoï¼‰
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;ç½‘ç»œè¯·æ±‚(å¦‚Retrofit)&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å›¾ç‰‡åŠ è½½(å¦‚Glide / Picasso)&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;GradleåŸºç¡€&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h4 id=&#34;å…«ç½‘ç»œä¸åå°&#34;&gt;å…«ã€ç½‘ç»œä¸åå°
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;RESTful APIæ¦‚å¿µä¸ä½¿ç”¨&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¼‚æ­¥å¤„ç†æ·±å…¥ï¼ˆçº¿ç¨‹å®‰å…¨ã€åå°é™åˆ¶ï¼‰&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç¼“å­˜ç­–ç•¥&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h4 id=&#34;ä¹æ¶æ„è®¾è®¡&#34;&gt;ä¹ã€æ¶æ„è®¾è®¡
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;MVVM/MVIç†è§£ä¸å®è·µ&lt;/li&gt;
&lt;li&gt;æ¨¡å—åŒ– / ç»„ä»¶åŒ–&lt;/li&gt;
&lt;li&gt;è®¾è®¡æ¨¡å¼åº”ç”¨&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h4 id=&#34;åæ–°æŠ€æœ¯ä¸è¶‹åŠ¿&#34;&gt;åã€æ–°æŠ€æœ¯ä¸è¶‹åŠ¿
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;Compose&lt;/li&gt;
&lt;li&gt;KMM / Flutter&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h4 id=&#34;åä¸€jvm--å†…å­˜æ¨¡å‹åŸºç¡€&#34;&gt;åä¸€ã€JVM / å†…å­˜æ¨¡å‹åŸºç¡€
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;JVMå†…å­˜ç»“æ„&lt;/li&gt;
&lt;li&gt;åƒåœ¾å›æ”¶æœºåˆ¶åŸºç¡€&lt;/li&gt;
&lt;li&gt;å¸¸è§æ•°æ®ç»“æ„ä¸åŸºç¡€ç®—æ³•&lt;/li&gt;
&lt;/ol&gt;
</description>
        </item>
        <item>
        <title>RecyclerViewç¼“å­˜æœºåˆ¶</title>
        <link>http://localhost:1313/android-develop/recyclerview%E7%BC%93%E5%AD%98%E6%9C%BA%E5%88%B6/</link>
        <pubDate>Wed, 11 Jun 2025 15:26:57 +0800</pubDate>
        
        <guid>http://localhost:1313/android-develop/recyclerview%E7%BC%93%E5%AD%98%E6%9C%BA%E5%88%B6/</guid>
        <description>&lt;p&gt;RecyclerViewç¼“å­˜æœºåˆ¶&lt;/p&gt;
&lt;h4 id=&#34;å¤šçº§ç¼“å­˜ä½“ç³»æ¶æ„å›¾&#34;&gt;&lt;strong&gt;å¤šçº§ç¼“å­˜ä½“ç³»æ¶æ„å›¾&lt;/strong&gt;
&lt;/h4&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;TEXT

RecyclerView ç¼“å­˜ç³»ç»Ÿ
â”œâ”€â”€ 1. å±å¹•å†…ç¼“å­˜ (Attached Scrap)
â”‚   â””â”€â”€ å­˜æ”¾å½“å‰å¯è§çš„ViewHolderï¼ˆå¿«é€Ÿå¤ç”¨ï¼‰
â”œâ”€â”€ 2. å±å¹•å¤–ç¼“å­˜ (Cache)
â”‚   â””â”€â”€ ä¿å­˜æœ€è¿‘ç¦»å¼€å±å¹•çš„ViewHolderï¼ˆé»˜è®¤å®¹é‡=2ï¼‰
â”œâ”€â”€ 3. æ‰©å±•ç¼“å­˜ (ViewCacheExtension)
â”‚   â””â”€â”€ å¼€å‘è€…è‡ªå®šä¹‰ç¼“å­˜ï¼ˆç‰¹æ®Šç”¨é€”ï¼‰
â””â”€â”€ 4. å›æ”¶æ±  (RecycledViewPool)
    â””â”€â”€ å…¨å±€å…±äº«çš„ViewHolderå­˜å‚¨ï¼ˆä¸åŒç±»å‹ç‹¬ç«‹ç¼“å­˜ï¼‰
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æ ¹æ®&lt;code&gt;position&lt;/code&gt;åˆ¤æ–­æ˜¯å¦å‘½ä¸­&lt;code&gt;Cache&lt;/code&gt;ï¼Œæ ¹æ®&lt;code&gt;viewType&lt;/code&gt;åˆ¤æ–­æ˜¯å¦å‘½ä¸­&lt;code&gt;RecyclerViewPool&lt;/code&gt;ï¼Œä¼šæ‰§è¡Œ&lt;code&gt;onBindViewHolder&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;åœ¨ &lt;strong&gt;RecyclerView&lt;/strong&gt; çš„å›æ”¶å¤ç”¨æœºåˆ¶ä¸­ï¼Œ&lt;code&gt;changedScrap&lt;/code&gt; å’Œ &lt;code&gt;attachedScrap&lt;/code&gt; æ˜¯ä¸¤ä¸ªå…³é”®ä¸´æ—¶ç¼“å­˜ï¼Œè€Œ &lt;strong&gt;Stable IDs&lt;/strong&gt; ä¼šæ”¹å˜ ViewHolder è·å–çš„æ–¹å¼ã€‚ä»¥ä¸‹æ˜¯è¯¦ç»†è§£é‡Šï¼š&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id=&#34;1&#34;&gt;&lt;strong&gt;1. &lt;code&gt;changedScrap&lt;/code&gt; çš„ä½œç”¨&lt;/strong&gt;
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ç”¨é€”&lt;/strong&gt;ï¼šä¸“é—¨é…åˆ &lt;code&gt;notifyItemChanged()&lt;/code&gt; æˆ– &lt;code&gt;notifyDataSetChanged()&lt;/code&gt; ä½¿ç”¨ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å·¥ä½œæœºåˆ¶&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;å½“è°ƒç”¨ &lt;code&gt;notifyItemChanged(position)&lt;/code&gt; æ—¶ï¼Œè¢«æ ‡è®°æ›´æ–°çš„ item ä¼šè¢«ä¸´æ—¶ç§»åˆ° &lt;code&gt;changedScrap&lt;/code&gt; ä¸­ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨å¸ƒå±€é˜¶æ®µï¼ˆå¦‚ &lt;code&gt;onLayout&lt;/code&gt;ï¼‰ï¼Œè¿™äº› ViewHolder ä¼šè¢«é‡æ–°ç»‘å®šæ•°æ®ï¼ˆè°ƒç”¨ &lt;code&gt;onBindViewHolder()&lt;/code&gt;ï¼‰ï¼Œç„¶åæ”¾å›åŸä½ç½®ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç›®çš„&lt;/strong&gt;ï¼šæ”¯æŒå±€éƒ¨æ›´æ–°åŠ¨ç”»ï¼ˆå¦‚æ·¡å…¥æ·¡å‡ºï¼‰ï¼Œé¿å…ç›´æ¥å›æ”¶å¯¼è‡´è§†è§‰ä¸­æ–­ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;2&#34;&gt;&lt;strong&gt;2. &lt;code&gt;attachedScrap&lt;/code&gt; çš„ä½œç”¨&lt;/strong&gt;
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ç”¨é€”&lt;/strong&gt;ï¼šç”¨äº &lt;strong&gt;å¿«é€Ÿå¤ç”¨å¯è§æˆ–å³å°†å¯è§çš„ ViewHolder&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å·¥ä½œæœºåˆ¶&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;åœ¨å¸ƒå±€è¿‡ç¨‹ä¸­ï¼ˆå¦‚ &lt;code&gt;LinearLayoutManager.fill()&lt;/code&gt;ï¼‰ï¼ŒRecyclerView ä¼šå…ˆå°†å½“å‰å±å¹•ä¸Šçš„ ViewHolder &lt;strong&gt;ä¸´æ—¶ç§»é™¤&lt;/strong&gt; åˆ° &lt;code&gt;attachedScrap&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;éå†æ–°å¸ƒå±€æ—¶ï¼Œç›´æ¥ä» &lt;code&gt;attachedScrap&lt;/code&gt; ä¸­æŒ‰ &lt;strong&gt;position åŒ¹é…&lt;/strong&gt; å–å› ViewHolderï¼ˆæ— éœ€åˆ›å»ºæˆ–ç»‘å®šï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç›®çš„&lt;/strong&gt;ï¼šé¿å…æ— æ•ˆçš„åˆ›å»º/ç»‘å®šï¼Œæå‡æ»šåŠ¨æ€§èƒ½ï¼ˆå°¤å…¶åœ¨å¿«é€Ÿæ»‘åŠ¨æ—¶ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;3-stable-ids-å¦‚ä½•æ”¹å˜-viewholder-è·å–æ–¹å¼&#34;&gt;&lt;strong&gt;3. Stable IDs å¦‚ä½•æ”¹å˜ ViewHolder è·å–æ–¹å¼&lt;/strong&gt;
&lt;/h3&gt;&lt;p&gt;å½“å¯ç”¨ &lt;strong&gt;Stable IDs&lt;/strong&gt;ï¼ˆé€šè¿‡ &lt;code&gt;setHasStableIds(true)&lt;/code&gt; + é‡å†™ &lt;code&gt;getItemId()&lt;/code&gt;ï¼‰æ—¶ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ä¼ ç»Ÿæ–¹å¼ï¼ˆæ—  Stable IDsï¼‰&lt;/strong&gt;ï¼š&lt;br&gt;
RecyclerView é€šè¿‡ &lt;strong&gt;position&lt;/strong&gt; åœ¨ &lt;code&gt;attachedScrap&lt;/code&gt; æˆ– &lt;code&gt;changedScrap&lt;/code&gt; ä¸­æŸ¥æ‰¾åŒ¹é…çš„ ViewHolderã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// ä¼ªä»£ç ï¼šæŒ‰ position åŒ¹é…&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;ViewHolder vh &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; attachedScrap.&lt;span style=&#34;color:#a6e22e&#34;&gt;findViewForPosition&lt;/span&gt;(position);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å¯ç”¨ Stable IDs å&lt;/strong&gt;ï¼š&lt;br&gt;
RecyclerView æ”¹ä¸ºé€šè¿‡ &lt;strong&gt;item ID&lt;/strong&gt;ï¼ˆè€Œé positionï¼‰åœ¨ &lt;code&gt;scrap&lt;/code&gt; ä¸­æŸ¥æ‰¾ ViewHolderï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// ä¼ªä»£ç ï¼šæŒ‰ stable ID åŒ¹é…&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;ViewHolder vh &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; changedScrap.&lt;span style=&#34;color:#a6e22e&#34;&gt;findViewHolderByItemId&lt;/span&gt;(id);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;ä¼˜åŠ¿&#34;&gt;&lt;strong&gt;ä¼˜åŠ¿&lt;/strong&gt;
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;ä½ç½®æ— å…³å¤ç”¨&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;å³ä½¿æ•°æ®é›†å˜åŒ–å¯¼è‡´ item ä½ç½®æ”¹å˜ï¼ˆå¦‚æ’å…¥/åˆ é™¤ï¼‰ï¼Œä»èƒ½é€šè¿‡å”¯ä¸€ ID æ­£ç¡®å¤ç”¨ ViewHolderã€‚&lt;/li&gt;
&lt;li&gt;é¿å…å›  position å˜åŒ–å¯¼è‡´çš„ â€œå¤ç”¨é”™ä¹±â€ é—®é¢˜ï¼ˆå¦‚ A ä½ç½®å¤ç”¨åˆ° B æ•°æ®ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åŠ¨ç”»å…¼å®¹æ€§&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;æ”¯æŒæ›´æµç•…çš„åŠ¨ç”»ï¼ˆå¦‚ &lt;code&gt;DiffUtil&lt;/code&gt;ï¼‰ï¼Œå› ä¸º ID æ˜¯æ•°æ®é¡¹çš„å”¯ä¸€æ ‡è¯†ï¼Œä¸å—å¸ƒå±€é¡ºåºå½±å“ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ•ˆç‡æå‡&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;æŸ¥æ‰¾æ“ä½œä» O(N) ä¼˜åŒ–åˆ° O(1)ï¼ˆåŸºäº &lt;code&gt;LongSparseArray&lt;/code&gt; å®ç°ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id=&#34;å…³é”®å¯¹æ¯”æ€»ç»“&#34;&gt;&lt;strong&gt;å…³é”®å¯¹æ¯”æ€»ç»“&lt;/strong&gt;
&lt;/h3&gt;&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th&gt;&lt;strong&gt;ç‰¹æ€§&lt;/strong&gt;&lt;/th&gt;
          &lt;th&gt;&lt;code&gt;changedScrap&lt;/code&gt;&lt;/th&gt;
          &lt;th&gt;&lt;code&gt;attachedScrap&lt;/code&gt;&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;strong&gt;è§¦å‘åœºæ™¯&lt;/strong&gt;&lt;/td&gt;
          &lt;td&gt;&lt;code&gt;notifyItemChanged()&lt;/code&gt; è°ƒç”¨æ—¶&lt;/td&gt;
          &lt;td&gt;å¸ƒå±€è¿‡ç¨‹ä¸­ä¸´æ—¶ç§»é™¤å¯è§ ViewHolder&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;strong&gt;æ•°æ®çŠ¶æ€&lt;/strong&gt;&lt;/td&gt;
          &lt;td&gt;éœ€é‡æ–°ç»‘å®šï¼ˆ&lt;code&gt;onBindViewHolder&lt;/code&gt;ï¼‰&lt;/td&gt;
          &lt;td&gt;æ•°æ®æœªå˜ï¼Œç›´æ¥å¤ç”¨&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;strong&gt;å­˜å‚¨å†…å®¹&lt;/strong&gt;&lt;/td&gt;
          &lt;td&gt;è¢«æ ‡è®°æ›´æ–°çš„ ViewHolder&lt;/td&gt;
          &lt;td&gt;å½“å‰/å³å°†å¯è§çš„ ViewHolder&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;strong&gt;æŸ¥æ‰¾æ–¹å¼ï¼ˆæ—  IDï¼‰&lt;/strong&gt;&lt;/td&gt;
          &lt;td&gt;æŒ‰ &lt;code&gt;position&lt;/code&gt; åŒ¹é…&lt;/td&gt;
          &lt;td&gt;æŒ‰ &lt;code&gt;position&lt;/code&gt; åŒ¹é…&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;strong&gt;æŸ¥æ‰¾æ–¹å¼ï¼ˆæœ‰ IDï¼‰&lt;/strong&gt;&lt;/td&gt;
          &lt;td&gt;æŒ‰ &lt;code&gt;stableId&lt;/code&gt; åŒ¹é…&lt;/td&gt;
          &lt;td&gt;æŒ‰ &lt;code&gt;stableId&lt;/code&gt; åŒ¹é…&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;ä½¿ç”¨å»ºè®®&lt;/strong&gt;ï¼š&lt;br&gt;
è‹¥æ•°æ®é›†å­˜åœ¨åŠ¨æ€ä½ç½®å˜åŒ–ï¼ˆå¦‚æ’åºã€å¢åˆ ï¼‰ï¼Œå¼ºçƒˆå»ºè®®å¯ç”¨ &lt;strong&gt;Stable IDs&lt;/strong&gt;ï¼Œä»¥æå‡å¤ç”¨å‡†ç¡®æ€§å’ŒåŠ¨ç”»æ•ˆæœã€‚&lt;/p&gt;&lt;/blockquote&gt;
</description>
        </item>
        
    </channel>
</rss>
